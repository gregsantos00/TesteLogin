2019-06-06 00:00:20.192 -03:00 [INF] Starting IdentityServer4 version 2.3.2.0
2019-06-06 00:00:20.703 -03:00 [INF] Using the default authentication scheme Identity.Application for IdentityServer
2019-06-06 00:00:20.703 -03:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for authentication
2019-06-06 00:00:20.704 -03:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-in
2019-06-06 00:00:20.704 -03:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-out
2019-06-06 00:00:20.704 -03:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for challenge
2019-06-06 00:00:20.704 -03:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for forbid
2019-06-06 00:00:21.117 -03:00 [DBG] Starting grant removal
2019-06-06 00:00:21.721 -03:00 [DBG] Login Url: /Account/Login
2019-06-06 00:00:21.726 -03:00 [DBG] Login Return Url Parameter: ReturnUrl
2019-06-06 00:00:21.726 -03:00 [DBG] Logout Url: /Account/Logout
2019-06-06 00:00:21.726 -03:00 [DBG] ConsentUrl Url: /consent
2019-06-06 00:00:21.726 -03:00 [DBG] Consent Return Url Parameter: returnUrl
2019-06-06 00:00:21.726 -03:00 [DBG] Error Url: /home/error
2019-06-06 00:00:21.726 -03:00 [DBG] Error Id Parameter: errorId
2019-06-06 00:00:36.514 -03:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-06-06 00:00:36.545 -03:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-06-06 00:00:36.545 -03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-06-06 00:00:36.560 -03:00 [DBG] Start token request.
2019-06-06 00:00:36.571 -03:00 [DBG] Start client validation
2019-06-06 00:00:36.581 -03:00 [DBG] Start parsing Basic Authentication secret
2019-06-06 00:00:36.589 -03:00 [DBG] Start parsing for secret in post body
2019-06-06 00:00:36.618 -03:00 [DBG] Parser found secret: PostBodySecretParser
2019-06-06 00:00:36.618 -03:00 [DBG] Secret id found: passClient
2019-06-06 00:00:49.124 -03:00 [ERR] An error occurred using the connection to database 'IdentityServer4.Combined-2.3.0' on server '(LocalDb)\MSSQLLocalDB'.
System.Data.SqlClient.SqlException (0x80131904): Cannot open database "IdentityServer4.Combined-2.3.0" requested by the login. The login failed.
Login failed for user 'NOTE-CINQ-88\Administrador'.
   at System.Data.SqlClient.SqlInternalConnectionTds..ctor(DbConnectionPoolIdentity identity, SqlConnectionString connectionOptions, SqlCredential credential, Object providerInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString userConnectionOptions, SessionData reconnectSessionData, Boolean applyTransientFaultHandling)
   at System.Data.SqlClient.SqlConnectionFactory.CreateConnection(DbConnectionOptions options, DbConnectionPoolKey poolKey, Object poolGroupProviderInfo, DbConnectionPool pool, DbConnection owningConnection, DbConnectionOptions userOptions)
   at System.Data.ProviderBase.DbConnectionFactory.CreatePooledConnection(DbConnectionPool pool, DbConnection owningObject, DbConnectionOptions options, DbConnectionPoolKey poolKey, DbConnectionOptions userOptions)
   at System.Data.ProviderBase.DbConnectionPool.CreateObject(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at System.Data.ProviderBase.DbConnectionPool.UserCreateRequest(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at System.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at System.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at System.Data.ProviderBase.DbConnectionFactory.TryGetConnection(DbConnection owningConnection, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal oldConnection, DbConnectionInternal& connection)
   at System.Data.ProviderBase.DbConnectionInternal.TryOpenConnectionInternal(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at System.Data.ProviderBase.DbConnectionClosed.TryOpenConnection(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at System.Data.SqlClient.SqlConnection.TryOpen(TaskCompletionSource`1 retry)
   at System.Data.SqlClient.SqlConnection.Open()
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenDbConnection(Boolean errorsExpected)
ClientConnectionId:3f346566-f160-46c2-877d-b462cbc6e2bf
Error Number:4060,State:1,Class:11
2019-06-06 00:00:49.230 -03:00 [ERR] An exception occurred in the database while iterating the results of a query for context type 'IdentityServer4.EntityFramework.DbContexts.ConfigurationDbContext'.
System.Data.SqlClient.SqlException (0x80131904): Cannot open database "IdentityServer4.Combined-2.3.0" requested by the login. The login failed.
Login failed for user 'NOTE-CINQ-88\Administrador'.
   at System.Data.SqlClient.SqlInternalConnectionTds..ctor(DbConnectionPoolIdentity identity, SqlConnectionString connectionOptions, SqlCredential credential, Object providerInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString userConnectionOptions, SessionData reconnectSessionData, Boolean applyTransientFaultHandling)
   at System.Data.SqlClient.SqlConnectionFactory.CreateConnection(DbConnectionOptions options, DbConnectionPoolKey poolKey, Object poolGroupProviderInfo, DbConnectionPool pool, DbConnection owningConnection, DbConnectionOptions userOptions)
   at System.Data.ProviderBase.DbConnectionFactory.CreatePooledConnection(DbConnectionPool pool, DbConnection owningObject, DbConnectionOptions options, DbConnectionPoolKey poolKey, DbConnectionOptions userOptions)
   at System.Data.ProviderBase.DbConnectionPool.CreateObject(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at System.Data.ProviderBase.DbConnectionPool.UserCreateRequest(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at System.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at System.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at System.Data.ProviderBase.DbConnectionFactory.TryGetConnection(DbConnection owningConnection, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal oldConnection, DbConnectionInternal& connection)
   at System.Data.ProviderBase.DbConnectionInternal.TryOpenConnectionInternal(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at System.Data.ProviderBase.DbConnectionClosed.TryOpenConnection(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at System.Data.SqlClient.SqlConnection.TryOpen(TaskCompletionSource`1 retry)
   at System.Data.SqlClient.SqlConnection.Open()
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenDbConnection(Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.Open(Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.BufferlessMoveNext(DbContext _, Boolean buffer)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.MoveNext()
   at System.Linq.Enumerable.SelectEnumerableIterator`2.MoveNext()
   at System.Linq.Enumerable.TryGetFirst[TSource](IEnumerable`1 source, Boolean& found)
   at lambda_method(Closure )
   at Microsoft.EntityFrameworkCore.Query.Internal.LinqOperatorProvider.ResultEnumerable`1.GetEnumerator()
   at Microsoft.EntityFrameworkCore.Query.Internal.LinqOperatorProvider.ExceptionInterceptor`1.EnumeratorExceptionInterceptor.MoveNext()
ClientConnectionId:3f346566-f160-46c2-877d-b462cbc6e2bf
Error Number:4060,State:1,Class:11
System.Data.SqlClient.SqlException (0x80131904): Cannot open database "IdentityServer4.Combined-2.3.0" requested by the login. The login failed.
Login failed for user 'NOTE-CINQ-88\Administrador'.
   at System.Data.SqlClient.SqlInternalConnectionTds..ctor(DbConnectionPoolIdentity identity, SqlConnectionString connectionOptions, SqlCredential credential, Object providerInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString userConnectionOptions, SessionData reconnectSessionData, Boolean applyTransientFaultHandling)
   at System.Data.SqlClient.SqlConnectionFactory.CreateConnection(DbConnectionOptions options, DbConnectionPoolKey poolKey, Object poolGroupProviderInfo, DbConnectionPool pool, DbConnection owningConnection, DbConnectionOptions userOptions)
   at System.Data.ProviderBase.DbConnectionFactory.CreatePooledConnection(DbConnectionPool pool, DbConnection owningObject, DbConnectionOptions options, DbConnectionPoolKey poolKey, DbConnectionOptions userOptions)
   at System.Data.ProviderBase.DbConnectionPool.CreateObject(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at System.Data.ProviderBase.DbConnectionPool.UserCreateRequest(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at System.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at System.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at System.Data.ProviderBase.DbConnectionFactory.TryGetConnection(DbConnection owningConnection, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal oldConnection, DbConnectionInternal& connection)
   at System.Data.ProviderBase.DbConnectionInternal.TryOpenConnectionInternal(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at System.Data.ProviderBase.DbConnectionClosed.TryOpenConnection(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at System.Data.SqlClient.SqlConnection.TryOpen(TaskCompletionSource`1 retry)
   at System.Data.SqlClient.SqlConnection.Open()
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenDbConnection(Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.Open(Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.BufferlessMoveNext(DbContext _, Boolean buffer)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.MoveNext()
   at System.Linq.Enumerable.SelectEnumerableIterator`2.MoveNext()
   at System.Linq.Enumerable.TryGetFirst[TSource](IEnumerable`1 source, Boolean& found)
   at lambda_method(Closure )
   at Microsoft.EntityFrameworkCore.Query.Internal.LinqOperatorProvider.ResultEnumerable`1.GetEnumerator()
   at Microsoft.EntityFrameworkCore.Query.Internal.LinqOperatorProvider.ExceptionInterceptor`1.EnumeratorExceptionInterceptor.MoveNext()
ClientConnectionId:3f346566-f160-46c2-877d-b462cbc6e2bf
Error Number:4060,State:1,Class:11
2019-06-06 00:00:49.236 -03:00 [ERR] An exception occurred in the database while iterating the results of a query for context type 'IdentityServer4.EntityFramework.DbContexts.ConfigurationDbContext'.
System.Data.SqlClient.SqlException (0x80131904): Cannot open database "IdentityServer4.Combined-2.3.0" requested by the login. The login failed.
Login failed for user 'NOTE-CINQ-88\Administrador'.
   at System.Data.SqlClient.SqlInternalConnectionTds..ctor(DbConnectionPoolIdentity identity, SqlConnectionString connectionOptions, SqlCredential credential, Object providerInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString userConnectionOptions, SessionData reconnectSessionData, Boolean applyTransientFaultHandling)
   at System.Data.SqlClient.SqlConnectionFactory.CreateConnection(DbConnectionOptions options, DbConnectionPoolKey poolKey, Object poolGroupProviderInfo, DbConnectionPool pool, DbConnection owningConnection, DbConnectionOptions userOptions)
   at System.Data.ProviderBase.DbConnectionFactory.CreatePooledConnection(DbConnectionPool pool, DbConnection owningObject, DbConnectionOptions options, DbConnectionPoolKey poolKey, DbConnectionOptions userOptions)
   at System.Data.ProviderBase.DbConnectionPool.CreateObject(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at System.Data.ProviderBase.DbConnectionPool.UserCreateRequest(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at System.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at System.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at System.Data.ProviderBase.DbConnectionFactory.TryGetConnection(DbConnection owningConnection, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal oldConnection, DbConnectionInternal& connection)
   at System.Data.ProviderBase.DbConnectionInternal.TryOpenConnectionInternal(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at System.Data.ProviderBase.DbConnectionClosed.TryOpenConnection(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at System.Data.SqlClient.SqlConnection.TryOpen(TaskCompletionSource`1 retry)
   at System.Data.SqlClient.SqlConnection.Open()
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenDbConnection(Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.Open(Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.BufferlessMoveNext(DbContext _, Boolean buffer)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.MoveNext()
   at System.Linq.Enumerable.SelectEnumerableIterator`2.MoveNext()
   at System.Linq.Enumerable.TryGetFirst[TSource](IEnumerable`1 source, Boolean& found)
   at lambda_method(Closure )
   at Microsoft.EntityFrameworkCore.Query.Internal.LinqOperatorProvider.ResultEnumerable`1.GetEnumerator()
   at Microsoft.EntityFrameworkCore.Query.Internal.LinqOperatorProvider.ExceptionInterceptor`1.EnumeratorExceptionInterceptor.MoveNext()
   at System.Linq.Enumerable.TryGetFirst[TSource](IEnumerable`1 source, Boolean& found)
   at System.Linq.Enumerable.First[TSource](IEnumerable`1 source)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass15_1`1.<CompileQueryCore>b__0(QueryContext qc)
ClientConnectionId:3f346566-f160-46c2-877d-b462cbc6e2bf
Error Number:4060,State:1,Class:11
System.Data.SqlClient.SqlException (0x80131904): Cannot open database "IdentityServer4.Combined-2.3.0" requested by the login. The login failed.
Login failed for user 'NOTE-CINQ-88\Administrador'.
   at System.Data.SqlClient.SqlInternalConnectionTds..ctor(DbConnectionPoolIdentity identity, SqlConnectionString connectionOptions, SqlCredential credential, Object providerInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString userConnectionOptions, SessionData reconnectSessionData, Boolean applyTransientFaultHandling)
   at System.Data.SqlClient.SqlConnectionFactory.CreateConnection(DbConnectionOptions options, DbConnectionPoolKey poolKey, Object poolGroupProviderInfo, DbConnectionPool pool, DbConnection owningConnection, DbConnectionOptions userOptions)
   at System.Data.ProviderBase.DbConnectionFactory.CreatePooledConnection(DbConnectionPool pool, DbConnection owningObject, DbConnectionOptions options, DbConnectionPoolKey poolKey, DbConnectionOptions userOptions)
   at System.Data.ProviderBase.DbConnectionPool.CreateObject(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at System.Data.ProviderBase.DbConnectionPool.UserCreateRequest(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at System.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at System.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at System.Data.ProviderBase.DbConnectionFactory.TryGetConnection(DbConnection owningConnection, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal oldConnection, DbConnectionInternal& connection)
   at System.Data.ProviderBase.DbConnectionInternal.TryOpenConnectionInternal(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at System.Data.ProviderBase.DbConnectionClosed.TryOpenConnection(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at System.Data.SqlClient.SqlConnection.TryOpen(TaskCompletionSource`1 retry)
   at System.Data.SqlClient.SqlConnection.Open()
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenDbConnection(Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.Open(Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.BufferlessMoveNext(DbContext _, Boolean buffer)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.MoveNext()
   at System.Linq.Enumerable.SelectEnumerableIterator`2.MoveNext()
   at System.Linq.Enumerable.TryGetFirst[TSource](IEnumerable`1 source, Boolean& found)
   at lambda_method(Closure )
   at Microsoft.EntityFrameworkCore.Query.Internal.LinqOperatorProvider.ResultEnumerable`1.GetEnumerator()
   at Microsoft.EntityFrameworkCore.Query.Internal.LinqOperatorProvider.ExceptionInterceptor`1.EnumeratorExceptionInterceptor.MoveNext()
   at System.Linq.Enumerable.TryGetFirst[TSource](IEnumerable`1 source, Boolean& found)
   at System.Linq.Enumerable.First[TSource](IEnumerable`1 source)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass15_1`1.<CompileQueryCore>b__0(QueryContext qc)
ClientConnectionId:3f346566-f160-46c2-877d-b462cbc6e2bf
Error Number:4060,State:1,Class:11
2019-06-06 00:00:49.348 -03:00 [INF] {"Details":"System.Data.SqlClient.SqlException (0x80131904): Cannot open database \"IdentityServer4.Combined-2.3.0\" requested by the login. The login failed.\r\nLogin failed for user 'NOTE-CINQ-88\\Administrador'.\r\n   at System.Data.SqlClient.SqlInternalConnectionTds..ctor(DbConnectionPoolIdentity identity, SqlConnectionString connectionOptions, SqlCredential credential, Object providerInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString userConnectionOptions, SessionData reconnectSessionData, Boolean applyTransientFaultHandling)\r\n   at System.Data.SqlClient.SqlConnectionFactory.CreateConnection(DbConnectionOptions options, DbConnectionPoolKey poolKey, Object poolGroupProviderInfo, DbConnectionPool pool, DbConnection owningConnection, DbConnectionOptions userOptions)\r\n   at System.Data.ProviderBase.DbConnectionFactory.CreatePooledConnection(DbConnectionPool pool, DbConnection owningObject, DbConnectionOptions options, DbConnectionPoolKey poolKey, DbConnectionOptions userOptions)\r\n   at System.Data.ProviderBase.DbConnectionPool.CreateObject(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)\r\n   at System.Data.ProviderBase.DbConnectionPool.UserCreateRequest(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)\r\n   at System.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)\r\n   at System.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal& connection)\r\n   at System.Data.ProviderBase.DbConnectionFactory.TryGetConnection(DbConnection owningConnection, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal oldConnection, DbConnectionInternal& connection)\r\n   at System.Data.ProviderBase.DbConnectionInternal.TryOpenConnectionInternal(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)\r\n   at System.Data.ProviderBase.DbConnectionClosed.TryOpenConnection(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)\r\n   at System.Data.SqlClient.SqlConnection.TryOpen(TaskCompletionSource`1 retry)\r\n   at System.Data.SqlClient.SqlConnection.Open()\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenDbConnection(Boolean errorsExpected)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.Open(Boolean errorsExpected)\r\n   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.BufferlessMoveNext(DbContext _, Boolean buffer)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)\r\n   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.MoveNext()\r\n   at System.Linq.Enumerable.SelectEnumerableIterator`2.MoveNext()\r\n   at System.Linq.Enumerable.TryGetFirst[TSource](IEnumerable`1 source, Boolean& found)\r\n   at lambda_method(Closure )\r\n   at Microsoft.EntityFrameworkCore.Query.Internal.LinqOperatorProvider.ResultEnumerable`1.GetEnumerator()\r\n   at Microsoft.EntityFrameworkCore.Query.Internal.LinqOperatorProvider.ExceptionInterceptor`1.EnumeratorExceptionInterceptor.MoveNext()\r\n   at System.Linq.Enumerable.TryGetFirst[TSource](IEnumerable`1 source, Boolean& found)\r\n   at System.Linq.Enumerable.First[TSource](IEnumerable`1 source)\r\n   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass15_1`1.<CompileQueryCore>b__0(QueryContext qc)\r\n   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.Execute[TResult](Expression query)\r\n   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryProvider.Execute[TResult](Expression expression)\r\n   at System.Linq.Queryable.FirstOrDefault[TSource](IQueryable`1 source, Expression`1 predicate)\r\n   at IdentityServer4.EntityFramework.Stores.ClientStore.FindClientByIdAsync(String clientId) in C:\\local\\identity\\server4\\EntityFramework.Storage\\src\\Stores\\ClientStore.cs:line 47\r\n   at IdentityServer4.Stores.ValidatingClientStore`1.FindClientByIdAsync(String clientId) in C:\\local\\identity\\server4\\IdentityServer4\\src\\Stores\\ValidatingClientStore.cs:line 52\r\n   at IdentityServer4.Stores.IClientStoreExtensions.FindEnabledClientByIdAsync(IClientStore store, String clientId) in C:\\local\\identity\\server4\\IdentityServer4\\src\\Extensions\\IClientStoreExtensions.cs:line 23\r\n   at IdentityServer4.Validation.ClientSecretValidator.ValidateAsync(HttpContext context) in C:\\local\\identity\\server4\\IdentityServer4\\src\\Validation\\Default\\ClientSecretValidator.cs:line 67\r\n   at IdentityServer4.Endpoints.TokenEndpoint.ProcessTokenRequestAsync(HttpContext context) in C:\\local\\identity\\server4\\IdentityServer4\\src\\Endpoints\\TokenEndpoint.cs:line 78\r\n   at IdentityServer4.Endpoints.TokenEndpoint.ProcessAsync(HttpContext context) in C:\\local\\identity\\server4\\IdentityServer4\\src\\Endpoints\\TokenEndpoint.cs:line 70\r\n   at IdentityServer4.Hosting.IdentityServerMiddleware.Invoke(HttpContext context, IEndpointRouter router, IUserSession session, IEventService events) in C:\\local\\identity\\server4\\IdentityServer4\\src\\Hosting\\IdentityServerMiddleware.cs:line 54\r\nClientConnectionId:3f346566-f160-46c2-877d-b462cbc6e2bf\r\nError Number:4060,State:1,Class:11","Category":"Error","Name":"Unhandled Exception","EventType":"Error","Id":3000,"Message":"Cannot open database \"IdentityServer4.Combined-2.3.0\" requested by the login. The login failed.\r\nLogin failed for user 'NOTE-CINQ-88\\Administrador'.","ActivityId":"0HLNA5CEH7I36:00000002","TimeStamp":"2019-06-06T03:00:49.0000000Z","ProcessId":20632,"LocalIpAddress":"127.0.0.1:34150","RemoteIpAddress":"::1","$type":"UnhandledExceptionEvent"}
2019-06-06 00:00:49.363 -03:00 [FTL] Unhandled exception: Cannot open database "IdentityServer4.Combined-2.3.0" requested by the login. The login failed.
Login failed for user 'NOTE-CINQ-88\Administrador'.
System.Data.SqlClient.SqlException (0x80131904): Cannot open database "IdentityServer4.Combined-2.3.0" requested by the login. The login failed.
Login failed for user 'NOTE-CINQ-88\Administrador'.
   at System.Data.SqlClient.SqlInternalConnectionTds..ctor(DbConnectionPoolIdentity identity, SqlConnectionString connectionOptions, SqlCredential credential, Object providerInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString userConnectionOptions, SessionData reconnectSessionData, Boolean applyTransientFaultHandling)
   at System.Data.SqlClient.SqlConnectionFactory.CreateConnection(DbConnectionOptions options, DbConnectionPoolKey poolKey, Object poolGroupProviderInfo, DbConnectionPool pool, DbConnection owningConnection, DbConnectionOptions userOptions)
   at System.Data.ProviderBase.DbConnectionFactory.CreatePooledConnection(DbConnectionPool pool, DbConnection owningObject, DbConnectionOptions options, DbConnectionPoolKey poolKey, DbConnectionOptions userOptions)
   at System.Data.ProviderBase.DbConnectionPool.CreateObject(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at System.Data.ProviderBase.DbConnectionPool.UserCreateRequest(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at System.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at System.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at System.Data.ProviderBase.DbConnectionFactory.TryGetConnection(DbConnection owningConnection, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal oldConnection, DbConnectionInternal& connection)
   at System.Data.ProviderBase.DbConnectionInternal.TryOpenConnectionInternal(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at System.Data.ProviderBase.DbConnectionClosed.TryOpenConnection(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at System.Data.SqlClient.SqlConnection.TryOpen(TaskCompletionSource`1 retry)
   at System.Data.SqlClient.SqlConnection.Open()
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenDbConnection(Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.Open(Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.BufferlessMoveNext(DbContext _, Boolean buffer)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.MoveNext()
   at System.Linq.Enumerable.SelectEnumerableIterator`2.MoveNext()
   at System.Linq.Enumerable.TryGetFirst[TSource](IEnumerable`1 source, Boolean& found)
   at lambda_method(Closure )
   at Microsoft.EntityFrameworkCore.Query.Internal.LinqOperatorProvider.ResultEnumerable`1.GetEnumerator()
   at Microsoft.EntityFrameworkCore.Query.Internal.LinqOperatorProvider.ExceptionInterceptor`1.EnumeratorExceptionInterceptor.MoveNext()
   at System.Linq.Enumerable.TryGetFirst[TSource](IEnumerable`1 source, Boolean& found)
   at System.Linq.Enumerable.First[TSource](IEnumerable`1 source)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass15_1`1.<CompileQueryCore>b__0(QueryContext qc)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.Execute[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryProvider.Execute[TResult](Expression expression)
   at System.Linq.Queryable.FirstOrDefault[TSource](IQueryable`1 source, Expression`1 predicate)
   at IdentityServer4.EntityFramework.Stores.ClientStore.FindClientByIdAsync(String clientId) in C:\local\identity\server4\EntityFramework.Storage\src\Stores\ClientStore.cs:line 47
   at IdentityServer4.Stores.ValidatingClientStore`1.FindClientByIdAsync(String clientId) in C:\local\identity\server4\IdentityServer4\src\Stores\ValidatingClientStore.cs:line 52
   at IdentityServer4.Stores.IClientStoreExtensions.FindEnabledClientByIdAsync(IClientStore store, String clientId) in C:\local\identity\server4\IdentityServer4\src\Extensions\IClientStoreExtensions.cs:line 23
   at IdentityServer4.Validation.ClientSecretValidator.ValidateAsync(HttpContext context) in C:\local\identity\server4\IdentityServer4\src\Validation\Default\ClientSecretValidator.cs:line 67
   at IdentityServer4.Endpoints.TokenEndpoint.ProcessTokenRequestAsync(HttpContext context) in C:\local\identity\server4\IdentityServer4\src\Endpoints\TokenEndpoint.cs:line 78
   at IdentityServer4.Endpoints.TokenEndpoint.ProcessAsync(HttpContext context) in C:\local\identity\server4\IdentityServer4\src\Endpoints\TokenEndpoint.cs:line 70
   at IdentityServer4.Hosting.IdentityServerMiddleware.Invoke(HttpContext context, IEndpointRouter router, IUserSession session, IEventService events) in C:\local\identity\server4\IdentityServer4\src\Hosting\IdentityServerMiddleware.cs:line 54
ClientConnectionId:3f346566-f160-46c2-877d-b462cbc6e2bf
Error Number:4060,State:1,Class:11
2019-06-06 00:00:54.008 -03:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-06-06 00:00:54.012 -03:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-06-06 00:00:54.013 -03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-06-06 00:00:54.013 -03:00 [WRN] Invalid HTTP request for token endpoint
2019-06-06 00:09:24.491 -03:00 [INF] Starting IdentityServer4 version 2.3.2.0
2019-06-06 00:09:24.594 -03:00 [INF] Using the default authentication scheme Identity.Application for IdentityServer
2019-06-06 00:09:24.594 -03:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for authentication
2019-06-06 00:09:24.594 -03:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-in
2019-06-06 00:09:24.595 -03:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-out
2019-06-06 00:09:24.595 -03:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for challenge
2019-06-06 00:09:24.595 -03:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for forbid
2019-06-06 00:09:24.874 -03:00 [DBG] Starting grant removal
2019-06-06 00:09:25.430 -03:00 [DBG] Login Url: /Account/Login
2019-06-06 00:09:25.435 -03:00 [DBG] Login Return Url Parameter: ReturnUrl
2019-06-06 00:09:25.435 -03:00 [DBG] Logout Url: /Account/Logout
2019-06-06 00:09:25.435 -03:00 [DBG] ConsentUrl Url: /consent
2019-06-06 00:09:25.436 -03:00 [DBG] Consent Return Url Parameter: returnUrl
2019-06-06 00:09:25.437 -03:00 [DBG] Error Url: /home/error
2019-06-06 00:09:25.437 -03:00 [DBG] Error Id Parameter: errorId
2019-06-06 00:09:31.904 -03:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-06-06 00:09:31.935 -03:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-06-06 00:09:31.935 -03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-06-06 00:09:31.950 -03:00 [DBG] Start token request.
2019-06-06 00:09:31.960 -03:00 [DBG] Start client validation
2019-06-06 00:09:31.969 -03:00 [DBG] Start parsing Basic Authentication secret
2019-06-06 00:09:31.974 -03:00 [DBG] Start parsing for secret in post body
2019-06-06 00:09:31.999 -03:00 [DBG] Parser found secret: PostBodySecretParser
2019-06-06 00:09:31.999 -03:00 [DBG] Secret id found: passClient
2019-06-06 00:09:32.193 -03:00 [DBG] passClient found in database: false
2019-06-06 00:09:32.233 -03:00 [INF] {"ClientId":"passClient","Category":"Authentication","Name":"Client Authentication Failure","EventType":"Failure","Id":1011,"Message":"Unknown client","ActivityId":"0HLNA5HGK9SK0:00000002","TimeStamp":"2019-06-06T03:09:32.0000000Z","ProcessId":24032,"LocalIpAddress":"127.0.0.1:46870","RemoteIpAddress":"::1","$type":"ClientAuthenticationFailureEvent"}
2019-06-06 00:09:32.242 -03:00 [ERR] No client with id 'passClient' found. aborting
2019-06-06 00:10:46.463 -03:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-06-06 00:10:46.465 -03:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-06-06 00:10:46.465 -03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-06-06 00:10:46.465 -03:00 [DBG] Start token request.
2019-06-06 00:10:46.465 -03:00 [DBG] Start client validation
2019-06-06 00:10:46.465 -03:00 [DBG] Start parsing Basic Authentication secret
2019-06-06 00:10:46.465 -03:00 [DBG] Start parsing for secret in post body
2019-06-06 00:10:46.481 -03:00 [DBG] Parser found secret: PostBodySecretParser
2019-06-06 00:10:46.481 -03:00 [DBG] Secret id found: ro.client
2019-06-06 00:10:46.762 -03:00 [DBG] ro.client found in database: true
2019-06-06 00:10:46.781 -03:00 [DBG] client configuration validation for client ro.client succeeded.
2019-06-06 00:10:46.805 -03:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-06-06 00:10:46.805 -03:00 [DBG] Client validation success
2019-06-06 00:10:46.806 -03:00 [INF] {"ClientId":"ro.client","AuthenticationMethod":"SharedSecret","Category":"Authentication","Name":"Client Authentication Success","EventType":"Success","Id":1010,"Message":null,"ActivityId":"0HLNA5HGK9SK2:00000001","TimeStamp":"2019-06-06T03:10:46.0000000Z","ProcessId":24032,"LocalIpAddress":"127.0.0.1:46870","RemoteIpAddress":"::1","$type":"ClientAuthenticationSuccessEvent"}
2019-06-06 00:10:46.820 -03:00 [DBG] Start token request validation
2019-06-06 00:10:46.844 -03:00 [DBG] Start resource owner password token request validation
2019-06-06 00:10:46.952 -03:00 [DBG] Found [] identity scopes in database
2019-06-06 00:10:47.289 -03:00 [DBG] Found ["api1"] API scopes in database
2019-06-06 00:10:47.321 -03:00 [DBG] Found [] identity scopes in database
2019-06-06 00:10:47.330 -03:00 [DBG] Found ["api1"] API scopes in database
2019-06-06 00:10:47.366 -03:00 [INF] No user found matching username: scott
2019-06-06 00:10:47.368 -03:00 [INF] {"Username":"scott","Endpoint":"Token","Category":"Authentication","Name":"User Login Failure","EventType":"Failure","Id":1001,"Message":"invalid username","ActivityId":"0HLNA5HGK9SK2:00000001","TimeStamp":"2019-06-06T03:10:47.0000000Z","ProcessId":24032,"LocalIpAddress":"127.0.0.1:46870","RemoteIpAddress":"::1","$type":"UserLoginFailureEvent"}
2019-06-06 00:10:47.389 -03:00 [INF] User authentication failed: ["invalid_username_or_password"], request details: {"ClientId":"ro.client","ClientName":null,"GrantType":"password","Scopes":"api1","AuthorizationCode":null,"RefreshToken":null,"UserName":"scott","AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"grant_type":"password","client_id":"ro.client","client_secret":"***REDACTED***","username":"scott","password":"***REDACTED***"},"$type":"TokenRequestValidationLog"}
2019-06-06 00:10:47.395 -03:00 [INF] {"Username":"scott","Endpoint":"UI","Category":"Authentication","Name":"User Login Failure","EventType":"Failure","Id":1001,"Message":"invalid_username_or_password","ActivityId":"0HLNA5HGK9SK2:00000001","TimeStamp":"2019-06-06T03:10:47.0000000Z","ProcessId":24032,"LocalIpAddress":"127.0.0.1:46870","RemoteIpAddress":"::1","$type":"UserLoginFailureEvent"}
2019-06-06 00:10:47.407 -03:00 [INF] {"ClientId":"ro.client","ClientName":null,"RedirectUri":null,"Endpoint":"Token","SubjectId":null,"Scopes":"api1","GrantType":"password","Error":"invalid_grant","ErrorDescription":"invalid_username_or_password","Category":"Token","Name":"Token Issued Failure","EventType":"Failure","Id":2001,"Message":null,"ActivityId":"0HLNA5HGK9SK2:00000001","TimeStamp":"2019-06-06T03:10:47.0000000Z","ProcessId":24032,"LocalIpAddress":"127.0.0.1:46870","RemoteIpAddress":"::1","$type":"TokenIssuedFailureEvent"}
2019-06-06 00:11:07.364 -03:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-06-06 00:11:07.365 -03:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-06-06 00:11:07.365 -03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-06-06 00:11:07.365 -03:00 [DBG] Start token request.
2019-06-06 00:11:07.365 -03:00 [DBG] Start client validation
2019-06-06 00:11:07.366 -03:00 [DBG] Start parsing Basic Authentication secret
2019-06-06 00:11:07.366 -03:00 [DBG] Start parsing for secret in post body
2019-06-06 00:11:07.367 -03:00 [DBG] Parser found secret: PostBodySecretParser
2019-06-06 00:11:07.367 -03:00 [DBG] Secret id found: ro.client
2019-06-06 00:11:07.376 -03:00 [DBG] ro.client found in database: true
2019-06-06 00:11:07.377 -03:00 [DBG] client configuration validation for client ro.client succeeded.
2019-06-06 00:11:07.377 -03:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-06-06 00:11:07.377 -03:00 [DBG] Client validation success
2019-06-06 00:11:07.377 -03:00 [INF] {"ClientId":"ro.client","AuthenticationMethod":"SharedSecret","Category":"Authentication","Name":"Client Authentication Success","EventType":"Success","Id":1010,"Message":null,"ActivityId":"0HLNA5HGK9SK2:00000002","TimeStamp":"2019-06-06T03:11:07.0000000Z","ProcessId":24032,"LocalIpAddress":"127.0.0.1:46870","RemoteIpAddress":"::1","$type":"ClientAuthenticationSuccessEvent"}
2019-06-06 00:11:07.378 -03:00 [DBG] Start token request validation
2019-06-06 00:11:07.378 -03:00 [DBG] Start resource owner password token request validation
2019-06-06 00:11:07.380 -03:00 [DBG] Found [] identity scopes in database
2019-06-06 00:11:07.387 -03:00 [DBG] Found ["api1"] API scopes in database
2019-06-06 00:11:07.389 -03:00 [DBG] Found [] identity scopes in database
2019-06-06 00:11:07.396 -03:00 [DBG] Found ["api1"] API scopes in database
2019-06-06 00:11:07.454 -03:00 [INF] Credentials validated for username: alice
2019-06-06 00:11:07.456 -03:00 [INF] {"Username":"alice","Provider":null,"ProviderUserId":null,"SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","DisplayName":"alice","Endpoint":"Token","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HLNA5HGK9SK2:00000002","TimeStamp":"2019-06-06T03:11:07.0000000Z","ProcessId":24032,"LocalIpAddress":"127.0.0.1:46870","RemoteIpAddress":"::1","$type":"UserLoginSuccessEvent"}
2019-06-06 00:11:07.470 -03:00 [INF] {"Username":"alice","Provider":null,"ProviderUserId":null,"SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","DisplayName":null,"Endpoint":"Token","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HLNA5HGK9SK2:00000002","TimeStamp":"2019-06-06T03:11:07.0000000Z","ProcessId":24032,"LocalIpAddress":"127.0.0.1:46870","RemoteIpAddress":"::1","$type":"UserLoginSuccessEvent"}
2019-06-06 00:11:07.470 -03:00 [DBG] Resource owner password token request validation success.
2019-06-06 00:11:07.471 -03:00 [INF] Token request validation success
{"ClientId":"ro.client","ClientName":null,"GrantType":"password","Scopes":"api1","AuthorizationCode":null,"RefreshToken":null,"UserName":"alice","AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"grant_type":"password","client_id":"ro.client","client_secret":"***REDACTED***","username":"alice","password":"***REDACTED***"},"$type":"TokenRequestValidationLog"}
2019-06-06 00:11:07.508 -03:00 [DBG] Getting claims for access token for client: ro.client
2019-06-06 00:11:07.509 -03:00 [DBG] Getting claims for access token for subject: 4ba1c3a0-b786-421d-b88a-740f38d9cafa
2019-06-06 00:11:07.931 -03:00 [INF] {"ClientId":"ro.client","ClientName":null,"RedirectUri":null,"Endpoint":"Token","SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","Scopes":"api1","GrantType":"password","Tokens":[{"TokenType":"access_token","TokenValue":"****uzug","$type":"Token"}],"Category":"Token","Name":"Token Issued Success","EventType":"Success","Id":2000,"Message":null,"ActivityId":"0HLNA5HGK9SK2:00000002","TimeStamp":"2019-06-06T03:11:07.0000000Z","ProcessId":24032,"LocalIpAddress":"127.0.0.1:46870","RemoteIpAddress":"::1","$type":"TokenIssuedSuccessEvent"}
2019-06-06 00:11:07.933 -03:00 [DBG] Token request success.
2019-06-06 00:19:06.287 -03:00 [INF] Starting IdentityServer4 version 2.3.2.0
2019-06-06 00:19:06.480 -03:00 [INF] Using the default authentication scheme Identity.Application for IdentityServer
2019-06-06 00:19:06.481 -03:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for authentication
2019-06-06 00:19:06.481 -03:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-in
2019-06-06 00:19:06.481 -03:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-out
2019-06-06 00:19:06.481 -03:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for challenge
2019-06-06 00:19:06.481 -03:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for forbid
2019-06-06 00:19:06.622 -03:00 [DBG] Starting grant removal
2019-06-06 00:19:06.928 -03:00 [DBG] Login Url: /Account/Login
2019-06-06 00:19:06.932 -03:00 [DBG] Login Return Url Parameter: ReturnUrl
2019-06-06 00:19:06.932 -03:00 [DBG] Logout Url: /Account/Logout
2019-06-06 00:19:06.932 -03:00 [DBG] ConsentUrl Url: /consent
2019-06-06 00:19:06.932 -03:00 [DBG] Consent Return Url Parameter: returnUrl
2019-06-06 00:19:06.932 -03:00 [DBG] Error Url: /home/error
2019-06-06 00:19:06.932 -03:00 [DBG] Error Id Parameter: errorId
2019-06-06 00:19:06.972 -03:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2019-06-06 00:19:06.997 -03:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2019-06-06 00:19:06.997 -03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2019-06-06 00:19:07.004 -03:00 [DBG] Start discovery request
2019-06-06 00:19:08.381 -03:00 [DBG] Found ["openid","profile","api1"] as all scopes in database
2019-06-06 00:19:08.614 -03:00 [DBG] Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery
2019-06-06 00:19:08.617 -03:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryKeyEndpoint
2019-06-06 00:19:08.617 -03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2019-06-06 00:19:08.624 -03:00 [DBG] Start key discovery request
2019-06-06 00:19:08.768 -03:00 [DBG] Request path /connect/authorize matched to endpoint type Authorize
2019-06-06 00:19:08.774 -03:00 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint
2019-06-06 00:19:08.774 -03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize
2019-06-06 00:19:08.787 -03:00 [DBG] Start authorize request
2019-06-06 00:19:08.800 -03:00 [DBG] No user present in authorize request
2019-06-06 00:19:08.808 -03:00 [DBG] Start authorize request protocol validation
2019-06-06 00:19:09.253 -03:00 [DBG] mvc found in database: true
2019-06-06 00:19:09.265 -03:00 [DBG] client configuration validation for client mvc succeeded.
2019-06-06 00:19:09.273 -03:00 [DBG] Checking for PKCE parameters
2019-06-06 00:19:09.277 -03:00 [DBG] No PKCE used.
2019-06-06 00:19:09.370 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-06 00:19:09.546 -03:00 [DBG] Found ["api1"] API scopes in database
2019-06-06 00:19:09.562 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-06 00:19:09.567 -03:00 [DBG] Found ["api1"] API scopes in database
2019-06-06 00:19:09.580 -03:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2019-06-06 00:19:09.597 -03:00 [INF] ValidatedAuthorizeRequest
{"ClientId":"mvc","ClientName":"MVC Client","RedirectUri":"http://localhost:5002/signin-oidc","AllowedRedirectUris":["http://localhost:5002/signin-oidc"],"SubjectId":"anonymous","ResponseType":"code id_token","ResponseMode":"form_post","GrantType":"hybrid","RequestedScopes":"openid profile api1 offline_access","State":"CfDJ8IWi-Oyb07ZOoWyKKtZCxiitqBskwVV9VyrGfPNwBg7Heo-FCglcFlTIbyBc72Ck8SNMAmBCl2cREHoarjoPWTYyLR39C5K370s9vCWjRjnptRQYSWIdQQRnVmv0z9Hm-JPWkygsc-H8YXmTjJ5brEDvtVOxdNb7JxNuifCumDGXnscbYtxgIjM-BeInDUtFLATq79hDSJ9J7D51-aKjKzO6ZQQyYllv_M5-dxfjZCubEY9uPSAoF_Hbj_rNGTKJPYL2d9UeAMhgTh-znhF76nx6QtUynBxpcr5VtgixuWRHm3bNWa76c0Np1CvnT0JU4n-sVBNx7b2AHJCy0VDNMyM","UiLocales":null,"Nonce":"636953879487350609.N2MwMDZjNGQtMjRiMS00YmFjLWJjN2YtNWYwYWYxODEzNTI5ZWUzZjBmYTgtMjdhZi00MzA1LThmNDUtMzQ5NTE0MDhjZGRh","AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":null,"MaxAge":null,"LoginHint":null,"SessionId":null,"Raw":{"client_id":"mvc","redirect_uri":"http://localhost:5002/signin-oidc","response_type":"code id_token","scope":"openid profile api1 offline_access","response_mode":"form_post","nonce":"636953879487350609.N2MwMDZjNGQtMjRiMS00YmFjLWJjN2YtNWYwYWYxODEzNTI5ZWUzZjBmYTgtMjdhZi00MzA1LThmNDUtMzQ5NTE0MDhjZGRh","state":"CfDJ8IWi-Oyb07ZOoWyKKtZCxiitqBskwVV9VyrGfPNwBg7Heo-FCglcFlTIbyBc72Ck8SNMAmBCl2cREHoarjoPWTYyLR39C5K370s9vCWjRjnptRQYSWIdQQRnVmv0z9Hm-JPWkygsc-H8YXmTjJ5brEDvtVOxdNb7JxNuifCumDGXnscbYtxgIjM-BeInDUtFLATq79hDSJ9J7D51-aKjKzO6ZQQyYllv_M5-dxfjZCubEY9uPSAoF_Hbj_rNGTKJPYL2d9UeAMhgTh-znhF76nx6QtUynBxpcr5VtgixuWRHm3bNWa76c0Np1CvnT0JU4n-sVBNx7b2AHJCy0VDNMyM","x-client-SKU":"ID_NETSTANDARD1_4","x-client-ver":"5.2.0.0"},"$type":"AuthorizeRequestValidationLog"}
2019-06-06 00:19:09.613 -03:00 [INF] Showing login: User is not authenticated
2019-06-06 00:19:09.832 -03:00 [DBG] Start authorize request protocol validation
2019-06-06 00:19:09.840 -03:00 [DBG] mvc found in database: true
2019-06-06 00:19:09.841 -03:00 [DBG] client configuration validation for client mvc succeeded.
2019-06-06 00:19:09.841 -03:00 [DBG] Checking for PKCE parameters
2019-06-06 00:19:09.841 -03:00 [DBG] No PKCE used.
2019-06-06 00:19:09.845 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-06 00:19:09.850 -03:00 [DBG] Found ["api1"] API scopes in database
2019-06-06 00:19:09.853 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-06 00:19:09.857 -03:00 [DBG] Found ["api1"] API scopes in database
2019-06-06 00:19:09.857 -03:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2019-06-06 00:19:09.866 -03:00 [DBG] mvc found in database: true
2019-06-06 00:19:09.866 -03:00 [DBG] client configuration validation for client mvc succeeded.
2019-06-06 00:19:26.508 -03:00 [DBG] CORS request made for path: /Account/Login from origin: null but was ignored because path was not for an allowed IdentityServer CORS endpoint
2019-06-06 00:19:26.568 -03:00 [DBG] Start authorize request protocol validation
2019-06-06 00:19:26.578 -03:00 [DBG] mvc found in database: true
2019-06-06 00:19:26.578 -03:00 [DBG] client configuration validation for client mvc succeeded.
2019-06-06 00:19:26.578 -03:00 [DBG] Checking for PKCE parameters
2019-06-06 00:19:26.578 -03:00 [DBG] No PKCE used.
2019-06-06 00:19:26.583 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-06 00:19:26.589 -03:00 [DBG] Found ["api1"] API scopes in database
2019-06-06 00:19:26.592 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-06 00:19:26.597 -03:00 [DBG] Found ["api1"] API scopes in database
2019-06-06 00:19:26.598 -03:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2019-06-06 00:19:26.925 -03:00 [DBG] Augmenting SignInContext
2019-06-06 00:19:26.929 -03:00 [DBG] Adding idp claim with value: local
2019-06-06 00:19:26.929 -03:00 [DBG] Adding amr claim with value: pwd
2019-06-06 00:19:26.930 -03:00 [DBG] Adding auth_time claim with value: 1559791166
2019-06-06 00:19:26.947 -03:00 [INF] AuthenticationScheme: Identity.Application signed in.
2019-06-06 00:19:26.967 -03:00 [INF] {"Username":"alice","Provider":null,"ProviderUserId":null,"SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","DisplayName":"alice","Endpoint":"UI","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HLNA5MTVQ7K5:00000005","TimeStamp":"2019-06-06T03:19:26.0000000Z","ProcessId":7804,"LocalIpAddress":"127.0.0.1:15786","RemoteIpAddress":"::1","$type":"UserLoginSuccessEvent"}
2019-06-06 00:19:26.976 -03:00 [DBG] mvc found in database: true
2019-06-06 00:19:26.976 -03:00 [DBG] client configuration validation for client mvc succeeded.
2019-06-06 00:19:27.042 -03:00 [DBG] Request path /connect/authorize/callback matched to endpoint type Authorize
2019-06-06 00:19:27.043 -03:00 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeCallbackEndpoint
2019-06-06 00:19:27.043 -03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeCallbackEndpoint for /connect/authorize/callback
2019-06-06 00:19:27.051 -03:00 [DBG] Start authorize callback request
2019-06-06 00:19:27.059 -03:00 [DBG] User in authorize request: 4ba1c3a0-b786-421d-b88a-740f38d9cafa
2019-06-06 00:19:27.059 -03:00 [DBG] Start authorize request protocol validation
2019-06-06 00:19:27.066 -03:00 [DBG] mvc found in database: true
2019-06-06 00:19:27.066 -03:00 [DBG] client configuration validation for client mvc succeeded.
2019-06-06 00:19:27.066 -03:00 [DBG] Checking for PKCE parameters
2019-06-06 00:19:27.066 -03:00 [DBG] No PKCE used.
2019-06-06 00:19:27.070 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-06 00:19:27.076 -03:00 [DBG] Found ["api1"] API scopes in database
2019-06-06 00:19:27.080 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-06 00:19:27.085 -03:00 [DBG] Found ["api1"] API scopes in database
2019-06-06 00:19:27.086 -03:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2019-06-06 00:19:27.086 -03:00 [INF] ValidatedAuthorizeRequest
{"ClientId":"mvc","ClientName":"MVC Client","RedirectUri":"http://localhost:5002/signin-oidc","AllowedRedirectUris":["http://localhost:5002/signin-oidc"],"SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","ResponseType":"code id_token","ResponseMode":"form_post","GrantType":"hybrid","RequestedScopes":"openid profile api1 offline_access","State":"CfDJ8IWi-Oyb07ZOoWyKKtZCxiitqBskwVV9VyrGfPNwBg7Heo-FCglcFlTIbyBc72Ck8SNMAmBCl2cREHoarjoPWTYyLR39C5K370s9vCWjRjnptRQYSWIdQQRnVmv0z9Hm-JPWkygsc-H8YXmTjJ5brEDvtVOxdNb7JxNuifCumDGXnscbYtxgIjM-BeInDUtFLATq79hDSJ9J7D51-aKjKzO6ZQQyYllv_M5-dxfjZCubEY9uPSAoF_Hbj_rNGTKJPYL2d9UeAMhgTh-znhF76nx6QtUynBxpcr5VtgixuWRHm3bNWa76c0Np1CvnT0JU4n-sVBNx7b2AHJCy0VDNMyM","UiLocales":null,"Nonce":"636953879487350609.N2MwMDZjNGQtMjRiMS00YmFjLWJjN2YtNWYwYWYxODEzNTI5ZWUzZjBmYTgtMjdhZi00MzA1LThmNDUtMzQ5NTE0MDhjZGRh","AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":null,"MaxAge":null,"LoginHint":null,"SessionId":"a8fe4f6091f68f14a96ec255846056e4","Raw":{"client_id":"mvc","redirect_uri":"http://localhost:5002/signin-oidc","response_type":"code id_token","scope":"openid profile api1 offline_access","response_mode":"form_post","nonce":"636953879487350609.N2MwMDZjNGQtMjRiMS00YmFjLWJjN2YtNWYwYWYxODEzNTI5ZWUzZjBmYTgtMjdhZi00MzA1LThmNDUtMzQ5NTE0MDhjZGRh","state":"CfDJ8IWi-Oyb07ZOoWyKKtZCxiitqBskwVV9VyrGfPNwBg7Heo-FCglcFlTIbyBc72Ck8SNMAmBCl2cREHoarjoPWTYyLR39C5K370s9vCWjRjnptRQYSWIdQQRnVmv0z9Hm-JPWkygsc-H8YXmTjJ5brEDvtVOxdNb7JxNuifCumDGXnscbYtxgIjM-BeInDUtFLATq79hDSJ9J7D51-aKjKzO6ZQQyYllv_M5-dxfjZCubEY9uPSAoF_Hbj_rNGTKJPYL2d9UeAMhgTh-znhF76nx6QtUynBxpcr5VtgixuWRHm3bNWa76c0Np1CvnT0JU4n-sVBNx7b2AHJCy0VDNMyM","x-client-SKU":"ID_NETSTANDARD1_4","x-client-ver":"5.2.0.0"},"$type":"AuthorizeRequestValidationLog"}
2019-06-06 00:19:27.128 -03:00 [DBG] Scopes contains offline_access, consent is required
2019-06-06 00:19:27.128 -03:00 [INF] Showing consent: User has not yet consented
2019-06-06 00:19:27.163 -03:00 [DBG] Start authorize request protocol validation
2019-06-06 00:19:27.173 -03:00 [DBG] mvc found in database: true
2019-06-06 00:19:27.173 -03:00 [DBG] client configuration validation for client mvc succeeded.
2019-06-06 00:19:27.173 -03:00 [DBG] Checking for PKCE parameters
2019-06-06 00:19:27.173 -03:00 [DBG] No PKCE used.
2019-06-06 00:19:27.176 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-06 00:19:27.182 -03:00 [DBG] Found ["api1"] API scopes in database
2019-06-06 00:19:27.185 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-06 00:19:27.191 -03:00 [DBG] Found ["api1"] API scopes in database
2019-06-06 00:19:27.191 -03:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2019-06-06 00:19:27.198 -03:00 [DBG] mvc found in database: true
2019-06-06 00:19:27.198 -03:00 [DBG] client configuration validation for client mvc succeeded.
2019-06-06 00:19:27.211 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-06 00:19:27.341 -03:00 [DBG] Found ["api1"] API scopes in database
2019-06-06 00:19:31.523 -03:00 [DBG] CORS request made for path: /consent from origin: null but was ignored because path was not for an allowed IdentityServer CORS endpoint
2019-06-06 00:19:31.562 -03:00 [DBG] Start authorize request protocol validation
2019-06-06 00:19:31.573 -03:00 [DBG] mvc found in database: true
2019-06-06 00:19:31.573 -03:00 [DBG] client configuration validation for client mvc succeeded.
2019-06-06 00:19:31.573 -03:00 [DBG] Checking for PKCE parameters
2019-06-06 00:19:31.573 -03:00 [DBG] No PKCE used.
2019-06-06 00:19:31.578 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-06 00:19:31.590 -03:00 [DBG] Found ["api1"] API scopes in database
2019-06-06 00:19:31.594 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-06 00:19:31.600 -03:00 [DBG] Found ["api1"] API scopes in database
2019-06-06 00:19:31.600 -03:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2019-06-06 00:19:31.604 -03:00 [INF] {"SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","ClientId":"mvc","RequestedScopes":["openid","profile","api1","offline_access"],"GrantedScopes":["openid","profile","api1","offline_access"],"ConsentRemembered":true,"Category":"Grants","Name":"Consent granted","EventType":"Information","Id":4000,"Message":null,"ActivityId":"0HLNA5MTVQ7K5:00000009","TimeStamp":"2019-06-06T03:19:31.0000000Z","ProcessId":7804,"LocalIpAddress":"127.0.0.1:15786","RemoteIpAddress":"::1","$type":"ConsentGrantedEvent"}
2019-06-06 00:19:31.641 -03:00 [DBG] mvc found in database: true
2019-06-06 00:19:31.641 -03:00 [DBG] client configuration validation for client mvc succeeded.
2019-06-06 00:19:31.650 -03:00 [DBG] Request path /connect/authorize/callback matched to endpoint type Authorize
2019-06-06 00:19:31.652 -03:00 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeCallbackEndpoint
2019-06-06 00:19:31.652 -03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeCallbackEndpoint for /connect/authorize/callback
2019-06-06 00:19:31.653 -03:00 [DBG] Start authorize callback request
2019-06-06 00:19:31.662 -03:00 [DBG] User in authorize request: 4ba1c3a0-b786-421d-b88a-740f38d9cafa
2019-06-06 00:19:31.663 -03:00 [DBG] Start authorize request protocol validation
2019-06-06 00:19:31.674 -03:00 [DBG] mvc found in database: true
2019-06-06 00:19:31.674 -03:00 [DBG] client configuration validation for client mvc succeeded.
2019-06-06 00:19:31.674 -03:00 [DBG] Checking for PKCE parameters
2019-06-06 00:19:31.674 -03:00 [DBG] No PKCE used.
2019-06-06 00:19:31.678 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-06 00:19:31.688 -03:00 [DBG] Found ["api1"] API scopes in database
2019-06-06 00:19:31.692 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-06 00:19:31.699 -03:00 [DBG] Found ["api1"] API scopes in database
2019-06-06 00:19:31.699 -03:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2019-06-06 00:19:31.699 -03:00 [INF] ValidatedAuthorizeRequest
{"ClientId":"mvc","ClientName":"MVC Client","RedirectUri":"http://localhost:5002/signin-oidc","AllowedRedirectUris":["http://localhost:5002/signin-oidc"],"SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","ResponseType":"code id_token","ResponseMode":"form_post","GrantType":"hybrid","RequestedScopes":"openid profile api1 offline_access","State":"CfDJ8IWi-Oyb07ZOoWyKKtZCxiitqBskwVV9VyrGfPNwBg7Heo-FCglcFlTIbyBc72Ck8SNMAmBCl2cREHoarjoPWTYyLR39C5K370s9vCWjRjnptRQYSWIdQQRnVmv0z9Hm-JPWkygsc-H8YXmTjJ5brEDvtVOxdNb7JxNuifCumDGXnscbYtxgIjM-BeInDUtFLATq79hDSJ9J7D51-aKjKzO6ZQQyYllv_M5-dxfjZCubEY9uPSAoF_Hbj_rNGTKJPYL2d9UeAMhgTh-znhF76nx6QtUynBxpcr5VtgixuWRHm3bNWa76c0Np1CvnT0JU4n-sVBNx7b2AHJCy0VDNMyM","UiLocales":null,"Nonce":"636953879487350609.N2MwMDZjNGQtMjRiMS00YmFjLWJjN2YtNWYwYWYxODEzNTI5ZWUzZjBmYTgtMjdhZi00MzA1LThmNDUtMzQ5NTE0MDhjZGRh","AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":null,"MaxAge":null,"LoginHint":null,"SessionId":"a8fe4f6091f68f14a96ec255846056e4","Raw":{"client_id":"mvc","redirect_uri":"http://localhost:5002/signin-oidc","response_type":"code id_token","scope":"openid profile api1 offline_access","response_mode":"form_post","nonce":"636953879487350609.N2MwMDZjNGQtMjRiMS00YmFjLWJjN2YtNWYwYWYxODEzNTI5ZWUzZjBmYTgtMjdhZi00MzA1LThmNDUtMzQ5NTE0MDhjZGRh","state":"CfDJ8IWi-Oyb07ZOoWyKKtZCxiitqBskwVV9VyrGfPNwBg7Heo-FCglcFlTIbyBc72Ck8SNMAmBCl2cREHoarjoPWTYyLR39C5K370s9vCWjRjnptRQYSWIdQQRnVmv0z9Hm-JPWkygsc-H8YXmTjJ5brEDvtVOxdNb7JxNuifCumDGXnscbYtxgIjM-BeInDUtFLATq79hDSJ9J7D51-aKjKzO6ZQQyYllv_M5-dxfjZCubEY9uPSAoF_Hbj_rNGTKJPYL2d9UeAMhgTh-znhF76nx6QtUynBxpcr5VtgixuWRHm3bNWa76c0Np1CvnT0JU4n-sVBNx7b2AHJCy0VDNMyM","x-client-SKU":"ID_NETSTANDARD1_4","x-client-ver":"5.2.0.0"},"$type":"AuthorizeRequestValidationLog"}
2019-06-06 00:19:31.706 -03:00 [DBG] Scopes contains offline_access, consent is required
2019-06-06 00:19:31.722 -03:00 [INF] User consented to scopes: ["openid","profile","api1","offline_access"]
2019-06-06 00:19:31.726 -03:00 [DBG] User indicated to remember consent for scopes: ["openid","profile","api1","offline_access"]
2019-06-06 00:19:31.735 -03:00 [DBG] Client allows remembering consent, and consent given. Updating consent store for subject: 4ba1c3a0-b786-421d-b88a-740f38d9cafa
2019-06-06 00:19:31.830 -03:00 [DBG] 70MqOKiw3tSTrAlc19ucqOEVMmIY8F1NOquUxP9VhSQ= not found in database
2019-06-06 00:19:31.942 -03:00 [DBG] Creating Hybrid Flow response.
2019-06-06 00:19:31.973 -03:00 [DBG] 4SY3GVokjhI9bYzBFBQKE1LKX3fbLXFlGSCTr/BuFD4= not found in database
2019-06-06 00:19:31.992 -03:00 [DBG] Creating Implicit Flow response.
2019-06-06 00:19:32.010 -03:00 [DBG] Getting claims for identity token for subject: 4ba1c3a0-b786-421d-b88a-740f38d9cafa and client: mvc
2019-06-06 00:19:32.014 -03:00 [DBG] In addition to an id_token, an access_token was requested. No claims other than sub are included in the id_token. To obtain more user claims, either use the user info endpoint or set AlwaysIncludeUserClaimsInIdToken on the client configuration.
2019-06-06 00:19:32.139 -03:00 [INF] {"ClientId":"mvc","ClientName":"MVC Client","RedirectUri":"http://localhost:5002/signin-oidc","Endpoint":"Authorize","SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","Scopes":"openid profile api1 offline_access","GrantType":"hybrid","Tokens":[{"TokenType":"id_token","TokenValue":"****yirA","$type":"Token"},{"TokenType":"code","TokenValue":"****0d66","$type":"Token"}],"Category":"Token","Name":"Token Issued Success","EventType":"Success","Id":2000,"Message":null,"ActivityId":"0HLNA5MTVQ7K5:0000000A","TimeStamp":"2019-06-06T03:19:32.0000000Z","ProcessId":7804,"LocalIpAddress":"127.0.0.1:15786","RemoteIpAddress":"::1","$type":"TokenIssuedSuccessEvent"}
2019-06-06 00:19:32.141 -03:00 [INF] Authorize endpoint response
{"SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","ClientId":"mvc","RedirectUri":"http://localhost:5002/signin-oidc","State":"CfDJ8IWi-Oyb07ZOoWyKKtZCxiitqBskwVV9VyrGfPNwBg7Heo-FCglcFlTIbyBc72Ck8SNMAmBCl2cREHoarjoPWTYyLR39C5K370s9vCWjRjnptRQYSWIdQQRnVmv0z9Hm-JPWkygsc-H8YXmTjJ5brEDvtVOxdNb7JxNuifCumDGXnscbYtxgIjM-BeInDUtFLATq79hDSJ9J7D51-aKjKzO6ZQQyYllv_M5-dxfjZCubEY9uPSAoF_Hbj_rNGTKJPYL2d9UeAMhgTh-znhF76nx6QtUynBxpcr5VtgixuWRHm3bNWa76c0Np1CvnT0JU4n-sVBNx7b2AHJCy0VDNMyM","Scope":"openid profile api1 offline_access","Error":null,"ErrorDescription":null,"$type":"AuthorizeResponseLog"}
2019-06-06 00:19:32.177 -03:00 [DBG] Augmenting SignInContext
2019-06-06 00:19:32.178 -03:00 [INF] AuthenticationScheme: Identity.Application signed in.
2019-06-06 00:19:32.375 -03:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-06-06 00:19:32.383 -03:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-06-06 00:19:32.383 -03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-06-06 00:19:32.399 -03:00 [DBG] Start token request.
2019-06-06 00:19:32.411 -03:00 [DBG] Start client validation
2019-06-06 00:19:32.422 -03:00 [DBG] Start parsing Basic Authentication secret
2019-06-06 00:19:32.429 -03:00 [DBG] Start parsing for secret in post body
2019-06-06 00:19:32.430 -03:00 [DBG] Parser found secret: PostBodySecretParser
2019-06-06 00:19:32.430 -03:00 [DBG] Secret id found: mvc
2019-06-06 00:19:32.439 -03:00 [DBG] mvc found in database: true
2019-06-06 00:19:32.439 -03:00 [DBG] client configuration validation for client mvc succeeded.
2019-06-06 00:19:32.456 -03:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-06-06 00:19:32.456 -03:00 [DBG] Client validation success
2019-06-06 00:19:32.456 -03:00 [INF] {"ClientId":"mvc","AuthenticationMethod":"SharedSecret","Category":"Authentication","Name":"Client Authentication Success","EventType":"Success","Id":1010,"Message":null,"ActivityId":"0HLNA5MTVQ7K5:0000000B","TimeStamp":"2019-06-06T03:19:32.0000000Z","ProcessId":7804,"LocalIpAddress":"127.0.0.1:15786","RemoteIpAddress":"::1","$type":"ClientAuthenticationSuccessEvent"}
2019-06-06 00:19:32.470 -03:00 [DBG] Start token request validation
2019-06-06 00:19:32.490 -03:00 [DBG] Start validation of authorization code token request
2019-06-06 00:19:32.526 -03:00 [DBG] 4SY3GVokjhI9bYzBFBQKE1LKX3fbLXFlGSCTr/BuFD4= found in database: true
2019-06-06 00:19:32.560 -03:00 [DBG] removing 4SY3GVokjhI9bYzBFBQKE1LKX3fbLXFlGSCTr/BuFD4= persisted grant from database
2019-06-06 00:19:32.579 -03:00 [DBG] Validation of authorization code token request success
2019-06-06 00:19:32.592 -03:00 [INF] Token request validation success
{"ClientId":"mvc","ClientName":"MVC Client","GrantType":"authorization_code","Scopes":null,"AuthorizationCode":"db2fefce7813855943c7c04df68c38ebe412fd8e1c394599c04218b24b930d66","RefreshToken":null,"UserName":null,"AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"client_id":"mvc","client_secret":"***REDACTED***","code":"db2fefce7813855943c7c04df68c38ebe412fd8e1c394599c04218b24b930d66","grant_type":"authorization_code","redirect_uri":"http://localhost:5002/signin-oidc"},"$type":"TokenRequestValidationLog"}
2019-06-06 00:19:32.637 -03:00 [DBG] mvc found in database: true
2019-06-06 00:19:32.637 -03:00 [DBG] client configuration validation for client mvc succeeded.
2019-06-06 00:19:32.640 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-06 00:19:32.645 -03:00 [DBG] Found ["api1"] API scopes in database
2019-06-06 00:19:32.662 -03:00 [DBG] Getting claims for access token for client: mvc
2019-06-06 00:19:32.662 -03:00 [DBG] Getting claims for access token for subject: 4ba1c3a0-b786-421d-b88a-740f38d9cafa
2019-06-06 00:19:32.695 -03:00 [DBG] Creating refresh token
2019-06-06 00:19:32.695 -03:00 [DBG] Setting an absolute lifetime: 2592000
2019-06-06 00:19:32.711 -03:00 [DBG] g0Fze1Hbtc3Sg/qPnr3diY1y80UHXwXEUFNoOLSrPJM= not found in database
2019-06-06 00:19:32.723 -03:00 [DBG] mvc found in database: true
2019-06-06 00:19:32.723 -03:00 [DBG] client configuration validation for client mvc succeeded.
2019-06-06 00:19:32.727 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-06 00:19:32.732 -03:00 [DBG] Found ["api1"] API scopes in database
2019-06-06 00:19:32.732 -03:00 [DBG] Getting claims for identity token for subject: 4ba1c3a0-b786-421d-b88a-740f38d9cafa and client: mvc
2019-06-06 00:19:32.733 -03:00 [DBG] In addition to an id_token, an access_token was requested. No claims other than sub are included in the id_token. To obtain more user claims, either use the user info endpoint or set AlwaysIncludeUserClaimsInIdToken on the client configuration.
2019-06-06 00:19:32.743 -03:00 [INF] {"ClientId":"mvc","ClientName":"MVC Client","RedirectUri":null,"Endpoint":"Token","SubjectId":null,"Scopes":"openid profile api1 offline_access","GrantType":"authorization_code","Tokens":[{"TokenType":"id_token","TokenValue":"****zRKw","$type":"Token"},{"TokenType":"refresh_token","TokenValue":"****4d18","$type":"Token"},{"TokenType":"access_token","TokenValue":"****osrg","$type":"Token"}],"Category":"Token","Name":"Token Issued Success","EventType":"Success","Id":2000,"Message":null,"ActivityId":"0HLNA5MTVQ7K5:0000000B","TimeStamp":"2019-06-06T03:19:32.0000000Z","ProcessId":7804,"LocalIpAddress":"127.0.0.1:15786","RemoteIpAddress":"::1","$type":"TokenIssuedSuccessEvent"}
2019-06-06 00:19:32.745 -03:00 [DBG] Token request success.
2019-06-06 00:19:32.774 -03:00 [DBG] Request path /connect/userinfo matched to endpoint type Userinfo
2019-06-06 00:19:32.775 -03:00 [DBG] Endpoint enabled: Userinfo, successfully created handler: IdentityServer4.Endpoints.UserInfoEndpoint
2019-06-06 00:19:32.776 -03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.UserInfoEndpoint for /connect/userinfo
2019-06-06 00:19:32.786 -03:00 [DBG] Start userinfo request
2019-06-06 00:19:32.791 -03:00 [DBG] Bearer token found in header
2019-06-06 00:19:32.881 -03:00 [DBG] mvc found in database: true
2019-06-06 00:19:32.881 -03:00 [DBG] client configuration validation for client mvc succeeded.
2019-06-06 00:19:32.892 -03:00 [DBG] mvc found in database: true
2019-06-06 00:19:32.892 -03:00 [DBG] client configuration validation for client mvc succeeded.
2019-06-06 00:19:32.900 -03:00 [DBG] Calling into custom token validator: IdentityServer4.Validation.DefaultCustomTokenValidator
2019-06-06 00:19:32.904 -03:00 [DBG] Token validation success
{"ClientId":null,"ClientName":null,"ValidateLifetime":true,"AccessTokenType":"Jwt","ExpectedScope":"openid","TokenHandle":null,"JwtId":null,"Claims":{"nbf":1559791172,"exp":1559794772,"iss":"http://localhost:5000","aud":["http://localhost:5000/resources","api1"],"client_id":"mvc","sub":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","auth_time":1559791166,"idp":"local","scope":["openid","profile","api1","offline_access"],"amr":"pwd"},"$type":"TokenValidationLog"}
2019-06-06 00:19:32.916 -03:00 [DBG] Creating userinfo response
2019-06-06 00:19:32.922 -03:00 [DBG] Scopes in access token: openid profile api1 offline_access
2019-06-06 00:19:32.926 -03:00 [DBG] Scopes in access token: openid profile api1 offline_access
2019-06-06 00:19:32.933 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-06 00:19:32.934 -03:00 [DBG] Requested claim types: sub name family_name given_name middle_name nickname preferred_username profile picture website gender birthdate zoneinfo locale updated_at
2019-06-06 00:19:32.934 -03:00 [DBG] Scopes in access token: openid profile api1 offline_access
2019-06-06 00:19:32.937 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-06 00:19:32.945 -03:00 [INF] Profile service returned the following claim types: sub name given_name family_name website preferred_username
2019-06-06 00:19:32.946 -03:00 [DBG] End userinfo request
2019-06-06 00:19:38.864 -03:00 [DBG] Request path /connect/endsession matched to endpoint type Endsession
2019-06-06 00:19:38.866 -03:00 [DBG] Endpoint enabled: Endsession, successfully created handler: IdentityServer4.Endpoints.EndSessionEndpoint
2019-06-06 00:19:38.866 -03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.EndSessionEndpoint for /connect/endsession
2019-06-06 00:19:38.876 -03:00 [DBG] Processing signout request for 4ba1c3a0-b786-421d-b88a-740f38d9cafa
2019-06-06 00:19:38.885 -03:00 [DBG] Start end session request validation
2019-06-06 00:19:38.895 -03:00 [DBG] Start identity token validation
2019-06-06 00:19:38.905 -03:00 [DBG] mvc found in database: true
2019-06-06 00:19:38.906 -03:00 [DBG] client configuration validation for client mvc succeeded.
2019-06-06 00:19:38.906 -03:00 [DBG] Client found: mvc / MVC Client
2019-06-06 00:19:38.918 -03:00 [DBG] Calling into custom token validator: IdentityServer4.Validation.DefaultCustomTokenValidator
2019-06-06 00:19:38.919 -03:00 [DBG] Token validation success
{"ClientId":"mvc","ClientName":"MVC Client","ValidateLifetime":false,"AccessTokenType":null,"ExpectedScope":null,"TokenHandle":null,"JwtId":null,"Claims":{"nbf":1559791172,"exp":1559791472,"iss":"http://localhost:5000","aud":"mvc","nonce":"636953879487350609.N2MwMDZjNGQtMjRiMS00YmFjLWJjN2YtNWYwYWYxODEzNTI5ZWUzZjBmYTgtMjdhZi00MzA1LThmNDUtMzQ5NTE0MDhjZGRh","iat":1559791172,"at_hash":"3ITteXpfNd_vus_WF9LcEw","sid":"a8fe4f6091f68f14a96ec255846056e4","sub":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","auth_time":1559791166,"idp":"local","amr":"pwd"},"$type":"TokenValidationLog"}
2019-06-06 00:19:38.925 -03:00 [INF] End session request validation success
{"ClientId":"mvc","ClientName":"MVC Client","SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","PostLogOutUri":"http://localhost:5002/signout-callback-oidc","State":"CfDJ8IWi-Oyb07ZOoWyKKtZCxijuMB5GsOFm42ijhrtWHMWMaXGu0eqAyKihoij4X0h5yF53HM_FVfYIjf1lj5ARRvXLqeyL-2U4Jn0daY3kFgdCjF5b0YEgT4o13_Ex5P6pfX6r_EHV2HFMJxJl85j7Q2KaxfwJa4oeYepOUym0BTOM","Raw":{"post_logout_redirect_uri":"http://localhost:5002/signout-callback-oidc","id_token_hint":"eyJhbGciOiJSUzI1NiIsImtpZCI6ImRiMzQwNTM0ZGE4ZTFkYzU0MzA5YjAxNjk5ZjdkMDkxIiwidHlwIjoiSldUIn0.eyJuYmYiOjE1NTk3OTExNzIsImV4cCI6MTU1OTc5MTQ3MiwiaXNzIjoiaHR0cDovL2xvY2FsaG9zdDo1MDAwIiwiYXVkIjoibXZjIiwibm9uY2UiOiI2MzY5NTM4Nzk0ODczNTA2MDkuTjJNd01EWmpOR1F0TWpSaU1TMDBZbUZqTFdKak4yWXROV1l3WVdZeE9ERXpOVEk1WldVelpqQm1ZVGd0TWpkaFppMDBNekExTFRobU5EVXRNelE1TlRFME1EaGpaR1JoIiwiaWF0IjoxNTU5NzkxMTcyLCJhdF9oYXNoIjoiM0lUdGVYcGZOZF92dXNfV0Y5TGNFdyIsInNpZCI6ImE4ZmU0ZjYwOTFmNjhmMTRhOTZlYzI1NTg0NjA1NmU0Iiwic3ViIjoiNGJhMWMzYTAtYjc4Ni00MjFkLWI4OGEtNzQwZjM4ZDljYWZhIiwiYXV0aF90aW1lIjoxNTU5NzkxMTY2LCJpZHAiOiJsb2NhbCIsImFtciI6WyJwd2QiXX0.gLDPJzUtg2FrgKeusbjoXKaKEstHWJUXXRxVZZiHGFWBi1MaOuAp6fNxgN8bP7uyISEwLwMolC50uK_ivKIE3yXjEW43nmNPnijDNV0L0pHaXEWXhJnYioxUUOHeYSBuVygLU0i-F0KeCSwt9NPgO-pugv3k0gInkPlV48DyRRlWQ-Hx8QD02fX-kbj00ejIaGpsK7iXv9mUee9I53UbIoOgMUQ1_FqLgsMsv8hO75g5LUtc68r2mOj1YeqyeKhTgw1O5Ujaed0RHWY-LQhp8f7pESf75J7C9qX4rF0EgMZ3LNQgGaWcA7QGal0vkg06NXrZtQUbfw2de5mUy4zRKw","state":"CfDJ8IWi-Oyb07ZOoWyKKtZCxijuMB5GsOFm42ijhrtWHMWMaXGu0eqAyKihoij4X0h5yF53HM_FVfYIjf1lj5ARRvXLqeyL-2U4Jn0daY3kFgdCjF5b0YEgT4o13_Ex5P6pfX6r_EHV2HFMJxJl85j7Q2KaxfwJa4oeYepOUym0BTOM","x-client-SKU":"ID_NETSTANDARD1_4","x-client-ver":"5.2.0.0"},"$type":"EndSessionRequestValidationLog"}
2019-06-06 00:19:38.928 -03:00 [DBG] Success validating end session request from mvc
2019-06-06 00:19:39.001 -03:00 [INF] AuthenticationScheme: Identity.Application signed out.
2019-06-06 00:19:39.002 -03:00 [INF] AuthenticationScheme: Identity.External signed out.
2019-06-06 00:19:39.002 -03:00 [INF] AuthenticationScheme: Identity.TwoFactorUserId signed out.
2019-06-06 00:19:39.003 -03:00 [INF] {"SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","DisplayName":"Alice Smith","Category":"Authentication","Name":"User Logout Success","EventType":"Success","Id":1002,"Message":null,"ActivityId":"0HLNA5MTVQ7K5:0000000E","TimeStamp":"2019-06-06T03:19:39.0000000Z","ProcessId":7804,"LocalIpAddress":"127.0.0.1:15786","RemoteIpAddress":"::1","$type":"UserLogoutSuccessEvent"}
2019-06-06 00:19:39.093 -03:00 [DBG] Request path /connect/endsession/callback matched to endpoint type Endsession
2019-06-06 00:19:39.099 -03:00 [DBG] Endpoint enabled: Endsession, successfully created handler: IdentityServer4.Endpoints.EndSessionCallbackEndpoint
2019-06-06 00:19:39.099 -03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.EndSessionCallbackEndpoint for /connect/endsession/callback
2019-06-06 00:19:39.110 -03:00 [DBG] Processing signout callback request
2019-06-06 00:19:39.137 -03:00 [DBG] mvc found in database: true
2019-06-06 00:19:39.137 -03:00 [DBG] client configuration validation for client mvc succeeded.
2019-06-06 00:19:39.137 -03:00 [DBG] No client front-channel logout URLs
2019-06-06 00:19:39.137 -03:00 [DBG] No client back-channel logout URLs
2019-06-06 00:19:39.137 -03:00 [INF] Successful signout callback.
2019-06-06 00:19:39.137 -03:00 [DBG] No client front-channel iframe urls
2019-06-06 00:19:39.137 -03:00 [DBG] No client back-channel iframe urls
2019-06-06 00:19:48.242 -03:00 [DBG] Request path /connect/authorize matched to endpoint type Authorize
2019-06-06 00:19:48.243 -03:00 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint
2019-06-06 00:19:48.243 -03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize
2019-06-06 00:19:48.243 -03:00 [DBG] Start authorize request
2019-06-06 00:19:48.243 -03:00 [DBG] No user present in authorize request
2019-06-06 00:19:48.243 -03:00 [DBG] Start authorize request protocol validation
2019-06-06 00:19:48.253 -03:00 [DBG] mvc found in database: true
2019-06-06 00:19:48.253 -03:00 [DBG] client configuration validation for client mvc succeeded.
2019-06-06 00:19:48.253 -03:00 [DBG] Checking for PKCE parameters
2019-06-06 00:19:48.253 -03:00 [DBG] No PKCE used.
2019-06-06 00:19:48.257 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-06 00:19:48.265 -03:00 [DBG] Found ["api1"] API scopes in database
2019-06-06 00:19:48.268 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-06 00:19:48.274 -03:00 [DBG] Found ["api1"] API scopes in database
2019-06-06 00:19:48.274 -03:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2019-06-06 00:19:48.274 -03:00 [INF] ValidatedAuthorizeRequest
{"ClientId":"mvc","ClientName":"MVC Client","RedirectUri":"http://localhost:5002/signin-oidc","AllowedRedirectUris":["http://localhost:5002/signin-oidc"],"SubjectId":"anonymous","ResponseType":"code id_token","ResponseMode":"form_post","GrantType":"hybrid","RequestedScopes":"openid profile api1 offline_access","State":"CfDJ8IWi-Oyb07ZOoWyKKtZCxigCqhTddSQzPMdhKa4QdpGctO0RmwG_dkSOWjZI9bkw5Vop6ep0ioKu_90_-ZPD5MYP3dieFNoghCAVCvF2l5XjxRZBOW1840tY-j5_qsdoLvdQlFbsVfWfpuLtcG7Kqq8h9ucnvLN1kHAF2e57WE798RzFPJhT6ym39UoQb8IyO_82IoUaymG4Mdl0gQgKE5-kChQUs7T7nzrEG-FYn7a5Kvyttae4QEqlF1ZM5pkn8GtUHwvOzshXuEIpoSVGgDJCI0oeiOPSvUONNI05DFuT2CuAgfOXOiV70JucBpspuGcx4z2q0hf4t4qE5jCdenU","UiLocales":null,"Nonce":"636953879882254534.MjQxM2I0MGEtOGIyNS00NTgzLWJiY2EtN2RkZjcxMGVmYWMyYzRkNTQ4NGMtYzU5My00YTAwLWJmZTAtMTdkZmE3MDBjZjg2","AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":null,"MaxAge":null,"LoginHint":null,"SessionId":null,"Raw":{"client_id":"mvc","redirect_uri":"http://localhost:5002/signin-oidc","response_type":"code id_token","scope":"openid profile api1 offline_access","response_mode":"form_post","nonce":"636953879882254534.MjQxM2I0MGEtOGIyNS00NTgzLWJiY2EtN2RkZjcxMGVmYWMyYzRkNTQ4NGMtYzU5My00YTAwLWJmZTAtMTdkZmE3MDBjZjg2","state":"CfDJ8IWi-Oyb07ZOoWyKKtZCxigCqhTddSQzPMdhKa4QdpGctO0RmwG_dkSOWjZI9bkw5Vop6ep0ioKu_90_-ZPD5MYP3dieFNoghCAVCvF2l5XjxRZBOW1840tY-j5_qsdoLvdQlFbsVfWfpuLtcG7Kqq8h9ucnvLN1kHAF2e57WE798RzFPJhT6ym39UoQb8IyO_82IoUaymG4Mdl0gQgKE5-kChQUs7T7nzrEG-FYn7a5Kvyttae4QEqlF1ZM5pkn8GtUHwvOzshXuEIpoSVGgDJCI0oeiOPSvUONNI05DFuT2CuAgfOXOiV70JucBpspuGcx4z2q0hf4t4qE5jCdenU","x-client-SKU":"ID_NETSTANDARD1_4","x-client-ver":"5.2.0.0"},"$type":"AuthorizeRequestValidationLog"}
2019-06-06 00:19:48.275 -03:00 [INF] Showing login: User is not authenticated
2019-06-06 00:19:48.284 -03:00 [DBG] Start authorize request protocol validation
2019-06-06 00:19:48.292 -03:00 [DBG] mvc found in database: true
2019-06-06 00:19:48.292 -03:00 [DBG] client configuration validation for client mvc succeeded.
2019-06-06 00:19:48.292 -03:00 [DBG] Checking for PKCE parameters
2019-06-06 00:19:48.292 -03:00 [DBG] No PKCE used.
2019-06-06 00:19:48.296 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-06 00:19:48.305 -03:00 [DBG] Found ["api1"] API scopes in database
2019-06-06 00:19:48.309 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-06 00:19:48.315 -03:00 [DBG] Found ["api1"] API scopes in database
2019-06-06 00:19:48.315 -03:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2019-06-06 00:19:48.322 -03:00 [DBG] mvc found in database: true
2019-06-06 00:19:48.322 -03:00 [DBG] client configuration validation for client mvc succeeded.
2019-06-06 00:20:16.757 -03:00 [DBG] CORS request made for path: /Account/Login from origin: null but was ignored because path was not for an allowed IdentityServer CORS endpoint
2019-06-06 00:20:16.760 -03:00 [DBG] Start authorize request protocol validation
2019-06-06 00:20:16.770 -03:00 [DBG] mvc found in database: true
2019-06-06 00:20:16.770 -03:00 [DBG] client configuration validation for client mvc succeeded.
2019-06-06 00:20:16.770 -03:00 [DBG] Checking for PKCE parameters
2019-06-06 00:20:16.770 -03:00 [DBG] No PKCE used.
2019-06-06 00:20:16.773 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-06 00:20:16.783 -03:00 [DBG] Found ["api1"] API scopes in database
2019-06-06 00:20:16.787 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-06 00:20:16.794 -03:00 [DBG] Found ["api1"] API scopes in database
2019-06-06 00:20:16.794 -03:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2019-06-06 00:20:16.814 -03:00 [DBG] Augmenting SignInContext
2019-06-06 00:20:16.814 -03:00 [DBG] Adding idp claim with value: local
2019-06-06 00:20:16.814 -03:00 [DBG] Adding amr claim with value: pwd
2019-06-06 00:20:16.814 -03:00 [DBG] Adding auth_time claim with value: 1559791216
2019-06-06 00:20:16.815 -03:00 [INF] AuthenticationScheme: Identity.Application signed in.
2019-06-06 00:20:16.817 -03:00 [INF] {"Username":"alice","Provider":null,"ProviderUserId":null,"SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","DisplayName":"alice","Endpoint":"UI","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HLNA5MTVQ7K5:00000013","TimeStamp":"2019-06-06T03:20:16.0000000Z","ProcessId":7804,"LocalIpAddress":"127.0.0.1:15786","RemoteIpAddress":"::1","$type":"UserLoginSuccessEvent"}
2019-06-06 00:20:16.825 -03:00 [DBG] mvc found in database: true
2019-06-06 00:20:16.825 -03:00 [DBG] client configuration validation for client mvc succeeded.
2019-06-06 00:20:16.835 -03:00 [DBG] Request path /connect/authorize/callback matched to endpoint type Authorize
2019-06-06 00:20:16.836 -03:00 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeCallbackEndpoint
2019-06-06 00:20:16.836 -03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeCallbackEndpoint for /connect/authorize/callback
2019-06-06 00:20:16.836 -03:00 [DBG] Start authorize callback request
2019-06-06 00:20:16.836 -03:00 [DBG] User in authorize request: 4ba1c3a0-b786-421d-b88a-740f38d9cafa
2019-06-06 00:20:16.837 -03:00 [DBG] Start authorize request protocol validation
2019-06-06 00:20:16.846 -03:00 [DBG] mvc found in database: true
2019-06-06 00:20:16.846 -03:00 [DBG] client configuration validation for client mvc succeeded.
2019-06-06 00:20:16.846 -03:00 [DBG] Checking for PKCE parameters
2019-06-06 00:20:16.846 -03:00 [DBG] No PKCE used.
2019-06-06 00:20:16.850 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-06 00:20:16.856 -03:00 [DBG] Found ["api1"] API scopes in database
2019-06-06 00:20:16.860 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-06 00:20:16.864 -03:00 [DBG] Found ["api1"] API scopes in database
2019-06-06 00:20:16.864 -03:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2019-06-06 00:20:16.865 -03:00 [INF] ValidatedAuthorizeRequest
{"ClientId":"mvc","ClientName":"MVC Client","RedirectUri":"http://localhost:5002/signin-oidc","AllowedRedirectUris":["http://localhost:5002/signin-oidc"],"SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","ResponseType":"code id_token","ResponseMode":"form_post","GrantType":"hybrid","RequestedScopes":"openid profile api1 offline_access","State":"CfDJ8IWi-Oyb07ZOoWyKKtZCxigCqhTddSQzPMdhKa4QdpGctO0RmwG_dkSOWjZI9bkw5Vop6ep0ioKu_90_-ZPD5MYP3dieFNoghCAVCvF2l5XjxRZBOW1840tY-j5_qsdoLvdQlFbsVfWfpuLtcG7Kqq8h9ucnvLN1kHAF2e57WE798RzFPJhT6ym39UoQb8IyO_82IoUaymG4Mdl0gQgKE5-kChQUs7T7nzrEG-FYn7a5Kvyttae4QEqlF1ZM5pkn8GtUHwvOzshXuEIpoSVGgDJCI0oeiOPSvUONNI05DFuT2CuAgfOXOiV70JucBpspuGcx4z2q0hf4t4qE5jCdenU","UiLocales":null,"Nonce":"636953879882254534.MjQxM2I0MGEtOGIyNS00NTgzLWJiY2EtN2RkZjcxMGVmYWMyYzRkNTQ4NGMtYzU5My00YTAwLWJmZTAtMTdkZmE3MDBjZjg2","AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":null,"MaxAge":null,"LoginHint":null,"SessionId":"50af196ab1b71ac1a559ffe51d857110","Raw":{"client_id":"mvc","redirect_uri":"http://localhost:5002/signin-oidc","response_type":"code id_token","scope":"openid profile api1 offline_access","response_mode":"form_post","nonce":"636953879882254534.MjQxM2I0MGEtOGIyNS00NTgzLWJiY2EtN2RkZjcxMGVmYWMyYzRkNTQ4NGMtYzU5My00YTAwLWJmZTAtMTdkZmE3MDBjZjg2","state":"CfDJ8IWi-Oyb07ZOoWyKKtZCxigCqhTddSQzPMdhKa4QdpGctO0RmwG_dkSOWjZI9bkw5Vop6ep0ioKu_90_-ZPD5MYP3dieFNoghCAVCvF2l5XjxRZBOW1840tY-j5_qsdoLvdQlFbsVfWfpuLtcG7Kqq8h9ucnvLN1kHAF2e57WE798RzFPJhT6ym39UoQb8IyO_82IoUaymG4Mdl0gQgKE5-kChQUs7T7nzrEG-FYn7a5Kvyttae4QEqlF1ZM5pkn8GtUHwvOzshXuEIpoSVGgDJCI0oeiOPSvUONNI05DFuT2CuAgfOXOiV70JucBpspuGcx4z2q0hf4t4qE5jCdenU","x-client-SKU":"ID_NETSTANDARD1_4","x-client-ver":"5.2.0.0"},"$type":"AuthorizeRequestValidationLog"}
2019-06-06 00:20:16.868 -03:00 [DBG] Scopes contains offline_access, consent is required
2019-06-06 00:20:16.868 -03:00 [INF] Showing consent: User has not yet consented
2019-06-06 00:20:16.879 -03:00 [DBG] Start authorize request protocol validation
2019-06-06 00:20:16.886 -03:00 [DBG] mvc found in database: true
2019-06-06 00:20:16.886 -03:00 [DBG] client configuration validation for client mvc succeeded.
2019-06-06 00:20:16.886 -03:00 [DBG] Checking for PKCE parameters
2019-06-06 00:20:16.886 -03:00 [DBG] No PKCE used.
2019-06-06 00:20:16.889 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-06 00:20:16.896 -03:00 [DBG] Found ["api1"] API scopes in database
2019-06-06 00:20:16.898 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-06 00:20:16.903 -03:00 [DBG] Found ["api1"] API scopes in database
2019-06-06 00:20:16.903 -03:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2019-06-06 00:20:16.910 -03:00 [DBG] mvc found in database: true
2019-06-06 00:20:16.910 -03:00 [DBG] client configuration validation for client mvc succeeded.
2019-06-06 00:20:16.914 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-06 00:20:16.919 -03:00 [DBG] Found ["api1"] API scopes in database
2019-06-06 00:20:21.165 -03:00 [DBG] CORS request made for path: /consent from origin: null but was ignored because path was not for an allowed IdentityServer CORS endpoint
2019-06-06 00:20:21.168 -03:00 [DBG] Start authorize request protocol validation
2019-06-06 00:20:21.178 -03:00 [DBG] mvc found in database: true
2019-06-06 00:20:21.178 -03:00 [DBG] client configuration validation for client mvc succeeded.
2019-06-06 00:20:21.178 -03:00 [DBG] Checking for PKCE parameters
2019-06-06 00:20:21.178 -03:00 [DBG] No PKCE used.
2019-06-06 00:20:21.181 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-06 00:20:21.187 -03:00 [DBG] Found ["api1"] API scopes in database
2019-06-06 00:20:21.191 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-06 00:20:21.199 -03:00 [DBG] Found ["api1"] API scopes in database
2019-06-06 00:20:21.199 -03:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2019-06-06 00:20:21.200 -03:00 [INF] {"SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","ClientId":"mvc","RequestedScopes":["openid","profile","api1","offline_access"],"GrantedScopes":["openid","profile","api1","offline_access"],"ConsentRemembered":true,"Category":"Grants","Name":"Consent granted","EventType":"Information","Id":4000,"Message":null,"ActivityId":"0HLNA5MTVQ7K5:00000016","TimeStamp":"2019-06-06T03:20:21.0000000Z","ProcessId":7804,"LocalIpAddress":"127.0.0.1:15786","RemoteIpAddress":"::1","$type":"ConsentGrantedEvent"}
2019-06-06 00:20:21.209 -03:00 [DBG] mvc found in database: true
2019-06-06 00:20:21.209 -03:00 [DBG] client configuration validation for client mvc succeeded.
2019-06-06 00:20:21.218 -03:00 [DBG] Request path /connect/authorize/callback matched to endpoint type Authorize
2019-06-06 00:20:21.218 -03:00 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeCallbackEndpoint
2019-06-06 00:20:21.218 -03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeCallbackEndpoint for /connect/authorize/callback
2019-06-06 00:20:21.218 -03:00 [DBG] Start authorize callback request
2019-06-06 00:20:21.219 -03:00 [DBG] User in authorize request: 4ba1c3a0-b786-421d-b88a-740f38d9cafa
2019-06-06 00:20:21.219 -03:00 [DBG] Start authorize request protocol validation
2019-06-06 00:20:21.230 -03:00 [DBG] mvc found in database: true
2019-06-06 00:20:21.230 -03:00 [DBG] client configuration validation for client mvc succeeded.
2019-06-06 00:20:21.230 -03:00 [DBG] Checking for PKCE parameters
2019-06-06 00:20:21.230 -03:00 [DBG] No PKCE used.
2019-06-06 00:20:21.233 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-06 00:20:21.241 -03:00 [DBG] Found ["api1"] API scopes in database
2019-06-06 00:20:21.245 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-06 00:20:21.251 -03:00 [DBG] Found ["api1"] API scopes in database
2019-06-06 00:20:21.252 -03:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2019-06-06 00:20:21.252 -03:00 [INF] ValidatedAuthorizeRequest
{"ClientId":"mvc","ClientName":"MVC Client","RedirectUri":"http://localhost:5002/signin-oidc","AllowedRedirectUris":["http://localhost:5002/signin-oidc"],"SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","ResponseType":"code id_token","ResponseMode":"form_post","GrantType":"hybrid","RequestedScopes":"openid profile api1 offline_access","State":"CfDJ8IWi-Oyb07ZOoWyKKtZCxigCqhTddSQzPMdhKa4QdpGctO0RmwG_dkSOWjZI9bkw5Vop6ep0ioKu_90_-ZPD5MYP3dieFNoghCAVCvF2l5XjxRZBOW1840tY-j5_qsdoLvdQlFbsVfWfpuLtcG7Kqq8h9ucnvLN1kHAF2e57WE798RzFPJhT6ym39UoQb8IyO_82IoUaymG4Mdl0gQgKE5-kChQUs7T7nzrEG-FYn7a5Kvyttae4QEqlF1ZM5pkn8GtUHwvOzshXuEIpoSVGgDJCI0oeiOPSvUONNI05DFuT2CuAgfOXOiV70JucBpspuGcx4z2q0hf4t4qE5jCdenU","UiLocales":null,"Nonce":"636953879882254534.MjQxM2I0MGEtOGIyNS00NTgzLWJiY2EtN2RkZjcxMGVmYWMyYzRkNTQ4NGMtYzU5My00YTAwLWJmZTAtMTdkZmE3MDBjZjg2","AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":null,"MaxAge":null,"LoginHint":null,"SessionId":"50af196ab1b71ac1a559ffe51d857110","Raw":{"client_id":"mvc","redirect_uri":"http://localhost:5002/signin-oidc","response_type":"code id_token","scope":"openid profile api1 offline_access","response_mode":"form_post","nonce":"636953879882254534.MjQxM2I0MGEtOGIyNS00NTgzLWJiY2EtN2RkZjcxMGVmYWMyYzRkNTQ4NGMtYzU5My00YTAwLWJmZTAtMTdkZmE3MDBjZjg2","state":"CfDJ8IWi-Oyb07ZOoWyKKtZCxigCqhTddSQzPMdhKa4QdpGctO0RmwG_dkSOWjZI9bkw5Vop6ep0ioKu_90_-ZPD5MYP3dieFNoghCAVCvF2l5XjxRZBOW1840tY-j5_qsdoLvdQlFbsVfWfpuLtcG7Kqq8h9ucnvLN1kHAF2e57WE798RzFPJhT6ym39UoQb8IyO_82IoUaymG4Mdl0gQgKE5-kChQUs7T7nzrEG-FYn7a5Kvyttae4QEqlF1ZM5pkn8GtUHwvOzshXuEIpoSVGgDJCI0oeiOPSvUONNI05DFuT2CuAgfOXOiV70JucBpspuGcx4z2q0hf4t4qE5jCdenU","x-client-SKU":"ID_NETSTANDARD1_4","x-client-ver":"5.2.0.0"},"$type":"AuthorizeRequestValidationLog"}
2019-06-06 00:20:21.256 -03:00 [DBG] Scopes contains offline_access, consent is required
2019-06-06 00:20:21.256 -03:00 [INF] User consented to scopes: ["openid","profile","api1","offline_access"]
2019-06-06 00:20:21.257 -03:00 [DBG] User indicated to remember consent for scopes: ["openid","profile","api1","offline_access"]
2019-06-06 00:20:21.257 -03:00 [DBG] Client allows remembering consent, and consent given. Updating consent store for subject: 4ba1c3a0-b786-421d-b88a-740f38d9cafa
2019-06-06 00:20:21.259 -03:00 [DBG] 70MqOKiw3tSTrAlc19ucqOEVMmIY8F1NOquUxP9VhSQ= found in database
2019-06-06 00:20:21.267 -03:00 [DBG] Creating Hybrid Flow response.
2019-06-06 00:20:21.268 -03:00 [DBG] QMiC/soS7K93bJzZDSvEbM12oOVskQO0fKiVRZ3E6R8= not found in database
2019-06-06 00:20:21.272 -03:00 [DBG] Creating Implicit Flow response.
2019-06-06 00:20:21.272 -03:00 [DBG] Getting claims for identity token for subject: 4ba1c3a0-b786-421d-b88a-740f38d9cafa and client: mvc
2019-06-06 00:20:21.272 -03:00 [DBG] In addition to an id_token, an access_token was requested. No claims other than sub are included in the id_token. To obtain more user claims, either use the user info endpoint or set AlwaysIncludeUserClaimsInIdToken on the client configuration.
2019-06-06 00:20:21.279 -03:00 [INF] {"ClientId":"mvc","ClientName":"MVC Client","RedirectUri":"http://localhost:5002/signin-oidc","Endpoint":"Authorize","SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","Scopes":"openid profile api1 offline_access","GrantType":"hybrid","Tokens":[{"TokenType":"id_token","TokenValue":"****pIxw","$type":"Token"},{"TokenType":"code","TokenValue":"****983d","$type":"Token"}],"Category":"Token","Name":"Token Issued Success","EventType":"Success","Id":2000,"Message":null,"ActivityId":"0HLNA5MTVQ7K5:00000017","TimeStamp":"2019-06-06T03:20:21.0000000Z","ProcessId":7804,"LocalIpAddress":"127.0.0.1:15786","RemoteIpAddress":"::1","$type":"TokenIssuedSuccessEvent"}
2019-06-06 00:20:21.279 -03:00 [INF] Authorize endpoint response
{"SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","ClientId":"mvc","RedirectUri":"http://localhost:5002/signin-oidc","State":"CfDJ8IWi-Oyb07ZOoWyKKtZCxigCqhTddSQzPMdhKa4QdpGctO0RmwG_dkSOWjZI9bkw5Vop6ep0ioKu_90_-ZPD5MYP3dieFNoghCAVCvF2l5XjxRZBOW1840tY-j5_qsdoLvdQlFbsVfWfpuLtcG7Kqq8h9ucnvLN1kHAF2e57WE798RzFPJhT6ym39UoQb8IyO_82IoUaymG4Mdl0gQgKE5-kChQUs7T7nzrEG-FYn7a5Kvyttae4QEqlF1ZM5pkn8GtUHwvOzshXuEIpoSVGgDJCI0oeiOPSvUONNI05DFuT2CuAgfOXOiV70JucBpspuGcx4z2q0hf4t4qE5jCdenU","Scope":"openid profile api1 offline_access","Error":null,"ErrorDescription":null,"$type":"AuthorizeResponseLog"}
2019-06-06 00:20:21.280 -03:00 [DBG] Augmenting SignInContext
2019-06-06 00:20:21.280 -03:00 [INF] AuthenticationScheme: Identity.Application signed in.
2019-06-06 00:20:21.331 -03:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-06-06 00:20:21.332 -03:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-06-06 00:20:21.332 -03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-06-06 00:20:21.333 -03:00 [DBG] Start token request.
2019-06-06 00:20:21.333 -03:00 [DBG] Start client validation
2019-06-06 00:20:21.333 -03:00 [DBG] Start parsing Basic Authentication secret
2019-06-06 00:20:21.333 -03:00 [DBG] Start parsing for secret in post body
2019-06-06 00:20:21.334 -03:00 [DBG] Parser found secret: PostBodySecretParser
2019-06-06 00:20:21.335 -03:00 [DBG] Secret id found: mvc
2019-06-06 00:20:21.352 -03:00 [DBG] mvc found in database: true
2019-06-06 00:20:21.352 -03:00 [DBG] client configuration validation for client mvc succeeded.
2019-06-06 00:20:21.353 -03:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-06-06 00:20:21.353 -03:00 [DBG] Client validation success
2019-06-06 00:20:21.353 -03:00 [INF] {"ClientId":"mvc","AuthenticationMethod":"SharedSecret","Category":"Authentication","Name":"Client Authentication Success","EventType":"Success","Id":1010,"Message":null,"ActivityId":"0HLNA5MTVQ7K5:00000018","TimeStamp":"2019-06-06T03:20:21.0000000Z","ProcessId":7804,"LocalIpAddress":"127.0.0.1:15786","RemoteIpAddress":"::1","$type":"ClientAuthenticationSuccessEvent"}
2019-06-06 00:20:21.354 -03:00 [DBG] Start token request validation
2019-06-06 00:20:21.354 -03:00 [DBG] Start validation of authorization code token request
2019-06-06 00:20:21.356 -03:00 [DBG] QMiC/soS7K93bJzZDSvEbM12oOVskQO0fKiVRZ3E6R8= found in database: true
2019-06-06 00:20:21.360 -03:00 [DBG] removing QMiC/soS7K93bJzZDSvEbM12oOVskQO0fKiVRZ3E6R8= persisted grant from database
2019-06-06 00:20:21.367 -03:00 [DBG] Validation of authorization code token request success
2019-06-06 00:20:21.367 -03:00 [INF] Token request validation success
{"ClientId":"mvc","ClientName":"MVC Client","GrantType":"authorization_code","Scopes":null,"AuthorizationCode":"b8afe6a564f842cc539a966d2b3b6161f6dc8e9377c2001f4083cd2eb02b983d","RefreshToken":null,"UserName":null,"AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"client_id":"mvc","client_secret":"***REDACTED***","code":"b8afe6a564f842cc539a966d2b3b6161f6dc8e9377c2001f4083cd2eb02b983d","grant_type":"authorization_code","redirect_uri":"http://localhost:5002/signin-oidc"},"$type":"TokenRequestValidationLog"}
2019-06-06 00:20:21.378 -03:00 [DBG] mvc found in database: true
2019-06-06 00:20:21.379 -03:00 [DBG] client configuration validation for client mvc succeeded.
2019-06-06 00:20:21.383 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-06 00:20:21.392 -03:00 [DBG] Found ["api1"] API scopes in database
2019-06-06 00:20:21.393 -03:00 [DBG] Getting claims for access token for client: mvc
2019-06-06 00:20:21.393 -03:00 [DBG] Getting claims for access token for subject: 4ba1c3a0-b786-421d-b88a-740f38d9cafa
2019-06-06 00:20:21.404 -03:00 [DBG] Creating refresh token
2019-06-06 00:20:21.404 -03:00 [DBG] Setting an absolute lifetime: 2592000
2019-06-06 00:20:21.407 -03:00 [DBG] 9USisdwCrndXT5r8TIX5+5blKaHAcp5919ipBbfY+vY= not found in database
2019-06-06 00:20:21.425 -03:00 [DBG] mvc found in database: true
2019-06-06 00:20:21.425 -03:00 [DBG] client configuration validation for client mvc succeeded.
2019-06-06 00:20:21.430 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-06 00:20:21.437 -03:00 [DBG] Found ["api1"] API scopes in database
2019-06-06 00:20:21.437 -03:00 [DBG] Getting claims for identity token for subject: 4ba1c3a0-b786-421d-b88a-740f38d9cafa and client: mvc
2019-06-06 00:20:21.437 -03:00 [DBG] In addition to an id_token, an access_token was requested. No claims other than sub are included in the id_token. To obtain more user claims, either use the user info endpoint or set AlwaysIncludeUserClaimsInIdToken on the client configuration.
2019-06-06 00:20:21.444 -03:00 [INF] {"ClientId":"mvc","ClientName":"MVC Client","RedirectUri":null,"Endpoint":"Token","SubjectId":null,"Scopes":"openid profile api1 offline_access","GrantType":"authorization_code","Tokens":[{"TokenType":"id_token","TokenValue":"****klhg","$type":"Token"},{"TokenType":"refresh_token","TokenValue":"****3fd2","$type":"Token"},{"TokenType":"access_token","TokenValue":"****X7Jw","$type":"Token"}],"Category":"Token","Name":"Token Issued Success","EventType":"Success","Id":2000,"Message":null,"ActivityId":"0HLNA5MTVQ7K5:00000018","TimeStamp":"2019-06-06T03:20:21.0000000Z","ProcessId":7804,"LocalIpAddress":"127.0.0.1:15786","RemoteIpAddress":"::1","$type":"TokenIssuedSuccessEvent"}
2019-06-06 00:20:21.444 -03:00 [DBG] Token request success.
2019-06-06 00:20:21.470 -03:00 [DBG] Request path /connect/userinfo matched to endpoint type Userinfo
2019-06-06 00:20:21.476 -03:00 [DBG] Endpoint enabled: Userinfo, successfully created handler: IdentityServer4.Endpoints.UserInfoEndpoint
2019-06-06 00:20:21.477 -03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.UserInfoEndpoint for /connect/userinfo
2019-06-06 00:20:21.477 -03:00 [DBG] Start userinfo request
2019-06-06 00:20:21.477 -03:00 [DBG] Bearer token found in header
2019-06-06 00:20:21.492 -03:00 [DBG] mvc found in database: true
2019-06-06 00:20:21.492 -03:00 [DBG] client configuration validation for client mvc succeeded.
2019-06-06 00:20:21.500 -03:00 [DBG] mvc found in database: true
2019-06-06 00:20:21.500 -03:00 [DBG] client configuration validation for client mvc succeeded.
2019-06-06 00:20:21.505 -03:00 [DBG] Calling into custom token validator: IdentityServer4.Validation.DefaultCustomTokenValidator
2019-06-06 00:20:21.506 -03:00 [DBG] Token validation success
{"ClientId":null,"ClientName":null,"ValidateLifetime":true,"AccessTokenType":"Jwt","ExpectedScope":"openid","TokenHandle":null,"JwtId":null,"Claims":{"nbf":1559791221,"exp":1559794821,"iss":"http://localhost:5000","aud":["http://localhost:5000/resources","api1"],"client_id":"mvc","sub":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","auth_time":1559791216,"idp":"local","scope":["openid","profile","api1","offline_access"],"amr":"pwd"},"$type":"TokenValidationLog"}
2019-06-06 00:20:21.507 -03:00 [DBG] Creating userinfo response
2019-06-06 00:20:21.507 -03:00 [DBG] Scopes in access token: openid profile api1 offline_access
2019-06-06 00:20:21.508 -03:00 [DBG] Scopes in access token: openid profile api1 offline_access
2019-06-06 00:20:21.513 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-06 00:20:21.513 -03:00 [DBG] Requested claim types: sub name family_name given_name middle_name nickname preferred_username profile picture website gender birthdate zoneinfo locale updated_at
2019-06-06 00:20:21.513 -03:00 [DBG] Scopes in access token: openid profile api1 offline_access
2019-06-06 00:20:21.518 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-06 00:20:21.524 -03:00 [INF] Profile service returned the following claim types: sub name given_name family_name website preferred_username
2019-06-06 00:20:21.524 -03:00 [DBG] End userinfo request
2019-06-06 00:21:24.190 -03:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2019-06-06 00:21:24.191 -03:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2019-06-06 00:21:24.191 -03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2019-06-06 00:21:24.192 -03:00 [DBG] Start discovery request
2019-06-06 00:21:24.217 -03:00 [DBG] Found ["openid","profile","api1"] as all scopes in database
2019-06-06 00:21:24.421 -03:00 [DBG] Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery
2019-06-06 00:21:24.422 -03:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryKeyEndpoint
2019-06-06 00:21:24.422 -03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2019-06-06 00:21:24.422 -03:00 [DBG] Start key discovery request
2019-06-06 00:21:24.586 -03:00 [DBG] Request path /connect/endsession matched to endpoint type Endsession
2019-06-06 00:21:24.587 -03:00 [DBG] Endpoint enabled: Endsession, successfully created handler: IdentityServer4.Endpoints.EndSessionEndpoint
2019-06-06 00:21:24.587 -03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.EndSessionEndpoint for /connect/endsession
2019-06-06 00:21:24.588 -03:00 [DBG] Processing signout request for 4ba1c3a0-b786-421d-b88a-740f38d9cafa
2019-06-06 00:21:24.588 -03:00 [DBG] Start end session request validation
2019-06-06 00:21:24.588 -03:00 [DBG] Start identity token validation
2019-06-06 00:21:24.605 -03:00 [DBG] mvc found in database: true
2019-06-06 00:21:24.606 -03:00 [DBG] client configuration validation for client mvc succeeded.
2019-06-06 00:21:24.606 -03:00 [DBG] Client found: mvc / MVC Client
2019-06-06 00:21:24.615 -03:00 [DBG] Calling into custom token validator: IdentityServer4.Validation.DefaultCustomTokenValidator
2019-06-06 00:21:24.615 -03:00 [DBG] Token validation success
{"ClientId":"mvc","ClientName":"MVC Client","ValidateLifetime":false,"AccessTokenType":null,"ExpectedScope":null,"TokenHandle":null,"JwtId":null,"Claims":{"nbf":1559791221,"exp":1559791521,"iss":"http://localhost:5000","aud":"mvc","nonce":"636953879882254534.MjQxM2I0MGEtOGIyNS00NTgzLWJiY2EtN2RkZjcxMGVmYWMyYzRkNTQ4NGMtYzU5My00YTAwLWJmZTAtMTdkZmE3MDBjZjg2","iat":1559791221,"at_hash":"FyIsVSvm_GNyl3s1LjsdAQ","sid":"50af196ab1b71ac1a559ffe51d857110","sub":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","auth_time":1559791216,"idp":"local","amr":"pwd"},"$type":"TokenValidationLog"}
2019-06-06 00:21:24.616 -03:00 [INF] End session request validation success
{"ClientId":"mvc","ClientName":"MVC Client","SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","PostLogOutUri":"http://localhost:5002/signout-callback-oidc","State":"CfDJ8IWi-Oyb07ZOoWyKKtZCxijWYASQSSYVfoVlMEplWnlZ5Riq0P_UgkUjoVH3SNw96dLKYIeAhgOfAVTTbBQqbg9a24he1IR0UQu_SA_nqDzuqBVlhclcV7LwcETn0Oc6PPHJe06gt9eoqHzRwX98dQgWAwLG1nVJMO-Oyg7YK71T","Raw":{"post_logout_redirect_uri":"http://localhost:5002/signout-callback-oidc","id_token_hint":"eyJhbGciOiJSUzI1NiIsImtpZCI6ImRiMzQwNTM0ZGE4ZTFkYzU0MzA5YjAxNjk5ZjdkMDkxIiwidHlwIjoiSldUIn0.eyJuYmYiOjE1NTk3OTEyMjEsImV4cCI6MTU1OTc5MTUyMSwiaXNzIjoiaHR0cDovL2xvY2FsaG9zdDo1MDAwIiwiYXVkIjoibXZjIiwibm9uY2UiOiI2MzY5NTM4Nzk4ODIyNTQ1MzQuTWpReE0ySTBNR0V0T0dJeU5TMDBOVGd6TFdKaVkyRXROMlJrWmpjeE1HVm1ZV015WXpSa05UUTROR010WXpVNU15MDBZVEF3TFdKbVpUQXRNVGRrWm1FM01EQmpaamcyIiwiaWF0IjoxNTU5NzkxMjIxLCJhdF9oYXNoIjoiRnlJc1ZTdm1fR055bDNzMUxqc2RBUSIsInNpZCI6IjUwYWYxOTZhYjFiNzFhYzFhNTU5ZmZlNTFkODU3MTEwIiwic3ViIjoiNGJhMWMzYTAtYjc4Ni00MjFkLWI4OGEtNzQwZjM4ZDljYWZhIiwiYXV0aF90aW1lIjoxNTU5NzkxMjE2LCJpZHAiOiJsb2NhbCIsImFtciI6WyJwd2QiXX0.EldlXSOdHDKBoX1kFo5cOi_XVQ-p4L45gpNfKq0QpjNLsGrn2WVZZHU5hRbVMD2tq-wP5vddZlsuAHxeBrlyfg-5j0xI0MW1JdJGiACWmqwcciElzFg080zEVrtPqXU2M0VnLunWFFA-DetqJYAwDo8kpmi4aQHO3-reGzmHru2OC8aX1uX9GTENcRVY2sLbOWRpeL8r-vQZCmNwJCwEtBCFF0KNT8kZrSXyU9_QwqrYzWfrbMAAzpsrfFWqlP4pNzi4Ex-my7flCEU_TGO6bXfSFLR5Tw1jypRDbcg0Jrx_Usw0iJ1rqDKS4f2IwZAcVeqhsj6p5jss4171ruklhg","state":"CfDJ8IWi-Oyb07ZOoWyKKtZCxijWYASQSSYVfoVlMEplWnlZ5Riq0P_UgkUjoVH3SNw96dLKYIeAhgOfAVTTbBQqbg9a24he1IR0UQu_SA_nqDzuqBVlhclcV7LwcETn0Oc6PPHJe06gt9eoqHzRwX98dQgWAwLG1nVJMO-Oyg7YK71T","x-client-SKU":"ID_NETSTANDARD1_4","x-client-ver":"5.2.0.0"},"$type":"EndSessionRequestValidationLog"}
2019-06-06 00:21:24.616 -03:00 [DBG] Success validating end session request from mvc
2019-06-06 00:21:24.643 -03:00 [INF] AuthenticationScheme: Identity.Application signed out.
2019-06-06 00:21:24.644 -03:00 [INF] AuthenticationScheme: Identity.External signed out.
2019-06-06 00:21:24.644 -03:00 [INF] AuthenticationScheme: Identity.TwoFactorUserId signed out.
2019-06-06 00:21:24.644 -03:00 [INF] {"SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","DisplayName":"Alice Smith","Category":"Authentication","Name":"User Logout Success","EventType":"Success","Id":1002,"Message":null,"ActivityId":"0HLNA5MTVQ7K6:00000004","TimeStamp":"2019-06-06T03:21:24.0000000Z","ProcessId":7804,"LocalIpAddress":"127.0.0.1:15786","RemoteIpAddress":"::1","$type":"UserLogoutSuccessEvent"}
2019-06-06 00:21:24.728 -03:00 [DBG] Request path /connect/endsession/callback matched to endpoint type Endsession
2019-06-06 00:21:24.730 -03:00 [DBG] Endpoint enabled: Endsession, successfully created handler: IdentityServer4.Endpoints.EndSessionCallbackEndpoint
2019-06-06 00:21:24.730 -03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.EndSessionCallbackEndpoint for /connect/endsession/callback
2019-06-06 00:21:24.730 -03:00 [DBG] Processing signout callback request
2019-06-06 00:21:24.750 -03:00 [DBG] mvc found in database: true
2019-06-06 00:21:24.751 -03:00 [DBG] client configuration validation for client mvc succeeded.
2019-06-06 00:21:24.751 -03:00 [DBG] No client front-channel logout URLs
2019-06-06 00:21:24.751 -03:00 [DBG] No client back-channel logout URLs
2019-06-06 00:21:24.751 -03:00 [INF] Successful signout callback.
2019-06-06 00:21:24.751 -03:00 [DBG] No client front-channel iframe urls
2019-06-06 00:21:24.751 -03:00 [DBG] No client back-channel iframe urls
2019-06-06 00:21:31.908 -03:00 [DBG] Request path /connect/authorize matched to endpoint type Authorize
2019-06-06 00:21:31.910 -03:00 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint
2019-06-06 00:21:31.910 -03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize
2019-06-06 00:21:31.910 -03:00 [DBG] Start authorize request
2019-06-06 00:21:31.911 -03:00 [DBG] No user present in authorize request
2019-06-06 00:21:31.911 -03:00 [DBG] Start authorize request protocol validation
2019-06-06 00:21:31.919 -03:00 [DBG] mvc found in database: true
2019-06-06 00:21:31.919 -03:00 [DBG] client configuration validation for client mvc succeeded.
2019-06-06 00:21:31.919 -03:00 [DBG] Checking for PKCE parameters
2019-06-06 00:21:31.920 -03:00 [DBG] No PKCE used.
2019-06-06 00:21:31.923 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-06 00:21:31.931 -03:00 [DBG] Found ["api1"] API scopes in database
2019-06-06 00:21:31.934 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-06 00:21:31.941 -03:00 [DBG] Found ["api1"] API scopes in database
2019-06-06 00:21:31.941 -03:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2019-06-06 00:21:31.941 -03:00 [INF] ValidatedAuthorizeRequest
{"ClientId":"mvc","ClientName":"MVC Client","RedirectUri":"http://localhost:5002/signin-oidc","AllowedRedirectUris":["http://localhost:5002/signin-oidc"],"SubjectId":"anonymous","ResponseType":"code id_token","ResponseMode":"form_post","GrantType":"hybrid","RequestedScopes":"openid profile api1 offline_access","State":"CfDJ8IWi-Oyb07ZOoWyKKtZCxihliLEcPREA7WAm743VOq4jY-jTl73AgrTK3CNzRUp_WRZi46_L_aEFaQCXIjQiUoYPkx0Ey1-7fXKuINLWH030194Owd2GJeZxC9KjzNmId65bqF0lJb_q2oWIyGxJj3y4QMV1U1kq4gA6wzdijJpWjJ0EVT5ZE57tcPUoUgQLcA9H6kt4Ixr6uVnPd7wFpXwZtfmQC-Mz93eKONh7CHkfiQ3Gh7syvkT2HRC9kKVqeP0apSCFNVa_aMcZbwmdE7LuRW8Z0aR1RtqhPgSYj6g8QGIg4QcwDFziHqbqZGdV3TrBsv-xGaaRKBSQDZ1TNl4","UiLocales":null,"Nonce":"636953880918899395.MTRhN2IxOWYtMmM4ZC00Zjg5LTg5NTctY2VhMmRhYWE5NGQ4NGU1NTBjYTMtZTk2Ni00OWMzLTlkOTAtZDA4ZmU0MzZmMTU2","AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":null,"MaxAge":null,"LoginHint":null,"SessionId":null,"Raw":{"client_id":"mvc","redirect_uri":"http://localhost:5002/signin-oidc","response_type":"code id_token","scope":"openid profile api1 offline_access","response_mode":"form_post","nonce":"636953880918899395.MTRhN2IxOWYtMmM4ZC00Zjg5LTg5NTctY2VhMmRhYWE5NGQ4NGU1NTBjYTMtZTk2Ni00OWMzLTlkOTAtZDA4ZmU0MzZmMTU2","state":"CfDJ8IWi-Oyb07ZOoWyKKtZCxihliLEcPREA7WAm743VOq4jY-jTl73AgrTK3CNzRUp_WRZi46_L_aEFaQCXIjQiUoYPkx0Ey1-7fXKuINLWH030194Owd2GJeZxC9KjzNmId65bqF0lJb_q2oWIyGxJj3y4QMV1U1kq4gA6wzdijJpWjJ0EVT5ZE57tcPUoUgQLcA9H6kt4Ixr6uVnPd7wFpXwZtfmQC-Mz93eKONh7CHkfiQ3Gh7syvkT2HRC9kKVqeP0apSCFNVa_aMcZbwmdE7LuRW8Z0aR1RtqhPgSYj6g8QGIg4QcwDFziHqbqZGdV3TrBsv-xGaaRKBSQDZ1TNl4","x-client-SKU":"ID_NETSTANDARD1_4","x-client-ver":"5.2.0.0"},"$type":"AuthorizeRequestValidationLog"}
2019-06-06 00:21:31.942 -03:00 [INF] Showing login: User is not authenticated
2019-06-06 00:21:31.951 -03:00 [DBG] Start authorize request protocol validation
2019-06-06 00:21:31.959 -03:00 [DBG] mvc found in database: true
2019-06-06 00:21:31.960 -03:00 [DBG] client configuration validation for client mvc succeeded.
2019-06-06 00:21:31.960 -03:00 [DBG] Checking for PKCE parameters
2019-06-06 00:21:31.960 -03:00 [DBG] No PKCE used.
2019-06-06 00:21:31.963 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-06 00:21:31.969 -03:00 [DBG] Found ["api1"] API scopes in database
2019-06-06 00:21:31.972 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-06 00:21:31.979 -03:00 [DBG] Found ["api1"] API scopes in database
2019-06-06 00:21:31.979 -03:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2019-06-06 00:21:31.987 -03:00 [DBG] mvc found in database: true
2019-06-06 00:21:31.987 -03:00 [DBG] client configuration validation for client mvc succeeded.
2019-06-06 23:56:01.208 -03:00 [INF] Starting IdentityServer4 version 2.3.2.0
2019-06-06 23:56:01.727 -03:00 [INF] Using the default authentication scheme Identity.Application for IdentityServer
2019-06-06 23:56:01.728 -03:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for authentication
2019-06-06 23:56:01.728 -03:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-in
2019-06-06 23:56:01.728 -03:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-out
2019-06-06 23:56:01.728 -03:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for challenge
2019-06-06 23:56:01.728 -03:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for forbid
2019-06-06 23:56:02.076 -03:00 [DBG] Starting grant removal
2019-06-06 23:56:02.437 -03:00 [DBG] Login Url: /Account/Login
2019-06-06 23:56:02.440 -03:00 [DBG] Login Return Url Parameter: ReturnUrl
2019-06-06 23:56:02.441 -03:00 [DBG] Logout Url: /Account/Logout
2019-06-06 23:56:02.441 -03:00 [DBG] ConsentUrl Url: /consent
2019-06-06 23:56:02.441 -03:00 [DBG] Consent Return Url Parameter: returnUrl
2019-06-06 23:56:02.441 -03:00 [DBG] Error Url: /home/error
2019-06-06 23:56:02.441 -03:00 [DBG] Error Id Parameter: errorId
2019-06-06 23:56:20.992 -03:00 [DBG] CORS request made for path: /connect/token from origin: http://localhost:3000
2019-06-06 23:56:24.145 -03:00 [DBG] Origin http://localhost:3000 is allowed: false
2019-06-06 23:56:24.154 -03:00 [WRN] CorsPolicyService did not allow origin: http://localhost:3000
2019-06-06 23:56:24.156 -03:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-06-06 23:56:24.197 -03:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-06-06 23:56:24.197 -03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-06-06 23:56:24.202 -03:00 [WRN] Invalid HTTP request for token endpoint
2019-06-06 23:58:57.025 -03:00 [DBG] CORS request made for path: /connect/token from origin: http://localhost:3000
2019-06-06 23:58:57.073 -03:00 [DBG] Origin http://localhost:3000 is allowed: false
2019-06-06 23:58:57.073 -03:00 [WRN] CorsPolicyService did not allow origin: http://localhost:3000
2019-06-06 23:58:57.074 -03:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-06-06 23:58:57.075 -03:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-06-06 23:58:57.075 -03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-06-06 23:58:57.090 -03:00 [DBG] Start token request.
2019-06-06 23:58:57.103 -03:00 [DBG] Start client validation
2019-06-06 23:58:57.115 -03:00 [DBG] Start parsing Basic Authentication secret
2019-06-06 23:58:57.123 -03:00 [DBG] Start parsing for secret in post body
2019-06-06 23:58:57.156 -03:00 [DBG] No secret in post body found
2019-06-06 23:58:57.156 -03:00 [DBG] Parser found no secret
2019-06-06 23:58:57.202 -03:00 [INF] {"ClientId":"unknown","Category":"Authentication","Name":"Client Authentication Failure","EventType":"Failure","Id":1011,"Message":"No client id found","ActivityId":"0HLNAUEMHA5FJ:00000001","TimeStamp":"2019-06-07T02:58:57.0000000Z","ProcessId":25668,"LocalIpAddress":"127.0.0.1:34849","RemoteIpAddress":"::1","$type":"ClientAuthenticationFailureEvent"}
2019-06-06 23:58:57.212 -03:00 [ERR] No client identifier found
2019-06-06 23:59:16.184 -03:00 [DBG] CORS request made for path: /connect/token from origin: http://localhost:3000
2019-06-06 23:59:16.187 -03:00 [DBG] Origin http://localhost:3000 is allowed: false
2019-06-06 23:59:16.187 -03:00 [WRN] CorsPolicyService did not allow origin: http://localhost:3000
2019-06-06 23:59:16.187 -03:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-06-06 23:59:16.188 -03:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-06-06 23:59:16.188 -03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-06-06 23:59:16.188 -03:00 [DBG] Start token request.
2019-06-06 23:59:16.188 -03:00 [DBG] Start client validation
2019-06-06 23:59:16.188 -03:00 [DBG] Start parsing Basic Authentication secret
2019-06-06 23:59:16.189 -03:00 [DBG] Start parsing for secret in post body
2019-06-06 23:59:16.189 -03:00 [DBG] No secret in post body found
2019-06-06 23:59:16.189 -03:00 [DBG] Parser found no secret
2019-06-06 23:59:16.190 -03:00 [INF] {"ClientId":"unknown","Category":"Authentication","Name":"Client Authentication Failure","EventType":"Failure","Id":1011,"Message":"No client id found","ActivityId":"0HLNAUEMHA5FJ:00000002","TimeStamp":"2019-06-07T02:59:16.0000000Z","ProcessId":25668,"LocalIpAddress":"127.0.0.1:34849","RemoteIpAddress":"::1","$type":"ClientAuthenticationFailureEvent"}
2019-06-06 23:59:16.190 -03:00 [ERR] No client identifier found
2019-06-07 00:01:33.334 -03:00 [DBG] CORS request made for path: /connect/token from origin: http://localhost:3000
2019-06-07 00:01:33.337 -03:00 [DBG] Origin http://localhost:3000 is allowed: false
2019-06-07 00:01:33.337 -03:00 [WRN] CorsPolicyService did not allow origin: http://localhost:3000
2019-06-07 00:01:33.337 -03:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-06-07 00:01:33.338 -03:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-06-07 00:01:33.338 -03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-06-07 00:01:33.338 -03:00 [DBG] Start token request.
2019-06-07 00:01:33.338 -03:00 [DBG] Start client validation
2019-06-07 00:01:33.338 -03:00 [DBG] Start parsing Basic Authentication secret
2019-06-07 00:01:33.338 -03:00 [DBG] Start parsing for secret in post body
2019-06-07 00:01:33.339 -03:00 [DBG] No secret in post body found
2019-06-07 00:01:33.339 -03:00 [DBG] Parser found no secret
2019-06-07 00:01:33.339 -03:00 [INF] {"ClientId":"unknown","Category":"Authentication","Name":"Client Authentication Failure","EventType":"Failure","Id":1011,"Message":"No client id found","ActivityId":"0HLNAUEMHA5FK:00000001","TimeStamp":"2019-06-07T03:01:33.0000000Z","ProcessId":25668,"LocalIpAddress":"127.0.0.1:34849","RemoteIpAddress":"::1","$type":"ClientAuthenticationFailureEvent"}
2019-06-07 00:01:33.340 -03:00 [ERR] No client identifier found
2019-06-07 00:02:26.602 -03:00 [DBG] CORS request made for path: /connect/token from origin: http://localhost:3000
2019-06-07 00:02:26.606 -03:00 [DBG] Origin http://localhost:3000 is allowed: false
2019-06-07 00:02:26.606 -03:00 [WRN] CorsPolicyService did not allow origin: http://localhost:3000
2019-06-07 00:02:26.606 -03:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-06-07 00:02:26.607 -03:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-06-07 00:02:26.607 -03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-06-07 00:02:26.607 -03:00 [DBG] Start token request.
2019-06-07 00:02:26.607 -03:00 [DBG] Start client validation
2019-06-07 00:02:26.607 -03:00 [DBG] Start parsing Basic Authentication secret
2019-06-07 00:02:26.607 -03:00 [DBG] Start parsing for secret in post body
2019-06-07 00:02:26.608 -03:00 [DBG] No secret in post body found
2019-06-07 00:02:26.608 -03:00 [DBG] Parser found no secret
2019-06-07 00:02:26.608 -03:00 [INF] {"ClientId":"unknown","Category":"Authentication","Name":"Client Authentication Failure","EventType":"Failure","Id":1011,"Message":"No client id found","ActivityId":"0HLNAUEMHA5FK:00000002","TimeStamp":"2019-06-07T03:02:26.0000000Z","ProcessId":25668,"LocalIpAddress":"127.0.0.1:34849","RemoteIpAddress":"::1","$type":"ClientAuthenticationFailureEvent"}
2019-06-07 00:02:26.609 -03:00 [ERR] No client identifier found
2019-06-07 00:03:08.908 -03:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-06-07 00:03:08.909 -03:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-06-07 00:03:08.909 -03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-06-07 00:03:08.909 -03:00 [DBG] Start token request.
2019-06-07 00:03:08.909 -03:00 [DBG] Start client validation
2019-06-07 00:03:08.909 -03:00 [DBG] Start parsing Basic Authentication secret
2019-06-07 00:03:08.910 -03:00 [DBG] Start parsing for secret in post body
2019-06-07 00:03:08.910 -03:00 [DBG] Parser found secret: PostBodySecretParser
2019-06-07 00:03:08.911 -03:00 [DBG] Secret id found: ro.client
2019-06-07 00:03:10.129 -03:00 [DBG] ro.client found in database: true
2019-06-07 00:03:10.140 -03:00 [DBG] client configuration validation for client ro.client succeeded.
2019-06-07 00:03:10.157 -03:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-06-07 00:03:10.157 -03:00 [DBG] Client validation success
2019-06-07 00:03:10.158 -03:00 [INF] {"ClientId":"ro.client","AuthenticationMethod":"SharedSecret","Category":"Authentication","Name":"Client Authentication Success","EventType":"Success","Id":1010,"Message":null,"ActivityId":"0HLNAUEMHA5FK:00000003","TimeStamp":"2019-06-07T03:03:10.0000000Z","ProcessId":25668,"LocalIpAddress":"127.0.0.1:34849","RemoteIpAddress":"::1","$type":"ClientAuthenticationSuccessEvent"}
2019-06-07 00:03:10.171 -03:00 [DBG] Start token request validation
2019-06-07 00:03:10.190 -03:00 [DBG] Start resource owner password token request validation
2019-06-07 00:03:10.281 -03:00 [DBG] Found [] identity scopes in database
2019-06-07 00:03:10.635 -03:00 [DBG] Found ["api1"] API scopes in database
2019-06-07 00:03:10.655 -03:00 [DBG] Found [] identity scopes in database
2019-06-07 00:03:10.662 -03:00 [DBG] Found ["api1"] API scopes in database
2019-06-07 00:03:10.990 -03:00 [INF] Credentials validated for username: alice
2019-06-07 00:03:10.993 -03:00 [INF] {"Username":"alice","Provider":null,"ProviderUserId":null,"SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","DisplayName":"alice","Endpoint":"Token","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HLNAUEMHA5FK:00000003","TimeStamp":"2019-06-07T03:03:10.0000000Z","ProcessId":25668,"LocalIpAddress":"127.0.0.1:34849","RemoteIpAddress":"::1","$type":"UserLoginSuccessEvent"}
2019-06-07 00:03:11.013 -03:00 [INF] {"Username":"alice","Provider":null,"ProviderUserId":null,"SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","DisplayName":null,"Endpoint":"Token","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HLNAUEMHA5FK:00000003","TimeStamp":"2019-06-07T03:03:11.0000000Z","ProcessId":25668,"LocalIpAddress":"127.0.0.1:34849","RemoteIpAddress":"::1","$type":"UserLoginSuccessEvent"}
2019-06-07 00:03:11.013 -03:00 [DBG] Resource owner password token request validation success.
2019-06-07 00:03:11.031 -03:00 [INF] Token request validation success
{"ClientId":"ro.client","ClientName":null,"GrantType":"password","Scopes":"api1","AuthorizationCode":null,"RefreshToken":null,"UserName":"alice","AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"grant_type":"password","client_id":"ro.client","client_secret":"***REDACTED***","username":"alice","password":"***REDACTED***"},"$type":"TokenRequestValidationLog"}
2019-06-07 00:03:11.076 -03:00 [DBG] Getting claims for access token for client: ro.client
2019-06-07 00:03:11.077 -03:00 [DBG] Getting claims for access token for subject: 4ba1c3a0-b786-421d-b88a-740f38d9cafa
2019-06-07 00:03:11.420 -03:00 [INF] {"ClientId":"ro.client","ClientName":null,"RedirectUri":null,"Endpoint":"Token","SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","Scopes":"api1","GrantType":"password","Tokens":[{"TokenType":"access_token","TokenValue":"****thOA","$type":"Token"}],"Category":"Token","Name":"Token Issued Success","EventType":"Success","Id":2000,"Message":null,"ActivityId":"0HLNAUEMHA5FK:00000003","TimeStamp":"2019-06-07T03:03:11.0000000Z","ProcessId":25668,"LocalIpAddress":"127.0.0.1:34849","RemoteIpAddress":"::1","$type":"TokenIssuedSuccessEvent"}
2019-06-07 00:03:11.422 -03:00 [DBG] Token request success.
2019-06-07 00:05:02.032 -03:00 [DBG] CORS request made for path: /connect/token from origin: http://localhost:3000
2019-06-07 00:05:02.036 -03:00 [DBG] Origin http://localhost:3000 is allowed: false
2019-06-07 00:05:02.036 -03:00 [WRN] CorsPolicyService did not allow origin: http://localhost:3000
2019-06-07 00:05:02.044 -03:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-06-07 00:05:02.045 -03:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-06-07 00:05:02.045 -03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-06-07 00:05:02.045 -03:00 [DBG] Start token request.
2019-06-07 00:05:02.045 -03:00 [DBG] Start client validation
2019-06-07 00:05:02.045 -03:00 [DBG] Start parsing Basic Authentication secret
2019-06-07 00:05:02.045 -03:00 [DBG] Start parsing for secret in post body
2019-06-07 00:05:02.046 -03:00 [DBG] No secret in post body found
2019-06-07 00:05:02.046 -03:00 [DBG] Parser found no secret
2019-06-07 00:05:02.047 -03:00 [INF] {"ClientId":"unknown","Category":"Authentication","Name":"Client Authentication Failure","EventType":"Failure","Id":1011,"Message":"No client id found","ActivityId":"0HLNAUEMHA5FL:00000001","TimeStamp":"2019-06-07T03:05:02.0000000Z","ProcessId":25668,"LocalIpAddress":"127.0.0.1:34849","RemoteIpAddress":"::1","$type":"ClientAuthenticationFailureEvent"}
2019-06-07 00:05:02.047 -03:00 [ERR] No client identifier found
2019-06-07 00:05:49.911 -03:00 [DBG] CORS request made for path: /connect/token from origin: http://localhost:3000
2019-06-07 00:05:49.915 -03:00 [DBG] Origin http://localhost:3000 is allowed: false
2019-06-07 00:05:49.915 -03:00 [WRN] CorsPolicyService did not allow origin: http://localhost:3000
2019-06-07 00:05:49.915 -03:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-06-07 00:05:49.916 -03:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-06-07 00:05:49.916 -03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-06-07 00:05:49.916 -03:00 [DBG] Start token request.
2019-06-07 00:05:49.916 -03:00 [DBG] Start client validation
2019-06-07 00:05:49.917 -03:00 [DBG] Start parsing Basic Authentication secret
2019-06-07 00:05:49.917 -03:00 [DBG] Start parsing for secret in post body
2019-06-07 00:05:49.917 -03:00 [DBG] No secret in post body found
2019-06-07 00:05:49.917 -03:00 [DBG] Parser found no secret
2019-06-07 00:05:49.918 -03:00 [INF] {"ClientId":"unknown","Category":"Authentication","Name":"Client Authentication Failure","EventType":"Failure","Id":1011,"Message":"No client id found","ActivityId":"0HLNAUEMHA5FL:00000002","TimeStamp":"2019-06-07T03:05:49.0000000Z","ProcessId":25668,"LocalIpAddress":"127.0.0.1:34849","RemoteIpAddress":"::1","$type":"ClientAuthenticationFailureEvent"}
2019-06-07 00:05:49.918 -03:00 [ERR] No client identifier found
2019-06-07 00:09:06.527 -03:00 [DBG] CORS request made for path: /connect/token from origin: http://localhost:3000
2019-06-07 00:09:06.605 -03:00 [DBG] Origin http://localhost:3000 is allowed: false
2019-06-07 00:09:06.605 -03:00 [WRN] CorsPolicyService did not allow origin: http://localhost:3000
2019-06-07 00:09:06.605 -03:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-06-07 00:09:06.606 -03:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-06-07 00:09:06.606 -03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-06-07 00:09:06.606 -03:00 [DBG] Start token request.
2019-06-07 00:09:06.606 -03:00 [DBG] Start client validation
2019-06-07 00:09:06.606 -03:00 [DBG] Start parsing Basic Authentication secret
2019-06-07 00:09:06.606 -03:00 [DBG] Start parsing for secret in post body
2019-06-07 00:09:06.607 -03:00 [DBG] No secret in post body found
2019-06-07 00:09:06.607 -03:00 [DBG] Parser found no secret
2019-06-07 00:09:06.607 -03:00 [INF] {"ClientId":"unknown","Category":"Authentication","Name":"Client Authentication Failure","EventType":"Failure","Id":1011,"Message":"No client id found","ActivityId":"0HLNAUEMHA5FM:00000001","TimeStamp":"2019-06-07T03:09:06.0000000Z","ProcessId":25668,"LocalIpAddress":"127.0.0.1:34849","RemoteIpAddress":"::1","$type":"ClientAuthenticationFailureEvent"}
2019-06-07 00:09:06.607 -03:00 [ERR] No client identifier found
2019-06-07 00:09:44.059 -03:00 [DBG] CORS request made for path: /connect/token from origin: http://localhost:3000
2019-06-07 00:09:44.062 -03:00 [DBG] Origin http://localhost:3000 is allowed: false
2019-06-07 00:09:44.062 -03:00 [WRN] CorsPolicyService did not allow origin: http://localhost:3000
2019-06-07 00:09:44.062 -03:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-06-07 00:09:44.063 -03:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-06-07 00:09:44.063 -03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-06-07 00:09:44.063 -03:00 [DBG] Start token request.
2019-06-07 00:09:44.063 -03:00 [DBG] Start client validation
2019-06-07 00:09:44.064 -03:00 [DBG] Start parsing Basic Authentication secret
2019-06-07 00:09:44.064 -03:00 [DBG] Start parsing for secret in post body
2019-06-07 00:09:44.064 -03:00 [DBG] Parser found secret: PostBodySecretParser
2019-06-07 00:09:44.065 -03:00 [DBG] Secret id found: ro.client
2019-06-07 00:09:44.134 -03:00 [DBG] ro.client found in database: true
2019-06-07 00:09:44.134 -03:00 [DBG] client configuration validation for client ro.client succeeded.
2019-06-07 00:09:44.134 -03:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-06-07 00:09:44.134 -03:00 [DBG] Client validation success
2019-06-07 00:09:44.134 -03:00 [INF] {"ClientId":"ro.client","AuthenticationMethod":"SharedSecret","Category":"Authentication","Name":"Client Authentication Success","EventType":"Success","Id":1010,"Message":null,"ActivityId":"0HLNAUEMHA5FM:00000002","TimeStamp":"2019-06-07T03:09:44.0000000Z","ProcessId":25668,"LocalIpAddress":"127.0.0.1:34849","RemoteIpAddress":"::1","$type":"ClientAuthenticationSuccessEvent"}
2019-06-07 00:09:44.135 -03:00 [DBG] Start token request validation
2019-06-07 00:09:44.135 -03:00 [DBG] Start resource owner password token request validation
2019-06-07 00:09:44.141 -03:00 [DBG] Found [] identity scopes in database
2019-06-07 00:09:44.195 -03:00 [DBG] Found ["api1"] API scopes in database
2019-06-07 00:09:44.197 -03:00 [DBG] Found [] identity scopes in database
2019-06-07 00:09:44.203 -03:00 [DBG] Found ["api1"] API scopes in database
2019-06-07 00:09:44.229 -03:00 [INF] Credentials validated for username: alice
2019-06-07 00:09:44.229 -03:00 [INF] {"Username":"alice","Provider":null,"ProviderUserId":null,"SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","DisplayName":"alice","Endpoint":"Token","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HLNAUEMHA5FM:00000002","TimeStamp":"2019-06-07T03:09:44.0000000Z","ProcessId":25668,"LocalIpAddress":"127.0.0.1:34849","RemoteIpAddress":"::1","$type":"UserLoginSuccessEvent"}
2019-06-07 00:09:44.230 -03:00 [INF] {"Username":"alice","Provider":null,"ProviderUserId":null,"SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","DisplayName":null,"Endpoint":"Token","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HLNAUEMHA5FM:00000002","TimeStamp":"2019-06-07T03:09:44.0000000Z","ProcessId":25668,"LocalIpAddress":"127.0.0.1:34849","RemoteIpAddress":"::1","$type":"UserLoginSuccessEvent"}
2019-06-07 00:09:44.230 -03:00 [DBG] Resource owner password token request validation success.
2019-06-07 00:09:44.230 -03:00 [INF] Token request validation success
{"ClientId":"ro.client","ClientName":null,"GrantType":"password","Scopes":"api1","AuthorizationCode":null,"RefreshToken":null,"UserName":"alice","AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"grant_type":"password","client_id":"ro.client","client_secret":"***REDACTED***","username":"alice","password":"***REDACTED***"},"$type":"TokenRequestValidationLog"}
2019-06-07 00:09:44.230 -03:00 [DBG] Getting claims for access token for client: ro.client
2019-06-07 00:09:44.230 -03:00 [DBG] Getting claims for access token for subject: 4ba1c3a0-b786-421d-b88a-740f38d9cafa
2019-06-07 00:09:44.252 -03:00 [INF] {"ClientId":"ro.client","ClientName":null,"RedirectUri":null,"Endpoint":"Token","SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","Scopes":"api1","GrantType":"password","Tokens":[{"TokenType":"access_token","TokenValue":"****XFJg","$type":"Token"}],"Category":"Token","Name":"Token Issued Success","EventType":"Success","Id":2000,"Message":null,"ActivityId":"0HLNAUEMHA5FM:00000002","TimeStamp":"2019-06-07T03:09:44.0000000Z","ProcessId":25668,"LocalIpAddress":"127.0.0.1:34849","RemoteIpAddress":"::1","$type":"TokenIssuedSuccessEvent"}
2019-06-07 00:09:44.252 -03:00 [DBG] Token request success.
2019-06-07 00:11:48.394 -03:00 [INF] Starting IdentityServer4 version 2.3.2.0
2019-06-07 00:11:48.749 -03:00 [INF] Using the default authentication scheme Identity.Application for IdentityServer
2019-06-07 00:11:48.749 -03:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for authentication
2019-06-07 00:11:48.750 -03:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-in
2019-06-07 00:11:48.750 -03:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-out
2019-06-07 00:11:48.750 -03:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for challenge
2019-06-07 00:11:48.750 -03:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for forbid
2019-06-07 00:11:49.083 -03:00 [DBG] Starting grant removal
2019-06-07 00:11:49.587 -03:00 [DBG] Login Url: /Account/Login
2019-06-07 00:11:49.592 -03:00 [DBG] Login Return Url Parameter: ReturnUrl
2019-06-07 00:11:49.592 -03:00 [DBG] Logout Url: /Account/Logout
2019-06-07 00:11:49.592 -03:00 [DBG] ConsentUrl Url: /consent
2019-06-07 00:11:49.592 -03:00 [DBG] Consent Return Url Parameter: returnUrl
2019-06-07 00:11:49.592 -03:00 [DBG] Error Url: /home/error
2019-06-07 00:11:49.592 -03:00 [DBG] Error Id Parameter: errorId
2019-06-07 00:12:06.167 -03:00 [DBG] CORS request made for path: /connect/token from origin: http://localhost:3000
2019-06-07 00:12:08.284 -03:00 [DBG] Origin http://localhost:3000 is allowed: false
2019-06-07 00:12:08.292 -03:00 [WRN] CorsPolicyService did not allow origin: http://localhost:3000
2019-06-07 00:12:08.295 -03:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-06-07 00:12:08.342 -03:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-06-07 00:12:08.343 -03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-06-07 00:12:08.358 -03:00 [DBG] Start token request.
2019-06-07 00:12:08.370 -03:00 [DBG] Start client validation
2019-06-07 00:12:08.380 -03:00 [DBG] Start parsing Basic Authentication secret
2019-06-07 00:12:08.388 -03:00 [DBG] Start parsing for secret in post body
2019-06-07 00:12:08.416 -03:00 [DBG] Parser found secret: PostBodySecretParser
2019-06-07 00:12:08.417 -03:00 [DBG] Secret id found: ro.client
2019-06-07 00:12:09.551 -03:00 [DBG] ro.client found in database: true
2019-06-07 00:12:09.565 -03:00 [DBG] client configuration validation for client ro.client succeeded.
2019-06-07 00:12:09.583 -03:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-06-07 00:12:09.584 -03:00 [DBG] Client validation success
2019-06-07 00:12:09.618 -03:00 [INF] {"ClientId":"ro.client","AuthenticationMethod":"SharedSecret","Category":"Authentication","Name":"Client Authentication Success","EventType":"Success","Id":1010,"Message":null,"ActivityId":"0HLNAUNGPSTE1:00000002","TimeStamp":"2019-06-07T03:12:09.0000000Z","ProcessId":12892,"LocalIpAddress":"127.0.0.1:37556","RemoteIpAddress":"::1","$type":"ClientAuthenticationSuccessEvent"}
2019-06-07 00:12:09.639 -03:00 [DBG] Start token request validation
2019-06-07 00:12:09.660 -03:00 [DBG] Start resource owner password token request validation
2019-06-07 00:12:09.746 -03:00 [DBG] Found [] identity scopes in database
2019-06-07 00:12:10.115 -03:00 [DBG] Found ["api1"] API scopes in database
2019-06-07 00:12:10.138 -03:00 [DBG] Found [] identity scopes in database
2019-06-07 00:12:10.145 -03:00 [DBG] Found ["api1"] API scopes in database
2019-06-07 00:12:10.457 -03:00 [INF] Credentials validated for username: alice
2019-06-07 00:12:10.459 -03:00 [INF] {"Username":"alice","Provider":null,"ProviderUserId":null,"SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","DisplayName":"alice","Endpoint":"Token","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HLNAUNGPSTE1:00000002","TimeStamp":"2019-06-07T03:12:10.0000000Z","ProcessId":12892,"LocalIpAddress":"127.0.0.1:37556","RemoteIpAddress":"::1","$type":"UserLoginSuccessEvent"}
2019-06-07 00:12:10.473 -03:00 [INF] {"Username":"alice","Provider":null,"ProviderUserId":null,"SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","DisplayName":null,"Endpoint":"Token","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HLNAUNGPSTE1:00000002","TimeStamp":"2019-06-07T03:12:10.0000000Z","ProcessId":12892,"LocalIpAddress":"127.0.0.1:37556","RemoteIpAddress":"::1","$type":"UserLoginSuccessEvent"}
2019-06-07 00:12:10.473 -03:00 [DBG] Resource owner password token request validation success.
2019-06-07 00:12:10.488 -03:00 [INF] Token request validation success
{"ClientId":"ro.client","ClientName":null,"GrantType":"password","Scopes":"api1","AuthorizationCode":null,"RefreshToken":null,"UserName":"alice","AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"grant_type":"password","client_id":"ro.client","client_secret":"***REDACTED***","username":"alice","password":"***REDACTED***"},"$type":"TokenRequestValidationLog"}
2019-06-07 00:12:10.530 -03:00 [DBG] Getting claims for access token for client: ro.client
2019-06-07 00:12:10.531 -03:00 [DBG] Getting claims for access token for subject: 4ba1c3a0-b786-421d-b88a-740f38d9cafa
2019-06-07 00:12:10.894 -03:00 [INF] {"ClientId":"ro.client","ClientName":null,"RedirectUri":null,"Endpoint":"Token","SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","Scopes":"api1","GrantType":"password","Tokens":[{"TokenType":"access_token","TokenValue":"****0UKA","$type":"Token"}],"Category":"Token","Name":"Token Issued Success","EventType":"Success","Id":2000,"Message":null,"ActivityId":"0HLNAUNGPSTE1:00000002","TimeStamp":"2019-06-07T03:12:10.0000000Z","ProcessId":12892,"LocalIpAddress":"127.0.0.1:37556","RemoteIpAddress":"::1","$type":"TokenIssuedSuccessEvent"}
2019-06-07 00:12:10.896 -03:00 [DBG] Token request success.
2019-06-07 00:15:15.029 -03:00 [DBG] CORS request made for path: /connect/token from origin: http://localhost:3000
2019-06-07 00:15:15.060 -03:00 [DBG] Origin http://localhost:3000 is allowed: false
2019-06-07 00:15:15.060 -03:00 [WRN] CorsPolicyService did not allow origin: http://localhost:3000
2019-06-07 00:15:15.060 -03:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-06-07 00:15:15.067 -03:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-06-07 00:15:15.073 -03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-06-07 00:15:15.080 -03:00 [DBG] Start token request.
2019-06-07 00:15:15.080 -03:00 [DBG] Start client validation
2019-06-07 00:15:15.080 -03:00 [DBG] Start parsing Basic Authentication secret
2019-06-07 00:15:15.080 -03:00 [DBG] Start parsing for secret in post body
2019-06-07 00:15:15.081 -03:00 [DBG] Parser found secret: PostBodySecretParser
2019-06-07 00:15:15.082 -03:00 [DBG] Secret id found: ro.client
2019-06-07 00:15:15.091 -03:00 [DBG] ro.client found in database: true
2019-06-07 00:15:15.091 -03:00 [DBG] client configuration validation for client ro.client succeeded.
2019-06-07 00:15:15.092 -03:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-06-07 00:15:15.092 -03:00 [DBG] Client validation success
2019-06-07 00:15:15.092 -03:00 [INF] {"ClientId":"ro.client","AuthenticationMethod":"SharedSecret","Category":"Authentication","Name":"Client Authentication Success","EventType":"Success","Id":1010,"Message":null,"ActivityId":"0HLNAUNGPSTE3:00000001","TimeStamp":"2019-06-07T03:15:15.0000000Z","ProcessId":12892,"LocalIpAddress":"127.0.0.1:37556","RemoteIpAddress":"::1","$type":"ClientAuthenticationSuccessEvent"}
2019-06-07 00:15:15.093 -03:00 [DBG] Start token request validation
2019-06-07 00:15:15.093 -03:00 [DBG] Start resource owner password token request validation
2019-06-07 00:15:15.095 -03:00 [DBG] Found [] identity scopes in database
2019-06-07 00:15:15.103 -03:00 [DBG] Found ["api1"] API scopes in database
2019-06-07 00:15:15.104 -03:00 [DBG] Found [] identity scopes in database
2019-06-07 00:15:15.111 -03:00 [DBG] Found ["api1"] API scopes in database
2019-06-07 00:15:15.133 -03:00 [INF] Credentials validated for username: alice
2019-06-07 00:15:15.133 -03:00 [INF] {"Username":"alice","Provider":null,"ProviderUserId":null,"SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","DisplayName":"alice","Endpoint":"Token","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HLNAUNGPSTE3:00000001","TimeStamp":"2019-06-07T03:15:15.0000000Z","ProcessId":12892,"LocalIpAddress":"127.0.0.1:37556","RemoteIpAddress":"::1","$type":"UserLoginSuccessEvent"}
2019-06-07 00:15:15.134 -03:00 [INF] {"Username":"alice","Provider":null,"ProviderUserId":null,"SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","DisplayName":null,"Endpoint":"Token","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HLNAUNGPSTE3:00000001","TimeStamp":"2019-06-07T03:15:15.0000000Z","ProcessId":12892,"LocalIpAddress":"127.0.0.1:37556","RemoteIpAddress":"::1","$type":"UserLoginSuccessEvent"}
2019-06-07 00:15:15.134 -03:00 [DBG] Resource owner password token request validation success.
2019-06-07 00:15:15.134 -03:00 [INF] Token request validation success
{"ClientId":"ro.client","ClientName":null,"GrantType":"password","Scopes":"api1","AuthorizationCode":null,"RefreshToken":null,"UserName":"alice","AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"grant_type":"password","client_id":"ro.client","client_secret":"***REDACTED***","username":"alice","password":"***REDACTED***"},"$type":"TokenRequestValidationLog"}
2019-06-07 00:15:15.135 -03:00 [DBG] Getting claims for access token for client: ro.client
2019-06-07 00:15:15.135 -03:00 [DBG] Getting claims for access token for subject: 4ba1c3a0-b786-421d-b88a-740f38d9cafa
2019-06-07 00:15:15.152 -03:00 [INF] {"ClientId":"ro.client","ClientName":null,"RedirectUri":null,"Endpoint":"Token","SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","Scopes":"api1","GrantType":"password","Tokens":[{"TokenType":"access_token","TokenValue":"****dJTg","$type":"Token"}],"Category":"Token","Name":"Token Issued Success","EventType":"Success","Id":2000,"Message":null,"ActivityId":"0HLNAUNGPSTE3:00000001","TimeStamp":"2019-06-07T03:15:15.0000000Z","ProcessId":12892,"LocalIpAddress":"127.0.0.1:37556","RemoteIpAddress":"::1","$type":"TokenIssuedSuccessEvent"}
2019-06-07 00:15:15.152 -03:00 [DBG] Token request success.
2019-06-07 00:16:02.548 -03:00 [DBG] CORS request made for path: /connect/token from origin: http://localhost:3000
2019-06-07 00:16:02.552 -03:00 [DBG] Origin http://localhost:3000 is allowed: false
2019-06-07 00:16:02.552 -03:00 [WRN] CorsPolicyService did not allow origin: http://localhost:3000
2019-06-07 00:16:02.553 -03:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-06-07 00:16:02.553 -03:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-06-07 00:16:02.553 -03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-06-07 00:16:02.554 -03:00 [WRN] Invalid HTTP request for token endpoint
2019-06-07 00:16:45.603 -03:00 [DBG] CORS request made for path: /connect/token from origin: http://localhost:3000
2019-06-07 00:16:45.610 -03:00 [DBG] Origin http://localhost:3000 is allowed: false
2019-06-07 00:16:45.610 -03:00 [WRN] CorsPolicyService did not allow origin: http://localhost:3000
2019-06-07 00:16:45.610 -03:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-06-07 00:16:45.611 -03:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-06-07 00:16:45.611 -03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-06-07 00:16:45.611 -03:00 [DBG] Start token request.
2019-06-07 00:16:45.611 -03:00 [DBG] Start client validation
2019-06-07 00:16:45.611 -03:00 [DBG] Start parsing Basic Authentication secret
2019-06-07 00:16:45.611 -03:00 [DBG] Start parsing for secret in post body
2019-06-07 00:16:45.612 -03:00 [DBG] Parser found secret: PostBodySecretParser
2019-06-07 00:16:45.612 -03:00 [DBG] Secret id found: ro.client
2019-06-07 00:16:45.622 -03:00 [DBG] ro.client found in database: true
2019-06-07 00:16:45.622 -03:00 [DBG] client configuration validation for client ro.client succeeded.
2019-06-07 00:16:45.622 -03:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-06-07 00:16:45.623 -03:00 [DBG] Client validation success
2019-06-07 00:16:45.623 -03:00 [INF] {"ClientId":"ro.client","AuthenticationMethod":"SharedSecret","Category":"Authentication","Name":"Client Authentication Success","EventType":"Success","Id":1010,"Message":null,"ActivityId":"0HLNAUNGPSTE3:00000003","TimeStamp":"2019-06-07T03:16:45.0000000Z","ProcessId":12892,"LocalIpAddress":"127.0.0.1:37556","RemoteIpAddress":"::1","$type":"ClientAuthenticationSuccessEvent"}
2019-06-07 00:16:45.623 -03:00 [DBG] Start token request validation
2019-06-07 00:16:45.623 -03:00 [DBG] Start resource owner password token request validation
2019-06-07 00:16:45.625 -03:00 [DBG] Found [] identity scopes in database
2019-06-07 00:16:45.634 -03:00 [DBG] Found ["api1"] API scopes in database
2019-06-07 00:16:45.636 -03:00 [DBG] Found [] identity scopes in database
2019-06-07 00:16:45.645 -03:00 [DBG] Found ["api1"] API scopes in database
2019-06-07 00:16:45.669 -03:00 [INF] Credentials validated for username: alice
2019-06-07 00:16:45.669 -03:00 [INF] {"Username":"alice","Provider":null,"ProviderUserId":null,"SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","DisplayName":"alice","Endpoint":"Token","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HLNAUNGPSTE3:00000003","TimeStamp":"2019-06-07T03:16:45.0000000Z","ProcessId":12892,"LocalIpAddress":"127.0.0.1:37556","RemoteIpAddress":"::1","$type":"UserLoginSuccessEvent"}
2019-06-07 00:16:45.670 -03:00 [INF] {"Username":"alice","Provider":null,"ProviderUserId":null,"SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","DisplayName":null,"Endpoint":"Token","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HLNAUNGPSTE3:00000003","TimeStamp":"2019-06-07T03:16:45.0000000Z","ProcessId":12892,"LocalIpAddress":"127.0.0.1:37556","RemoteIpAddress":"::1","$type":"UserLoginSuccessEvent"}
2019-06-07 00:16:45.670 -03:00 [DBG] Resource owner password token request validation success.
2019-06-07 00:16:45.670 -03:00 [INF] Token request validation success
{"ClientId":"ro.client","ClientName":null,"GrantType":"password","Scopes":"api1","AuthorizationCode":null,"RefreshToken":null,"UserName":"alice","AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"grant_type":"password","client_id":"ro.client","client_secret":"***REDACTED***","username":"alice","password":"***REDACTED***"},"$type":"TokenRequestValidationLog"}
2019-06-07 00:16:45.671 -03:00 [DBG] Getting claims for access token for client: ro.client
2019-06-07 00:16:45.671 -03:00 [DBG] Getting claims for access token for subject: 4ba1c3a0-b786-421d-b88a-740f38d9cafa
2019-06-07 00:16:45.701 -03:00 [INF] {"ClientId":"ro.client","ClientName":null,"RedirectUri":null,"Endpoint":"Token","SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","Scopes":"api1","GrantType":"password","Tokens":[{"TokenType":"access_token","TokenValue":"****ZsfQ","$type":"Token"}],"Category":"Token","Name":"Token Issued Success","EventType":"Success","Id":2000,"Message":null,"ActivityId":"0HLNAUNGPSTE3:00000003","TimeStamp":"2019-06-07T03:16:45.0000000Z","ProcessId":12892,"LocalIpAddress":"127.0.0.1:37556","RemoteIpAddress":"::1","$type":"TokenIssuedSuccessEvent"}
2019-06-07 00:16:45.701 -03:00 [DBG] Token request success.
2019-06-07 00:16:54.749 -03:00 [DBG] CORS request made for path: /connect/token from origin: http://localhost:3000
2019-06-07 00:16:54.752 -03:00 [DBG] Origin http://localhost:3000 is allowed: false
2019-06-07 00:16:54.752 -03:00 [WRN] CorsPolicyService did not allow origin: http://localhost:3000
2019-06-07 00:16:54.752 -03:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-06-07 00:16:54.753 -03:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-06-07 00:16:54.753 -03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-06-07 00:16:54.753 -03:00 [DBG] Start token request.
2019-06-07 00:16:54.753 -03:00 [DBG] Start client validation
2019-06-07 00:16:54.753 -03:00 [DBG] Start parsing Basic Authentication secret
2019-06-07 00:16:54.753 -03:00 [DBG] Start parsing for secret in post body
2019-06-07 00:16:54.754 -03:00 [DBG] Parser found secret: PostBodySecretParser
2019-06-07 00:16:54.754 -03:00 [DBG] Secret id found: ro.client
2019-06-07 00:16:54.763 -03:00 [DBG] ro.client found in database: true
2019-06-07 00:16:54.764 -03:00 [DBG] client configuration validation for client ro.client succeeded.
2019-06-07 00:16:54.764 -03:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-06-07 00:16:54.764 -03:00 [DBG] Client validation success
2019-06-07 00:16:54.764 -03:00 [INF] {"ClientId":"ro.client","AuthenticationMethod":"SharedSecret","Category":"Authentication","Name":"Client Authentication Success","EventType":"Success","Id":1010,"Message":null,"ActivityId":"0HLNAUNGPSTE3:00000004","TimeStamp":"2019-06-07T03:16:54.0000000Z","ProcessId":12892,"LocalIpAddress":"127.0.0.1:37556","RemoteIpAddress":"::1","$type":"ClientAuthenticationSuccessEvent"}
2019-06-07 00:16:54.764 -03:00 [DBG] Start token request validation
2019-06-07 00:16:54.765 -03:00 [DBG] Start resource owner password token request validation
2019-06-07 00:16:54.767 -03:00 [DBG] Found [] identity scopes in database
2019-06-07 00:16:54.777 -03:00 [DBG] Found ["api1"] API scopes in database
2019-06-07 00:16:54.779 -03:00 [DBG] Found [] identity scopes in database
2019-06-07 00:16:54.790 -03:00 [DBG] Found ["api1"] API scopes in database
2019-06-07 00:16:54.811 -03:00 [INF] Credentials validated for username: alice
2019-06-07 00:16:54.811 -03:00 [INF] {"Username":"alice","Provider":null,"ProviderUserId":null,"SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","DisplayName":"alice","Endpoint":"Token","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HLNAUNGPSTE3:00000004","TimeStamp":"2019-06-07T03:16:54.0000000Z","ProcessId":12892,"LocalIpAddress":"127.0.0.1:37556","RemoteIpAddress":"::1","$type":"UserLoginSuccessEvent"}
2019-06-07 00:16:54.812 -03:00 [INF] {"Username":"alice","Provider":null,"ProviderUserId":null,"SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","DisplayName":null,"Endpoint":"Token","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HLNAUNGPSTE3:00000004","TimeStamp":"2019-06-07T03:16:54.0000000Z","ProcessId":12892,"LocalIpAddress":"127.0.0.1:37556","RemoteIpAddress":"::1","$type":"UserLoginSuccessEvent"}
2019-06-07 00:16:54.812 -03:00 [DBG] Resource owner password token request validation success.
2019-06-07 00:16:54.812 -03:00 [INF] Token request validation success
{"ClientId":"ro.client","ClientName":null,"GrantType":"password","Scopes":"api1","AuthorizationCode":null,"RefreshToken":null,"UserName":"alice","AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"grant_type":"password","client_id":"ro.client","client_secret":"***REDACTED***","username":"alice","password":"***REDACTED***"},"$type":"TokenRequestValidationLog"}
2019-06-07 00:16:54.812 -03:00 [DBG] Getting claims for access token for client: ro.client
2019-06-07 00:16:54.812 -03:00 [DBG] Getting claims for access token for subject: 4ba1c3a0-b786-421d-b88a-740f38d9cafa
2019-06-07 00:16:54.835 -03:00 [INF] {"ClientId":"ro.client","ClientName":null,"RedirectUri":null,"Endpoint":"Token","SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","Scopes":"api1","GrantType":"password","Tokens":[{"TokenType":"access_token","TokenValue":"****T8hQ","$type":"Token"}],"Category":"Token","Name":"Token Issued Success","EventType":"Success","Id":2000,"Message":null,"ActivityId":"0HLNAUNGPSTE3:00000004","TimeStamp":"2019-06-07T03:16:54.0000000Z","ProcessId":12892,"LocalIpAddress":"127.0.0.1:37556","RemoteIpAddress":"::1","$type":"TokenIssuedSuccessEvent"}
2019-06-07 00:16:54.835 -03:00 [DBG] Token request success.
2019-06-07 00:16:55.300 -03:00 [DBG] CORS request made for path: /connect/token from origin: http://localhost:3000
2019-06-07 00:16:55.307 -03:00 [DBG] Origin http://localhost:3000 is allowed: false
2019-06-07 00:16:55.307 -03:00 [WRN] CorsPolicyService did not allow origin: http://localhost:3000
2019-06-07 00:16:55.308 -03:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-06-07 00:16:55.308 -03:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-06-07 00:16:55.308 -03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-06-07 00:16:55.309 -03:00 [DBG] Start token request.
2019-06-07 00:16:55.309 -03:00 [DBG] Start client validation
2019-06-07 00:16:55.309 -03:00 [DBG] Start parsing Basic Authentication secret
2019-06-07 00:16:55.309 -03:00 [DBG] Start parsing for secret in post body
2019-06-07 00:16:55.309 -03:00 [DBG] Parser found secret: PostBodySecretParser
2019-06-07 00:16:55.310 -03:00 [DBG] Secret id found: ro.client
2019-06-07 00:16:55.325 -03:00 [DBG] ro.client found in database: true
2019-06-07 00:16:55.325 -03:00 [DBG] client configuration validation for client ro.client succeeded.
2019-06-07 00:16:55.325 -03:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-06-07 00:16:55.325 -03:00 [DBG] Client validation success
2019-06-07 00:16:55.326 -03:00 [INF] {"ClientId":"ro.client","AuthenticationMethod":"SharedSecret","Category":"Authentication","Name":"Client Authentication Success","EventType":"Success","Id":1010,"Message":null,"ActivityId":"0HLNAUNGPSTE3:00000005","TimeStamp":"2019-06-07T03:16:55.0000000Z","ProcessId":12892,"LocalIpAddress":"127.0.0.1:37556","RemoteIpAddress":"::1","$type":"ClientAuthenticationSuccessEvent"}
2019-06-07 00:16:55.326 -03:00 [DBG] Start token request validation
2019-06-07 00:16:55.326 -03:00 [DBG] Start resource owner password token request validation
2019-06-07 00:16:55.328 -03:00 [DBG] Found [] identity scopes in database
2019-06-07 00:16:55.335 -03:00 [DBG] Found ["api1"] API scopes in database
2019-06-07 00:16:55.337 -03:00 [DBG] Found [] identity scopes in database
2019-06-07 00:16:55.344 -03:00 [DBG] Found ["api1"] API scopes in database
2019-06-07 00:16:55.363 -03:00 [INF] Credentials validated for username: alice
2019-06-07 00:16:55.363 -03:00 [INF] {"Username":"alice","Provider":null,"ProviderUserId":null,"SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","DisplayName":"alice","Endpoint":"Token","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HLNAUNGPSTE3:00000005","TimeStamp":"2019-06-07T03:16:55.0000000Z","ProcessId":12892,"LocalIpAddress":"127.0.0.1:37556","RemoteIpAddress":"::1","$type":"UserLoginSuccessEvent"}
2019-06-07 00:16:55.363 -03:00 [INF] {"Username":"alice","Provider":null,"ProviderUserId":null,"SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","DisplayName":null,"Endpoint":"Token","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HLNAUNGPSTE3:00000005","TimeStamp":"2019-06-07T03:16:55.0000000Z","ProcessId":12892,"LocalIpAddress":"127.0.0.1:37556","RemoteIpAddress":"::1","$type":"UserLoginSuccessEvent"}
2019-06-07 00:16:55.363 -03:00 [DBG] Resource owner password token request validation success.
2019-06-07 00:16:55.363 -03:00 [INF] Token request validation success
{"ClientId":"ro.client","ClientName":null,"GrantType":"password","Scopes":"api1","AuthorizationCode":null,"RefreshToken":null,"UserName":"alice","AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"grant_type":"password","client_id":"ro.client","client_secret":"***REDACTED***","username":"alice","password":"***REDACTED***"},"$type":"TokenRequestValidationLog"}
2019-06-07 00:16:55.364 -03:00 [DBG] Getting claims for access token for client: ro.client
2019-06-07 00:16:55.364 -03:00 [DBG] Getting claims for access token for subject: 4ba1c3a0-b786-421d-b88a-740f38d9cafa
2019-06-07 00:16:55.378 -03:00 [INF] {"ClientId":"ro.client","ClientName":null,"RedirectUri":null,"Endpoint":"Token","SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","Scopes":"api1","GrantType":"password","Tokens":[{"TokenType":"access_token","TokenValue":"****Bo_A","$type":"Token"}],"Category":"Token","Name":"Token Issued Success","EventType":"Success","Id":2000,"Message":null,"ActivityId":"0HLNAUNGPSTE3:00000005","TimeStamp":"2019-06-07T03:16:55.0000000Z","ProcessId":12892,"LocalIpAddress":"127.0.0.1:37556","RemoteIpAddress":"::1","$type":"TokenIssuedSuccessEvent"}
2019-06-07 00:16:55.378 -03:00 [DBG] Token request success.
2019-06-07 00:16:55.723 -03:00 [DBG] CORS request made for path: /connect/token from origin: http://localhost:3000
2019-06-07 00:16:55.727 -03:00 [DBG] Origin http://localhost:3000 is allowed: false
2019-06-07 00:16:55.727 -03:00 [WRN] CorsPolicyService did not allow origin: http://localhost:3000
2019-06-07 00:16:55.727 -03:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-06-07 00:16:55.728 -03:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-06-07 00:16:55.728 -03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-06-07 00:16:55.728 -03:00 [DBG] Start token request.
2019-06-07 00:16:55.728 -03:00 [DBG] Start client validation
2019-06-07 00:16:55.728 -03:00 [DBG] Start parsing Basic Authentication secret
2019-06-07 00:16:55.728 -03:00 [DBG] Start parsing for secret in post body
2019-06-07 00:16:55.729 -03:00 [DBG] Parser found secret: PostBodySecretParser
2019-06-07 00:16:55.729 -03:00 [DBG] Secret id found: ro.client
2019-06-07 00:16:55.748 -03:00 [DBG] ro.client found in database: true
2019-06-07 00:16:55.749 -03:00 [DBG] client configuration validation for client ro.client succeeded.
2019-06-07 00:16:55.749 -03:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-06-07 00:16:55.749 -03:00 [DBG] Client validation success
2019-06-07 00:16:55.749 -03:00 [INF] {"ClientId":"ro.client","AuthenticationMethod":"SharedSecret","Category":"Authentication","Name":"Client Authentication Success","EventType":"Success","Id":1010,"Message":null,"ActivityId":"0HLNAUNGPSTE3:00000006","TimeStamp":"2019-06-07T03:16:55.0000000Z","ProcessId":12892,"LocalIpAddress":"127.0.0.1:37556","RemoteIpAddress":"::1","$type":"ClientAuthenticationSuccessEvent"}
2019-06-07 00:16:55.750 -03:00 [DBG] Start token request validation
2019-06-07 00:16:55.750 -03:00 [DBG] Start resource owner password token request validation
2019-06-07 00:16:55.754 -03:00 [DBG] Found [] identity scopes in database
2019-06-07 00:16:55.762 -03:00 [DBG] Found ["api1"] API scopes in database
2019-06-07 00:16:55.764 -03:00 [DBG] Found [] identity scopes in database
2019-06-07 00:16:55.774 -03:00 [DBG] Found ["api1"] API scopes in database
2019-06-07 00:16:55.801 -03:00 [INF] Credentials validated for username: alice
2019-06-07 00:16:55.801 -03:00 [INF] {"Username":"alice","Provider":null,"ProviderUserId":null,"SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","DisplayName":"alice","Endpoint":"Token","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HLNAUNGPSTE3:00000006","TimeStamp":"2019-06-07T03:16:55.0000000Z","ProcessId":12892,"LocalIpAddress":"127.0.0.1:37556","RemoteIpAddress":"::1","$type":"UserLoginSuccessEvent"}
2019-06-07 00:16:55.802 -03:00 [INF] {"Username":"alice","Provider":null,"ProviderUserId":null,"SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","DisplayName":null,"Endpoint":"Token","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HLNAUNGPSTE3:00000006","TimeStamp":"2019-06-07T03:16:55.0000000Z","ProcessId":12892,"LocalIpAddress":"127.0.0.1:37556","RemoteIpAddress":"::1","$type":"UserLoginSuccessEvent"}
2019-06-07 00:16:55.802 -03:00 [DBG] Resource owner password token request validation success.
2019-06-07 00:16:55.803 -03:00 [INF] Token request validation success
{"ClientId":"ro.client","ClientName":null,"GrantType":"password","Scopes":"api1","AuthorizationCode":null,"RefreshToken":null,"UserName":"alice","AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"grant_type":"password","client_id":"ro.client","client_secret":"***REDACTED***","username":"alice","password":"***REDACTED***"},"$type":"TokenRequestValidationLog"}
2019-06-07 00:16:55.803 -03:00 [DBG] Getting claims for access token for client: ro.client
2019-06-07 00:16:55.803 -03:00 [DBG] Getting claims for access token for subject: 4ba1c3a0-b786-421d-b88a-740f38d9cafa
2019-06-07 00:16:55.818 -03:00 [INF] {"ClientId":"ro.client","ClientName":null,"RedirectUri":null,"Endpoint":"Token","SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","Scopes":"api1","GrantType":"password","Tokens":[{"TokenType":"access_token","TokenValue":"****Bo_A","$type":"Token"}],"Category":"Token","Name":"Token Issued Success","EventType":"Success","Id":2000,"Message":null,"ActivityId":"0HLNAUNGPSTE3:00000006","TimeStamp":"2019-06-07T03:16:55.0000000Z","ProcessId":12892,"LocalIpAddress":"127.0.0.1:37556","RemoteIpAddress":"::1","$type":"TokenIssuedSuccessEvent"}
2019-06-07 00:16:55.818 -03:00 [DBG] Token request success.
2019-06-07 00:18:55.306 -03:00 [DBG] CORS request made for path: /connect/token from origin: http://localhost:3000
2019-06-07 00:18:55.318 -03:00 [DBG] Origin http://localhost:3000 is allowed: false
2019-06-07 00:18:55.318 -03:00 [WRN] CorsPolicyService did not allow origin: http://localhost:3000
2019-06-07 00:18:55.328 -03:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-06-07 00:18:55.328 -03:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-06-07 00:18:55.328 -03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-06-07 00:18:55.329 -03:00 [DBG] Start token request.
2019-06-07 00:18:55.329 -03:00 [DBG] Start client validation
2019-06-07 00:18:55.329 -03:00 [DBG] Start parsing Basic Authentication secret
2019-06-07 00:18:55.329 -03:00 [DBG] Start parsing for secret in post body
2019-06-07 00:18:55.329 -03:00 [DBG] Parser found secret: PostBodySecretParser
2019-06-07 00:18:55.329 -03:00 [DBG] Secret id found: ro.client
2019-06-07 00:18:55.339 -03:00 [DBG] ro.client found in database: true
2019-06-07 00:18:55.339 -03:00 [DBG] client configuration validation for client ro.client succeeded.
2019-06-07 00:18:55.339 -03:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-06-07 00:18:55.339 -03:00 [DBG] Client validation success
2019-06-07 00:18:55.339 -03:00 [INF] {"ClientId":"ro.client","AuthenticationMethod":"SharedSecret","Category":"Authentication","Name":"Client Authentication Success","EventType":"Success","Id":1010,"Message":null,"ActivityId":"0HLNAUNGPSTE4:00000001","TimeStamp":"2019-06-07T03:18:55.0000000Z","ProcessId":12892,"LocalIpAddress":"127.0.0.1:37556","RemoteIpAddress":"::1","$type":"ClientAuthenticationSuccessEvent"}
2019-06-07 00:18:55.340 -03:00 [DBG] Start token request validation
2019-06-07 00:18:55.340 -03:00 [DBG] Start resource owner password token request validation
2019-06-07 00:18:55.342 -03:00 [DBG] Found [] identity scopes in database
2019-06-07 00:18:55.350 -03:00 [DBG] Found ["api1"] API scopes in database
2019-06-07 00:18:55.352 -03:00 [DBG] Found [] identity scopes in database
2019-06-07 00:18:55.360 -03:00 [DBG] Found ["api1"] API scopes in database
2019-06-07 00:18:55.391 -03:00 [INF] Credentials validated for username: alice
2019-06-07 00:18:55.391 -03:00 [INF] {"Username":"alice","Provider":null,"ProviderUserId":null,"SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","DisplayName":"alice","Endpoint":"Token","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HLNAUNGPSTE4:00000001","TimeStamp":"2019-06-07T03:18:55.0000000Z","ProcessId":12892,"LocalIpAddress":"127.0.0.1:37556","RemoteIpAddress":"::1","$type":"UserLoginSuccessEvent"}
2019-06-07 00:18:55.391 -03:00 [INF] {"Username":"alice","Provider":null,"ProviderUserId":null,"SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","DisplayName":null,"Endpoint":"Token","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HLNAUNGPSTE4:00000001","TimeStamp":"2019-06-07T03:18:55.0000000Z","ProcessId":12892,"LocalIpAddress":"127.0.0.1:37556","RemoteIpAddress":"::1","$type":"UserLoginSuccessEvent"}
2019-06-07 00:18:55.391 -03:00 [DBG] Resource owner password token request validation success.
2019-06-07 00:18:55.392 -03:00 [INF] Token request validation success
{"ClientId":"ro.client","ClientName":null,"GrantType":"password","Scopes":"api1","AuthorizationCode":null,"RefreshToken":null,"UserName":"alice","AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"grant_type":"password","client_id":"ro.client","client_secret":"***REDACTED***","username":"alice","password":"***REDACTED***"},"$type":"TokenRequestValidationLog"}
2019-06-07 00:18:55.392 -03:00 [DBG] Getting claims for access token for client: ro.client
2019-06-07 00:18:55.392 -03:00 [DBG] Getting claims for access token for subject: 4ba1c3a0-b786-421d-b88a-740f38d9cafa
2019-06-07 00:18:55.408 -03:00 [INF] {"ClientId":"ro.client","ClientName":null,"RedirectUri":null,"Endpoint":"Token","SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","Scopes":"api1","GrantType":"password","Tokens":[{"TokenType":"access_token","TokenValue":"****tIkQ","$type":"Token"}],"Category":"Token","Name":"Token Issued Success","EventType":"Success","Id":2000,"Message":null,"ActivityId":"0HLNAUNGPSTE4:00000001","TimeStamp":"2019-06-07T03:18:55.0000000Z","ProcessId":12892,"LocalIpAddress":"127.0.0.1:37556","RemoteIpAddress":"::1","$type":"TokenIssuedSuccessEvent"}
2019-06-07 00:18:55.408 -03:00 [DBG] Token request success.
2019-06-07 00:19:41.713 -03:00 [DBG] CORS request made for path: /connect/token from origin: http://localhost:3000
2019-06-07 00:19:41.716 -03:00 [DBG] Origin http://localhost:3000 is allowed: false
2019-06-07 00:19:41.716 -03:00 [WRN] CorsPolicyService did not allow origin: http://localhost:3000
2019-06-07 00:19:41.717 -03:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-06-07 00:19:41.717 -03:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-06-07 00:19:41.717 -03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-06-07 00:19:41.717 -03:00 [DBG] Start token request.
2019-06-07 00:19:41.718 -03:00 [DBG] Start client validation
2019-06-07 00:19:41.718 -03:00 [DBG] Start parsing Basic Authentication secret
2019-06-07 00:19:41.718 -03:00 [DBG] Start parsing for secret in post body
2019-06-07 00:19:41.718 -03:00 [DBG] Parser found secret: PostBodySecretParser
2019-06-07 00:19:41.718 -03:00 [DBG] Secret id found: ro.client
2019-06-07 00:19:41.729 -03:00 [DBG] ro.client found in database: true
2019-06-07 00:19:41.729 -03:00 [DBG] client configuration validation for client ro.client succeeded.
2019-06-07 00:19:41.729 -03:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-06-07 00:19:41.729 -03:00 [DBG] Client validation success
2019-06-07 00:19:41.729 -03:00 [INF] {"ClientId":"ro.client","AuthenticationMethod":"SharedSecret","Category":"Authentication","Name":"Client Authentication Success","EventType":"Success","Id":1010,"Message":null,"ActivityId":"0HLNAUNGPSTE4:00000002","TimeStamp":"2019-06-07T03:19:41.0000000Z","ProcessId":12892,"LocalIpAddress":"127.0.0.1:37556","RemoteIpAddress":"::1","$type":"ClientAuthenticationSuccessEvent"}
2019-06-07 00:19:41.730 -03:00 [DBG] Start token request validation
2019-06-07 00:19:41.730 -03:00 [DBG] Start resource owner password token request validation
2019-06-07 00:19:41.732 -03:00 [DBG] Found [] identity scopes in database
2019-06-07 00:19:41.741 -03:00 [DBG] Found ["api1"] API scopes in database
2019-06-07 00:19:41.743 -03:00 [DBG] Found [] identity scopes in database
2019-06-07 00:19:41.751 -03:00 [DBG] Found ["api1"] API scopes in database
2019-06-07 00:19:41.771 -03:00 [INF] Credentials validated for username: alice
2019-06-07 00:19:41.771 -03:00 [INF] {"Username":"alice","Provider":null,"ProviderUserId":null,"SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","DisplayName":"alice","Endpoint":"Token","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HLNAUNGPSTE4:00000002","TimeStamp":"2019-06-07T03:19:41.0000000Z","ProcessId":12892,"LocalIpAddress":"127.0.0.1:37556","RemoteIpAddress":"::1","$type":"UserLoginSuccessEvent"}
2019-06-07 00:19:41.771 -03:00 [INF] {"Username":"alice","Provider":null,"ProviderUserId":null,"SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","DisplayName":null,"Endpoint":"Token","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HLNAUNGPSTE4:00000002","TimeStamp":"2019-06-07T03:19:41.0000000Z","ProcessId":12892,"LocalIpAddress":"127.0.0.1:37556","RemoteIpAddress":"::1","$type":"UserLoginSuccessEvent"}
2019-06-07 00:19:41.771 -03:00 [DBG] Resource owner password token request validation success.
2019-06-07 00:19:41.772 -03:00 [INF] Token request validation success
{"ClientId":"ro.client","ClientName":null,"GrantType":"password","Scopes":"api1","AuthorizationCode":null,"RefreshToken":null,"UserName":"alice","AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"grant_type":"password","client_id":"ro.client","client_secret":"***REDACTED***","username":"alice","password":"***REDACTED***"},"$type":"TokenRequestValidationLog"}
2019-06-07 00:19:41.772 -03:00 [DBG] Getting claims for access token for client: ro.client
2019-06-07 00:19:41.772 -03:00 [DBG] Getting claims for access token for subject: 4ba1c3a0-b786-421d-b88a-740f38d9cafa
2019-06-07 00:19:41.785 -03:00 [INF] {"ClientId":"ro.client","ClientName":null,"RedirectUri":null,"Endpoint":"Token","SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","Scopes":"api1","GrantType":"password","Tokens":[{"TokenType":"access_token","TokenValue":"****H2Tg","$type":"Token"}],"Category":"Token","Name":"Token Issued Success","EventType":"Success","Id":2000,"Message":null,"ActivityId":"0HLNAUNGPSTE4:00000002","TimeStamp":"2019-06-07T03:19:41.0000000Z","ProcessId":12892,"LocalIpAddress":"127.0.0.1:37556","RemoteIpAddress":"::1","$type":"TokenIssuedSuccessEvent"}
2019-06-07 00:19:41.785 -03:00 [DBG] Token request success.
2019-06-07 00:21:03.573 -03:00 [DBG] CORS request made for path: /connect/token from origin: http://localhost:3000
2019-06-07 00:21:03.576 -03:00 [DBG] Origin http://localhost:3000 is allowed: false
2019-06-07 00:21:03.577 -03:00 [WRN] CorsPolicyService did not allow origin: http://localhost:3000
2019-06-07 00:21:03.577 -03:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-06-07 00:21:03.577 -03:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-06-07 00:21:03.577 -03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-06-07 00:21:03.578 -03:00 [DBG] Start token request.
2019-06-07 00:21:03.578 -03:00 [DBG] Start client validation
2019-06-07 00:21:03.578 -03:00 [DBG] Start parsing Basic Authentication secret
2019-06-07 00:21:03.578 -03:00 [DBG] Start parsing for secret in post body
2019-06-07 00:21:03.579 -03:00 [DBG] Parser found secret: PostBodySecretParser
2019-06-07 00:21:03.580 -03:00 [DBG] Secret id found: ro.client
2019-06-07 00:21:03.590 -03:00 [DBG] ro.client found in database: true
2019-06-07 00:21:03.591 -03:00 [DBG] client configuration validation for client ro.client succeeded.
2019-06-07 00:21:03.591 -03:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-06-07 00:21:03.591 -03:00 [DBG] Client validation success
2019-06-07 00:21:03.591 -03:00 [INF] {"ClientId":"ro.client","AuthenticationMethod":"SharedSecret","Category":"Authentication","Name":"Client Authentication Success","EventType":"Success","Id":1010,"Message":null,"ActivityId":"0HLNAUNGPSTE5:00000001","TimeStamp":"2019-06-07T03:21:03.0000000Z","ProcessId":12892,"LocalIpAddress":"127.0.0.1:37556","RemoteIpAddress":"::1","$type":"ClientAuthenticationSuccessEvent"}
2019-06-07 00:21:03.591 -03:00 [DBG] Start token request validation
2019-06-07 00:21:03.591 -03:00 [DBG] Start resource owner password token request validation
2019-06-07 00:21:03.594 -03:00 [DBG] Found [] identity scopes in database
2019-06-07 00:21:03.601 -03:00 [DBG] Found ["api1"] API scopes in database
2019-06-07 00:21:03.603 -03:00 [DBG] Found [] identity scopes in database
2019-06-07 00:21:03.610 -03:00 [DBG] Found ["api1"] API scopes in database
2019-06-07 00:21:03.635 -03:00 [INF] Credentials validated for username: alice
2019-06-07 00:21:03.635 -03:00 [INF] {"Username":"alice","Provider":null,"ProviderUserId":null,"SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","DisplayName":"alice","Endpoint":"Token","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HLNAUNGPSTE5:00000001","TimeStamp":"2019-06-07T03:21:03.0000000Z","ProcessId":12892,"LocalIpAddress":"127.0.0.1:37556","RemoteIpAddress":"::1","$type":"UserLoginSuccessEvent"}
2019-06-07 00:21:03.635 -03:00 [INF] {"Username":"alice","Provider":null,"ProviderUserId":null,"SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","DisplayName":null,"Endpoint":"Token","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HLNAUNGPSTE5:00000001","TimeStamp":"2019-06-07T03:21:03.0000000Z","ProcessId":12892,"LocalIpAddress":"127.0.0.1:37556","RemoteIpAddress":"::1","$type":"UserLoginSuccessEvent"}
2019-06-07 00:21:03.635 -03:00 [DBG] Resource owner password token request validation success.
2019-06-07 00:21:03.635 -03:00 [INF] Token request validation success
{"ClientId":"ro.client","ClientName":null,"GrantType":"password","Scopes":"api1","AuthorizationCode":null,"RefreshToken":null,"UserName":"alice","AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"grant_type":"password","client_id":"ro.client","client_secret":"***REDACTED***","username":"alice","password":"***REDACTED***"},"$type":"TokenRequestValidationLog"}
2019-06-07 00:21:03.636 -03:00 [DBG] Getting claims for access token for client: ro.client
2019-06-07 00:21:03.636 -03:00 [DBG] Getting claims for access token for subject: 4ba1c3a0-b786-421d-b88a-740f38d9cafa
2019-06-07 00:21:03.667 -03:00 [INF] {"ClientId":"ro.client","ClientName":null,"RedirectUri":null,"Endpoint":"Token","SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","Scopes":"api1","GrantType":"password","Tokens":[{"TokenType":"access_token","TokenValue":"****iWUA","$type":"Token"}],"Category":"Token","Name":"Token Issued Success","EventType":"Success","Id":2000,"Message":null,"ActivityId":"0HLNAUNGPSTE5:00000001","TimeStamp":"2019-06-07T03:21:03.0000000Z","ProcessId":12892,"LocalIpAddress":"127.0.0.1:37556","RemoteIpAddress":"::1","$type":"TokenIssuedSuccessEvent"}
2019-06-07 00:21:03.667 -03:00 [DBG] Token request success.
2019-06-07 00:21:52.479 -03:00 [DBG] CORS request made for path: /connect/token from origin: http://localhost:3000
2019-06-07 00:21:52.483 -03:00 [DBG] Origin http://localhost:3000 is allowed: false
2019-06-07 00:21:52.483 -03:00 [WRN] CorsPolicyService did not allow origin: http://localhost:3000
2019-06-07 00:21:52.483 -03:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-06-07 00:21:52.484 -03:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-06-07 00:21:52.484 -03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-06-07 00:21:52.484 -03:00 [DBG] Start token request.
2019-06-07 00:21:52.484 -03:00 [DBG] Start client validation
2019-06-07 00:21:52.484 -03:00 [DBG] Start parsing Basic Authentication secret
2019-06-07 00:21:52.484 -03:00 [DBG] Start parsing for secret in post body
2019-06-07 00:21:52.485 -03:00 [DBG] Parser found secret: PostBodySecretParser
2019-06-07 00:21:52.485 -03:00 [DBG] Secret id found: ro.client
2019-06-07 00:21:52.494 -03:00 [DBG] ro.client found in database: true
2019-06-07 00:21:52.494 -03:00 [DBG] client configuration validation for client ro.client succeeded.
2019-06-07 00:21:52.495 -03:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-06-07 00:21:52.495 -03:00 [DBG] Client validation success
2019-06-07 00:21:52.495 -03:00 [INF] {"ClientId":"ro.client","AuthenticationMethod":"SharedSecret","Category":"Authentication","Name":"Client Authentication Success","EventType":"Success","Id":1010,"Message":null,"ActivityId":"0HLNAUNGPSTE5:00000002","TimeStamp":"2019-06-07T03:21:52.0000000Z","ProcessId":12892,"LocalIpAddress":"127.0.0.1:37556","RemoteIpAddress":"::1","$type":"ClientAuthenticationSuccessEvent"}
2019-06-07 00:21:52.495 -03:00 [DBG] Start token request validation
2019-06-07 00:21:52.495 -03:00 [DBG] Start resource owner password token request validation
2019-06-07 00:21:52.498 -03:00 [DBG] Found [] identity scopes in database
2019-06-07 00:21:52.509 -03:00 [DBG] Found ["api1"] API scopes in database
2019-06-07 00:21:52.512 -03:00 [DBG] Found [] identity scopes in database
2019-06-07 00:21:52.520 -03:00 [DBG] Found ["api1"] API scopes in database
2019-06-07 00:21:52.539 -03:00 [INF] Credentials validated for username: alice
2019-06-07 00:21:52.540 -03:00 [INF] {"Username":"alice","Provider":null,"ProviderUserId":null,"SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","DisplayName":"alice","Endpoint":"Token","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HLNAUNGPSTE5:00000002","TimeStamp":"2019-06-07T03:21:52.0000000Z","ProcessId":12892,"LocalIpAddress":"127.0.0.1:37556","RemoteIpAddress":"::1","$type":"UserLoginSuccessEvent"}
2019-06-07 00:21:52.540 -03:00 [INF] {"Username":"alice","Provider":null,"ProviderUserId":null,"SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","DisplayName":null,"Endpoint":"Token","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HLNAUNGPSTE5:00000002","TimeStamp":"2019-06-07T03:21:52.0000000Z","ProcessId":12892,"LocalIpAddress":"127.0.0.1:37556","RemoteIpAddress":"::1","$type":"UserLoginSuccessEvent"}
2019-06-07 00:21:52.540 -03:00 [DBG] Resource owner password token request validation success.
2019-06-07 00:21:52.540 -03:00 [INF] Token request validation success
{"ClientId":"ro.client","ClientName":null,"GrantType":"password","Scopes":"api1","AuthorizationCode":null,"RefreshToken":null,"UserName":"alice","AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"grant_type":"password","client_id":"ro.client","client_secret":"***REDACTED***","username":"alice","password":"***REDACTED***"},"$type":"TokenRequestValidationLog"}
2019-06-07 00:21:52.540 -03:00 [DBG] Getting claims for access token for client: ro.client
2019-06-07 00:21:52.540 -03:00 [DBG] Getting claims for access token for subject: 4ba1c3a0-b786-421d-b88a-740f38d9cafa
2019-06-07 00:21:52.575 -03:00 [INF] {"ClientId":"ro.client","ClientName":null,"RedirectUri":null,"Endpoint":"Token","SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","Scopes":"api1","GrantType":"password","Tokens":[{"TokenType":"access_token","TokenValue":"****NzHQ","$type":"Token"}],"Category":"Token","Name":"Token Issued Success","EventType":"Success","Id":2000,"Message":null,"ActivityId":"0HLNAUNGPSTE5:00000002","TimeStamp":"2019-06-07T03:21:52.0000000Z","ProcessId":12892,"LocalIpAddress":"127.0.0.1:37556","RemoteIpAddress":"::1","$type":"TokenIssuedSuccessEvent"}
2019-06-07 00:21:52.576 -03:00 [DBG] Token request success.
2019-06-07 00:22:48.357 -03:00 [DBG] CORS request made for path: /connect/token from origin: http://localhost:5000/
2019-06-07 00:22:48.362 -03:00 [DBG] Origin http://localhost:5000/ is allowed: false
2019-06-07 00:22:48.362 -03:00 [WRN] CorsPolicyService did not allow origin: http://localhost:5000/
2019-06-07 00:22:48.362 -03:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-06-07 00:22:48.363 -03:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-06-07 00:22:48.363 -03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-06-07 00:22:48.363 -03:00 [DBG] Start token request.
2019-06-07 00:22:48.363 -03:00 [DBG] Start client validation
2019-06-07 00:22:48.363 -03:00 [DBG] Start parsing Basic Authentication secret
2019-06-07 00:22:48.363 -03:00 [DBG] Start parsing for secret in post body
2019-06-07 00:22:48.364 -03:00 [DBG] Parser found secret: PostBodySecretParser
2019-06-07 00:22:48.364 -03:00 [DBG] Secret id found: ro.client
2019-06-07 00:22:48.374 -03:00 [DBG] ro.client found in database: true
2019-06-07 00:22:48.375 -03:00 [DBG] client configuration validation for client ro.client succeeded.
2019-06-07 00:22:48.375 -03:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-06-07 00:22:48.375 -03:00 [DBG] Client validation success
2019-06-07 00:22:48.375 -03:00 [INF] {"ClientId":"ro.client","AuthenticationMethod":"SharedSecret","Category":"Authentication","Name":"Client Authentication Success","EventType":"Success","Id":1010,"Message":null,"ActivityId":"0HLNAUNGPSTE5:00000003","TimeStamp":"2019-06-07T03:22:48.0000000Z","ProcessId":12892,"LocalIpAddress":"127.0.0.1:37556","RemoteIpAddress":"127.0.0.1","$type":"ClientAuthenticationSuccessEvent"}
2019-06-07 00:22:48.375 -03:00 [DBG] Start token request validation
2019-06-07 00:22:48.375 -03:00 [DBG] Start resource owner password token request validation
2019-06-07 00:22:48.377 -03:00 [DBG] Found [] identity scopes in database
2019-06-07 00:22:48.386 -03:00 [DBG] Found ["api1"] API scopes in database
2019-06-07 00:22:48.387 -03:00 [DBG] Found [] identity scopes in database
2019-06-07 00:22:48.392 -03:00 [DBG] Found ["api1"] API scopes in database
2019-06-07 00:22:48.416 -03:00 [INF] Credentials validated for username: alice
2019-06-07 00:22:48.416 -03:00 [INF] {"Username":"alice","Provider":null,"ProviderUserId":null,"SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","DisplayName":"alice","Endpoint":"Token","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HLNAUNGPSTE5:00000003","TimeStamp":"2019-06-07T03:22:48.0000000Z","ProcessId":12892,"LocalIpAddress":"127.0.0.1:37556","RemoteIpAddress":"127.0.0.1","$type":"UserLoginSuccessEvent"}
2019-06-07 00:22:48.417 -03:00 [INF] {"Username":"alice","Provider":null,"ProviderUserId":null,"SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","DisplayName":null,"Endpoint":"Token","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HLNAUNGPSTE5:00000003","TimeStamp":"2019-06-07T03:22:48.0000000Z","ProcessId":12892,"LocalIpAddress":"127.0.0.1:37556","RemoteIpAddress":"127.0.0.1","$type":"UserLoginSuccessEvent"}
2019-06-07 00:22:48.417 -03:00 [DBG] Resource owner password token request validation success.
2019-06-07 00:22:48.417 -03:00 [INF] Token request validation success
{"ClientId":"ro.client","ClientName":null,"GrantType":"password","Scopes":"api1","AuthorizationCode":null,"RefreshToken":null,"UserName":"alice","AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"grant_type":"password","client_id":"ro.client","client_secret":"***REDACTED***","username":"alice","password":"***REDACTED***"},"$type":"TokenRequestValidationLog"}
2019-06-07 00:22:48.417 -03:00 [DBG] Getting claims for access token for client: ro.client
2019-06-07 00:22:48.417 -03:00 [DBG] Getting claims for access token for subject: 4ba1c3a0-b786-421d-b88a-740f38d9cafa
2019-06-07 00:22:48.450 -03:00 [INF] {"ClientId":"ro.client","ClientName":null,"RedirectUri":null,"Endpoint":"Token","SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","Scopes":"api1","GrantType":"password","Tokens":[{"TokenType":"access_token","TokenValue":"****CuiQ","$type":"Token"}],"Category":"Token","Name":"Token Issued Success","EventType":"Success","Id":2000,"Message":null,"ActivityId":"0HLNAUNGPSTE5:00000003","TimeStamp":"2019-06-07T03:22:48.0000000Z","ProcessId":12892,"LocalIpAddress":"127.0.0.1:37556","RemoteIpAddress":"127.0.0.1","$type":"TokenIssuedSuccessEvent"}
2019-06-07 00:22:48.450 -03:00 [DBG] Token request success.
2019-06-07 00:24:44.622 -03:00 [DBG] CORS request made for path: /connect/token from origin: http://localhost:5000/
2019-06-07 00:24:44.630 -03:00 [DBG] Origin http://localhost:5000/ is allowed: false
2019-06-07 00:24:44.631 -03:00 [WRN] CorsPolicyService did not allow origin: http://localhost:5000/
2019-06-07 00:24:44.631 -03:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-06-07 00:24:44.632 -03:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-06-07 00:24:44.632 -03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-06-07 00:24:44.632 -03:00 [DBG] Start token request.
2019-06-07 00:24:44.632 -03:00 [DBG] Start client validation
2019-06-07 00:24:44.632 -03:00 [DBG] Start parsing Basic Authentication secret
2019-06-07 00:24:44.632 -03:00 [DBG] Start parsing for secret in post body
2019-06-07 00:24:44.633 -03:00 [DBG] Parser found secret: PostBodySecretParser
2019-06-07 00:24:44.633 -03:00 [DBG] Secret id found: ro.client
2019-06-07 00:24:44.644 -03:00 [DBG] ro.client found in database: true
2019-06-07 00:24:44.645 -03:00 [DBG] client configuration validation for client ro.client succeeded.
2019-06-07 00:24:44.646 -03:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-06-07 00:24:44.646 -03:00 [DBG] Client validation success
2019-06-07 00:24:44.646 -03:00 [INF] {"ClientId":"ro.client","AuthenticationMethod":"SharedSecret","Category":"Authentication","Name":"Client Authentication Success","EventType":"Success","Id":1010,"Message":null,"ActivityId":"0HLNAUNGPSTE6:00000001","TimeStamp":"2019-06-07T03:24:44.0000000Z","ProcessId":12892,"LocalIpAddress":"127.0.0.1:37556","RemoteIpAddress":"127.0.0.1","$type":"ClientAuthenticationSuccessEvent"}
2019-06-07 00:24:44.646 -03:00 [DBG] Start token request validation
2019-06-07 00:24:44.646 -03:00 [DBG] Start resource owner password token request validation
2019-06-07 00:24:44.649 -03:00 [DBG] Found [] identity scopes in database
2019-06-07 00:24:44.657 -03:00 [DBG] Found ["api1"] API scopes in database
2019-06-07 00:24:44.659 -03:00 [DBG] Found [] identity scopes in database
2019-06-07 00:24:44.665 -03:00 [DBG] Found ["api1"] API scopes in database
2019-06-07 00:24:44.683 -03:00 [INF] Credentials validated for username: alice
2019-06-07 00:24:44.683 -03:00 [INF] {"Username":"alice","Provider":null,"ProviderUserId":null,"SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","DisplayName":"alice","Endpoint":"Token","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HLNAUNGPSTE6:00000001","TimeStamp":"2019-06-07T03:24:44.0000000Z","ProcessId":12892,"LocalIpAddress":"127.0.0.1:37556","RemoteIpAddress":"127.0.0.1","$type":"UserLoginSuccessEvent"}
2019-06-07 00:24:44.684 -03:00 [INF] {"Username":"alice","Provider":null,"ProviderUserId":null,"SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","DisplayName":null,"Endpoint":"Token","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HLNAUNGPSTE6:00000001","TimeStamp":"2019-06-07T03:24:44.0000000Z","ProcessId":12892,"LocalIpAddress":"127.0.0.1:37556","RemoteIpAddress":"127.0.0.1","$type":"UserLoginSuccessEvent"}
2019-06-07 00:24:44.684 -03:00 [DBG] Resource owner password token request validation success.
2019-06-07 00:24:44.684 -03:00 [INF] Token request validation success
{"ClientId":"ro.client","ClientName":null,"GrantType":"password","Scopes":"api1","AuthorizationCode":null,"RefreshToken":null,"UserName":"alice","AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"grant_type":"password","client_id":"ro.client","client_secret":"***REDACTED***","username":"alice","password":"***REDACTED***"},"$type":"TokenRequestValidationLog"}
2019-06-07 00:24:44.684 -03:00 [DBG] Getting claims for access token for client: ro.client
2019-06-07 00:24:44.685 -03:00 [DBG] Getting claims for access token for subject: 4ba1c3a0-b786-421d-b88a-740f38d9cafa
2019-06-07 00:24:44.699 -03:00 [INF] {"ClientId":"ro.client","ClientName":null,"RedirectUri":null,"Endpoint":"Token","SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","Scopes":"api1","GrantType":"password","Tokens":[{"TokenType":"access_token","TokenValue":"****rkyg","$type":"Token"}],"Category":"Token","Name":"Token Issued Success","EventType":"Success","Id":2000,"Message":null,"ActivityId":"0HLNAUNGPSTE6:00000001","TimeStamp":"2019-06-07T03:24:44.0000000Z","ProcessId":12892,"LocalIpAddress":"127.0.0.1:37556","RemoteIpAddress":"127.0.0.1","$type":"TokenIssuedSuccessEvent"}
2019-06-07 00:24:44.699 -03:00 [DBG] Token request success.
2019-06-07 00:26:43.278 -03:00 [DBG] CORS request made for path: /connect/token from origin: http://localhost:5000/
2019-06-07 00:26:43.288 -03:00 [DBG] Origin http://localhost:5000/ is allowed: false
2019-06-07 00:26:43.289 -03:00 [WRN] CorsPolicyService did not allow origin: http://localhost:5000/
2019-06-07 00:26:43.289 -03:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-06-07 00:26:43.290 -03:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-06-07 00:26:43.290 -03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-06-07 00:26:43.290 -03:00 [DBG] Start token request.
2019-06-07 00:26:43.291 -03:00 [DBG] Start client validation
2019-06-07 00:26:43.291 -03:00 [DBG] Start parsing Basic Authentication secret
2019-06-07 00:26:43.291 -03:00 [DBG] Start parsing for secret in post body
2019-06-07 00:26:43.291 -03:00 [DBG] Parser found secret: PostBodySecretParser
2019-06-07 00:26:43.292 -03:00 [DBG] Secret id found: ro.client
2019-06-07 00:26:43.304 -03:00 [DBG] ro.client found in database: true
2019-06-07 00:26:43.304 -03:00 [DBG] client configuration validation for client ro.client succeeded.
2019-06-07 00:26:43.304 -03:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-06-07 00:26:43.305 -03:00 [DBG] Client validation success
2019-06-07 00:26:43.305 -03:00 [INF] {"ClientId":"ro.client","AuthenticationMethod":"SharedSecret","Category":"Authentication","Name":"Client Authentication Success","EventType":"Success","Id":1010,"Message":null,"ActivityId":"0HLNAUNGPSTE7:00000001","TimeStamp":"2019-06-07T03:26:43.0000000Z","ProcessId":12892,"LocalIpAddress":"127.0.0.1:37556","RemoteIpAddress":"127.0.0.1","$type":"ClientAuthenticationSuccessEvent"}
2019-06-07 00:26:43.305 -03:00 [DBG] Start token request validation
2019-06-07 00:26:43.305 -03:00 [DBG] Start resource owner password token request validation
2019-06-07 00:26:43.308 -03:00 [DBG] Found [] identity scopes in database
2019-06-07 00:26:43.316 -03:00 [DBG] Found ["api1"] API scopes in database
2019-06-07 00:26:43.318 -03:00 [DBG] Found [] identity scopes in database
2019-06-07 00:26:43.326 -03:00 [DBG] Found ["api1"] API scopes in database
2019-06-07 00:26:43.332 -03:00 [INF] No user found matching username: alicee
2019-06-07 00:26:43.343 -03:00 [INF] {"Username":"alicee","Endpoint":"Token","Category":"Authentication","Name":"User Login Failure","EventType":"Failure","Id":1001,"Message":"invalid username","ActivityId":"0HLNAUNGPSTE7:00000001","TimeStamp":"2019-06-07T03:26:43.0000000Z","ProcessId":12892,"LocalIpAddress":"127.0.0.1:37556","RemoteIpAddress":"127.0.0.1","$type":"UserLoginFailureEvent"}
2019-06-07 00:26:43.345 -03:00 [INF] User authentication failed: ["invalid_username_or_password"], request details: {"ClientId":"ro.client","ClientName":null,"GrantType":"password","Scopes":"api1","AuthorizationCode":null,"RefreshToken":null,"UserName":"alicee","AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"grant_type":"password","client_id":"ro.client","client_secret":"***REDACTED***","username":"alicee","password":"***REDACTED***"},"$type":"TokenRequestValidationLog"}
2019-06-07 00:26:43.345 -03:00 [INF] {"Username":"alicee","Endpoint":"UI","Category":"Authentication","Name":"User Login Failure","EventType":"Failure","Id":1001,"Message":"invalid_username_or_password","ActivityId":"0HLNAUNGPSTE7:00000001","TimeStamp":"2019-06-07T03:26:43.0000000Z","ProcessId":12892,"LocalIpAddress":"127.0.0.1:37556","RemoteIpAddress":"127.0.0.1","$type":"UserLoginFailureEvent"}
2019-06-07 00:26:43.349 -03:00 [INF] {"ClientId":"ro.client","ClientName":null,"RedirectUri":null,"Endpoint":"Token","SubjectId":null,"Scopes":"api1","GrantType":"password","Error":"invalid_grant","ErrorDescription":"invalid_username_or_password","Category":"Token","Name":"Token Issued Failure","EventType":"Failure","Id":2001,"Message":null,"ActivityId":"0HLNAUNGPSTE7:00000001","TimeStamp":"2019-06-07T03:26:43.0000000Z","ProcessId":12892,"LocalIpAddress":"127.0.0.1:37556","RemoteIpAddress":"127.0.0.1","$type":"TokenIssuedFailureEvent"}
2019-06-07 00:26:44.932 -03:00 [DBG] CORS request made for path: /connect/token from origin: http://localhost:5000/
2019-06-07 00:26:44.935 -03:00 [DBG] Origin http://localhost:5000/ is allowed: false
2019-06-07 00:26:44.935 -03:00 [WRN] CorsPolicyService did not allow origin: http://localhost:5000/
2019-06-07 00:26:44.935 -03:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-06-07 00:26:44.936 -03:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-06-07 00:26:44.936 -03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-06-07 00:26:44.936 -03:00 [DBG] Start token request.
2019-06-07 00:26:44.936 -03:00 [DBG] Start client validation
2019-06-07 00:26:44.936 -03:00 [DBG] Start parsing Basic Authentication secret
2019-06-07 00:26:44.936 -03:00 [DBG] Start parsing for secret in post body
2019-06-07 00:26:44.937 -03:00 [DBG] Parser found secret: PostBodySecretParser
2019-06-07 00:26:44.937 -03:00 [DBG] Secret id found: ro.client
2019-06-07 00:26:44.950 -03:00 [DBG] ro.client found in database: true
2019-06-07 00:26:44.950 -03:00 [DBG] client configuration validation for client ro.client succeeded.
2019-06-07 00:26:44.950 -03:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-06-07 00:26:44.950 -03:00 [DBG] Client validation success
2019-06-07 00:26:44.950 -03:00 [INF] {"ClientId":"ro.client","AuthenticationMethod":"SharedSecret","Category":"Authentication","Name":"Client Authentication Success","EventType":"Success","Id":1010,"Message":null,"ActivityId":"0HLNAUNGPSTE7:00000002","TimeStamp":"2019-06-07T03:26:44.0000000Z","ProcessId":12892,"LocalIpAddress":"127.0.0.1:37556","RemoteIpAddress":"127.0.0.1","$type":"ClientAuthenticationSuccessEvent"}
2019-06-07 00:26:44.951 -03:00 [DBG] Start token request validation
2019-06-07 00:26:44.951 -03:00 [DBG] Start resource owner password token request validation
2019-06-07 00:26:44.953 -03:00 [DBG] Found [] identity scopes in database
2019-06-07 00:26:44.963 -03:00 [DBG] Found ["api1"] API scopes in database
2019-06-07 00:26:44.965 -03:00 [DBG] Found [] identity scopes in database
2019-06-07 00:26:44.972 -03:00 [DBG] Found ["api1"] API scopes in database
2019-06-07 00:26:44.978 -03:00 [INF] No user found matching username: alicee
2019-06-07 00:26:44.980 -03:00 [INF] {"Username":"alicee","Endpoint":"Token","Category":"Authentication","Name":"User Login Failure","EventType":"Failure","Id":1001,"Message":"invalid username","ActivityId":"0HLNAUNGPSTE7:00000002","TimeStamp":"2019-06-07T03:26:44.0000000Z","ProcessId":12892,"LocalIpAddress":"127.0.0.1:37556","RemoteIpAddress":"127.0.0.1","$type":"UserLoginFailureEvent"}
2019-06-07 00:26:44.980 -03:00 [INF] User authentication failed: ["invalid_username_or_password"], request details: {"ClientId":"ro.client","ClientName":null,"GrantType":"password","Scopes":"api1","AuthorizationCode":null,"RefreshToken":null,"UserName":"alicee","AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"grant_type":"password","client_id":"ro.client","client_secret":"***REDACTED***","username":"alicee","password":"***REDACTED***"},"$type":"TokenRequestValidationLog"}
2019-06-07 00:26:44.980 -03:00 [INF] {"Username":"alicee","Endpoint":"UI","Category":"Authentication","Name":"User Login Failure","EventType":"Failure","Id":1001,"Message":"invalid_username_or_password","ActivityId":"0HLNAUNGPSTE7:00000002","TimeStamp":"2019-06-07T03:26:44.0000000Z","ProcessId":12892,"LocalIpAddress":"127.0.0.1:37556","RemoteIpAddress":"127.0.0.1","$type":"UserLoginFailureEvent"}
2019-06-07 00:26:44.980 -03:00 [INF] {"ClientId":"ro.client","ClientName":null,"RedirectUri":null,"Endpoint":"Token","SubjectId":null,"Scopes":"api1","GrantType":"password","Error":"invalid_grant","ErrorDescription":"invalid_username_or_password","Category":"Token","Name":"Token Issued Failure","EventType":"Failure","Id":2001,"Message":null,"ActivityId":"0HLNAUNGPSTE7:00000002","TimeStamp":"2019-06-07T03:26:44.0000000Z","ProcessId":12892,"LocalIpAddress":"127.0.0.1:37556","RemoteIpAddress":"127.0.0.1","$type":"TokenIssuedFailureEvent"}
2019-06-07 00:28:00.267 -03:00 [DBG] CORS request made for path: /connect/token from origin: http://localhost:5000/
2019-06-07 00:28:00.279 -03:00 [DBG] Origin http://localhost:5000/ is allowed: false
2019-06-07 00:28:00.279 -03:00 [WRN] CorsPolicyService did not allow origin: http://localhost:5000/
2019-06-07 00:28:00.279 -03:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-06-07 00:28:00.280 -03:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-06-07 00:28:00.280 -03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-06-07 00:28:00.280 -03:00 [DBG] Start token request.
2019-06-07 00:28:00.280 -03:00 [DBG] Start client validation
2019-06-07 00:28:00.280 -03:00 [DBG] Start parsing Basic Authentication secret
2019-06-07 00:28:00.280 -03:00 [DBG] Start parsing for secret in post body
2019-06-07 00:28:00.281 -03:00 [DBG] Parser found secret: PostBodySecretParser
2019-06-07 00:28:00.281 -03:00 [DBG] Secret id found: ro.client
2019-06-07 00:28:00.292 -03:00 [DBG] ro.client found in database: true
2019-06-07 00:28:00.292 -03:00 [DBG] client configuration validation for client ro.client succeeded.
2019-06-07 00:28:00.292 -03:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-06-07 00:28:00.292 -03:00 [DBG] Client validation success
2019-06-07 00:28:00.293 -03:00 [INF] {"ClientId":"ro.client","AuthenticationMethod":"SharedSecret","Category":"Authentication","Name":"Client Authentication Success","EventType":"Success","Id":1010,"Message":null,"ActivityId":"0HLNAUNGPSTE8:00000001","TimeStamp":"2019-06-07T03:28:00.0000000Z","ProcessId":12892,"LocalIpAddress":"127.0.0.1:37556","RemoteIpAddress":"127.0.0.1","$type":"ClientAuthenticationSuccessEvent"}
2019-06-07 00:28:00.293 -03:00 [DBG] Start token request validation
2019-06-07 00:28:00.293 -03:00 [DBG] Start resource owner password token request validation
2019-06-07 00:28:00.295 -03:00 [DBG] Found [] identity scopes in database
2019-06-07 00:28:00.305 -03:00 [DBG] Found ["api1"] API scopes in database
2019-06-07 00:28:00.307 -03:00 [DBG] Found [] identity scopes in database
2019-06-07 00:28:00.313 -03:00 [DBG] Found ["api1"] API scopes in database
2019-06-07 00:28:00.317 -03:00 [INF] No user found matching username: alicee
2019-06-07 00:28:00.319 -03:00 [INF] {"Username":"alicee","Endpoint":"Token","Category":"Authentication","Name":"User Login Failure","EventType":"Failure","Id":1001,"Message":"invalid username","ActivityId":"0HLNAUNGPSTE8:00000001","TimeStamp":"2019-06-07T03:28:00.0000000Z","ProcessId":12892,"LocalIpAddress":"127.0.0.1:37556","RemoteIpAddress":"127.0.0.1","$type":"UserLoginFailureEvent"}
2019-06-07 00:28:00.320 -03:00 [INF] User authentication failed: ["invalid_username_or_password"], request details: {"ClientId":"ro.client","ClientName":null,"GrantType":"password","Scopes":"api1","AuthorizationCode":null,"RefreshToken":null,"UserName":"alicee","AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"grant_type":"password","client_id":"ro.client","client_secret":"***REDACTED***","username":"alicee","password":"***REDACTED***"},"$type":"TokenRequestValidationLog"}
2019-06-07 00:28:00.320 -03:00 [INF] {"Username":"alicee","Endpoint":"UI","Category":"Authentication","Name":"User Login Failure","EventType":"Failure","Id":1001,"Message":"invalid_username_or_password","ActivityId":"0HLNAUNGPSTE8:00000001","TimeStamp":"2019-06-07T03:28:00.0000000Z","ProcessId":12892,"LocalIpAddress":"127.0.0.1:37556","RemoteIpAddress":"127.0.0.1","$type":"UserLoginFailureEvent"}
2019-06-07 00:28:00.320 -03:00 [INF] {"ClientId":"ro.client","ClientName":null,"RedirectUri":null,"Endpoint":"Token","SubjectId":null,"Scopes":"api1","GrantType":"password","Error":"invalid_grant","ErrorDescription":"invalid_username_or_password","Category":"Token","Name":"Token Issued Failure","EventType":"Failure","Id":2001,"Message":null,"ActivityId":"0HLNAUNGPSTE8:00000001","TimeStamp":"2019-06-07T03:28:00.0000000Z","ProcessId":12892,"LocalIpAddress":"127.0.0.1:37556","RemoteIpAddress":"127.0.0.1","$type":"TokenIssuedFailureEvent"}
2019-06-07 00:28:46.237 -03:00 [DBG] CORS request made for path: /connect/token from origin: http://localhost:5000/
2019-06-07 00:28:46.239 -03:00 [DBG] Origin http://localhost:5000/ is allowed: false
2019-06-07 00:28:46.239 -03:00 [WRN] CorsPolicyService did not allow origin: http://localhost:5000/
2019-06-07 00:28:46.239 -03:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-06-07 00:28:46.240 -03:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-06-07 00:28:46.240 -03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-06-07 00:28:46.240 -03:00 [DBG] Start token request.
2019-06-07 00:28:46.240 -03:00 [DBG] Start client validation
2019-06-07 00:28:46.240 -03:00 [DBG] Start parsing Basic Authentication secret
2019-06-07 00:28:46.240 -03:00 [DBG] Start parsing for secret in post body
2019-06-07 00:28:46.241 -03:00 [DBG] Parser found secret: PostBodySecretParser
2019-06-07 00:28:46.241 -03:00 [DBG] Secret id found: ro.client
2019-06-07 00:28:46.252 -03:00 [DBG] ro.client found in database: true
2019-06-07 00:28:46.252 -03:00 [DBG] client configuration validation for client ro.client succeeded.
2019-06-07 00:28:46.252 -03:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-06-07 00:28:46.252 -03:00 [DBG] Client validation success
2019-06-07 00:28:46.253 -03:00 [INF] {"ClientId":"ro.client","AuthenticationMethod":"SharedSecret","Category":"Authentication","Name":"Client Authentication Success","EventType":"Success","Id":1010,"Message":null,"ActivityId":"0HLNAUNGPSTE8:00000002","TimeStamp":"2019-06-07T03:28:46.0000000Z","ProcessId":12892,"LocalIpAddress":"127.0.0.1:37556","RemoteIpAddress":"127.0.0.1","$type":"ClientAuthenticationSuccessEvent"}
2019-06-07 00:28:46.253 -03:00 [DBG] Start token request validation
2019-06-07 00:28:46.253 -03:00 [DBG] Start resource owner password token request validation
2019-06-07 00:28:46.255 -03:00 [DBG] Found [] identity scopes in database
2019-06-07 00:28:46.266 -03:00 [DBG] Found ["api1"] API scopes in database
2019-06-07 00:28:46.268 -03:00 [DBG] Found [] identity scopes in database
2019-06-07 00:28:46.276 -03:00 [DBG] Found ["api1"] API scopes in database
2019-06-07 00:28:46.283 -03:00 [INF] No user found matching username: alicee
2019-06-07 00:28:46.284 -03:00 [INF] {"Username":"alicee","Endpoint":"Token","Category":"Authentication","Name":"User Login Failure","EventType":"Failure","Id":1001,"Message":"invalid username","ActivityId":"0HLNAUNGPSTE8:00000002","TimeStamp":"2019-06-07T03:28:46.0000000Z","ProcessId":12892,"LocalIpAddress":"127.0.0.1:37556","RemoteIpAddress":"127.0.0.1","$type":"UserLoginFailureEvent"}
2019-06-07 00:28:46.285 -03:00 [INF] User authentication failed: ["invalid_username_or_password"], request details: {"ClientId":"ro.client","ClientName":null,"GrantType":"password","Scopes":"api1","AuthorizationCode":null,"RefreshToken":null,"UserName":"alicee","AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"grant_type":"password","client_id":"ro.client","client_secret":"***REDACTED***","username":"alicee","password":"***REDACTED***"},"$type":"TokenRequestValidationLog"}
2019-06-07 00:28:46.285 -03:00 [INF] {"Username":"alicee","Endpoint":"UI","Category":"Authentication","Name":"User Login Failure","EventType":"Failure","Id":1001,"Message":"invalid_username_or_password","ActivityId":"0HLNAUNGPSTE8:00000002","TimeStamp":"2019-06-07T03:28:46.0000000Z","ProcessId":12892,"LocalIpAddress":"127.0.0.1:37556","RemoteIpAddress":"127.0.0.1","$type":"UserLoginFailureEvent"}
2019-06-07 00:28:46.285 -03:00 [INF] {"ClientId":"ro.client","ClientName":null,"RedirectUri":null,"Endpoint":"Token","SubjectId":null,"Scopes":"api1","GrantType":"password","Error":"invalid_grant","ErrorDescription":"invalid_username_or_password","Category":"Token","Name":"Token Issued Failure","EventType":"Failure","Id":2001,"Message":null,"ActivityId":"0HLNAUNGPSTE8:00000002","TimeStamp":"2019-06-07T03:28:46.0000000Z","ProcessId":12892,"LocalIpAddress":"127.0.0.1:37556","RemoteIpAddress":"127.0.0.1","$type":"TokenIssuedFailureEvent"}
2019-06-07 00:29:07.032 -03:00 [DBG] CORS request made for path: /connect/token from origin: http://localhost:5000/
2019-06-07 00:29:07.034 -03:00 [DBG] Origin http://localhost:5000/ is allowed: false
2019-06-07 00:29:07.035 -03:00 [WRN] CorsPolicyService did not allow origin: http://localhost:5000/
2019-06-07 00:29:07.035 -03:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-06-07 00:29:07.035 -03:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-06-07 00:29:07.035 -03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-06-07 00:29:07.035 -03:00 [DBG] Start token request.
2019-06-07 00:29:07.035 -03:00 [DBG] Start client validation
2019-06-07 00:29:07.036 -03:00 [DBG] Start parsing Basic Authentication secret
2019-06-07 00:29:07.036 -03:00 [DBG] Start parsing for secret in post body
2019-06-07 00:29:07.036 -03:00 [DBG] Parser found secret: PostBodySecretParser
2019-06-07 00:29:07.036 -03:00 [DBG] Secret id found: ro.client
2019-06-07 00:29:07.048 -03:00 [DBG] ro.client found in database: true
2019-06-07 00:29:07.049 -03:00 [DBG] client configuration validation for client ro.client succeeded.
2019-06-07 00:29:07.049 -03:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-06-07 00:29:07.049 -03:00 [DBG] Client validation success
2019-06-07 00:29:07.049 -03:00 [INF] {"ClientId":"ro.client","AuthenticationMethod":"SharedSecret","Category":"Authentication","Name":"Client Authentication Success","EventType":"Success","Id":1010,"Message":null,"ActivityId":"0HLNAUNGPSTE8:00000003","TimeStamp":"2019-06-07T03:29:07.0000000Z","ProcessId":12892,"LocalIpAddress":"127.0.0.1:37556","RemoteIpAddress":"127.0.0.1","$type":"ClientAuthenticationSuccessEvent"}
2019-06-07 00:29:07.049 -03:00 [DBG] Start token request validation
2019-06-07 00:29:07.049 -03:00 [DBG] Start resource owner password token request validation
2019-06-07 00:29:07.051 -03:00 [DBG] Found [] identity scopes in database
2019-06-07 00:29:07.058 -03:00 [DBG] Found ["api1"] API scopes in database
2019-06-07 00:29:07.060 -03:00 [DBG] Found [] identity scopes in database
2019-06-07 00:29:07.067 -03:00 [DBG] Found ["api1"] API scopes in database
2019-06-07 00:29:07.073 -03:00 [INF] No user found matching username: alicee
2019-06-07 00:29:07.074 -03:00 [INF] {"Username":"alicee","Endpoint":"Token","Category":"Authentication","Name":"User Login Failure","EventType":"Failure","Id":1001,"Message":"invalid username","ActivityId":"0HLNAUNGPSTE8:00000003","TimeStamp":"2019-06-07T03:29:07.0000000Z","ProcessId":12892,"LocalIpAddress":"127.0.0.1:37556","RemoteIpAddress":"127.0.0.1","$type":"UserLoginFailureEvent"}
2019-06-07 00:29:07.075 -03:00 [INF] User authentication failed: ["invalid_username_or_password"], request details: {"ClientId":"ro.client","ClientName":null,"GrantType":"password","Scopes":"api1","AuthorizationCode":null,"RefreshToken":null,"UserName":"alicee","AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"grant_type":"password","client_id":"ro.client","client_secret":"***REDACTED***","username":"alicee","password":"***REDACTED***"},"$type":"TokenRequestValidationLog"}
2019-06-07 00:29:07.075 -03:00 [INF] {"Username":"alicee","Endpoint":"UI","Category":"Authentication","Name":"User Login Failure","EventType":"Failure","Id":1001,"Message":"invalid_username_or_password","ActivityId":"0HLNAUNGPSTE8:00000003","TimeStamp":"2019-06-07T03:29:07.0000000Z","ProcessId":12892,"LocalIpAddress":"127.0.0.1:37556","RemoteIpAddress":"127.0.0.1","$type":"UserLoginFailureEvent"}
2019-06-07 00:29:07.076 -03:00 [INF] {"ClientId":"ro.client","ClientName":null,"RedirectUri":null,"Endpoint":"Token","SubjectId":null,"Scopes":"api1","GrantType":"password","Error":"invalid_grant","ErrorDescription":"invalid_username_or_password","Category":"Token","Name":"Token Issued Failure","EventType":"Failure","Id":2001,"Message":null,"ActivityId":"0HLNAUNGPSTE8:00000003","TimeStamp":"2019-06-07T03:29:07.0000000Z","ProcessId":12892,"LocalIpAddress":"127.0.0.1:37556","RemoteIpAddress":"127.0.0.1","$type":"TokenIssuedFailureEvent"}
2019-06-07 00:30:10.641 -03:00 [DBG] CORS request made for path: /connect/token from origin: http://localhost:5000/
2019-06-07 00:30:10.644 -03:00 [DBG] Origin http://localhost:5000/ is allowed: false
2019-06-07 00:30:10.644 -03:00 [WRN] CorsPolicyService did not allow origin: http://localhost:5000/
2019-06-07 00:30:10.644 -03:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-06-07 00:30:10.645 -03:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-06-07 00:30:10.645 -03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-06-07 00:30:10.645 -03:00 [DBG] Start token request.
2019-06-07 00:30:10.645 -03:00 [DBG] Start client validation
2019-06-07 00:30:10.645 -03:00 [DBG] Start parsing Basic Authentication secret
2019-06-07 00:30:10.646 -03:00 [DBG] Start parsing for secret in post body
2019-06-07 00:30:10.646 -03:00 [DBG] Parser found secret: PostBodySecretParser
2019-06-07 00:30:10.646 -03:00 [DBG] Secret id found: ro.client
2019-06-07 00:30:10.656 -03:00 [DBG] ro.client found in database: true
2019-06-07 00:30:10.656 -03:00 [DBG] client configuration validation for client ro.client succeeded.
2019-06-07 00:30:10.657 -03:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-06-07 00:30:10.657 -03:00 [DBG] Client validation success
2019-06-07 00:30:10.657 -03:00 [INF] {"ClientId":"ro.client","AuthenticationMethod":"SharedSecret","Category":"Authentication","Name":"Client Authentication Success","EventType":"Success","Id":1010,"Message":null,"ActivityId":"0HLNAUNGPSTE9:00000001","TimeStamp":"2019-06-07T03:30:10.0000000Z","ProcessId":12892,"LocalIpAddress":"127.0.0.1:37556","RemoteIpAddress":"127.0.0.1","$type":"ClientAuthenticationSuccessEvent"}
2019-06-07 00:30:10.658 -03:00 [DBG] Start token request validation
2019-06-07 00:30:10.658 -03:00 [DBG] Start resource owner password token request validation
2019-06-07 00:30:10.660 -03:00 [DBG] Found [] identity scopes in database
2019-06-07 00:30:10.666 -03:00 [DBG] Found ["api1"] API scopes in database
2019-06-07 00:30:10.667 -03:00 [DBG] Found [] identity scopes in database
2019-06-07 00:30:10.675 -03:00 [DBG] Found ["api1"] API scopes in database
2019-06-07 00:30:10.691 -03:00 [INF] No user found matching username: alicee
2019-06-07 00:30:10.693 -03:00 [INF] {"Username":"alicee","Endpoint":"Token","Category":"Authentication","Name":"User Login Failure","EventType":"Failure","Id":1001,"Message":"invalid username","ActivityId":"0HLNAUNGPSTE9:00000001","TimeStamp":"2019-06-07T03:30:10.0000000Z","ProcessId":12892,"LocalIpAddress":"127.0.0.1:37556","RemoteIpAddress":"127.0.0.1","$type":"UserLoginFailureEvent"}
2019-06-07 00:30:10.693 -03:00 [INF] User authentication failed: ["invalid_username_or_password"], request details: {"ClientId":"ro.client","ClientName":null,"GrantType":"password","Scopes":"api1","AuthorizationCode":null,"RefreshToken":null,"UserName":"alicee","AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"grant_type":"password","client_id":"ro.client","client_secret":"***REDACTED***","username":"alicee","password":"***REDACTED***"},"$type":"TokenRequestValidationLog"}
2019-06-07 00:30:10.694 -03:00 [INF] {"Username":"alicee","Endpoint":"UI","Category":"Authentication","Name":"User Login Failure","EventType":"Failure","Id":1001,"Message":"invalid_username_or_password","ActivityId":"0HLNAUNGPSTE9:00000001","TimeStamp":"2019-06-07T03:30:10.0000000Z","ProcessId":12892,"LocalIpAddress":"127.0.0.1:37556","RemoteIpAddress":"127.0.0.1","$type":"UserLoginFailureEvent"}
2019-06-07 00:30:10.694 -03:00 [INF] {"ClientId":"ro.client","ClientName":null,"RedirectUri":null,"Endpoint":"Token","SubjectId":null,"Scopes":"api1","GrantType":"password","Error":"invalid_grant","ErrorDescription":"invalid_username_or_password","Category":"Token","Name":"Token Issued Failure","EventType":"Failure","Id":2001,"Message":null,"ActivityId":"0HLNAUNGPSTE9:00000001","TimeStamp":"2019-06-07T03:30:10.0000000Z","ProcessId":12892,"LocalIpAddress":"127.0.0.1:37556","RemoteIpAddress":"127.0.0.1","$type":"TokenIssuedFailureEvent"}
2019-06-07 00:30:15.734 -03:00 [DBG] CORS request made for path: /connect/token from origin: http://localhost:5000/
2019-06-07 00:30:15.737 -03:00 [DBG] Origin http://localhost:5000/ is allowed: false
2019-06-07 00:30:15.737 -03:00 [WRN] CorsPolicyService did not allow origin: http://localhost:5000/
2019-06-07 00:30:15.737 -03:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-06-07 00:30:15.738 -03:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-06-07 00:30:15.738 -03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-06-07 00:30:15.738 -03:00 [DBG] Start token request.
2019-06-07 00:30:15.738 -03:00 [DBG] Start client validation
2019-06-07 00:30:15.738 -03:00 [DBG] Start parsing Basic Authentication secret
2019-06-07 00:30:15.738 -03:00 [DBG] Start parsing for secret in post body
2019-06-07 00:30:15.739 -03:00 [DBG] Parser found secret: PostBodySecretParser
2019-06-07 00:30:15.739 -03:00 [DBG] Secret id found: ro.client
2019-06-07 00:30:15.749 -03:00 [DBG] ro.client found in database: true
2019-06-07 00:30:15.749 -03:00 [DBG] client configuration validation for client ro.client succeeded.
2019-06-07 00:30:15.749 -03:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-06-07 00:30:15.749 -03:00 [DBG] Client validation success
2019-06-07 00:30:15.750 -03:00 [INF] {"ClientId":"ro.client","AuthenticationMethod":"SharedSecret","Category":"Authentication","Name":"Client Authentication Success","EventType":"Success","Id":1010,"Message":null,"ActivityId":"0HLNAUNGPSTE9:00000002","TimeStamp":"2019-06-07T03:30:15.0000000Z","ProcessId":12892,"LocalIpAddress":"127.0.0.1:37556","RemoteIpAddress":"127.0.0.1","$type":"ClientAuthenticationSuccessEvent"}
2019-06-07 00:30:15.750 -03:00 [DBG] Start token request validation
2019-06-07 00:30:15.750 -03:00 [DBG] Start resource owner password token request validation
2019-06-07 00:30:15.751 -03:00 [DBG] Found [] identity scopes in database
2019-06-07 00:30:15.759 -03:00 [DBG] Found ["api1"] API scopes in database
2019-06-07 00:30:15.762 -03:00 [DBG] Found [] identity scopes in database
2019-06-07 00:30:15.768 -03:00 [DBG] Found ["api1"] API scopes in database
2019-06-07 00:30:15.793 -03:00 [INF] Credentials validated for username: alice
2019-06-07 00:30:15.793 -03:00 [INF] {"Username":"alice","Provider":null,"ProviderUserId":null,"SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","DisplayName":"alice","Endpoint":"Token","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HLNAUNGPSTE9:00000002","TimeStamp":"2019-06-07T03:30:15.0000000Z","ProcessId":12892,"LocalIpAddress":"127.0.0.1:37556","RemoteIpAddress":"127.0.0.1","$type":"UserLoginSuccessEvent"}
2019-06-07 00:30:15.794 -03:00 [INF] {"Username":"alice","Provider":null,"ProviderUserId":null,"SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","DisplayName":null,"Endpoint":"Token","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HLNAUNGPSTE9:00000002","TimeStamp":"2019-06-07T03:30:15.0000000Z","ProcessId":12892,"LocalIpAddress":"127.0.0.1:37556","RemoteIpAddress":"127.0.0.1","$type":"UserLoginSuccessEvent"}
2019-06-07 00:30:15.794 -03:00 [DBG] Resource owner password token request validation success.
2019-06-07 00:30:15.794 -03:00 [INF] Token request validation success
{"ClientId":"ro.client","ClientName":null,"GrantType":"password","Scopes":"api1","AuthorizationCode":null,"RefreshToken":null,"UserName":"alice","AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"grant_type":"password","client_id":"ro.client","client_secret":"***REDACTED***","username":"alice","password":"***REDACTED***"},"$type":"TokenRequestValidationLog"}
2019-06-07 00:30:15.794 -03:00 [DBG] Getting claims for access token for client: ro.client
2019-06-07 00:30:15.794 -03:00 [DBG] Getting claims for access token for subject: 4ba1c3a0-b786-421d-b88a-740f38d9cafa
2019-06-07 00:30:15.809 -03:00 [INF] {"ClientId":"ro.client","ClientName":null,"RedirectUri":null,"Endpoint":"Token","SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","Scopes":"api1","GrantType":"password","Tokens":[{"TokenType":"access_token","TokenValue":"****UbQw","$type":"Token"}],"Category":"Token","Name":"Token Issued Success","EventType":"Success","Id":2000,"Message":null,"ActivityId":"0HLNAUNGPSTE9:00000002","TimeStamp":"2019-06-07T03:30:15.0000000Z","ProcessId":12892,"LocalIpAddress":"127.0.0.1:37556","RemoteIpAddress":"127.0.0.1","$type":"TokenIssuedSuccessEvent"}
2019-06-07 00:30:15.810 -03:00 [DBG] Token request success.
2019-06-07 08:43:13.027 -03:00 [DBG] CORS request made for path: /connect/token from origin: http://localhost:5000/
2019-06-07 08:43:13.104 -03:00 [DBG] Origin http://localhost:5000/ is allowed: false
2019-06-07 08:43:13.105 -03:00 [WRN] CorsPolicyService did not allow origin: http://localhost:5000/
2019-06-07 08:43:13.105 -03:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-06-07 08:43:13.105 -03:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-06-07 08:43:13.105 -03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-06-07 08:43:13.105 -03:00 [DBG] Start token request.
2019-06-07 08:43:13.106 -03:00 [DBG] Start client validation
2019-06-07 08:43:13.106 -03:00 [DBG] Start parsing Basic Authentication secret
2019-06-07 08:43:13.106 -03:00 [DBG] Start parsing for secret in post body
2019-06-07 08:43:13.106 -03:00 [DBG] Parser found secret: PostBodySecretParser
2019-06-07 08:43:13.106 -03:00 [DBG] Secret id found: ro.client
2019-06-07 08:43:13.134 -03:00 [DBG] ro.client found in database: true
2019-06-07 08:43:13.135 -03:00 [DBG] client configuration validation for client ro.client succeeded.
2019-06-07 08:43:13.135 -03:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-06-07 08:43:13.135 -03:00 [DBG] Client validation success
2019-06-07 08:43:13.135 -03:00 [INF] {"ClientId":"ro.client","AuthenticationMethod":"SharedSecret","Category":"Authentication","Name":"Client Authentication Success","EventType":"Success","Id":1010,"Message":null,"ActivityId":"0HLNAUNGPSTEA:00000001","TimeStamp":"2019-06-07T11:43:13.0000000Z","ProcessId":12892,"LocalIpAddress":"127.0.0.1:37556","RemoteIpAddress":"127.0.0.1","$type":"ClientAuthenticationSuccessEvent"}
2019-06-07 08:43:13.135 -03:00 [DBG] Start token request validation
2019-06-07 08:43:13.135 -03:00 [DBG] Start resource owner password token request validation
2019-06-07 08:43:13.139 -03:00 [DBG] Found [] identity scopes in database
2019-06-07 08:43:13.172 -03:00 [DBG] Found ["api1"] API scopes in database
2019-06-07 08:43:13.173 -03:00 [DBG] Found [] identity scopes in database
2019-06-07 08:43:13.175 -03:00 [DBG] Found ["api1"] API scopes in database
2019-06-07 08:43:13.185 -03:00 [INF] No user found matching username: alicee
2019-06-07 08:43:13.185 -03:00 [INF] {"Username":"alicee","Endpoint":"Token","Category":"Authentication","Name":"User Login Failure","EventType":"Failure","Id":1001,"Message":"invalid username","ActivityId":"0HLNAUNGPSTEA:00000001","TimeStamp":"2019-06-07T11:43:13.0000000Z","ProcessId":12892,"LocalIpAddress":"127.0.0.1:37556","RemoteIpAddress":"127.0.0.1","$type":"UserLoginFailureEvent"}
2019-06-07 08:43:13.186 -03:00 [INF] User authentication failed: ["invalid_username_or_password"], request details: {"ClientId":"ro.client","ClientName":null,"GrantType":"password","Scopes":"api1","AuthorizationCode":null,"RefreshToken":null,"UserName":"alicee","AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"grant_type":"password","client_id":"ro.client","client_secret":"***REDACTED***","username":"alicee","password":"***REDACTED***"},"$type":"TokenRequestValidationLog"}
2019-06-07 08:43:13.186 -03:00 [INF] {"Username":"alicee","Endpoint":"UI","Category":"Authentication","Name":"User Login Failure","EventType":"Failure","Id":1001,"Message":"invalid_username_or_password","ActivityId":"0HLNAUNGPSTEA:00000001","TimeStamp":"2019-06-07T11:43:13.0000000Z","ProcessId":12892,"LocalIpAddress":"127.0.0.1:37556","RemoteIpAddress":"127.0.0.1","$type":"UserLoginFailureEvent"}
2019-06-07 08:43:13.186 -03:00 [INF] {"ClientId":"ro.client","ClientName":null,"RedirectUri":null,"Endpoint":"Token","SubjectId":null,"Scopes":"api1","GrantType":"password","Error":"invalid_grant","ErrorDescription":"invalid_username_or_password","Category":"Token","Name":"Token Issued Failure","EventType":"Failure","Id":2001,"Message":null,"ActivityId":"0HLNAUNGPSTEA:00000001","TimeStamp":"2019-06-07T11:43:13.0000000Z","ProcessId":12892,"LocalIpAddress":"127.0.0.1:37556","RemoteIpAddress":"127.0.0.1","$type":"TokenIssuedFailureEvent"}
2019-06-07 08:43:19.433 -03:00 [DBG] CORS request made for path: /connect/token from origin: http://localhost:5000/
2019-06-07 08:43:19.434 -03:00 [DBG] Origin http://localhost:5000/ is allowed: false
2019-06-07 08:43:19.435 -03:00 [WRN] CorsPolicyService did not allow origin: http://localhost:5000/
2019-06-07 08:43:19.435 -03:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-06-07 08:43:19.436 -03:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-06-07 08:43:19.436 -03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-06-07 08:43:19.436 -03:00 [DBG] Start token request.
2019-06-07 08:43:19.436 -03:00 [DBG] Start client validation
2019-06-07 08:43:19.436 -03:00 [DBG] Start parsing Basic Authentication secret
2019-06-07 08:43:19.436 -03:00 [DBG] Start parsing for secret in post body
2019-06-07 08:43:19.437 -03:00 [DBG] Parser found secret: PostBodySecretParser
2019-06-07 08:43:19.437 -03:00 [DBG] Secret id found: ro.client
2019-06-07 08:43:19.441 -03:00 [DBG] ro.client found in database: true
2019-06-07 08:43:19.441 -03:00 [DBG] client configuration validation for client ro.client succeeded.
2019-06-07 08:43:19.441 -03:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-06-07 08:43:19.441 -03:00 [DBG] Client validation success
2019-06-07 08:43:19.441 -03:00 [INF] {"ClientId":"ro.client","AuthenticationMethod":"SharedSecret","Category":"Authentication","Name":"Client Authentication Success","EventType":"Success","Id":1010,"Message":null,"ActivityId":"0HLNAUNGPSTEA:00000002","TimeStamp":"2019-06-07T11:43:19.0000000Z","ProcessId":12892,"LocalIpAddress":"127.0.0.1:37556","RemoteIpAddress":"127.0.0.1","$type":"ClientAuthenticationSuccessEvent"}
2019-06-07 08:43:19.442 -03:00 [DBG] Start token request validation
2019-06-07 08:43:19.442 -03:00 [DBG] Start resource owner password token request validation
2019-06-07 08:43:19.443 -03:00 [DBG] Found [] identity scopes in database
2019-06-07 08:43:19.448 -03:00 [DBG] Found ["api1"] API scopes in database
2019-06-07 08:43:19.449 -03:00 [DBG] Found [] identity scopes in database
2019-06-07 08:43:19.452 -03:00 [DBG] Found ["api1"] API scopes in database
2019-06-07 08:43:19.467 -03:00 [INF] Credentials validated for username: alice
2019-06-07 08:43:19.467 -03:00 [INF] {"Username":"alice","Provider":null,"ProviderUserId":null,"SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","DisplayName":"alice","Endpoint":"Token","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HLNAUNGPSTEA:00000002","TimeStamp":"2019-06-07T11:43:19.0000000Z","ProcessId":12892,"LocalIpAddress":"127.0.0.1:37556","RemoteIpAddress":"127.0.0.1","$type":"UserLoginSuccessEvent"}
2019-06-07 08:43:19.468 -03:00 [INF] {"Username":"alice","Provider":null,"ProviderUserId":null,"SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","DisplayName":null,"Endpoint":"Token","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HLNAUNGPSTEA:00000002","TimeStamp":"2019-06-07T11:43:19.0000000Z","ProcessId":12892,"LocalIpAddress":"127.0.0.1:37556","RemoteIpAddress":"127.0.0.1","$type":"UserLoginSuccessEvent"}
2019-06-07 08:43:19.468 -03:00 [DBG] Resource owner password token request validation success.
2019-06-07 08:43:19.468 -03:00 [INF] Token request validation success
{"ClientId":"ro.client","ClientName":null,"GrantType":"password","Scopes":"api1","AuthorizationCode":null,"RefreshToken":null,"UserName":"alice","AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"grant_type":"password","client_id":"ro.client","client_secret":"***REDACTED***","username":"alice","password":"***REDACTED***"},"$type":"TokenRequestValidationLog"}
2019-06-07 08:43:19.468 -03:00 [DBG] Getting claims for access token for client: ro.client
2019-06-07 08:43:19.468 -03:00 [DBG] Getting claims for access token for subject: 4ba1c3a0-b786-421d-b88a-740f38d9cafa
2019-06-07 08:43:19.479 -03:00 [INF] {"ClientId":"ro.client","ClientName":null,"RedirectUri":null,"Endpoint":"Token","SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","Scopes":"api1","GrantType":"password","Tokens":[{"TokenType":"access_token","TokenValue":"****MiVw","$type":"Token"}],"Category":"Token","Name":"Token Issued Success","EventType":"Success","Id":2000,"Message":null,"ActivityId":"0HLNAUNGPSTEA:00000002","TimeStamp":"2019-06-07T11:43:19.0000000Z","ProcessId":12892,"LocalIpAddress":"127.0.0.1:37556","RemoteIpAddress":"127.0.0.1","$type":"TokenIssuedSuccessEvent"}
2019-06-07 08:43:19.479 -03:00 [DBG] Token request success.
2019-06-07 09:19:09.844 -03:00 [INF] Removing 0 grants
2019-06-09 11:57:25.491 -03:00 [INF] Starting IdentityServer4 version 2.3.2.0
2019-06-09 11:57:25.938 -03:00 [INF] Using the default authentication scheme Identity.Application for IdentityServer
2019-06-09 11:57:25.938 -03:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for authentication
2019-06-09 11:57:25.938 -03:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-in
2019-06-09 11:57:25.938 -03:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-out
2019-06-09 11:57:25.938 -03:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for challenge
2019-06-09 11:57:25.938 -03:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for forbid
2019-06-09 11:57:26.250 -03:00 [DBG] Starting grant removal
2019-06-09 11:57:26.595 -03:00 [DBG] Login Url: /Account/Login
2019-06-09 11:57:26.598 -03:00 [DBG] Login Return Url Parameter: ReturnUrl
2019-06-09 11:57:26.599 -03:00 [DBG] Logout Url: /Account/Logout
2019-06-09 11:57:26.599 -03:00 [DBG] ConsentUrl Url: /consent
2019-06-09 11:57:26.599 -03:00 [DBG] Consent Return Url Parameter: returnUrl
2019-06-09 11:57:26.599 -03:00 [DBG] Error Url: /home/error
2019-06-09 11:57:26.600 -03:00 [DBG] Error Id Parameter: errorId
2019-06-09 11:57:48.745 -03:00 [DBG] CORS request made for path: /connect/token from origin: http://localhost:5000/
2019-06-09 11:57:51.571 -03:00 [DBG] Origin http://localhost:5000/ is allowed: false
2019-06-09 11:57:51.581 -03:00 [WRN] CorsPolicyService did not allow origin: http://localhost:5000/
2019-06-09 11:57:51.583 -03:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-06-09 11:57:51.629 -03:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-06-09 11:57:51.629 -03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-06-09 11:57:51.643 -03:00 [DBG] Start token request.
2019-06-09 11:57:51.655 -03:00 [DBG] Start client validation
2019-06-09 11:57:51.664 -03:00 [DBG] Start parsing Basic Authentication secret
2019-06-09 11:57:51.672 -03:00 [DBG] Start parsing for secret in post body
2019-06-09 11:57:51.702 -03:00 [DBG] Parser found secret: PostBodySecretParser
2019-06-09 11:57:51.702 -03:00 [DBG] Secret id found: ro.client
2019-06-09 11:57:52.783 -03:00 [DBG] ro.client found in database: true
2019-06-09 11:57:52.792 -03:00 [DBG] client configuration validation for client ro.client succeeded.
2019-06-09 11:57:52.805 -03:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-06-09 11:57:52.805 -03:00 [DBG] Client validation success
2019-06-09 11:57:52.850 -03:00 [INF] {"ClientId":"ro.client","AuthenticationMethod":"SharedSecret","Category":"Authentication","Name":"Client Authentication Success","EventType":"Success","Id":1010,"Message":null,"ActivityId":"0HLNCTB4KLBTU:00000002","TimeStamp":"2019-06-09T14:57:52.0000000Z","ProcessId":44672,"LocalIpAddress":"127.0.0.1:18331","RemoteIpAddress":"127.0.0.1","$type":"ClientAuthenticationSuccessEvent"}
2019-06-09 11:57:52.875 -03:00 [DBG] Start token request validation
2019-06-09 11:57:52.894 -03:00 [DBG] Start resource owner password token request validation
2019-06-09 11:57:52.956 -03:00 [DBG] Found [] identity scopes in database
2019-06-09 11:57:53.188 -03:00 [DBG] Found ["api1"] API scopes in database
2019-06-09 11:57:53.209 -03:00 [DBG] Found [] identity scopes in database
2019-06-09 11:57:53.217 -03:00 [DBG] Found ["api1"] API scopes in database
2019-06-09 11:57:53.513 -03:00 [INF] Credentials validated for username: alice
2019-06-09 11:57:53.516 -03:00 [INF] {"Username":"alice","Provider":null,"ProviderUserId":null,"SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","DisplayName":"alice","Endpoint":"Token","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HLNCTB4KLBTU:00000002","TimeStamp":"2019-06-09T14:57:53.0000000Z","ProcessId":44672,"LocalIpAddress":"127.0.0.1:18331","RemoteIpAddress":"127.0.0.1","$type":"UserLoginSuccessEvent"}
2019-06-09 11:57:53.529 -03:00 [INF] {"Username":"alice","Provider":null,"ProviderUserId":null,"SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","DisplayName":null,"Endpoint":"Token","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HLNCTB4KLBTU:00000002","TimeStamp":"2019-06-09T14:57:53.0000000Z","ProcessId":44672,"LocalIpAddress":"127.0.0.1:18331","RemoteIpAddress":"127.0.0.1","$type":"UserLoginSuccessEvent"}
2019-06-09 11:57:53.530 -03:00 [DBG] Resource owner password token request validation success.
2019-06-09 11:57:53.551 -03:00 [INF] Token request validation success
{"ClientId":"ro.client","ClientName":null,"GrantType":"password","Scopes":"api1","AuthorizationCode":null,"RefreshToken":null,"UserName":"alice","AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"grant_type":"password","client_id":"ro.client","client_secret":"***REDACTED***","username":"alice","password":"***REDACTED***"},"$type":"TokenRequestValidationLog"}
2019-06-09 11:57:53.597 -03:00 [DBG] Getting claims for access token for client: ro.client
2019-06-09 11:57:53.598 -03:00 [DBG] Getting claims for access token for subject: 4ba1c3a0-b786-421d-b88a-740f38d9cafa
2019-06-09 11:57:53.904 -03:00 [INF] {"ClientId":"ro.client","ClientName":null,"RedirectUri":null,"Endpoint":"Token","SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","Scopes":"api1","GrantType":"password","Tokens":[{"TokenType":"access_token","TokenValue":"****jBAw","$type":"Token"}],"Category":"Token","Name":"Token Issued Success","EventType":"Success","Id":2000,"Message":null,"ActivityId":"0HLNCTB4KLBTU:00000002","TimeStamp":"2019-06-09T14:57:53.0000000Z","ProcessId":44672,"LocalIpAddress":"127.0.0.1:18331","RemoteIpAddress":"127.0.0.1","$type":"TokenIssuedSuccessEvent"}
2019-06-09 11:57:53.906 -03:00 [DBG] Token request success.
2019-06-09 12:00:41.177 -03:00 [DBG] CORS request made for path: /connect/token from origin: http://localhost:5000/
2019-06-09 12:00:41.196 -03:00 [DBG] Origin http://localhost:5000/ is allowed: false
2019-06-09 12:00:41.196 -03:00 [WRN] CorsPolicyService did not allow origin: http://localhost:5000/
2019-06-09 12:00:41.197 -03:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-06-09 12:00:41.204 -03:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-06-09 12:00:41.205 -03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-06-09 12:00:41.205 -03:00 [DBG] Start token request.
2019-06-09 12:00:41.205 -03:00 [DBG] Start client validation
2019-06-09 12:00:41.206 -03:00 [DBG] Start parsing Basic Authentication secret
2019-06-09 12:00:41.214 -03:00 [DBG] Start parsing for secret in post body
2019-06-09 12:00:41.223 -03:00 [DBG] Parser found secret: PostBodySecretParser
2019-06-09 12:00:41.223 -03:00 [DBG] Secret id found: ro.client
2019-06-09 12:00:41.231 -03:00 [DBG] ro.client found in database: true
2019-06-09 12:00:41.232 -03:00 [DBG] client configuration validation for client ro.client succeeded.
2019-06-09 12:00:41.232 -03:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-06-09 12:00:41.232 -03:00 [DBG] Client validation success
2019-06-09 12:00:41.232 -03:00 [INF] {"ClientId":"ro.client","AuthenticationMethod":"SharedSecret","Category":"Authentication","Name":"Client Authentication Success","EventType":"Success","Id":1010,"Message":null,"ActivityId":"0HLNCTB4KLBTV:00000001","TimeStamp":"2019-06-09T15:00:41.0000000Z","ProcessId":44672,"LocalIpAddress":"127.0.0.1:18331","RemoteIpAddress":"127.0.0.1","$type":"ClientAuthenticationSuccessEvent"}
2019-06-09 12:00:41.233 -03:00 [DBG] Start token request validation
2019-06-09 12:00:41.233 -03:00 [DBG] Start resource owner password token request validation
2019-06-09 12:00:41.235 -03:00 [DBG] Found [] identity scopes in database
2019-06-09 12:00:41.245 -03:00 [DBG] Found ["api1"] API scopes in database
2019-06-09 12:00:41.247 -03:00 [DBG] Found [] identity scopes in database
2019-06-09 12:00:41.253 -03:00 [DBG] Found ["api1"] API scopes in database
2019-06-09 12:00:41.274 -03:00 [INF] Credentials validated for username: alice
2019-06-09 12:00:41.274 -03:00 [INF] {"Username":"alice","Provider":null,"ProviderUserId":null,"SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","DisplayName":"alice","Endpoint":"Token","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HLNCTB4KLBTV:00000001","TimeStamp":"2019-06-09T15:00:41.0000000Z","ProcessId":44672,"LocalIpAddress":"127.0.0.1:18331","RemoteIpAddress":"127.0.0.1","$type":"UserLoginSuccessEvent"}
2019-06-09 12:00:41.276 -03:00 [INF] {"Username":"alice","Provider":null,"ProviderUserId":null,"SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","DisplayName":null,"Endpoint":"Token","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HLNCTB4KLBTV:00000001","TimeStamp":"2019-06-09T15:00:41.0000000Z","ProcessId":44672,"LocalIpAddress":"127.0.0.1:18331","RemoteIpAddress":"127.0.0.1","$type":"UserLoginSuccessEvent"}
2019-06-09 12:00:41.276 -03:00 [DBG] Resource owner password token request validation success.
2019-06-09 12:00:41.276 -03:00 [INF] Token request validation success
{"ClientId":"ro.client","ClientName":null,"GrantType":"password","Scopes":"api1","AuthorizationCode":null,"RefreshToken":null,"UserName":"alice","AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"grant_type":"password","client_id":"ro.client","client_secret":"***REDACTED***","username":"alice","password":"***REDACTED***"},"$type":"TokenRequestValidationLog"}
2019-06-09 12:00:41.277 -03:00 [DBG] Getting claims for access token for client: ro.client
2019-06-09 12:00:41.277 -03:00 [DBG] Getting claims for access token for subject: 4ba1c3a0-b786-421d-b88a-740f38d9cafa
2019-06-09 12:00:41.295 -03:00 [INF] {"ClientId":"ro.client","ClientName":null,"RedirectUri":null,"Endpoint":"Token","SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","Scopes":"api1","GrantType":"password","Tokens":[{"TokenType":"access_token","TokenValue":"****D8Ug","$type":"Token"}],"Category":"Token","Name":"Token Issued Success","EventType":"Success","Id":2000,"Message":null,"ActivityId":"0HLNCTB4KLBTV:00000001","TimeStamp":"2019-06-09T15:00:41.0000000Z","ProcessId":44672,"LocalIpAddress":"127.0.0.1:18331","RemoteIpAddress":"127.0.0.1","$type":"TokenIssuedSuccessEvent"}
2019-06-09 12:00:41.295 -03:00 [DBG] Token request success.
2019-06-09 12:11:15.533 -03:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2019-06-09 12:11:15.537 -03:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2019-06-09 12:11:15.537 -03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2019-06-09 12:11:15.548 -03:00 [DBG] Start discovery request
2019-06-09 12:11:17.402 -03:00 [DBG] Found ["openid","profile","api1"] as all scopes in database
2019-06-09 12:11:49.733 -03:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-06-09 12:11:49.733 -03:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-06-09 12:11:49.734 -03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-06-09 12:11:49.734 -03:00 [DBG] Start token request.
2019-06-09 12:11:49.734 -03:00 [DBG] Start client validation
2019-06-09 12:11:49.734 -03:00 [DBG] Start parsing Basic Authentication secret
2019-06-09 12:11:49.734 -03:00 [DBG] Start parsing for secret in post body
2019-06-09 12:11:49.735 -03:00 [DBG] Parser found secret: PostBodySecretParser
2019-06-09 12:11:49.735 -03:00 [DBG] Secret id found: ro.client
2019-06-09 12:11:49.785 -03:00 [DBG] ro.client found in database: true
2019-06-09 12:11:49.785 -03:00 [DBG] client configuration validation for client ro.client succeeded.
2019-06-09 12:11:49.785 -03:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-06-09 12:11:49.785 -03:00 [DBG] Client validation success
2019-06-09 12:11:49.787 -03:00 [INF] {"ClientId":"ro.client","AuthenticationMethod":"SharedSecret","Category":"Authentication","Name":"Client Authentication Success","EventType":"Success","Id":1010,"Message":null,"ActivityId":"0HLNCTB4KLBU0:00000003","TimeStamp":"2019-06-09T15:11:49.0000000Z","ProcessId":44672,"LocalIpAddress":"127.0.0.1:18331","RemoteIpAddress":"::1","$type":"ClientAuthenticationSuccessEvent"}
2019-06-09 12:11:49.787 -03:00 [DBG] Start token request validation
2019-06-09 12:11:49.787 -03:00 [DBG] Start resource owner password token request validation
2019-06-09 12:11:49.793 -03:00 [DBG] Found [] identity scopes in database
2019-06-09 12:11:49.835 -03:00 [DBG] Found ["api1"] API scopes in database
2019-06-09 12:11:49.837 -03:00 [DBG] Found [] identity scopes in database
2019-06-09 12:11:49.841 -03:00 [DBG] Found ["api1"] API scopes in database
2019-06-09 12:11:49.860 -03:00 [INF] Credentials validated for username: alice
2019-06-09 12:11:49.861 -03:00 [INF] {"Username":"alice","Provider":null,"ProviderUserId":null,"SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","DisplayName":"alice","Endpoint":"Token","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HLNCTB4KLBU0:00000003","TimeStamp":"2019-06-09T15:11:49.0000000Z","ProcessId":44672,"LocalIpAddress":"127.0.0.1:18331","RemoteIpAddress":"::1","$type":"UserLoginSuccessEvent"}
2019-06-09 12:11:49.861 -03:00 [INF] {"Username":"alice","Provider":null,"ProviderUserId":null,"SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","DisplayName":null,"Endpoint":"Token","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HLNCTB4KLBU0:00000003","TimeStamp":"2019-06-09T15:11:49.0000000Z","ProcessId":44672,"LocalIpAddress":"127.0.0.1:18331","RemoteIpAddress":"::1","$type":"UserLoginSuccessEvent"}
2019-06-09 12:11:49.861 -03:00 [DBG] Resource owner password token request validation success.
2019-06-09 12:11:49.861 -03:00 [INF] Token request validation success
{"ClientId":"ro.client","ClientName":null,"GrantType":"password","Scopes":"api1","AuthorizationCode":null,"RefreshToken":null,"UserName":"alice","AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"grant_type":"password","client_id":"ro.client","client_secret":"***REDACTED***","username":"alice","password":"***REDACTED***"},"$type":"TokenRequestValidationLog"}
2019-06-09 12:11:49.861 -03:00 [DBG] Getting claims for access token for client: ro.client
2019-06-09 12:11:49.862 -03:00 [DBG] Getting claims for access token for subject: 4ba1c3a0-b786-421d-b88a-740f38d9cafa
2019-06-09 12:11:49.879 -03:00 [INF] {"ClientId":"ro.client","ClientName":null,"RedirectUri":null,"Endpoint":"Token","SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","Scopes":"api1","GrantType":"password","Tokens":[{"TokenType":"access_token","TokenValue":"****VXWQ","$type":"Token"}],"Category":"Token","Name":"Token Issued Success","EventType":"Success","Id":2000,"Message":null,"ActivityId":"0HLNCTB4KLBU0:00000003","TimeStamp":"2019-06-09T15:11:49.0000000Z","ProcessId":44672,"LocalIpAddress":"127.0.0.1:18331","RemoteIpAddress":"::1","$type":"TokenIssuedSuccessEvent"}
2019-06-09 12:11:49.879 -03:00 [DBG] Token request success.
2019-06-09 12:12:42.468 -03:00 [DBG] Request path /connect/userinfo matched to endpoint type Userinfo
2019-06-09 12:12:42.472 -03:00 [DBG] Endpoint enabled: Userinfo, successfully created handler: IdentityServer4.Endpoints.UserInfoEndpoint
2019-06-09 12:12:42.472 -03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.UserInfoEndpoint for /connect/userinfo
2019-06-09 12:12:42.487 -03:00 [DBG] Start userinfo request
2019-06-09 12:12:42.499 -03:00 [DBG] Bearer token found in header
2019-06-09 12:12:42.663 -03:00 [DBG] ro.client found in database: true
2019-06-09 12:12:42.663 -03:00 [DBG] client configuration validation for client ro.client succeeded.
2019-06-09 12:12:42.678 -03:00 [DBG] ro.client found in database: true
2019-06-09 12:12:42.678 -03:00 [DBG] client configuration validation for client ro.client succeeded.
2019-06-09 12:12:42.713 -03:00 [ERR] Checking for expected scope openid failed
{"ClientId":null,"ClientName":null,"ValidateLifetime":true,"AccessTokenType":"Jwt","ExpectedScope":"openid","TokenHandle":null,"JwtId":null,"Claims":{"nbf":1560093109,"exp":1560096709,"iss":"http://localhost:5000","aud":["http://localhost:5000/resources","api1"],"client_id":"ro.client","sub":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","auth_time":1560093109,"idp":"local","scope":"api1","amr":"pwd"},"$type":"TokenValidationLog"}
2019-06-09 12:13:26.350 -03:00 [DBG] Request path /connect/userinfo matched to endpoint type Userinfo
2019-06-09 12:13:26.359 -03:00 [DBG] Endpoint enabled: Userinfo, successfully created handler: IdentityServer4.Endpoints.UserInfoEndpoint
2019-06-09 12:13:26.359 -03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.UserInfoEndpoint for /connect/userinfo
2019-06-09 12:13:26.359 -03:00 [DBG] Start userinfo request
2019-06-09 12:13:26.359 -03:00 [DBG] Bearer token found in header
2019-06-09 12:13:26.407 -03:00 [DBG] ro.client found in database: true
2019-06-09 12:13:26.408 -03:00 [DBG] client configuration validation for client ro.client succeeded.
2019-06-09 12:13:26.415 -03:00 [DBG] ro.client found in database: true
2019-06-09 12:13:26.415 -03:00 [DBG] client configuration validation for client ro.client succeeded.
2019-06-09 12:13:26.424 -03:00 [ERR] Checking for expected scope openid failed
{"ClientId":null,"ClientName":null,"ValidateLifetime":true,"AccessTokenType":"Jwt","ExpectedScope":"openid","TokenHandle":null,"JwtId":null,"Claims":{"nbf":1560093109,"exp":1560096709,"iss":"http://localhost:5000","aud":["http://localhost:5000/resources","api1"],"client_id":"ro.client","sub":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","auth_time":1560093109,"idp":"local","scope":"api1","amr":"pwd"},"$type":"TokenValidationLog"}
2019-06-09 12:14:09.156 -03:00 [DBG] Request path /connect/userinfo matched to endpoint type Userinfo
2019-06-09 12:14:09.157 -03:00 [DBG] Endpoint enabled: Userinfo, successfully created handler: IdentityServer4.Endpoints.UserInfoEndpoint
2019-06-09 12:14:09.157 -03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.UserInfoEndpoint for /connect/userinfo
2019-06-09 12:14:09.157 -03:00 [DBG] Start userinfo request
2019-06-09 12:14:09.165 -03:00 [DBG] Bearer token not found
2019-06-09 12:14:09.165 -03:00 [ERR] No access token found.
2019-06-09 12:15:01.545 -03:00 [DBG] Request path /connect/userinfo matched to endpoint type Userinfo
2019-06-09 12:15:01.546 -03:00 [DBG] Endpoint enabled: Userinfo, successfully created handler: IdentityServer4.Endpoints.UserInfoEndpoint
2019-06-09 12:15:01.546 -03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.UserInfoEndpoint for /connect/userinfo
2019-06-09 12:15:01.546 -03:00 [DBG] Start userinfo request
2019-06-09 12:15:01.546 -03:00 [DBG] Bearer token found in header
2019-06-09 12:15:01.591 -03:00 [DBG] ro.client found in database: true
2019-06-09 12:15:01.591 -03:00 [DBG] client configuration validation for client ro.client succeeded.
2019-06-09 12:15:01.599 -03:00 [DBG] ro.client found in database: true
2019-06-09 12:15:01.600 -03:00 [DBG] client configuration validation for client ro.client succeeded.
2019-06-09 12:15:01.609 -03:00 [ERR] Checking for expected scope openid failed
{"ClientId":null,"ClientName":null,"ValidateLifetime":true,"AccessTokenType":"Jwt","ExpectedScope":"openid","TokenHandle":null,"JwtId":null,"Claims":{"nbf":1560093109,"exp":1560096709,"iss":"http://localhost:5000","aud":["http://localhost:5000/resources","api1"],"client_id":"ro.client","sub":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","auth_time":1560093109,"idp":"local","scope":"api1","amr":"pwd"},"$type":"TokenValidationLog"}
2019-06-09 12:15:50.733 -03:00 [DBG] Request path /connect/userinfo matched to endpoint type Userinfo
2019-06-09 12:15:50.733 -03:00 [DBG] Endpoint enabled: Userinfo, successfully created handler: IdentityServer4.Endpoints.UserInfoEndpoint
2019-06-09 12:15:50.734 -03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.UserInfoEndpoint for /connect/userinfo
2019-06-09 12:15:50.734 -03:00 [DBG] Start userinfo request
2019-06-09 12:15:50.734 -03:00 [DBG] Bearer token found in header
2019-06-09 12:15:50.745 -03:00 [DBG] ro.client found in database: true
2019-06-09 12:15:50.746 -03:00 [DBG] client configuration validation for client ro.client succeeded.
2019-06-09 12:15:50.752 -03:00 [DBG] ro.client found in database: true
2019-06-09 12:15:50.752 -03:00 [DBG] client configuration validation for client ro.client succeeded.
2019-06-09 12:15:50.760 -03:00 [ERR] Checking for expected scope openid failed
{"ClientId":null,"ClientName":null,"ValidateLifetime":true,"AccessTokenType":"Jwt","ExpectedScope":"openid","TokenHandle":null,"JwtId":null,"Claims":{"nbf":1560093109,"exp":1560096709,"iss":"http://localhost:5000","aud":["http://localhost:5000/resources","api1"],"client_id":"ro.client","sub":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","auth_time":1560093109,"idp":"local","scope":"api1","amr":"pwd"},"$type":"TokenValidationLog"}
2019-06-09 12:57:26.313 -03:00 [INF] Removing 0 grants
2019-06-09 13:57:26.345 -03:00 [INF] Removing 0 grants
2019-06-09 14:57:26.368 -03:00 [INF] Removing 0 grants
2019-06-09 16:45:56.892 -03:00 [DBG] Request path /connect/userinfo matched to endpoint type Userinfo
2019-06-09 16:45:56.893 -03:00 [DBG] Endpoint enabled: Userinfo, successfully created handler: IdentityServer4.Endpoints.UserInfoEndpoint
2019-06-09 16:45:56.893 -03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.UserInfoEndpoint for /connect/userinfo
2019-06-09 16:45:56.893 -03:00 [DBG] Start userinfo request
2019-06-09 16:45:56.893 -03:00 [DBG] Bearer token found in header
2019-06-09 16:45:56.910 -03:00 [INF] JWT token validation error: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters) in C:\agent2\_work\15\s\src\Microsoft.IdentityModel.Tokens\Validators.cs:line 269
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\15\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 1212
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\15\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 763
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken) in C:\agent2\_work\15\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 747
   at IdentityServer4.Validation.TokenValidator.ValidateJwtAsync(String jwt, String audience, IEnumerable`1 validationKeys, Boolean validateLifetime) in C:\local\identity\server4\IdentityServer4\src\Validation\Default\TokenValidator.cs:line 287
2019-06-09 16:45:59.767 -03:00 [DBG] Request path /connect/userinfo matched to endpoint type Userinfo
2019-06-09 16:45:59.770 -03:00 [DBG] Endpoint enabled: Userinfo, successfully created handler: IdentityServer4.Endpoints.UserInfoEndpoint
2019-06-09 16:45:59.770 -03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.UserInfoEndpoint for /connect/userinfo
2019-06-09 16:45:59.770 -03:00 [DBG] Start userinfo request
2019-06-09 16:45:59.770 -03:00 [DBG] Bearer token found in header
2019-06-09 16:45:59.773 -03:00 [INF] JWT token validation error: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters) in C:\agent2\_work\15\s\src\Microsoft.IdentityModel.Tokens\Validators.cs:line 269
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\15\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 1212
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\15\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 763
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken) in C:\agent2\_work\15\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 747
   at IdentityServer4.Validation.TokenValidator.ValidateJwtAsync(String jwt, String audience, IEnumerable`1 validationKeys, Boolean validateLifetime) in C:\local\identity\server4\IdentityServer4\src\Validation\Default\TokenValidator.cs:line 287
2019-06-09 16:46:08.757 -03:00 [INF] Starting IdentityServer4 version 2.3.2.0
2019-06-09 16:46:08.917 -03:00 [INF] Using the default authentication scheme Identity.Application for IdentityServer
2019-06-09 16:46:08.917 -03:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for authentication
2019-06-09 16:46:08.917 -03:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-in
2019-06-09 16:46:08.917 -03:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-out
2019-06-09 16:46:08.917 -03:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for challenge
2019-06-09 16:46:08.917 -03:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for forbid
2019-06-09 16:46:09.073 -03:00 [DBG] Starting grant removal
2019-06-09 16:46:09.399 -03:00 [DBG] Login Url: /Account/Login
2019-06-09 16:46:09.403 -03:00 [DBG] Login Return Url Parameter: ReturnUrl
2019-06-09 16:46:09.403 -03:00 [DBG] Logout Url: /Account/Logout
2019-06-09 16:46:09.403 -03:00 [DBG] ConsentUrl Url: /consent
2019-06-09 16:46:09.403 -03:00 [DBG] Consent Return Url Parameter: returnUrl
2019-06-09 16:46:09.403 -03:00 [DBG] Error Url: /home/error
2019-06-09 16:46:09.403 -03:00 [DBG] Error Id Parameter: errorId
2019-06-09 16:46:12.941 -03:00 [DBG] Request path /connect/userinfo matched to endpoint type Userinfo
2019-06-09 16:46:12.955 -03:00 [DBG] Endpoint enabled: Userinfo, successfully created handler: IdentityServer4.Endpoints.UserInfoEndpoint
2019-06-09 16:46:12.956 -03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.UserInfoEndpoint for /connect/userinfo
2019-06-09 16:46:12.963 -03:00 [DBG] Start userinfo request
2019-06-09 16:46:12.968 -03:00 [DBG] Bearer token found in header
2019-06-09 16:46:13.065 -03:00 [INF] JWT token validation error: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters) in C:\agent2\_work\15\s\src\Microsoft.IdentityModel.Tokens\Validators.cs:line 269
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\15\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 1212
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\15\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 763
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken) in C:\agent2\_work\15\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 747
   at IdentityServer4.Validation.TokenValidator.ValidateJwtAsync(String jwt, String audience, IEnumerable`1 validationKeys, Boolean validateLifetime) in C:\local\identity\server4\IdentityServer4\src\Validation\Default\TokenValidator.cs:line 287
2019-06-09 16:46:14.118 -03:00 [DBG] Request path /connect/userinfo matched to endpoint type Userinfo
2019-06-09 16:46:14.119 -03:00 [DBG] Endpoint enabled: Userinfo, successfully created handler: IdentityServer4.Endpoints.UserInfoEndpoint
2019-06-09 16:46:14.121 -03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.UserInfoEndpoint for /connect/userinfo
2019-06-09 16:46:14.121 -03:00 [DBG] Start userinfo request
2019-06-09 16:46:14.121 -03:00 [DBG] Bearer token found in header
2019-06-09 16:46:14.130 -03:00 [INF] JWT token validation error: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters) in C:\agent2\_work\15\s\src\Microsoft.IdentityModel.Tokens\Validators.cs:line 269
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\15\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 1212
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\15\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 763
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken) in C:\agent2\_work\15\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 747
   at IdentityServer4.Validation.TokenValidator.ValidateJwtAsync(String jwt, String audience, IEnumerable`1 validationKeys, Boolean validateLifetime) in C:\local\identity\server4\IdentityServer4\src\Validation\Default\TokenValidator.cs:line 287
2019-06-09 16:46:43.368 -03:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-06-09 16:46:43.377 -03:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-06-09 16:46:43.377 -03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-06-09 16:46:43.385 -03:00 [DBG] Start token request.
2019-06-09 16:46:43.394 -03:00 [DBG] Start client validation
2019-06-09 16:46:43.398 -03:00 [DBG] Start parsing Basic Authentication secret
2019-06-09 16:46:43.401 -03:00 [DBG] Start parsing for secret in post body
2019-06-09 16:46:43.406 -03:00 [DBG] No secret in post body found
2019-06-09 16:46:43.406 -03:00 [DBG] Parser found no secret
2019-06-09 16:46:43.426 -03:00 [INF] {"ClientId":"unknown","Category":"Authentication","Name":"Client Authentication Failure","EventType":"Failure","Id":1011,"Message":"No client id found","ActivityId":"0HLND2CF90B4I:00000003","TimeStamp":"2019-06-09T19:46:43.0000000Z","ProcessId":47184,"LocalIpAddress":"127.0.0.1:37374","RemoteIpAddress":"::1","$type":"ClientAuthenticationFailureEvent"}
2019-06-09 16:46:43.435 -03:00 [ERR] No client identifier found
2019-06-09 16:46:51.726 -03:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-06-09 16:46:51.727 -03:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-06-09 16:46:51.727 -03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-06-09 16:46:51.727 -03:00 [DBG] Start token request.
2019-06-09 16:46:51.727 -03:00 [DBG] Start client validation
2019-06-09 16:46:51.727 -03:00 [DBG] Start parsing Basic Authentication secret
2019-06-09 16:46:51.727 -03:00 [DBG] Start parsing for secret in post body
2019-06-09 16:46:51.741 -03:00 [DBG] Parser found secret: PostBodySecretParser
2019-06-09 16:46:51.741 -03:00 [DBG] Secret id found: ro.client
2019-06-09 16:46:53.516 -03:00 [DBG] ro.client found in database: true
2019-06-09 16:46:53.524 -03:00 [DBG] client configuration validation for client ro.client succeeded.
2019-06-09 16:46:53.532 -03:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-06-09 16:46:53.532 -03:00 [DBG] Client validation success
2019-06-09 16:46:53.532 -03:00 [INF] {"ClientId":"ro.client","AuthenticationMethod":"SharedSecret","Category":"Authentication","Name":"Client Authentication Success","EventType":"Success","Id":1010,"Message":null,"ActivityId":"0HLND2CF90B4J:00000003","TimeStamp":"2019-06-09T19:46:53.0000000Z","ProcessId":47184,"LocalIpAddress":"127.0.0.1:37374","RemoteIpAddress":"::1","$type":"ClientAuthenticationSuccessEvent"}
2019-06-09 16:46:53.539 -03:00 [DBG] Start token request validation
2019-06-09 16:46:53.550 -03:00 [DBG] Start resource owner password token request validation
2019-06-09 16:46:53.604 -03:00 [DBG] Found [] identity scopes in database
2019-06-09 16:46:53.882 -03:00 [DBG] Found ["api1"] API scopes in database
2019-06-09 16:46:53.907 -03:00 [DBG] Found [] identity scopes in database
2019-06-09 16:46:53.916 -03:00 [DBG] Found ["api1"] API scopes in database
2019-06-09 16:46:54.177 -03:00 [INF] Credentials validated for username: alice
2019-06-09 16:46:54.179 -03:00 [INF] {"Username":"alice","Provider":null,"ProviderUserId":null,"SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","DisplayName":"alice","Endpoint":"Token","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HLND2CF90B4J:00000003","TimeStamp":"2019-06-09T19:46:54.0000000Z","ProcessId":47184,"LocalIpAddress":"127.0.0.1:37374","RemoteIpAddress":"::1","$type":"UserLoginSuccessEvent"}
2019-06-09 16:46:54.189 -03:00 [INF] {"Username":"alice","Provider":null,"ProviderUserId":null,"SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","DisplayName":null,"Endpoint":"Token","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HLND2CF90B4J:00000003","TimeStamp":"2019-06-09T19:46:54.0000000Z","ProcessId":47184,"LocalIpAddress":"127.0.0.1:37374","RemoteIpAddress":"::1","$type":"UserLoginSuccessEvent"}
2019-06-09 16:46:54.189 -03:00 [DBG] Resource owner password token request validation success.
2019-06-09 16:46:54.198 -03:00 [INF] Token request validation success
{"ClientId":"ro.client","ClientName":null,"GrantType":"password","Scopes":"api1 offline_access","AuthorizationCode":null,"RefreshToken":null,"UserName":"alice","AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"grant_type":"password","client_id":"ro.client","client_secret":"***REDACTED***","username":"alice","password":"***REDACTED***"},"$type":"TokenRequestValidationLog"}
2019-06-09 16:46:54.221 -03:00 [DBG] Getting claims for access token for client: ro.client
2019-06-09 16:46:54.221 -03:00 [DBG] Getting claims for access token for subject: 4ba1c3a0-b786-421d-b88a-740f38d9cafa
2019-06-09 16:46:54.345 -03:00 [DBG] Creating refresh token
2019-06-09 16:46:54.345 -03:00 [DBG] Setting an absolute lifetime: 2592000
2019-06-09 16:46:54.388 -03:00 [DBG] 6R4Kmgrf6oMLXWbc5BAFJ0DAwjR1NO/uxnmxhuqhOGs= not found in database
2019-06-09 16:46:54.442 -03:00 [INF] {"ClientId":"ro.client","ClientName":null,"RedirectUri":null,"Endpoint":"Token","SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","Scopes":"api1 offline_access","GrantType":"password","Tokens":[{"TokenType":"refresh_token","TokenValue":"****8fcc","$type":"Token"},{"TokenType":"access_token","TokenValue":"****1rVQ","$type":"Token"}],"Category":"Token","Name":"Token Issued Success","EventType":"Success","Id":2000,"Message":null,"ActivityId":"0HLND2CF90B4J:00000003","TimeStamp":"2019-06-09T19:46:54.0000000Z","ProcessId":47184,"LocalIpAddress":"127.0.0.1:37374","RemoteIpAddress":"::1","$type":"TokenIssuedSuccessEvent"}
2019-06-09 16:46:54.444 -03:00 [DBG] Token request success.
2019-06-09 16:47:38.571 -03:00 [DBG] Request path /connect/userinfo matched to endpoint type Userinfo
2019-06-09 16:47:38.572 -03:00 [DBG] Endpoint enabled: Userinfo, successfully created handler: IdentityServer4.Endpoints.UserInfoEndpoint
2019-06-09 16:47:38.572 -03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.UserInfoEndpoint for /connect/userinfo
2019-06-09 16:47:38.572 -03:00 [DBG] Start userinfo request
2019-06-09 16:47:38.572 -03:00 [DBG] Bearer token found in header
2019-06-09 16:47:38.596 -03:00 [DBG] ro.client found in database: true
2019-06-09 16:47:38.596 -03:00 [DBG] client configuration validation for client ro.client succeeded.
2019-06-09 16:47:38.602 -03:00 [DBG] ro.client found in database: true
2019-06-09 16:47:38.602 -03:00 [DBG] client configuration validation for client ro.client succeeded.
2019-06-09 16:47:38.617 -03:00 [ERR] Checking for expected scope openid failed
{"ClientId":null,"ClientName":null,"ValidateLifetime":true,"AccessTokenType":"Jwt","ExpectedScope":"openid","TokenHandle":null,"JwtId":null,"Claims":{"nbf":1560109614,"exp":1560113214,"iss":"http://localhost:5000","aud":["http://localhost:5000/resources","api1"],"client_id":"ro.client","sub":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","auth_time":1560109614,"idp":"local","scope":["api1","offline_access"],"amr":"pwd"},"$type":"TokenValidationLog"}
2019-06-09 16:49:45.114 -03:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2019-06-09 16:49:45.116 -03:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2019-06-09 16:49:45.116 -03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2019-06-09 16:49:45.119 -03:00 [DBG] Start discovery request
2019-06-09 16:49:45.235 -03:00 [DBG] Found ["openid","profile","api1"] as all scopes in database
2019-06-09 16:49:45.324 -03:00 [DBG] Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery
2019-06-09 16:49:45.349 -03:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryKeyEndpoint
2019-06-09 16:49:45.349 -03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2019-06-09 16:49:45.353 -03:00 [DBG] Start key discovery request
2019-06-09 16:53:44.401 -03:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-06-09 16:53:44.402 -03:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-06-09 16:53:44.402 -03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-06-09 16:53:44.402 -03:00 [DBG] Start token request.
2019-06-09 16:53:44.402 -03:00 [DBG] Start client validation
2019-06-09 16:53:44.402 -03:00 [DBG] Start parsing Basic Authentication secret
2019-06-09 16:53:44.403 -03:00 [DBG] Start parsing for secret in post body
2019-06-09 16:53:44.403 -03:00 [DBG] Parser found secret: PostBodySecretParser
2019-06-09 16:53:44.403 -03:00 [DBG] Secret id found: ro.client
2019-06-09 16:53:44.417 -03:00 [DBG] ro.client found in database: true
2019-06-09 16:53:44.417 -03:00 [DBG] client configuration validation for client ro.client succeeded.
2019-06-09 16:53:44.417 -03:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-06-09 16:53:44.417 -03:00 [DBG] Client validation success
2019-06-09 16:53:44.417 -03:00 [INF] {"ClientId":"ro.client","AuthenticationMethod":"SharedSecret","Category":"Authentication","Name":"Client Authentication Success","EventType":"Success","Id":1010,"Message":null,"ActivityId":"0HLND2CF90B4L:00000001","TimeStamp":"2019-06-09T19:53:44.0000000Z","ProcessId":47184,"LocalIpAddress":"127.0.0.1:37374","RemoteIpAddress":"::1","$type":"ClientAuthenticationSuccessEvent"}
2019-06-09 16:53:44.418 -03:00 [DBG] Start token request validation
2019-06-09 16:53:44.418 -03:00 [DBG] Start resource owner password token request validation
2019-06-09 16:53:44.419 -03:00 [DBG] Found [] identity scopes in database
2019-06-09 16:53:44.422 -03:00 [DBG] Found ["api1"] API scopes in database
2019-06-09 16:53:44.425 -03:00 [DBG] Found [] identity scopes in database
2019-06-09 16:53:44.428 -03:00 [DBG] Found ["api1"] API scopes in database
2019-06-09 16:53:44.441 -03:00 [INF] Credentials validated for username: alice
2019-06-09 16:53:44.442 -03:00 [INF] {"Username":"alice","Provider":null,"ProviderUserId":null,"SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","DisplayName":"alice","Endpoint":"Token","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HLND2CF90B4L:00000001","TimeStamp":"2019-06-09T19:53:44.0000000Z","ProcessId":47184,"LocalIpAddress":"127.0.0.1:37374","RemoteIpAddress":"::1","$type":"UserLoginSuccessEvent"}
2019-06-09 16:53:44.442 -03:00 [INF] {"Username":"alice","Provider":null,"ProviderUserId":null,"SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","DisplayName":null,"Endpoint":"Token","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HLND2CF90B4L:00000001","TimeStamp":"2019-06-09T19:53:44.0000000Z","ProcessId":47184,"LocalIpAddress":"127.0.0.1:37374","RemoteIpAddress":"::1","$type":"UserLoginSuccessEvent"}
2019-06-09 16:53:44.442 -03:00 [DBG] Resource owner password token request validation success.
2019-06-09 16:53:44.442 -03:00 [INF] Token request validation success
{"ClientId":"ro.client","ClientName":null,"GrantType":"password","Scopes":"api1","AuthorizationCode":null,"RefreshToken":null,"UserName":"alice","AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"grant_type":"password","client_id":"ro.client","client_secret":"***REDACTED***","scope":"api1","username":"alice","password":"***REDACTED***"},"$type":"TokenRequestValidationLog"}
2019-06-09 16:53:44.442 -03:00 [DBG] Getting claims for access token for client: ro.client
2019-06-09 16:53:44.442 -03:00 [DBG] Getting claims for access token for subject: 4ba1c3a0-b786-421d-b88a-740f38d9cafa
2019-06-09 16:53:44.454 -03:00 [INF] {"ClientId":"ro.client","ClientName":null,"RedirectUri":null,"Endpoint":"Token","SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","Scopes":"api1","GrantType":"password","Tokens":[{"TokenType":"access_token","TokenValue":"****Wt7w","$type":"Token"}],"Category":"Token","Name":"Token Issued Success","EventType":"Success","Id":2000,"Message":null,"ActivityId":"0HLND2CF90B4L:00000001","TimeStamp":"2019-06-09T19:53:44.0000000Z","ProcessId":47184,"LocalIpAddress":"127.0.0.1:37374","RemoteIpAddress":"::1","$type":"TokenIssuedSuccessEvent"}
2019-06-09 16:53:44.455 -03:00 [DBG] Token request success.
2019-06-09 16:54:15.617 -03:00 [DBG] Request path /connect/userinfo matched to endpoint type Userinfo
2019-06-09 16:54:15.617 -03:00 [DBG] Endpoint enabled: Userinfo, successfully created handler: IdentityServer4.Endpoints.UserInfoEndpoint
2019-06-09 16:54:15.618 -03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.UserInfoEndpoint for /connect/userinfo
2019-06-09 16:54:15.618 -03:00 [DBG] Start userinfo request
2019-06-09 16:54:15.618 -03:00 [DBG] Bearer token found in header
2019-06-09 16:54:15.624 -03:00 [DBG] ro.client found in database: true
2019-06-09 16:54:15.624 -03:00 [DBG] client configuration validation for client ro.client succeeded.
2019-06-09 16:54:15.628 -03:00 [DBG] ro.client found in database: true
2019-06-09 16:54:15.628 -03:00 [DBG] client configuration validation for client ro.client succeeded.
2019-06-09 16:54:15.632 -03:00 [ERR] Checking for expected scope openid failed
{"ClientId":null,"ClientName":null,"ValidateLifetime":true,"AccessTokenType":"Jwt","ExpectedScope":"openid","TokenHandle":null,"JwtId":null,"Claims":{"nbf":1560110024,"exp":1560113624,"iss":"http://localhost:5000","aud":["http://localhost:5000/resources","api1"],"client_id":"ro.client","sub":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","auth_time":1560110024,"idp":"local","scope":"api1","amr":"pwd"},"$type":"TokenValidationLog"}
2019-06-09 16:56:05.215 -03:00 [INF] Starting IdentityServer4 version 2.3.2.0
2019-06-09 16:56:05.306 -03:00 [INF] Using the default authentication scheme Identity.Application for IdentityServer
2019-06-09 16:56:05.306 -03:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for authentication
2019-06-09 16:56:05.306 -03:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-in
2019-06-09 16:56:05.306 -03:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-out
2019-06-09 16:56:05.306 -03:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for challenge
2019-06-09 16:56:05.306 -03:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for forbid
2019-06-09 16:56:05.377 -03:00 [DBG] Starting grant removal
2019-06-09 16:56:05.537 -03:00 [DBG] Login Url: /Account/Login
2019-06-09 16:56:05.539 -03:00 [DBG] Login Return Url Parameter: ReturnUrl
2019-06-09 16:56:05.539 -03:00 [DBG] Logout Url: /Account/Logout
2019-06-09 16:56:05.539 -03:00 [DBG] ConsentUrl Url: /consent
2019-06-09 16:56:05.539 -03:00 [DBG] Consent Return Url Parameter: returnUrl
2019-06-09 16:56:05.539 -03:00 [DBG] Error Url: /home/error
2019-06-09 16:56:05.539 -03:00 [DBG] Error Id Parameter: errorId
2019-06-09 16:56:05.558 -03:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2019-06-09 16:56:05.569 -03:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2019-06-09 16:56:05.569 -03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2019-06-09 16:56:05.572 -03:00 [DBG] Start discovery request
2019-06-09 16:56:07.098 -03:00 [DBG] Found ["openid","profile","api1"] as all scopes in database
2019-06-09 16:56:07.223 -03:00 [DBG] Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery
2019-06-09 16:56:07.224 -03:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryKeyEndpoint
2019-06-09 16:56:07.225 -03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2019-06-09 16:56:07.229 -03:00 [DBG] Start key discovery request
2019-06-09 16:56:24.996 -03:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2019-06-09 16:56:24.997 -03:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2019-06-09 16:56:24.997 -03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2019-06-09 16:56:24.997 -03:00 [DBG] Start discovery request
2019-06-09 16:56:25.007 -03:00 [DBG] Found ["openid","profile","api1"] as all scopes in database
2019-06-09 16:56:25.081 -03:00 [DBG] Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery
2019-06-09 16:56:25.081 -03:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryKeyEndpoint
2019-06-09 16:56:25.081 -03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2019-06-09 16:56:25.081 -03:00 [DBG] Start key discovery request
2019-06-09 16:56:53.804 -03:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2019-06-09 16:56:53.804 -03:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2019-06-09 16:56:53.804 -03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2019-06-09 16:56:53.804 -03:00 [DBG] Start discovery request
2019-06-09 16:56:53.808 -03:00 [DBG] Found ["openid","profile","api1"] as all scopes in database
2019-06-09 16:56:53.879 -03:00 [DBG] Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery
2019-06-09 16:56:53.880 -03:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryKeyEndpoint
2019-06-09 16:56:53.880 -03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2019-06-09 16:56:53.880 -03:00 [DBG] Start key discovery request
2019-06-09 17:09:28.465 -03:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-06-09 17:09:28.479 -03:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-06-09 17:09:28.479 -03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-06-09 17:09:28.489 -03:00 [DBG] Start token request.
2019-06-09 17:09:28.496 -03:00 [DBG] Start client validation
2019-06-09 17:09:28.501 -03:00 [DBG] Start parsing Basic Authentication secret
2019-06-09 17:09:28.504 -03:00 [DBG] Start parsing for secret in post body
2019-06-09 17:09:28.516 -03:00 [DBG] Parser found secret: PostBodySecretParser
2019-06-09 17:09:28.516 -03:00 [DBG] Secret id found: ro.client
2019-06-09 17:09:28.751 -03:00 [DBG] ro.client found in database: true
2019-06-09 17:09:28.757 -03:00 [DBG] client configuration validation for client ro.client succeeded.
2019-06-09 17:09:28.765 -03:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-06-09 17:09:28.765 -03:00 [DBG] Client validation success
2019-06-09 17:09:28.775 -03:00 [INF] {"ClientId":"ro.client","AuthenticationMethod":"SharedSecret","Category":"Authentication","Name":"Client Authentication Success","EventType":"Success","Id":1010,"Message":null,"ActivityId":"0HLND2I0UUVTE:00000001","TimeStamp":"2019-06-09T20:09:28.0000000Z","ProcessId":41412,"LocalIpAddress":"127.0.0.1:42399","RemoteIpAddress":"::1","$type":"ClientAuthenticationSuccessEvent"}
2019-06-09 17:09:28.782 -03:00 [DBG] Start token request validation
2019-06-09 17:09:28.791 -03:00 [DBG] Start resource owner password token request validation
2019-06-09 17:09:28.829 -03:00 [DBG] Found ["openid"] identity scopes in database
2019-06-09 17:09:28.859 -03:00 [DBG] Found [] API scopes in database
2019-06-09 17:09:28.860 -03:00 [ERR] Requested scope not allowed: openid
2019-06-09 17:09:28.866 -03:00 [ERR] {"ClientId":"ro.client","ClientName":null,"GrantType":"password","Scopes":null,"AuthorizationCode":null,"RefreshToken":null,"UserName":null,"AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"grant_type":"password","client_id":"ro.client","client_secret":"***REDACTED***","scope":"openid","username":"alice","password":"***REDACTED***"},"$type":"TokenRequestValidationLog"}
2019-06-09 17:09:28.869 -03:00 [INF] {"ClientId":"ro.client","ClientName":null,"RedirectUri":null,"Endpoint":"Token","SubjectId":null,"Scopes":null,"GrantType":"password","Error":"invalid_scope","ErrorDescription":null,"Category":"Token","Name":"Token Issued Failure","EventType":"Failure","Id":2001,"Message":null,"ActivityId":"0HLND2I0UUVTE:00000001","TimeStamp":"2019-06-09T20:09:28.0000000Z","ProcessId":41412,"LocalIpAddress":"127.0.0.1:42399","RemoteIpAddress":"::1","$type":"TokenIssuedFailureEvent"}
2019-06-09 17:10:20.034 -03:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-06-09 17:10:20.035 -03:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-06-09 17:10:20.036 -03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-06-09 17:10:20.036 -03:00 [DBG] Start token request.
2019-06-09 17:10:20.037 -03:00 [DBG] Start client validation
2019-06-09 17:10:20.037 -03:00 [DBG] Start parsing Basic Authentication secret
2019-06-09 17:10:20.037 -03:00 [DBG] Start parsing for secret in post body
2019-06-09 17:10:20.037 -03:00 [DBG] Parser found secret: PostBodySecretParser
2019-06-09 17:10:20.037 -03:00 [DBG] Secret id found: mvc
2019-06-09 17:10:20.052 -03:00 [DBG] mvc found in database: true
2019-06-09 17:10:20.052 -03:00 [DBG] client configuration validation for client mvc succeeded.
2019-06-09 17:10:20.052 -03:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-06-09 17:10:20.053 -03:00 [DBG] Client validation success
2019-06-09 17:10:20.053 -03:00 [INF] {"ClientId":"mvc","AuthenticationMethod":"SharedSecret","Category":"Authentication","Name":"Client Authentication Success","EventType":"Success","Id":1010,"Message":null,"ActivityId":"0HLND2I0UUVTE:00000002","TimeStamp":"2019-06-09T20:10:20.0000000Z","ProcessId":41412,"LocalIpAddress":"127.0.0.1:42399","RemoteIpAddress":"::1","$type":"ClientAuthenticationSuccessEvent"}
2019-06-09 17:10:20.053 -03:00 [DBG] Start token request validation
2019-06-09 17:10:20.053 -03:00 [DBG] Start resource owner password token request validation
2019-06-09 17:10:20.053 -03:00 [ERR] ["mvc"] not authorized for resource owner flow, check the AllowedGrantTypes of client, request details: {"ClientId":"mvc","ClientName":"MVC Client","GrantType":"password","Scopes":null,"AuthorizationCode":null,"RefreshToken":null,"UserName":null,"AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"grant_type":"password","client_id":"mvc","client_secret":"***REDACTED***","scope":"openid","username":"alice","password":"***REDACTED***"},"$type":"TokenRequestValidationLog"}
2019-06-09 17:10:20.053 -03:00 [INF] {"ClientId":"mvc","ClientName":"MVC Client","RedirectUri":null,"Endpoint":"Token","SubjectId":null,"Scopes":null,"GrantType":"password","Error":"unauthorized_client","ErrorDescription":null,"Category":"Token","Name":"Token Issued Failure","EventType":"Failure","Id":2001,"Message":null,"ActivityId":"0HLND2I0UUVTE:00000002","TimeStamp":"2019-06-09T20:10:20.0000000Z","ProcessId":41412,"LocalIpAddress":"127.0.0.1:42399","RemoteIpAddress":"::1","$type":"TokenIssuedFailureEvent"}
2019-06-09 17:11:14.107 -03:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-06-09 17:11:14.107 -03:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-06-09 17:11:14.107 -03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-06-09 17:11:14.107 -03:00 [DBG] Start token request.
2019-06-09 17:11:14.108 -03:00 [DBG] Start client validation
2019-06-09 17:11:14.108 -03:00 [DBG] Start parsing Basic Authentication secret
2019-06-09 17:11:14.108 -03:00 [DBG] Start parsing for secret in post body
2019-06-09 17:11:14.108 -03:00 [DBG] Parser found secret: PostBodySecretParser
2019-06-09 17:11:14.108 -03:00 [DBG] Secret id found: ro.client
2019-06-09 17:11:14.113 -03:00 [DBG] ro.client found in database: true
2019-06-09 17:11:14.113 -03:00 [DBG] client configuration validation for client ro.client succeeded.
2019-06-09 17:11:14.113 -03:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-06-09 17:11:14.113 -03:00 [DBG] Client validation success
2019-06-09 17:11:14.113 -03:00 [INF] {"ClientId":"ro.client","AuthenticationMethod":"SharedSecret","Category":"Authentication","Name":"Client Authentication Success","EventType":"Success","Id":1010,"Message":null,"ActivityId":"0HLND2I0UUVTE:00000003","TimeStamp":"2019-06-09T20:11:14.0000000Z","ProcessId":41412,"LocalIpAddress":"127.0.0.1:42399","RemoteIpAddress":"::1","$type":"ClientAuthenticationSuccessEvent"}
2019-06-09 17:11:14.113 -03:00 [DBG] Start token request validation
2019-06-09 17:11:14.113 -03:00 [DBG] Start resource owner password token request validation
2019-06-09 17:11:14.115 -03:00 [DBG] Found ["openid"] identity scopes in database
2019-06-09 17:11:14.117 -03:00 [DBG] Found [] API scopes in database
2019-06-09 17:11:14.123 -03:00 [DBG] Found ["openid"] identity scopes in database
2019-06-09 17:11:14.124 -03:00 [DBG] Found [] API scopes in database
2019-06-09 17:11:14.244 -03:00 [INF] Credentials validated for username: alice
2019-06-09 17:11:14.245 -03:00 [INF] {"Username":"alice","Provider":null,"ProviderUserId":null,"SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","DisplayName":"alice","Endpoint":"Token","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HLND2I0UUVTE:00000003","TimeStamp":"2019-06-09T20:11:14.0000000Z","ProcessId":41412,"LocalIpAddress":"127.0.0.1:42399","RemoteIpAddress":"::1","$type":"UserLoginSuccessEvent"}
2019-06-09 17:11:14.253 -03:00 [INF] {"Username":"alice","Provider":null,"ProviderUserId":null,"SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","DisplayName":null,"Endpoint":"Token","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HLND2I0UUVTE:00000003","TimeStamp":"2019-06-09T20:11:14.0000000Z","ProcessId":41412,"LocalIpAddress":"127.0.0.1:42399","RemoteIpAddress":"::1","$type":"UserLoginSuccessEvent"}
2019-06-09 17:11:14.253 -03:00 [DBG] Resource owner password token request validation success.
2019-06-09 17:11:14.255 -03:00 [INF] Token request validation success
{"ClientId":"ro.client","ClientName":null,"GrantType":"password","Scopes":"openid","AuthorizationCode":null,"RefreshToken":null,"UserName":"alice","AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"grant_type":"password","client_id":"ro.client","client_secret":"***REDACTED***","scope":"openid","username":"alice","password":"***REDACTED***"},"$type":"TokenRequestValidationLog"}
2019-06-09 17:11:14.273 -03:00 [DBG] Getting claims for access token for client: ro.client
2019-06-09 17:11:14.274 -03:00 [DBG] Getting claims for access token for subject: 4ba1c3a0-b786-421d-b88a-740f38d9cafa
2019-06-09 17:11:14.400 -03:00 [INF] {"ClientId":"ro.client","ClientName":null,"RedirectUri":null,"Endpoint":"Token","SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","Scopes":"openid","GrantType":"password","Tokens":[{"TokenType":"access_token","TokenValue":"****yexg","$type":"Token"}],"Category":"Token","Name":"Token Issued Success","EventType":"Success","Id":2000,"Message":null,"ActivityId":"0HLND2I0UUVTE:00000003","TimeStamp":"2019-06-09T20:11:14.0000000Z","ProcessId":41412,"LocalIpAddress":"127.0.0.1:42399","RemoteIpAddress":"::1","$type":"TokenIssuedSuccessEvent"}
2019-06-09 17:11:14.401 -03:00 [DBG] Token request success.
2019-06-09 17:11:37.146 -03:00 [DBG] Request path /connect/userinfo matched to endpoint type Userinfo
2019-06-09 17:11:37.148 -03:00 [DBG] Endpoint enabled: Userinfo, successfully created handler: IdentityServer4.Endpoints.UserInfoEndpoint
2019-06-09 17:11:37.148 -03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.UserInfoEndpoint for /connect/userinfo
2019-06-09 17:11:37.156 -03:00 [DBG] Start userinfo request
2019-06-09 17:11:37.159 -03:00 [DBG] Bearer token found in header
2019-06-09 17:11:37.210 -03:00 [DBG] ro.client found in database: true
2019-06-09 17:11:37.210 -03:00 [DBG] client configuration validation for client ro.client succeeded.
2019-06-09 17:11:37.217 -03:00 [DBG] ro.client found in database: true
2019-06-09 17:11:37.217 -03:00 [DBG] client configuration validation for client ro.client succeeded.
2019-06-09 17:11:37.228 -03:00 [DBG] Calling into custom token validator: IdentityServer4.Validation.DefaultCustomTokenValidator
2019-06-09 17:11:37.229 -03:00 [DBG] Token validation success
{"ClientId":null,"ClientName":null,"ValidateLifetime":true,"AccessTokenType":"Jwt","ExpectedScope":"openid","TokenHandle":null,"JwtId":null,"Claims":{"nbf":1560111074,"exp":1560114674,"iss":"http://localhost:5000","aud":"http://localhost:5000/resources","client_id":"ro.client","sub":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","auth_time":1560111074,"idp":"local","scope":"openid","amr":"pwd"},"$type":"TokenValidationLog"}
2019-06-09 17:11:37.236 -03:00 [DBG] Creating userinfo response
2019-06-09 17:11:37.239 -03:00 [DBG] Scopes in access token: openid
2019-06-09 17:11:37.241 -03:00 [DBG] Scopes in access token: openid
2019-06-09 17:11:37.244 -03:00 [DBG] Found ["openid"] identity scopes in database
2019-06-09 17:11:37.244 -03:00 [DBG] Requested claim types: sub
2019-06-09 17:11:37.245 -03:00 [DBG] Scopes in access token: openid
2019-06-09 17:11:37.246 -03:00 [DBG] Found ["openid"] identity scopes in database
2019-06-09 17:11:37.250 -03:00 [INF] Profile service returned the following claim types: sub
2019-06-09 17:11:37.250 -03:00 [DBG] End userinfo request
2019-06-09 17:14:05.631 -03:00 [DBG] Request path /connect/userinfo matched to endpoint type Userinfo
2019-06-09 17:14:05.631 -03:00 [DBG] Endpoint enabled: Userinfo, successfully created handler: IdentityServer4.Endpoints.UserInfoEndpoint
2019-06-09 17:14:05.631 -03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.UserInfoEndpoint for /connect/userinfo
2019-06-09 17:14:05.631 -03:00 [DBG] Start userinfo request
2019-06-09 17:14:05.631 -03:00 [DBG] Bearer token found in header
2019-06-09 17:14:05.638 -03:00 [DBG] ro.client found in database: true
2019-06-09 17:14:05.638 -03:00 [DBG] client configuration validation for client ro.client succeeded.
2019-06-09 17:14:05.643 -03:00 [DBG] ro.client found in database: true
2019-06-09 17:14:05.643 -03:00 [DBG] client configuration validation for client ro.client succeeded.
2019-06-09 17:14:05.645 -03:00 [DBG] Calling into custom token validator: IdentityServer4.Validation.DefaultCustomTokenValidator
2019-06-09 17:14:05.646 -03:00 [DBG] Token validation success
{"ClientId":null,"ClientName":null,"ValidateLifetime":true,"AccessTokenType":"Jwt","ExpectedScope":"openid","TokenHandle":null,"JwtId":null,"Claims":{"nbf":1560111074,"exp":1560114674,"iss":"http://localhost:5000","aud":"http://localhost:5000/resources","client_id":"ro.client","sub":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","auth_time":1560111074,"idp":"local","scope":"openid","amr":"pwd"},"$type":"TokenValidationLog"}
2019-06-09 17:14:05.646 -03:00 [DBG] Creating userinfo response
2019-06-09 17:14:05.646 -03:00 [DBG] Scopes in access token: openid
2019-06-09 17:14:05.646 -03:00 [DBG] Scopes in access token: openid
2019-06-09 17:14:05.648 -03:00 [DBG] Found ["openid"] identity scopes in database
2019-06-09 17:14:05.648 -03:00 [DBG] Requested claim types: sub
2019-06-09 17:14:05.648 -03:00 [DBG] Scopes in access token: openid
2019-06-09 17:14:05.650 -03:00 [DBG] Found ["openid"] identity scopes in database
2019-06-09 17:14:05.657 -03:00 [INF] Profile service returned the following claim types: sub
2019-06-09 17:14:05.657 -03:00 [DBG] End userinfo request
2019-06-09 17:14:15.021 -03:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-06-09 17:14:15.022 -03:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-06-09 17:14:15.022 -03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-06-09 17:14:15.022 -03:00 [DBG] Start token request.
2019-06-09 17:14:15.022 -03:00 [DBG] Start client validation
2019-06-09 17:14:15.022 -03:00 [DBG] Start parsing Basic Authentication secret
2019-06-09 17:14:15.022 -03:00 [DBG] Start parsing for secret in post body
2019-06-09 17:14:15.022 -03:00 [DBG] Parser found secret: PostBodySecretParser
2019-06-09 17:14:15.022 -03:00 [DBG] Secret id found: ro.client
2019-06-09 17:14:15.026 -03:00 [DBG] ro.client found in database: true
2019-06-09 17:14:15.026 -03:00 [DBG] client configuration validation for client ro.client succeeded.
2019-06-09 17:14:15.026 -03:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-06-09 17:14:15.026 -03:00 [DBG] Client validation success
2019-06-09 17:14:15.026 -03:00 [INF] {"ClientId":"ro.client","AuthenticationMethod":"SharedSecret","Category":"Authentication","Name":"Client Authentication Success","EventType":"Success","Id":1010,"Message":null,"ActivityId":"0HLND2I0UUVTF:00000002","TimeStamp":"2019-06-09T20:14:15.0000000Z","ProcessId":41412,"LocalIpAddress":"127.0.0.1:42399","RemoteIpAddress":"::1","$type":"ClientAuthenticationSuccessEvent"}
2019-06-09 17:14:15.026 -03:00 [DBG] Start token request validation
2019-06-09 17:14:15.027 -03:00 [DBG] Start resource owner password token request validation
2019-06-09 17:14:15.028 -03:00 [DBG] Found ["openid"] identity scopes in database
2019-06-09 17:14:15.029 -03:00 [DBG] Found [] API scopes in database
2019-06-09 17:14:15.031 -03:00 [DBG] Found ["openid"] identity scopes in database
2019-06-09 17:14:15.032 -03:00 [DBG] Found [] API scopes in database
2019-06-09 17:14:15.042 -03:00 [INF] Credentials validated for username: alice
2019-06-09 17:14:15.042 -03:00 [INF] {"Username":"alice","Provider":null,"ProviderUserId":null,"SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","DisplayName":"alice","Endpoint":"Token","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HLND2I0UUVTF:00000002","TimeStamp":"2019-06-09T20:14:15.0000000Z","ProcessId":41412,"LocalIpAddress":"127.0.0.1:42399","RemoteIpAddress":"::1","$type":"UserLoginSuccessEvent"}
2019-06-09 17:14:15.042 -03:00 [INF] {"Username":"alice","Provider":null,"ProviderUserId":null,"SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","DisplayName":null,"Endpoint":"Token","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HLND2I0UUVTF:00000002","TimeStamp":"2019-06-09T20:14:15.0000000Z","ProcessId":41412,"LocalIpAddress":"127.0.0.1:42399","RemoteIpAddress":"::1","$type":"UserLoginSuccessEvent"}
2019-06-09 17:14:15.042 -03:00 [DBG] Resource owner password token request validation success.
2019-06-09 17:14:15.042 -03:00 [INF] Token request validation success
{"ClientId":"ro.client","ClientName":null,"GrantType":"password","Scopes":"openid","AuthorizationCode":null,"RefreshToken":null,"UserName":"alice","AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"grant_type":"password","client_id":"ro.client","client_secret":"***REDACTED***","scope":"openid","username":"alice","password":"***REDACTED***"},"$type":"TokenRequestValidationLog"}
2019-06-09 17:14:15.043 -03:00 [DBG] Getting claims for access token for client: ro.client
2019-06-09 17:14:15.043 -03:00 [DBG] Getting claims for access token for subject: 4ba1c3a0-b786-421d-b88a-740f38d9cafa
2019-06-09 17:14:15.049 -03:00 [INF] {"ClientId":"ro.client","ClientName":null,"RedirectUri":null,"Endpoint":"Token","SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","Scopes":"openid","GrantType":"password","Tokens":[{"TokenType":"access_token","TokenValue":"****xT9w","$type":"Token"}],"Category":"Token","Name":"Token Issued Success","EventType":"Success","Id":2000,"Message":null,"ActivityId":"0HLND2I0UUVTF:00000002","TimeStamp":"2019-06-09T20:14:15.0000000Z","ProcessId":41412,"LocalIpAddress":"127.0.0.1:42399","RemoteIpAddress":"::1","$type":"TokenIssuedSuccessEvent"}
2019-06-09 17:14:15.049 -03:00 [DBG] Token request success.
2019-06-09 17:14:41.859 -03:00 [DBG] Request path /connect/userinfo matched to endpoint type Userinfo
2019-06-09 17:14:41.860 -03:00 [DBG] Endpoint enabled: Userinfo, successfully created handler: IdentityServer4.Endpoints.UserInfoEndpoint
2019-06-09 17:14:41.860 -03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.UserInfoEndpoint for /connect/userinfo
2019-06-09 17:14:41.860 -03:00 [DBG] Start userinfo request
2019-06-09 17:14:41.860 -03:00 [DBG] Bearer token found in header
2019-06-09 17:14:41.868 -03:00 [DBG] ro.client found in database: true
2019-06-09 17:14:41.868 -03:00 [DBG] client configuration validation for client ro.client succeeded.
2019-06-09 17:14:41.871 -03:00 [DBG] ro.client found in database: true
2019-06-09 17:14:41.871 -03:00 [DBG] client configuration validation for client ro.client succeeded.
2019-06-09 17:14:41.873 -03:00 [DBG] Calling into custom token validator: IdentityServer4.Validation.DefaultCustomTokenValidator
2019-06-09 17:14:41.873 -03:00 [DBG] Token validation success
{"ClientId":null,"ClientName":null,"ValidateLifetime":true,"AccessTokenType":"Jwt","ExpectedScope":"openid","TokenHandle":null,"JwtId":null,"Claims":{"nbf":1560111255,"exp":1560114855,"iss":"http://localhost:5000","aud":"http://localhost:5000/resources","client_id":"ro.client","sub":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","auth_time":1560111255,"idp":"local","scope":"openid","amr":"pwd"},"$type":"TokenValidationLog"}
2019-06-09 17:14:41.874 -03:00 [DBG] Creating userinfo response
2019-06-09 17:14:41.874 -03:00 [DBG] Scopes in access token: openid
2019-06-09 17:14:41.874 -03:00 [DBG] Scopes in access token: openid
2019-06-09 17:14:41.876 -03:00 [DBG] Found ["openid"] identity scopes in database
2019-06-09 17:14:41.876 -03:00 [DBG] Requested claim types: sub
2019-06-09 17:14:41.876 -03:00 [DBG] Scopes in access token: openid
2019-06-09 17:14:41.878 -03:00 [DBG] Found ["openid"] identity scopes in database
2019-06-09 17:14:41.881 -03:00 [INF] Profile service returned the following claim types: sub
2019-06-09 17:14:41.881 -03:00 [DBG] End userinfo request
2019-06-09 17:17:02.062 -03:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-06-09 17:17:02.062 -03:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-06-09 17:17:02.062 -03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-06-09 17:17:02.062 -03:00 [DBG] Start token request.
2019-06-09 17:17:02.062 -03:00 [DBG] Start client validation
2019-06-09 17:17:02.062 -03:00 [DBG] Start parsing Basic Authentication secret
2019-06-09 17:17:02.063 -03:00 [DBG] Start parsing for secret in post body
2019-06-09 17:17:02.063 -03:00 [DBG] Parser found secret: PostBodySecretParser
2019-06-09 17:17:02.063 -03:00 [DBG] Secret id found: ro.client
2019-06-09 17:17:02.068 -03:00 [DBG] ro.client found in database: true
2019-06-09 17:17:02.068 -03:00 [DBG] client configuration validation for client ro.client succeeded.
2019-06-09 17:17:02.068 -03:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-06-09 17:17:02.068 -03:00 [DBG] Client validation success
2019-06-09 17:17:02.068 -03:00 [INF] {"ClientId":"ro.client","AuthenticationMethod":"SharedSecret","Category":"Authentication","Name":"Client Authentication Success","EventType":"Success","Id":1010,"Message":null,"ActivityId":"0HLND2I0UUVTG:00000001","TimeStamp":"2019-06-09T20:17:02.0000000Z","ProcessId":41412,"LocalIpAddress":"127.0.0.1:42399","RemoteIpAddress":"::1","$type":"ClientAuthenticationSuccessEvent"}
2019-06-09 17:17:02.068 -03:00 [DBG] Start token request validation
2019-06-09 17:17:02.068 -03:00 [DBG] Start resource owner password token request validation
2019-06-09 17:17:02.074 -03:00 [DBG] Found ["profile"] identity scopes in database
2019-06-09 17:17:02.079 -03:00 [DBG] Found [] API scopes in database
2019-06-09 17:17:02.081 -03:00 [DBG] Found ["profile"] identity scopes in database
2019-06-09 17:17:02.082 -03:00 [DBG] Found [] API scopes in database
2019-06-09 17:17:02.091 -03:00 [INF] Credentials validated for username: alice
2019-06-09 17:17:02.091 -03:00 [INF] {"Username":"alice","Provider":null,"ProviderUserId":null,"SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","DisplayName":"alice","Endpoint":"Token","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HLND2I0UUVTG:00000001","TimeStamp":"2019-06-09T20:17:02.0000000Z","ProcessId":41412,"LocalIpAddress":"127.0.0.1:42399","RemoteIpAddress":"::1","$type":"UserLoginSuccessEvent"}
2019-06-09 17:17:02.091 -03:00 [INF] {"Username":"alice","Provider":null,"ProviderUserId":null,"SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","DisplayName":null,"Endpoint":"Token","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HLND2I0UUVTG:00000001","TimeStamp":"2019-06-09T20:17:02.0000000Z","ProcessId":41412,"LocalIpAddress":"127.0.0.1:42399","RemoteIpAddress":"::1","$type":"UserLoginSuccessEvent"}
2019-06-09 17:17:02.091 -03:00 [DBG] Resource owner password token request validation success.
2019-06-09 17:17:02.091 -03:00 [INF] Token request validation success
{"ClientId":"ro.client","ClientName":null,"GrantType":"password","Scopes":"profile","AuthorizationCode":null,"RefreshToken":null,"UserName":"alice","AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"grant_type":"password","client_id":"ro.client","client_secret":"***REDACTED***","scope":"profile","username":"alice","password":"***REDACTED***"},"$type":"TokenRequestValidationLog"}
2019-06-09 17:17:02.091 -03:00 [DBG] Getting claims for access token for client: ro.client
2019-06-09 17:17:02.091 -03:00 [DBG] Getting claims for access token for subject: 4ba1c3a0-b786-421d-b88a-740f38d9cafa
2019-06-09 17:17:02.097 -03:00 [INF] {"ClientId":"ro.client","ClientName":null,"RedirectUri":null,"Endpoint":"Token","SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","Scopes":"profile","GrantType":"password","Tokens":[{"TokenType":"access_token","TokenValue":"****nTiw","$type":"Token"}],"Category":"Token","Name":"Token Issued Success","EventType":"Success","Id":2000,"Message":null,"ActivityId":"0HLND2I0UUVTG:00000001","TimeStamp":"2019-06-09T20:17:02.0000000Z","ProcessId":41412,"LocalIpAddress":"127.0.0.1:42399","RemoteIpAddress":"::1","$type":"TokenIssuedSuccessEvent"}
2019-06-09 17:17:02.098 -03:00 [DBG] Token request success.
2019-06-09 17:17:19.833 -03:00 [DBG] Request path /connect/userinfo matched to endpoint type Userinfo
2019-06-09 17:17:19.833 -03:00 [DBG] Endpoint enabled: Userinfo, successfully created handler: IdentityServer4.Endpoints.UserInfoEndpoint
2019-06-09 17:17:19.833 -03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.UserInfoEndpoint for /connect/userinfo
2019-06-09 17:17:19.833 -03:00 [DBG] Start userinfo request
2019-06-09 17:17:19.833 -03:00 [DBG] Bearer token found in header
2019-06-09 17:17:19.839 -03:00 [DBG] ro.client found in database: true
2019-06-09 17:17:19.839 -03:00 [DBG] client configuration validation for client ro.client succeeded.
2019-06-09 17:17:19.842 -03:00 [DBG] ro.client found in database: true
2019-06-09 17:17:19.842 -03:00 [DBG] client configuration validation for client ro.client succeeded.
2019-06-09 17:17:19.845 -03:00 [ERR] Checking for expected scope openid failed
{"ClientId":null,"ClientName":null,"ValidateLifetime":true,"AccessTokenType":"Jwt","ExpectedScope":"openid","TokenHandle":null,"JwtId":null,"Claims":{"nbf":1560111422,"exp":1560115022,"iss":"http://localhost:5000","aud":"http://localhost:5000/resources","client_id":"ro.client","sub":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","auth_time":1560111422,"idp":"local","scope":"profile","amr":"pwd"},"$type":"TokenValidationLog"}
2019-06-09 17:18:00.949 -03:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-06-09 17:18:00.949 -03:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-06-09 17:18:00.949 -03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-06-09 17:18:00.949 -03:00 [DBG] Start token request.
2019-06-09 17:18:00.949 -03:00 [DBG] Start client validation
2019-06-09 17:18:00.949 -03:00 [DBG] Start parsing Basic Authentication secret
2019-06-09 17:18:00.949 -03:00 [DBG] Start parsing for secret in post body
2019-06-09 17:18:00.949 -03:00 [DBG] Parser found secret: PostBodySecretParser
2019-06-09 17:18:00.949 -03:00 [DBG] Secret id found: ro.client
2019-06-09 17:18:00.954 -03:00 [DBG] ro.client found in database: true
2019-06-09 17:18:00.954 -03:00 [DBG] client configuration validation for client ro.client succeeded.
2019-06-09 17:18:00.954 -03:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-06-09 17:18:00.954 -03:00 [DBG] Client validation success
2019-06-09 17:18:00.954 -03:00 [INF] {"ClientId":"ro.client","AuthenticationMethod":"SharedSecret","Category":"Authentication","Name":"Client Authentication Success","EventType":"Success","Id":1010,"Message":null,"ActivityId":"0HLND2I0UUVTG:00000003","TimeStamp":"2019-06-09T20:18:00.0000000Z","ProcessId":41412,"LocalIpAddress":"127.0.0.1:42399","RemoteIpAddress":"::1","$type":"ClientAuthenticationSuccessEvent"}
2019-06-09 17:18:00.954 -03:00 [DBG] Start token request validation
2019-06-09 17:18:00.954 -03:00 [DBG] Start resource owner password token request validation
2019-06-09 17:18:00.961 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 17:18:01.034 -03:00 [DBG] Found ["api1"] API scopes in database
2019-06-09 17:18:01.038 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 17:18:01.041 -03:00 [DBG] Found ["api1"] API scopes in database
2019-06-09 17:18:01.051 -03:00 [INF] Credentials validated for username: alice
2019-06-09 17:18:01.051 -03:00 [INF] {"Username":"alice","Provider":null,"ProviderUserId":null,"SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","DisplayName":"alice","Endpoint":"Token","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HLND2I0UUVTG:00000003","TimeStamp":"2019-06-09T20:18:01.0000000Z","ProcessId":41412,"LocalIpAddress":"127.0.0.1:42399","RemoteIpAddress":"::1","$type":"UserLoginSuccessEvent"}
2019-06-09 17:18:01.051 -03:00 [INF] {"Username":"alice","Provider":null,"ProviderUserId":null,"SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","DisplayName":null,"Endpoint":"Token","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HLND2I0UUVTG:00000003","TimeStamp":"2019-06-09T20:18:01.0000000Z","ProcessId":41412,"LocalIpAddress":"127.0.0.1:42399","RemoteIpAddress":"::1","$type":"UserLoginSuccessEvent"}
2019-06-09 17:18:01.051 -03:00 [DBG] Resource owner password token request validation success.
2019-06-09 17:18:01.051 -03:00 [INF] Token request validation success
{"ClientId":"ro.client","ClientName":null,"GrantType":"password","Scopes":"api1 openid profile","AuthorizationCode":null,"RefreshToken":null,"UserName":"alice","AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"grant_type":"password","client_id":"ro.client","client_secret":"***REDACTED***","scope":"openid profile api1","username":"alice","password":"***REDACTED***"},"$type":"TokenRequestValidationLog"}
2019-06-09 17:18:01.051 -03:00 [DBG] Getting claims for access token for client: ro.client
2019-06-09 17:18:01.052 -03:00 [DBG] Getting claims for access token for subject: 4ba1c3a0-b786-421d-b88a-740f38d9cafa
2019-06-09 17:18:01.058 -03:00 [INF] {"ClientId":"ro.client","ClientName":null,"RedirectUri":null,"Endpoint":"Token","SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","Scopes":"openid profile api1","GrantType":"password","Tokens":[{"TokenType":"access_token","TokenValue":"****sHsg","$type":"Token"}],"Category":"Token","Name":"Token Issued Success","EventType":"Success","Id":2000,"Message":null,"ActivityId":"0HLND2I0UUVTG:00000003","TimeStamp":"2019-06-09T20:18:01.0000000Z","ProcessId":41412,"LocalIpAddress":"127.0.0.1:42399","RemoteIpAddress":"::1","$type":"TokenIssuedSuccessEvent"}
2019-06-09 17:18:01.058 -03:00 [DBG] Token request success.
2019-06-09 17:18:20.578 -03:00 [DBG] Request path /connect/userinfo matched to endpoint type Userinfo
2019-06-09 17:18:20.579 -03:00 [DBG] Endpoint enabled: Userinfo, successfully created handler: IdentityServer4.Endpoints.UserInfoEndpoint
2019-06-09 17:18:20.579 -03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.UserInfoEndpoint for /connect/userinfo
2019-06-09 17:18:20.579 -03:00 [DBG] Start userinfo request
2019-06-09 17:18:20.579 -03:00 [DBG] Bearer token found in header
2019-06-09 17:18:20.586 -03:00 [DBG] ro.client found in database: true
2019-06-09 17:18:20.586 -03:00 [DBG] client configuration validation for client ro.client succeeded.
2019-06-09 17:18:20.589 -03:00 [DBG] ro.client found in database: true
2019-06-09 17:18:20.589 -03:00 [DBG] client configuration validation for client ro.client succeeded.
2019-06-09 17:18:20.591 -03:00 [DBG] Calling into custom token validator: IdentityServer4.Validation.DefaultCustomTokenValidator
2019-06-09 17:18:20.591 -03:00 [DBG] Token validation success
{"ClientId":null,"ClientName":null,"ValidateLifetime":true,"AccessTokenType":"Jwt","ExpectedScope":"openid","TokenHandle":null,"JwtId":null,"Claims":{"nbf":1560111481,"exp":1560115081,"iss":"http://localhost:5000","aud":["http://localhost:5000/resources","api1"],"client_id":"ro.client","sub":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","auth_time":1560111481,"idp":"local","scope":["openid","profile","api1"],"amr":"pwd"},"$type":"TokenValidationLog"}
2019-06-09 17:18:20.591 -03:00 [DBG] Creating userinfo response
2019-06-09 17:18:20.591 -03:00 [DBG] Scopes in access token: openid profile api1
2019-06-09 17:18:20.592 -03:00 [DBG] Scopes in access token: openid profile api1
2019-06-09 17:18:20.599 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 17:18:20.599 -03:00 [DBG] Requested claim types: sub name family_name given_name middle_name nickname preferred_username profile picture website gender birthdate zoneinfo locale updated_at
2019-06-09 17:18:20.600 -03:00 [DBG] Scopes in access token: openid profile api1
2019-06-09 17:18:20.601 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 17:18:20.604 -03:00 [INF] Profile service returned the following claim types: sub name given_name family_name website preferred_username
2019-06-09 17:18:20.604 -03:00 [DBG] End userinfo request
2019-06-09 17:18:51.372 -03:00 [DBG] Request path /connect/userinfo matched to endpoint type Userinfo
2019-06-09 17:18:51.372 -03:00 [DBG] Endpoint enabled: Userinfo, successfully created handler: IdentityServer4.Endpoints.UserInfoEndpoint
2019-06-09 17:18:51.372 -03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.UserInfoEndpoint for /connect/userinfo
2019-06-09 17:18:51.372 -03:00 [DBG] Start userinfo request
2019-06-09 17:18:51.372 -03:00 [DBG] Bearer token found in header
2019-06-09 17:18:51.379 -03:00 [DBG] ro.client found in database: true
2019-06-09 17:18:51.379 -03:00 [DBG] client configuration validation for client ro.client succeeded.
2019-06-09 17:18:51.384 -03:00 [DBG] ro.client found in database: true
2019-06-09 17:18:51.384 -03:00 [DBG] client configuration validation for client ro.client succeeded.
2019-06-09 17:18:51.385 -03:00 [DBG] Calling into custom token validator: IdentityServer4.Validation.DefaultCustomTokenValidator
2019-06-09 17:18:51.386 -03:00 [DBG] Token validation success
{"ClientId":null,"ClientName":null,"ValidateLifetime":true,"AccessTokenType":"Jwt","ExpectedScope":"openid","TokenHandle":null,"JwtId":null,"Claims":{"nbf":1560111481,"exp":1560115081,"iss":"http://localhost:5000","aud":["http://localhost:5000/resources","api1"],"client_id":"ro.client","sub":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","auth_time":1560111481,"idp":"local","scope":["openid","profile","api1"],"amr":"pwd"},"$type":"TokenValidationLog"}
2019-06-09 17:18:51.386 -03:00 [DBG] Creating userinfo response
2019-06-09 17:18:51.386 -03:00 [DBG] Scopes in access token: openid profile api1
2019-06-09 17:18:51.386 -03:00 [DBG] Scopes in access token: openid profile api1
2019-06-09 17:18:51.388 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 17:18:51.388 -03:00 [DBG] Requested claim types: sub name family_name given_name middle_name nickname preferred_username profile picture website gender birthdate zoneinfo locale updated_at
2019-06-09 17:18:51.389 -03:00 [DBG] Scopes in access token: openid profile api1
2019-06-09 17:18:51.390 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 17:18:51.394 -03:00 [INF] Profile service returned the following claim types: sub name given_name family_name website preferred_username
2019-06-09 17:18:51.394 -03:00 [DBG] End userinfo request
2019-06-09 17:20:18.790 -03:00 [DBG] CORS request made for path: /connect/token from origin: http://localhost:5000/
2019-06-09 17:20:18.806 -03:00 [DBG] Origin http://localhost:5000/ is allowed: false
2019-06-09 17:20:18.806 -03:00 [WRN] CorsPolicyService did not allow origin: http://localhost:5000/
2019-06-09 17:20:18.807 -03:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-06-09 17:20:18.807 -03:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-06-09 17:20:18.807 -03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-06-09 17:20:18.807 -03:00 [DBG] Start token request.
2019-06-09 17:20:18.807 -03:00 [DBG] Start client validation
2019-06-09 17:20:18.807 -03:00 [DBG] Start parsing Basic Authentication secret
2019-06-09 17:20:18.807 -03:00 [DBG] Start parsing for secret in post body
2019-06-09 17:20:18.807 -03:00 [DBG] Parser found secret: PostBodySecretParser
2019-06-09 17:20:18.807 -03:00 [DBG] Secret id found: ro.client
2019-06-09 17:20:18.811 -03:00 [DBG] ro.client found in database: true
2019-06-09 17:20:18.811 -03:00 [DBG] client configuration validation for client ro.client succeeded.
2019-06-09 17:20:18.811 -03:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-06-09 17:20:18.811 -03:00 [DBG] Client validation success
2019-06-09 17:20:18.811 -03:00 [INF] {"ClientId":"ro.client","AuthenticationMethod":"SharedSecret","Category":"Authentication","Name":"Client Authentication Success","EventType":"Success","Id":1010,"Message":null,"ActivityId":"0HLND2I0UUVTH:00000001","TimeStamp":"2019-06-09T20:20:18.0000000Z","ProcessId":41412,"LocalIpAddress":"127.0.0.1:42399","RemoteIpAddress":"127.0.0.1","$type":"ClientAuthenticationSuccessEvent"}
2019-06-09 17:20:18.811 -03:00 [DBG] Start token request validation
2019-06-09 17:20:18.811 -03:00 [DBG] Start resource owner password token request validation
2019-06-09 17:20:18.813 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 17:20:18.816 -03:00 [DBG] Found ["api1"] API scopes in database
2019-06-09 17:20:18.819 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 17:20:18.822 -03:00 [DBG] Found ["api1"] API scopes in database
2019-06-09 17:20:18.829 -03:00 [INF] Credentials validated for username: alice
2019-06-09 17:20:18.829 -03:00 [INF] {"Username":"alice","Provider":null,"ProviderUserId":null,"SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","DisplayName":"alice","Endpoint":"Token","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HLND2I0UUVTH:00000001","TimeStamp":"2019-06-09T20:20:18.0000000Z","ProcessId":41412,"LocalIpAddress":"127.0.0.1:42399","RemoteIpAddress":"127.0.0.1","$type":"UserLoginSuccessEvent"}
2019-06-09 17:20:18.829 -03:00 [INF] {"Username":"alice","Provider":null,"ProviderUserId":null,"SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","DisplayName":null,"Endpoint":"Token","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HLND2I0UUVTH:00000001","TimeStamp":"2019-06-09T20:20:18.0000000Z","ProcessId":41412,"LocalIpAddress":"127.0.0.1:42399","RemoteIpAddress":"127.0.0.1","$type":"UserLoginSuccessEvent"}
2019-06-09 17:20:18.829 -03:00 [DBG] Resource owner password token request validation success.
2019-06-09 17:20:18.829 -03:00 [INF] Token request validation success
{"ClientId":"ro.client","ClientName":null,"GrantType":"password","Scopes":"api1 openid profile","AuthorizationCode":null,"RefreshToken":null,"UserName":"alice","AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"grant_type":"password","client_id":"ro.client","client_secret":"***REDACTED***","username":"alice","password":"***REDACTED***","scope":"openid profile api1"},"$type":"TokenRequestValidationLog"}
2019-06-09 17:20:18.829 -03:00 [DBG] Getting claims for access token for client: ro.client
2019-06-09 17:20:18.830 -03:00 [DBG] Getting claims for access token for subject: 4ba1c3a0-b786-421d-b88a-740f38d9cafa
2019-06-09 17:20:18.836 -03:00 [INF] {"ClientId":"ro.client","ClientName":null,"RedirectUri":null,"Endpoint":"Token","SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","Scopes":"openid profile api1","GrantType":"password","Tokens":[{"TokenType":"access_token","TokenValue":"****9Sng","$type":"Token"}],"Category":"Token","Name":"Token Issued Success","EventType":"Success","Id":2000,"Message":null,"ActivityId":"0HLND2I0UUVTH:00000001","TimeStamp":"2019-06-09T20:20:18.0000000Z","ProcessId":41412,"LocalIpAddress":"127.0.0.1:42399","RemoteIpAddress":"127.0.0.1","$type":"TokenIssuedSuccessEvent"}
2019-06-09 17:20:18.836 -03:00 [DBG] Token request success.
2019-06-09 17:27:59.276 -03:00 [DBG] CORS request made for path: /connect/token from origin: http://localhost:5000/
2019-06-09 17:27:59.282 -03:00 [DBG] Origin http://localhost:5000/ is allowed: false
2019-06-09 17:27:59.283 -03:00 [WRN] CorsPolicyService did not allow origin: http://localhost:5000/
2019-06-09 17:27:59.283 -03:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-06-09 17:27:59.283 -03:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-06-09 17:27:59.283 -03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-06-09 17:27:59.283 -03:00 [DBG] Start token request.
2019-06-09 17:27:59.283 -03:00 [DBG] Start client validation
2019-06-09 17:27:59.283 -03:00 [DBG] Start parsing Basic Authentication secret
2019-06-09 17:27:59.283 -03:00 [DBG] Start parsing for secret in post body
2019-06-09 17:27:59.283 -03:00 [DBG] Parser found secret: PostBodySecretParser
2019-06-09 17:27:59.283 -03:00 [DBG] Secret id found: ro.client
2019-06-09 17:27:59.295 -03:00 [DBG] ro.client found in database: true
2019-06-09 17:27:59.295 -03:00 [DBG] client configuration validation for client ro.client succeeded.
2019-06-09 17:27:59.295 -03:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-06-09 17:27:59.295 -03:00 [DBG] Client validation success
2019-06-09 17:27:59.295 -03:00 [INF] {"ClientId":"ro.client","AuthenticationMethod":"SharedSecret","Category":"Authentication","Name":"Client Authentication Success","EventType":"Success","Id":1010,"Message":null,"ActivityId":"0HLND2I0UUVTI:00000001","TimeStamp":"2019-06-09T20:27:59.0000000Z","ProcessId":41412,"LocalIpAddress":"127.0.0.1:42399","RemoteIpAddress":"127.0.0.1","$type":"ClientAuthenticationSuccessEvent"}
2019-06-09 17:27:59.295 -03:00 [DBG] Start token request validation
2019-06-09 17:27:59.295 -03:00 [DBG] Start resource owner password token request validation
2019-06-09 17:27:59.297 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 17:27:59.300 -03:00 [DBG] Found ["api1"] API scopes in database
2019-06-09 17:27:59.301 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 17:27:59.305 -03:00 [DBG] Found ["api1"] API scopes in database
2019-06-09 17:27:59.313 -03:00 [INF] Credentials validated for username: alice
2019-06-09 17:27:59.313 -03:00 [INF] {"Username":"alice","Provider":null,"ProviderUserId":null,"SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","DisplayName":"alice","Endpoint":"Token","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HLND2I0UUVTI:00000001","TimeStamp":"2019-06-09T20:27:59.0000000Z","ProcessId":41412,"LocalIpAddress":"127.0.0.1:42399","RemoteIpAddress":"127.0.0.1","$type":"UserLoginSuccessEvent"}
2019-06-09 17:27:59.313 -03:00 [INF] {"Username":"alice","Provider":null,"ProviderUserId":null,"SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","DisplayName":null,"Endpoint":"Token","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HLND2I0UUVTI:00000001","TimeStamp":"2019-06-09T20:27:59.0000000Z","ProcessId":41412,"LocalIpAddress":"127.0.0.1:42399","RemoteIpAddress":"127.0.0.1","$type":"UserLoginSuccessEvent"}
2019-06-09 17:27:59.313 -03:00 [DBG] Resource owner password token request validation success.
2019-06-09 17:27:59.313 -03:00 [INF] Token request validation success
{"ClientId":"ro.client","ClientName":null,"GrantType":"password","Scopes":"api1 openid profile","AuthorizationCode":null,"RefreshToken":null,"UserName":"alice","AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"grant_type":"password","client_id":"ro.client","client_secret":"***REDACTED***","username":"alice","password":"***REDACTED***","scope":"openid profile api1"},"$type":"TokenRequestValidationLog"}
2019-06-09 17:27:59.314 -03:00 [DBG] Getting claims for access token for client: ro.client
2019-06-09 17:27:59.314 -03:00 [DBG] Getting claims for access token for subject: 4ba1c3a0-b786-421d-b88a-740f38d9cafa
2019-06-09 17:27:59.319 -03:00 [INF] {"ClientId":"ro.client","ClientName":null,"RedirectUri":null,"Endpoint":"Token","SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","Scopes":"openid profile api1","GrantType":"password","Tokens":[{"TokenType":"access_token","TokenValue":"****uZcw","$type":"Token"}],"Category":"Token","Name":"Token Issued Success","EventType":"Success","Id":2000,"Message":null,"ActivityId":"0HLND2I0UUVTI:00000001","TimeStamp":"2019-06-09T20:27:59.0000000Z","ProcessId":41412,"LocalIpAddress":"127.0.0.1:42399","RemoteIpAddress":"127.0.0.1","$type":"TokenIssuedSuccessEvent"}
2019-06-09 17:27:59.319 -03:00 [DBG] Token request success.
2019-06-09 17:30:43.610 -03:00 [DBG] CORS request made for path: /connect/token from origin: http://localhost:5000/
2019-06-09 17:30:43.612 -03:00 [DBG] Origin http://localhost:5000/ is allowed: false
2019-06-09 17:30:43.612 -03:00 [WRN] CorsPolicyService did not allow origin: http://localhost:5000/
2019-06-09 17:30:43.612 -03:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-06-09 17:30:43.613 -03:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-06-09 17:30:43.613 -03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-06-09 17:30:43.613 -03:00 [DBG] Start token request.
2019-06-09 17:30:43.613 -03:00 [DBG] Start client validation
2019-06-09 17:30:43.613 -03:00 [DBG] Start parsing Basic Authentication secret
2019-06-09 17:30:43.613 -03:00 [DBG] Start parsing for secret in post body
2019-06-09 17:30:43.614 -03:00 [DBG] Parser found secret: PostBodySecretParser
2019-06-09 17:30:43.614 -03:00 [DBG] Secret id found: ro.client
2019-06-09 17:30:43.619 -03:00 [DBG] ro.client found in database: true
2019-06-09 17:30:43.619 -03:00 [DBG] client configuration validation for client ro.client succeeded.
2019-06-09 17:30:43.619 -03:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-06-09 17:30:43.619 -03:00 [DBG] Client validation success
2019-06-09 17:30:43.619 -03:00 [INF] {"ClientId":"ro.client","AuthenticationMethod":"SharedSecret","Category":"Authentication","Name":"Client Authentication Success","EventType":"Success","Id":1010,"Message":null,"ActivityId":"0HLND2I0UUVTJ:00000001","TimeStamp":"2019-06-09T20:30:43.0000000Z","ProcessId":41412,"LocalIpAddress":"127.0.0.1:42399","RemoteIpAddress":"127.0.0.1","$type":"ClientAuthenticationSuccessEvent"}
2019-06-09 17:30:43.620 -03:00 [DBG] Start token request validation
2019-06-09 17:30:43.620 -03:00 [DBG] Start resource owner password token request validation
2019-06-09 17:30:43.622 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 17:30:43.627 -03:00 [DBG] Found ["api1"] API scopes in database
2019-06-09 17:30:43.628 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 17:30:43.634 -03:00 [DBG] Found ["api1"] API scopes in database
2019-06-09 17:30:43.642 -03:00 [INF] Credentials validated for username: alice
2019-06-09 17:30:43.642 -03:00 [INF] {"Username":"alice","Provider":null,"ProviderUserId":null,"SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","DisplayName":"alice","Endpoint":"Token","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HLND2I0UUVTJ:00000001","TimeStamp":"2019-06-09T20:30:43.0000000Z","ProcessId":41412,"LocalIpAddress":"127.0.0.1:42399","RemoteIpAddress":"127.0.0.1","$type":"UserLoginSuccessEvent"}
2019-06-09 17:30:43.642 -03:00 [INF] {"Username":"alice","Provider":null,"ProviderUserId":null,"SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","DisplayName":null,"Endpoint":"Token","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HLND2I0UUVTJ:00000001","TimeStamp":"2019-06-09T20:30:43.0000000Z","ProcessId":41412,"LocalIpAddress":"127.0.0.1:42399","RemoteIpAddress":"127.0.0.1","$type":"UserLoginSuccessEvent"}
2019-06-09 17:30:43.642 -03:00 [DBG] Resource owner password token request validation success.
2019-06-09 17:30:43.642 -03:00 [INF] Token request validation success
{"ClientId":"ro.client","ClientName":null,"GrantType":"password","Scopes":"api1 openid profile","AuthorizationCode":null,"RefreshToken":null,"UserName":"alice","AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"grant_type":"password","client_id":"ro.client","client_secret":"***REDACTED***","username":"alice","password":"***REDACTED***","scope":"openid profile api1"},"$type":"TokenRequestValidationLog"}
2019-06-09 17:30:43.642 -03:00 [DBG] Getting claims for access token for client: ro.client
2019-06-09 17:30:43.643 -03:00 [DBG] Getting claims for access token for subject: 4ba1c3a0-b786-421d-b88a-740f38d9cafa
2019-06-09 17:30:43.648 -03:00 [INF] {"ClientId":"ro.client","ClientName":null,"RedirectUri":null,"Endpoint":"Token","SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","Scopes":"openid profile api1","GrantType":"password","Tokens":[{"TokenType":"access_token","TokenValue":"****Gq7w","$type":"Token"}],"Category":"Token","Name":"Token Issued Success","EventType":"Success","Id":2000,"Message":null,"ActivityId":"0HLND2I0UUVTJ:00000001","TimeStamp":"2019-06-09T20:30:43.0000000Z","ProcessId":41412,"LocalIpAddress":"127.0.0.1:42399","RemoteIpAddress":"127.0.0.1","$type":"TokenIssuedSuccessEvent"}
2019-06-09 17:30:43.648 -03:00 [DBG] Token request success.
2019-06-09 17:35:16.164 -03:00 [DBG] CORS request made for path: /connect/token from origin: http://localhost:5000/
2019-06-09 17:35:16.172 -03:00 [DBG] Origin http://localhost:5000/ is allowed: false
2019-06-09 17:35:16.172 -03:00 [WRN] CorsPolicyService did not allow origin: http://localhost:5000/
2019-06-09 17:35:16.172 -03:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-06-09 17:35:16.172 -03:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-06-09 17:35:16.172 -03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-06-09 17:35:16.172 -03:00 [DBG] Start token request.
2019-06-09 17:35:16.172 -03:00 [DBG] Start client validation
2019-06-09 17:35:16.172 -03:00 [DBG] Start parsing Basic Authentication secret
2019-06-09 17:35:16.172 -03:00 [DBG] Start parsing for secret in post body
2019-06-09 17:35:16.173 -03:00 [DBG] Parser found secret: PostBodySecretParser
2019-06-09 17:35:16.173 -03:00 [DBG] Secret id found: ro.client
2019-06-09 17:35:16.200 -03:00 [DBG] ro.client found in database: true
2019-06-09 17:35:16.200 -03:00 [DBG] client configuration validation for client ro.client succeeded.
2019-06-09 17:35:16.200 -03:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-06-09 17:35:16.200 -03:00 [DBG] Client validation success
2019-06-09 17:35:16.201 -03:00 [INF] {"ClientId":"ro.client","AuthenticationMethod":"SharedSecret","Category":"Authentication","Name":"Client Authentication Success","EventType":"Success","Id":1010,"Message":null,"ActivityId":"0HLND2I0UUVTK:00000001","TimeStamp":"2019-06-09T20:35:16.0000000Z","ProcessId":41412,"LocalIpAddress":"127.0.0.1:42399","RemoteIpAddress":"127.0.0.1","$type":"ClientAuthenticationSuccessEvent"}
2019-06-09 17:35:16.201 -03:00 [DBG] Start token request validation
2019-06-09 17:35:16.201 -03:00 [DBG] Start resource owner password token request validation
2019-06-09 17:35:16.209 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 17:35:16.303 -03:00 [DBG] Found ["api1"] API scopes in database
2019-06-09 17:35:16.311 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 17:35:16.396 -03:00 [DBG] Found ["api1"] API scopes in database
2019-06-09 17:35:16.408 -03:00 [INF] Credentials validated for username: alice
2019-06-09 17:35:16.409 -03:00 [INF] {"Username":"alice","Provider":null,"ProviderUserId":null,"SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","DisplayName":"alice","Endpoint":"Token","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HLND2I0UUVTK:00000001","TimeStamp":"2019-06-09T20:35:16.0000000Z","ProcessId":41412,"LocalIpAddress":"127.0.0.1:42399","RemoteIpAddress":"127.0.0.1","$type":"UserLoginSuccessEvent"}
2019-06-09 17:35:16.409 -03:00 [INF] {"Username":"alice","Provider":null,"ProviderUserId":null,"SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","DisplayName":null,"Endpoint":"Token","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HLND2I0UUVTK:00000001","TimeStamp":"2019-06-09T20:35:16.0000000Z","ProcessId":41412,"LocalIpAddress":"127.0.0.1:42399","RemoteIpAddress":"127.0.0.1","$type":"UserLoginSuccessEvent"}
2019-06-09 17:35:16.409 -03:00 [DBG] Resource owner password token request validation success.
2019-06-09 17:35:16.409 -03:00 [INF] Token request validation success
{"ClientId":"ro.client","ClientName":null,"GrantType":"password","Scopes":"api1 openid profile","AuthorizationCode":null,"RefreshToken":null,"UserName":"alice","AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"grant_type":"password","client_id":"ro.client","client_secret":"***REDACTED***","username":"alice","password":"***REDACTED***","scope":"openid profile api1"},"$type":"TokenRequestValidationLog"}
2019-06-09 17:35:16.409 -03:00 [DBG] Getting claims for access token for client: ro.client
2019-06-09 17:35:16.409 -03:00 [DBG] Getting claims for access token for subject: 4ba1c3a0-b786-421d-b88a-740f38d9cafa
2019-06-09 17:35:16.419 -03:00 [INF] {"ClientId":"ro.client","ClientName":null,"RedirectUri":null,"Endpoint":"Token","SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","Scopes":"openid profile api1","GrantType":"password","Tokens":[{"TokenType":"access_token","TokenValue":"****B_6w","$type":"Token"}],"Category":"Token","Name":"Token Issued Success","EventType":"Success","Id":2000,"Message":null,"ActivityId":"0HLND2I0UUVTK:00000001","TimeStamp":"2019-06-09T20:35:16.0000000Z","ProcessId":41412,"LocalIpAddress":"127.0.0.1:42399","RemoteIpAddress":"127.0.0.1","$type":"TokenIssuedSuccessEvent"}
2019-06-09 17:35:16.419 -03:00 [DBG] Token request success.
2019-06-09 17:36:05.565 -03:00 [DBG] CORS request made for path: /connect/token from origin: http://localhost:5000/
2019-06-09 17:36:05.570 -03:00 [DBG] Origin http://localhost:5000/ is allowed: false
2019-06-09 17:36:05.570 -03:00 [WRN] CorsPolicyService did not allow origin: http://localhost:5000/
2019-06-09 17:36:05.570 -03:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-06-09 17:36:05.571 -03:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-06-09 17:36:05.571 -03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-06-09 17:36:05.571 -03:00 [DBG] Start token request.
2019-06-09 17:36:05.571 -03:00 [DBG] Start client validation
2019-06-09 17:36:05.571 -03:00 [DBG] Start parsing Basic Authentication secret
2019-06-09 17:36:05.571 -03:00 [DBG] Start parsing for secret in post body
2019-06-09 17:36:05.571 -03:00 [DBG] Parser found secret: PostBodySecretParser
2019-06-09 17:36:05.571 -03:00 [DBG] Secret id found: ro.client
2019-06-09 17:36:05.595 -03:00 [DBG] ro.client found in database: true
2019-06-09 17:36:05.595 -03:00 [DBG] client configuration validation for client ro.client succeeded.
2019-06-09 17:36:05.595 -03:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-06-09 17:36:05.595 -03:00 [DBG] Client validation success
2019-06-09 17:36:05.595 -03:00 [INF] {"ClientId":"ro.client","AuthenticationMethod":"SharedSecret","Category":"Authentication","Name":"Client Authentication Success","EventType":"Success","Id":1010,"Message":null,"ActivityId":"0HLND2I0UUVTK:00000002","TimeStamp":"2019-06-09T20:36:05.0000000Z","ProcessId":41412,"LocalIpAddress":"127.0.0.1:42399","RemoteIpAddress":"127.0.0.1","$type":"ClientAuthenticationSuccessEvent"}
2019-06-09 17:36:05.595 -03:00 [DBG] Start token request validation
2019-06-09 17:36:05.595 -03:00 [DBG] Start resource owner password token request validation
2019-06-09 17:36:05.603 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 17:36:05.629 -03:00 [DBG] Found ["api1"] API scopes in database
2019-06-09 17:36:05.630 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 17:36:05.633 -03:00 [DBG] Found ["api1"] API scopes in database
2019-06-09 17:36:05.641 -03:00 [INF] Credentials validated for username: alice
2019-06-09 17:36:05.641 -03:00 [INF] {"Username":"alice","Provider":null,"ProviderUserId":null,"SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","DisplayName":"alice","Endpoint":"Token","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HLND2I0UUVTK:00000002","TimeStamp":"2019-06-09T20:36:05.0000000Z","ProcessId":41412,"LocalIpAddress":"127.0.0.1:42399","RemoteIpAddress":"127.0.0.1","$type":"UserLoginSuccessEvent"}
2019-06-09 17:36:05.641 -03:00 [INF] {"Username":"alice","Provider":null,"ProviderUserId":null,"SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","DisplayName":null,"Endpoint":"Token","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HLND2I0UUVTK:00000002","TimeStamp":"2019-06-09T20:36:05.0000000Z","ProcessId":41412,"LocalIpAddress":"127.0.0.1:42399","RemoteIpAddress":"127.0.0.1","$type":"UserLoginSuccessEvent"}
2019-06-09 17:36:05.641 -03:00 [DBG] Resource owner password token request validation success.
2019-06-09 17:36:05.641 -03:00 [INF] Token request validation success
{"ClientId":"ro.client","ClientName":null,"GrantType":"password","Scopes":"api1 openid profile","AuthorizationCode":null,"RefreshToken":null,"UserName":"alice","AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"grant_type":"password","client_id":"ro.client","client_secret":"***REDACTED***","username":"alice","password":"***REDACTED***","scope":"openid profile api1"},"$type":"TokenRequestValidationLog"}
2019-06-09 17:36:05.641 -03:00 [DBG] Getting claims for access token for client: ro.client
2019-06-09 17:36:05.641 -03:00 [DBG] Getting claims for access token for subject: 4ba1c3a0-b786-421d-b88a-740f38d9cafa
2019-06-09 17:36:05.646 -03:00 [INF] {"ClientId":"ro.client","ClientName":null,"RedirectUri":null,"Endpoint":"Token","SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","Scopes":"openid profile api1","GrantType":"password","Tokens":[{"TokenType":"access_token","TokenValue":"****YYPA","$type":"Token"}],"Category":"Token","Name":"Token Issued Success","EventType":"Success","Id":2000,"Message":null,"ActivityId":"0HLND2I0UUVTK:00000002","TimeStamp":"2019-06-09T20:36:05.0000000Z","ProcessId":41412,"LocalIpAddress":"127.0.0.1:42399","RemoteIpAddress":"127.0.0.1","$type":"TokenIssuedSuccessEvent"}
2019-06-09 17:36:05.646 -03:00 [DBG] Token request success.
2019-06-09 17:36:24.319 -03:00 [DBG] CORS request made for path: /connect/token from origin: http://localhost:5000/
2019-06-09 17:36:24.322 -03:00 [DBG] Origin http://localhost:5000/ is allowed: false
2019-06-09 17:36:24.323 -03:00 [WRN] CorsPolicyService did not allow origin: http://localhost:5000/
2019-06-09 17:36:24.323 -03:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-06-09 17:36:24.323 -03:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-06-09 17:36:24.323 -03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-06-09 17:36:24.323 -03:00 [DBG] Start token request.
2019-06-09 17:36:24.323 -03:00 [DBG] Start client validation
2019-06-09 17:36:24.323 -03:00 [DBG] Start parsing Basic Authentication secret
2019-06-09 17:36:24.323 -03:00 [DBG] Start parsing for secret in post body
2019-06-09 17:36:24.323 -03:00 [DBG] Parser found secret: PostBodySecretParser
2019-06-09 17:36:24.323 -03:00 [DBG] Secret id found: ro.client
2019-06-09 17:36:24.342 -03:00 [DBG] ro.client found in database: true
2019-06-09 17:36:24.342 -03:00 [DBG] client configuration validation for client ro.client succeeded.
2019-06-09 17:36:24.342 -03:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-06-09 17:36:24.342 -03:00 [DBG] Client validation success
2019-06-09 17:36:24.342 -03:00 [INF] {"ClientId":"ro.client","AuthenticationMethod":"SharedSecret","Category":"Authentication","Name":"Client Authentication Success","EventType":"Success","Id":1010,"Message":null,"ActivityId":"0HLND2I0UUVTK:00000003","TimeStamp":"2019-06-09T20:36:24.0000000Z","ProcessId":41412,"LocalIpAddress":"127.0.0.1:42399","RemoteIpAddress":"127.0.0.1","$type":"ClientAuthenticationSuccessEvent"}
2019-06-09 17:36:24.343 -03:00 [DBG] Start token request validation
2019-06-09 17:36:24.343 -03:00 [DBG] Start resource owner password token request validation
2019-06-09 17:36:24.351 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 17:36:24.410 -03:00 [DBG] Found ["api1"] API scopes in database
2019-06-09 17:36:24.412 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 17:36:24.415 -03:00 [DBG] Found ["api1"] API scopes in database
2019-06-09 17:36:24.425 -03:00 [INF] Credentials validated for username: alice
2019-06-09 17:36:24.425 -03:00 [INF] {"Username":"alice","Provider":null,"ProviderUserId":null,"SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","DisplayName":"alice","Endpoint":"Token","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HLND2I0UUVTK:00000003","TimeStamp":"2019-06-09T20:36:24.0000000Z","ProcessId":41412,"LocalIpAddress":"127.0.0.1:42399","RemoteIpAddress":"127.0.0.1","$type":"UserLoginSuccessEvent"}
2019-06-09 17:36:24.425 -03:00 [INF] {"Username":"alice","Provider":null,"ProviderUserId":null,"SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","DisplayName":null,"Endpoint":"Token","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HLND2I0UUVTK:00000003","TimeStamp":"2019-06-09T20:36:24.0000000Z","ProcessId":41412,"LocalIpAddress":"127.0.0.1:42399","RemoteIpAddress":"127.0.0.1","$type":"UserLoginSuccessEvent"}
2019-06-09 17:36:24.425 -03:00 [DBG] Resource owner password token request validation success.
2019-06-09 17:36:24.425 -03:00 [INF] Token request validation success
{"ClientId":"ro.client","ClientName":null,"GrantType":"password","Scopes":"api1 openid profile","AuthorizationCode":null,"RefreshToken":null,"UserName":"alice","AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"grant_type":"password","client_id":"ro.client","client_secret":"***REDACTED***","username":"alice","password":"***REDACTED***","scope":"openid profile api1"},"$type":"TokenRequestValidationLog"}
2019-06-09 17:36:24.425 -03:00 [DBG] Getting claims for access token for client: ro.client
2019-06-09 17:36:24.425 -03:00 [DBG] Getting claims for access token for subject: 4ba1c3a0-b786-421d-b88a-740f38d9cafa
2019-06-09 17:36:24.433 -03:00 [INF] {"ClientId":"ro.client","ClientName":null,"RedirectUri":null,"Endpoint":"Token","SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","Scopes":"openid profile api1","GrantType":"password","Tokens":[{"TokenType":"access_token","TokenValue":"****0FPA","$type":"Token"}],"Category":"Token","Name":"Token Issued Success","EventType":"Success","Id":2000,"Message":null,"ActivityId":"0HLND2I0UUVTK:00000003","TimeStamp":"2019-06-09T20:36:24.0000000Z","ProcessId":41412,"LocalIpAddress":"127.0.0.1:42399","RemoteIpAddress":"127.0.0.1","$type":"TokenIssuedSuccessEvent"}
2019-06-09 17:36:24.433 -03:00 [DBG] Token request success.
2019-06-09 17:42:27.147 -03:00 [DBG] CORS request made for path: /connect/token from origin: http://localhost:5000/
2019-06-09 17:42:27.153 -03:00 [DBG] Origin http://localhost:5000/ is allowed: false
2019-06-09 17:42:27.153 -03:00 [WRN] CorsPolicyService did not allow origin: http://localhost:5000/
2019-06-09 17:42:27.153 -03:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-06-09 17:42:27.154 -03:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-06-09 17:42:27.154 -03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-06-09 17:42:27.154 -03:00 [DBG] Start token request.
2019-06-09 17:42:27.154 -03:00 [DBG] Start client validation
2019-06-09 17:42:27.154 -03:00 [DBG] Start parsing Basic Authentication secret
2019-06-09 17:42:27.154 -03:00 [DBG] Start parsing for secret in post body
2019-06-09 17:42:27.154 -03:00 [DBG] Parser found secret: PostBodySecretParser
2019-06-09 17:42:27.154 -03:00 [DBG] Secret id found: ro.client
2019-06-09 17:42:27.175 -03:00 [DBG] ro.client found in database: true
2019-06-09 17:42:27.175 -03:00 [DBG] client configuration validation for client ro.client succeeded.
2019-06-09 17:42:27.176 -03:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-06-09 17:42:27.176 -03:00 [DBG] Client validation success
2019-06-09 17:42:27.176 -03:00 [INF] {"ClientId":"ro.client","AuthenticationMethod":"SharedSecret","Category":"Authentication","Name":"Client Authentication Success","EventType":"Success","Id":1010,"Message":null,"ActivityId":"0HLND2I0UUVTL:00000001","TimeStamp":"2019-06-09T20:42:27.0000000Z","ProcessId":41412,"LocalIpAddress":"127.0.0.1:42399","RemoteIpAddress":"127.0.0.1","$type":"ClientAuthenticationSuccessEvent"}
2019-06-09 17:42:27.176 -03:00 [DBG] Start token request validation
2019-06-09 17:42:27.176 -03:00 [DBG] Start resource owner password token request validation
2019-06-09 17:42:27.183 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 17:42:27.245 -03:00 [DBG] Found ["api1"] API scopes in database
2019-06-09 17:42:27.247 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 17:42:27.249 -03:00 [DBG] Found ["api1"] API scopes in database
2019-06-09 17:42:27.259 -03:00 [INF] Credentials validated for username: alice
2019-06-09 17:42:27.259 -03:00 [INF] {"Username":"alice","Provider":null,"ProviderUserId":null,"SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","DisplayName":"alice","Endpoint":"Token","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HLND2I0UUVTL:00000001","TimeStamp":"2019-06-09T20:42:27.0000000Z","ProcessId":41412,"LocalIpAddress":"127.0.0.1:42399","RemoteIpAddress":"127.0.0.1","$type":"UserLoginSuccessEvent"}
2019-06-09 17:42:27.259 -03:00 [INF] {"Username":"alice","Provider":null,"ProviderUserId":null,"SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","DisplayName":null,"Endpoint":"Token","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HLND2I0UUVTL:00000001","TimeStamp":"2019-06-09T20:42:27.0000000Z","ProcessId":41412,"LocalIpAddress":"127.0.0.1:42399","RemoteIpAddress":"127.0.0.1","$type":"UserLoginSuccessEvent"}
2019-06-09 17:42:27.259 -03:00 [DBG] Resource owner password token request validation success.
2019-06-09 17:42:27.259 -03:00 [INF] Token request validation success
{"ClientId":"ro.client","ClientName":null,"GrantType":"password","Scopes":"api1 openid profile","AuthorizationCode":null,"RefreshToken":null,"UserName":"alice","AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"grant_type":"password","client_id":"ro.client","client_secret":"***REDACTED***","username":"alice","password":"***REDACTED***","scope":"openid profile api1"},"$type":"TokenRequestValidationLog"}
2019-06-09 17:42:27.260 -03:00 [DBG] Getting claims for access token for client: ro.client
2019-06-09 17:42:27.260 -03:00 [DBG] Getting claims for access token for subject: 4ba1c3a0-b786-421d-b88a-740f38d9cafa
2019-06-09 17:42:27.270 -03:00 [INF] {"ClientId":"ro.client","ClientName":null,"RedirectUri":null,"Endpoint":"Token","SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","Scopes":"openid profile api1","GrantType":"password","Tokens":[{"TokenType":"access_token","TokenValue":"****NKwA","$type":"Token"}],"Category":"Token","Name":"Token Issued Success","EventType":"Success","Id":2000,"Message":null,"ActivityId":"0HLND2I0UUVTL:00000001","TimeStamp":"2019-06-09T20:42:27.0000000Z","ProcessId":41412,"LocalIpAddress":"127.0.0.1:42399","RemoteIpAddress":"127.0.0.1","$type":"TokenIssuedSuccessEvent"}
2019-06-09 17:42:27.270 -03:00 [DBG] Token request success.
2019-06-09 17:49:04.957 -03:00 [DBG] CORS request made for path: /connect/token from origin: http://localhost:5000/
2019-06-09 17:49:04.964 -03:00 [DBG] Origin http://localhost:5000/ is allowed: false
2019-06-09 17:49:04.964 -03:00 [WRN] CorsPolicyService did not allow origin: http://localhost:5000/
2019-06-09 17:49:04.964 -03:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-06-09 17:49:04.965 -03:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-06-09 17:49:04.965 -03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-06-09 17:49:04.965 -03:00 [DBG] Start token request.
2019-06-09 17:49:04.965 -03:00 [DBG] Start client validation
2019-06-09 17:49:04.965 -03:00 [DBG] Start parsing Basic Authentication secret
2019-06-09 17:49:04.965 -03:00 [DBG] Start parsing for secret in post body
2019-06-09 17:49:04.965 -03:00 [DBG] Parser found secret: PostBodySecretParser
2019-06-09 17:49:04.965 -03:00 [DBG] Secret id found: ro.client
2019-06-09 17:49:04.986 -03:00 [DBG] ro.client found in database: true
2019-06-09 17:49:04.986 -03:00 [DBG] client configuration validation for client ro.client succeeded.
2019-06-09 17:49:04.986 -03:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-06-09 17:49:04.986 -03:00 [DBG] Client validation success
2019-06-09 17:49:04.986 -03:00 [INF] {"ClientId":"ro.client","AuthenticationMethod":"SharedSecret","Category":"Authentication","Name":"Client Authentication Success","EventType":"Success","Id":1010,"Message":null,"ActivityId":"0HLND2I0UUVTM:00000001","TimeStamp":"2019-06-09T20:49:04.0000000Z","ProcessId":41412,"LocalIpAddress":"127.0.0.1:42399","RemoteIpAddress":"127.0.0.1","$type":"ClientAuthenticationSuccessEvent"}
2019-06-09 17:49:04.986 -03:00 [DBG] Start token request validation
2019-06-09 17:49:04.986 -03:00 [DBG] Start resource owner password token request validation
2019-06-09 17:49:04.993 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 17:49:05.054 -03:00 [DBG] Found ["api1"] API scopes in database
2019-06-09 17:49:05.055 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 17:49:05.058 -03:00 [DBG] Found ["api1"] API scopes in database
2019-06-09 17:49:05.069 -03:00 [INF] Credentials validated for username: alice
2019-06-09 17:49:05.069 -03:00 [INF] {"Username":"alice","Provider":null,"ProviderUserId":null,"SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","DisplayName":"alice","Endpoint":"Token","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HLND2I0UUVTM:00000001","TimeStamp":"2019-06-09T20:49:05.0000000Z","ProcessId":41412,"LocalIpAddress":"127.0.0.1:42399","RemoteIpAddress":"127.0.0.1","$type":"UserLoginSuccessEvent"}
2019-06-09 17:49:05.069 -03:00 [INF] {"Username":"alice","Provider":null,"ProviderUserId":null,"SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","DisplayName":null,"Endpoint":"Token","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HLND2I0UUVTM:00000001","TimeStamp":"2019-06-09T20:49:05.0000000Z","ProcessId":41412,"LocalIpAddress":"127.0.0.1:42399","RemoteIpAddress":"127.0.0.1","$type":"UserLoginSuccessEvent"}
2019-06-09 17:49:05.069 -03:00 [DBG] Resource owner password token request validation success.
2019-06-09 17:49:05.069 -03:00 [INF] Token request validation success
{"ClientId":"ro.client","ClientName":null,"GrantType":"password","Scopes":"api1 openid profile","AuthorizationCode":null,"RefreshToken":null,"UserName":"alice","AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"grant_type":"password","client_id":"ro.client","client_secret":"***REDACTED***","username":"alice","password":"***REDACTED***","scope":"openid profile api1"},"$type":"TokenRequestValidationLog"}
2019-06-09 17:49:05.069 -03:00 [DBG] Getting claims for access token for client: ro.client
2019-06-09 17:49:05.069 -03:00 [DBG] Getting claims for access token for subject: 4ba1c3a0-b786-421d-b88a-740f38d9cafa
2019-06-09 17:49:05.077 -03:00 [INF] {"ClientId":"ro.client","ClientName":null,"RedirectUri":null,"Endpoint":"Token","SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","Scopes":"openid profile api1","GrantType":"password","Tokens":[{"TokenType":"access_token","TokenValue":"****eWuA","$type":"Token"}],"Category":"Token","Name":"Token Issued Success","EventType":"Success","Id":2000,"Message":null,"ActivityId":"0HLND2I0UUVTM:00000001","TimeStamp":"2019-06-09T20:49:05.0000000Z","ProcessId":41412,"LocalIpAddress":"127.0.0.1:42399","RemoteIpAddress":"127.0.0.1","$type":"TokenIssuedSuccessEvent"}
2019-06-09 17:49:05.077 -03:00 [DBG] Token request success.
2019-06-09 17:49:52.114 -03:00 [DBG] CORS request made for path: /connect/token from origin: http://localhost:5000/
2019-06-09 17:49:52.119 -03:00 [DBG] Origin http://localhost:5000/ is allowed: false
2019-06-09 17:49:52.119 -03:00 [WRN] CorsPolicyService did not allow origin: http://localhost:5000/
2019-06-09 17:49:52.119 -03:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-06-09 17:49:52.119 -03:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-06-09 17:49:52.219 -03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-06-09 17:49:52.219 -03:00 [DBG] Start token request.
2019-06-09 17:49:52.219 -03:00 [DBG] Start client validation
2019-06-09 17:49:52.219 -03:00 [DBG] Start parsing Basic Authentication secret
2019-06-09 17:49:52.219 -03:00 [DBG] Start parsing for secret in post body
2019-06-09 17:49:52.219 -03:00 [DBG] Parser found secret: PostBodySecretParser
2019-06-09 17:49:52.219 -03:00 [DBG] Secret id found: ro.client
2019-06-09 17:49:52.240 -03:00 [DBG] ro.client found in database: true
2019-06-09 17:49:52.240 -03:00 [DBG] client configuration validation for client ro.client succeeded.
2019-06-09 17:49:52.240 -03:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-06-09 17:49:52.240 -03:00 [DBG] Client validation success
2019-06-09 17:49:52.240 -03:00 [INF] {"ClientId":"ro.client","AuthenticationMethod":"SharedSecret","Category":"Authentication","Name":"Client Authentication Success","EventType":"Success","Id":1010,"Message":null,"ActivityId":"0HLND2I0UUVTM:00000002","TimeStamp":"2019-06-09T20:49:52.0000000Z","ProcessId":41412,"LocalIpAddress":"127.0.0.1:42399","RemoteIpAddress":"127.0.0.1","$type":"ClientAuthenticationSuccessEvent"}
2019-06-09 17:49:52.240 -03:00 [DBG] Start token request validation
2019-06-09 17:49:52.240 -03:00 [DBG] Start resource owner password token request validation
2019-06-09 17:49:52.248 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 17:49:52.314 -03:00 [DBG] Found ["api1"] API scopes in database
2019-06-09 17:49:52.317 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 17:49:52.320 -03:00 [DBG] Found ["api1"] API scopes in database
2019-06-09 17:49:52.330 -03:00 [INF] Credentials validated for username: alice
2019-06-09 17:49:52.330 -03:00 [INF] {"Username":"alice","Provider":null,"ProviderUserId":null,"SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","DisplayName":"alice","Endpoint":"Token","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HLND2I0UUVTM:00000002","TimeStamp":"2019-06-09T20:49:52.0000000Z","ProcessId":41412,"LocalIpAddress":"127.0.0.1:42399","RemoteIpAddress":"127.0.0.1","$type":"UserLoginSuccessEvent"}
2019-06-09 17:49:52.330 -03:00 [INF] {"Username":"alice","Provider":null,"ProviderUserId":null,"SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","DisplayName":null,"Endpoint":"Token","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HLND2I0UUVTM:00000002","TimeStamp":"2019-06-09T20:49:52.0000000Z","ProcessId":41412,"LocalIpAddress":"127.0.0.1:42399","RemoteIpAddress":"127.0.0.1","$type":"UserLoginSuccessEvent"}
2019-06-09 17:49:52.330 -03:00 [DBG] Resource owner password token request validation success.
2019-06-09 17:49:52.330 -03:00 [INF] Token request validation success
{"ClientId":"ro.client","ClientName":null,"GrantType":"password","Scopes":"api1 openid profile","AuthorizationCode":null,"RefreshToken":null,"UserName":"alice","AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"grant_type":"password","client_id":"ro.client","client_secret":"***REDACTED***","username":"alice","password":"***REDACTED***","scope":"openid profile api1"},"$type":"TokenRequestValidationLog"}
2019-06-09 17:49:52.330 -03:00 [DBG] Getting claims for access token for client: ro.client
2019-06-09 17:49:52.330 -03:00 [DBG] Getting claims for access token for subject: 4ba1c3a0-b786-421d-b88a-740f38d9cafa
2019-06-09 17:49:52.340 -03:00 [INF] {"ClientId":"ro.client","ClientName":null,"RedirectUri":null,"Endpoint":"Token","SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","Scopes":"openid profile api1","GrantType":"password","Tokens":[{"TokenType":"access_token","TokenValue":"****UJxQ","$type":"Token"}],"Category":"Token","Name":"Token Issued Success","EventType":"Success","Id":2000,"Message":null,"ActivityId":"0HLND2I0UUVTM:00000002","TimeStamp":"2019-06-09T20:49:52.0000000Z","ProcessId":41412,"LocalIpAddress":"127.0.0.1:42399","RemoteIpAddress":"127.0.0.1","$type":"TokenIssuedSuccessEvent"}
2019-06-09 17:49:52.340 -03:00 [DBG] Token request success.
2019-06-09 17:50:11.788 -03:00 [DBG] CORS request made for path: /connect/token from origin: http://localhost:5000/
2019-06-09 17:50:11.790 -03:00 [DBG] Origin http://localhost:5000/ is allowed: false
2019-06-09 17:50:11.790 -03:00 [WRN] CorsPolicyService did not allow origin: http://localhost:5000/
2019-06-09 17:50:11.790 -03:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-06-09 17:50:11.790 -03:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-06-09 17:50:11.791 -03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-06-09 17:50:11.791 -03:00 [DBG] Start token request.
2019-06-09 17:50:11.791 -03:00 [DBG] Start client validation
2019-06-09 17:50:11.791 -03:00 [DBG] Start parsing Basic Authentication secret
2019-06-09 17:50:11.791 -03:00 [DBG] Start parsing for secret in post body
2019-06-09 17:50:11.791 -03:00 [DBG] Parser found secret: PostBodySecretParser
2019-06-09 17:50:11.791 -03:00 [DBG] Secret id found: ro.client
2019-06-09 17:50:11.799 -03:00 [DBG] ro.client found in database: true
2019-06-09 17:50:11.799 -03:00 [DBG] client configuration validation for client ro.client succeeded.
2019-06-09 17:50:11.800 -03:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-06-09 17:50:11.800 -03:00 [DBG] Client validation success
2019-06-09 17:50:11.800 -03:00 [INF] {"ClientId":"ro.client","AuthenticationMethod":"SharedSecret","Category":"Authentication","Name":"Client Authentication Success","EventType":"Success","Id":1010,"Message":null,"ActivityId":"0HLND2I0UUVTM:00000003","TimeStamp":"2019-06-09T20:50:11.0000000Z","ProcessId":41412,"LocalIpAddress":"127.0.0.1:42399","RemoteIpAddress":"127.0.0.1","$type":"ClientAuthenticationSuccessEvent"}
2019-06-09 17:50:11.800 -03:00 [DBG] Start token request validation
2019-06-09 17:50:11.800 -03:00 [DBG] Start resource owner password token request validation
2019-06-09 17:50:11.801 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 17:50:11.804 -03:00 [DBG] Found ["api1"] API scopes in database
2019-06-09 17:50:11.806 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 17:50:11.808 -03:00 [DBG] Found ["api1"] API scopes in database
2019-06-09 17:50:11.817 -03:00 [INF] Credentials validated for username: alice
2019-06-09 17:50:11.817 -03:00 [INF] {"Username":"alice","Provider":null,"ProviderUserId":null,"SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","DisplayName":"alice","Endpoint":"Token","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HLND2I0UUVTM:00000003","TimeStamp":"2019-06-09T20:50:11.0000000Z","ProcessId":41412,"LocalIpAddress":"127.0.0.1:42399","RemoteIpAddress":"127.0.0.1","$type":"UserLoginSuccessEvent"}
2019-06-09 17:50:11.817 -03:00 [INF] {"Username":"alice","Provider":null,"ProviderUserId":null,"SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","DisplayName":null,"Endpoint":"Token","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HLND2I0UUVTM:00000003","TimeStamp":"2019-06-09T20:50:11.0000000Z","ProcessId":41412,"LocalIpAddress":"127.0.0.1:42399","RemoteIpAddress":"127.0.0.1","$type":"UserLoginSuccessEvent"}
2019-06-09 17:50:11.817 -03:00 [DBG] Resource owner password token request validation success.
2019-06-09 17:50:11.817 -03:00 [INF] Token request validation success
{"ClientId":"ro.client","ClientName":null,"GrantType":"password","Scopes":"api1 openid profile","AuthorizationCode":null,"RefreshToken":null,"UserName":"alice","AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"grant_type":"password","client_id":"ro.client","client_secret":"***REDACTED***","username":"alice","password":"***REDACTED***","scope":"openid profile api1"},"$type":"TokenRequestValidationLog"}
2019-06-09 17:50:11.817 -03:00 [DBG] Getting claims for access token for client: ro.client
2019-06-09 17:50:11.817 -03:00 [DBG] Getting claims for access token for subject: 4ba1c3a0-b786-421d-b88a-740f38d9cafa
2019-06-09 17:50:11.823 -03:00 [INF] {"ClientId":"ro.client","ClientName":null,"RedirectUri":null,"Endpoint":"Token","SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","Scopes":"openid profile api1","GrantType":"password","Tokens":[{"TokenType":"access_token","TokenValue":"****zJSQ","$type":"Token"}],"Category":"Token","Name":"Token Issued Success","EventType":"Success","Id":2000,"Message":null,"ActivityId":"0HLND2I0UUVTM:00000003","TimeStamp":"2019-06-09T20:50:11.0000000Z","ProcessId":41412,"LocalIpAddress":"127.0.0.1:42399","RemoteIpAddress":"127.0.0.1","$type":"TokenIssuedSuccessEvent"}
2019-06-09 17:50:11.823 -03:00 [DBG] Token request success.
2019-06-09 17:50:49.737 -03:00 [DBG] CORS request made for path: /connect/token from origin: http://localhost:5000/
2019-06-09 17:50:49.744 -03:00 [DBG] Origin http://localhost:5000/ is allowed: false
2019-06-09 17:50:49.744 -03:00 [WRN] CorsPolicyService did not allow origin: http://localhost:5000/
2019-06-09 17:50:49.744 -03:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-06-09 17:50:49.744 -03:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-06-09 17:50:49.744 -03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-06-09 17:50:49.744 -03:00 [DBG] Start token request.
2019-06-09 17:50:49.744 -03:00 [DBG] Start client validation
2019-06-09 17:50:49.744 -03:00 [DBG] Start parsing Basic Authentication secret
2019-06-09 17:50:49.744 -03:00 [DBG] Start parsing for secret in post body
2019-06-09 17:50:49.745 -03:00 [DBG] Parser found secret: PostBodySecretParser
2019-06-09 17:50:49.745 -03:00 [DBG] Secret id found: ro.client
2019-06-09 17:50:49.773 -03:00 [DBG] ro.client found in database: true
2019-06-09 17:50:49.773 -03:00 [DBG] client configuration validation for client ro.client succeeded.
2019-06-09 17:50:49.773 -03:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-06-09 17:50:49.773 -03:00 [DBG] Client validation success
2019-06-09 17:50:49.773 -03:00 [INF] {"ClientId":"ro.client","AuthenticationMethod":"SharedSecret","Category":"Authentication","Name":"Client Authentication Success","EventType":"Success","Id":1010,"Message":null,"ActivityId":"0HLND2I0UUVTM:00000004","TimeStamp":"2019-06-09T20:50:49.0000000Z","ProcessId":41412,"LocalIpAddress":"127.0.0.1:42399","RemoteIpAddress":"127.0.0.1","$type":"ClientAuthenticationSuccessEvent"}
2019-06-09 17:50:49.773 -03:00 [DBG] Start token request validation
2019-06-09 17:50:49.773 -03:00 [DBG] Start resource owner password token request validation
2019-06-09 17:50:49.780 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 17:50:49.843 -03:00 [DBG] Found ["api1"] API scopes in database
2019-06-09 17:50:49.845 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 17:50:49.847 -03:00 [DBG] Found ["api1"] API scopes in database
2019-06-09 17:50:49.856 -03:00 [INF] Credentials validated for username: alice
2019-06-09 17:50:49.856 -03:00 [INF] {"Username":"alice","Provider":null,"ProviderUserId":null,"SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","DisplayName":"alice","Endpoint":"Token","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HLND2I0UUVTM:00000004","TimeStamp":"2019-06-09T20:50:49.0000000Z","ProcessId":41412,"LocalIpAddress":"127.0.0.1:42399","RemoteIpAddress":"127.0.0.1","$type":"UserLoginSuccessEvent"}
2019-06-09 17:50:49.856 -03:00 [INF] {"Username":"alice","Provider":null,"ProviderUserId":null,"SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","DisplayName":null,"Endpoint":"Token","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HLND2I0UUVTM:00000004","TimeStamp":"2019-06-09T20:50:49.0000000Z","ProcessId":41412,"LocalIpAddress":"127.0.0.1:42399","RemoteIpAddress":"127.0.0.1","$type":"UserLoginSuccessEvent"}
2019-06-09 17:50:49.857 -03:00 [DBG] Resource owner password token request validation success.
2019-06-09 17:50:49.857 -03:00 [INF] Token request validation success
{"ClientId":"ro.client","ClientName":null,"GrantType":"password","Scopes":"api1 openid profile","AuthorizationCode":null,"RefreshToken":null,"UserName":"alice","AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"grant_type":"password","client_id":"ro.client","client_secret":"***REDACTED***","username":"alice","password":"***REDACTED***","scope":"openid profile api1"},"$type":"TokenRequestValidationLog"}
2019-06-09 17:50:49.857 -03:00 [DBG] Getting claims for access token for client: ro.client
2019-06-09 17:50:49.857 -03:00 [DBG] Getting claims for access token for subject: 4ba1c3a0-b786-421d-b88a-740f38d9cafa
2019-06-09 17:50:49.864 -03:00 [INF] {"ClientId":"ro.client","ClientName":null,"RedirectUri":null,"Endpoint":"Token","SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","Scopes":"openid profile api1","GrantType":"password","Tokens":[{"TokenType":"access_token","TokenValue":"****XqJw","$type":"Token"}],"Category":"Token","Name":"Token Issued Success","EventType":"Success","Id":2000,"Message":null,"ActivityId":"0HLND2I0UUVTM:00000004","TimeStamp":"2019-06-09T20:50:49.0000000Z","ProcessId":41412,"LocalIpAddress":"127.0.0.1:42399","RemoteIpAddress":"127.0.0.1","$type":"TokenIssuedSuccessEvent"}
2019-06-09 17:50:49.864 -03:00 [DBG] Token request success.
2019-06-09 17:52:25.122 -03:00 [DBG] CORS request made for path: /connect/token from origin: http://localhost:5000/
2019-06-09 17:52:25.124 -03:00 [DBG] Origin http://localhost:5000/ is allowed: false
2019-06-09 17:52:25.125 -03:00 [WRN] CorsPolicyService did not allow origin: http://localhost:5000/
2019-06-09 17:52:25.125 -03:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-06-09 17:52:25.125 -03:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-06-09 17:52:25.125 -03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-06-09 17:52:25.125 -03:00 [DBG] Start token request.
2019-06-09 17:52:25.125 -03:00 [DBG] Start client validation
2019-06-09 17:52:25.125 -03:00 [DBG] Start parsing Basic Authentication secret
2019-06-09 17:52:25.125 -03:00 [DBG] Start parsing for secret in post body
2019-06-09 17:52:25.126 -03:00 [DBG] Parser found secret: PostBodySecretParser
2019-06-09 17:52:25.126 -03:00 [DBG] Secret id found: ro.client
2019-06-09 17:52:25.150 -03:00 [DBG] ro.client found in database: true
2019-06-09 17:52:25.151 -03:00 [DBG] client configuration validation for client ro.client succeeded.
2019-06-09 17:52:25.151 -03:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-06-09 17:52:25.151 -03:00 [DBG] Client validation success
2019-06-09 17:52:25.151 -03:00 [INF] {"ClientId":"ro.client","AuthenticationMethod":"SharedSecret","Category":"Authentication","Name":"Client Authentication Success","EventType":"Success","Id":1010,"Message":null,"ActivityId":"0HLND2I0UUVTN:00000001","TimeStamp":"2019-06-09T20:52:25.0000000Z","ProcessId":41412,"LocalIpAddress":"127.0.0.1:42399","RemoteIpAddress":"127.0.0.1","$type":"ClientAuthenticationSuccessEvent"}
2019-06-09 17:52:25.151 -03:00 [DBG] Start token request validation
2019-06-09 17:52:25.151 -03:00 [DBG] Start resource owner password token request validation
2019-06-09 17:52:25.158 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 17:52:25.218 -03:00 [DBG] Found ["api1"] API scopes in database
2019-06-09 17:52:25.220 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 17:52:25.223 -03:00 [DBG] Found ["api1"] API scopes in database
2019-06-09 17:52:25.232 -03:00 [INF] Credentials validated for username: alice
2019-06-09 17:52:25.232 -03:00 [INF] {"Username":"alice","Provider":null,"ProviderUserId":null,"SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","DisplayName":"alice","Endpoint":"Token","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HLND2I0UUVTN:00000001","TimeStamp":"2019-06-09T20:52:25.0000000Z","ProcessId":41412,"LocalIpAddress":"127.0.0.1:42399","RemoteIpAddress":"127.0.0.1","$type":"UserLoginSuccessEvent"}
2019-06-09 17:52:25.232 -03:00 [INF] {"Username":"alice","Provider":null,"ProviderUserId":null,"SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","DisplayName":null,"Endpoint":"Token","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HLND2I0UUVTN:00000001","TimeStamp":"2019-06-09T20:52:25.0000000Z","ProcessId":41412,"LocalIpAddress":"127.0.0.1:42399","RemoteIpAddress":"127.0.0.1","$type":"UserLoginSuccessEvent"}
2019-06-09 17:52:25.232 -03:00 [DBG] Resource owner password token request validation success.
2019-06-09 17:52:25.232 -03:00 [INF] Token request validation success
{"ClientId":"ro.client","ClientName":null,"GrantType":"password","Scopes":"api1 openid profile","AuthorizationCode":null,"RefreshToken":null,"UserName":"alice","AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"grant_type":"password","client_id":"ro.client","client_secret":"***REDACTED***","username":"alice","password":"***REDACTED***","scope":"openid profile api1"},"$type":"TokenRequestValidationLog"}
2019-06-09 17:52:25.232 -03:00 [DBG] Getting claims for access token for client: ro.client
2019-06-09 17:52:25.232 -03:00 [DBG] Getting claims for access token for subject: 4ba1c3a0-b786-421d-b88a-740f38d9cafa
2019-06-09 17:52:25.240 -03:00 [INF] {"ClientId":"ro.client","ClientName":null,"RedirectUri":null,"Endpoint":"Token","SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","Scopes":"openid profile api1","GrantType":"password","Tokens":[{"TokenType":"access_token","TokenValue":"****dAdQ","$type":"Token"}],"Category":"Token","Name":"Token Issued Success","EventType":"Success","Id":2000,"Message":null,"ActivityId":"0HLND2I0UUVTN:00000001","TimeStamp":"2019-06-09T20:52:25.0000000Z","ProcessId":41412,"LocalIpAddress":"127.0.0.1:42399","RemoteIpAddress":"127.0.0.1","$type":"TokenIssuedSuccessEvent"}
2019-06-09 17:52:25.240 -03:00 [DBG] Token request success.
2019-06-09 17:53:32.020 -03:00 [DBG] CORS request made for path: /connect/token from origin: http://localhost:5000/
2019-06-09 17:53:32.023 -03:00 [DBG] Origin http://localhost:5000/ is allowed: false
2019-06-09 17:53:32.023 -03:00 [WRN] CorsPolicyService did not allow origin: http://localhost:5000/
2019-06-09 17:53:32.023 -03:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-06-09 17:53:32.024 -03:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-06-09 17:53:32.024 -03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-06-09 17:53:32.024 -03:00 [DBG] Start token request.
2019-06-09 17:53:32.024 -03:00 [DBG] Start client validation
2019-06-09 17:53:32.024 -03:00 [DBG] Start parsing Basic Authentication secret
2019-06-09 17:53:32.024 -03:00 [DBG] Start parsing for secret in post body
2019-06-09 17:53:32.024 -03:00 [DBG] Parser found secret: PostBodySecretParser
2019-06-09 17:53:32.025 -03:00 [DBG] Secret id found: ro.client
2019-06-09 17:53:32.047 -03:00 [DBG] ro.client found in database: true
2019-06-09 17:53:32.047 -03:00 [DBG] client configuration validation for client ro.client succeeded.
2019-06-09 17:53:32.047 -03:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-06-09 17:53:32.047 -03:00 [DBG] Client validation success
2019-06-09 17:53:32.047 -03:00 [INF] {"ClientId":"ro.client","AuthenticationMethod":"SharedSecret","Category":"Authentication","Name":"Client Authentication Success","EventType":"Success","Id":1010,"Message":null,"ActivityId":"0HLND2I0UUVTO:00000001","TimeStamp":"2019-06-09T20:53:32.0000000Z","ProcessId":41412,"LocalIpAddress":"127.0.0.1:42399","RemoteIpAddress":"127.0.0.1","$type":"ClientAuthenticationSuccessEvent"}
2019-06-09 17:53:32.047 -03:00 [DBG] Start token request validation
2019-06-09 17:53:32.047 -03:00 [DBG] Start resource owner password token request validation
2019-06-09 17:53:32.054 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 17:53:32.113 -03:00 [DBG] Found ["api1"] API scopes in database
2019-06-09 17:53:32.115 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 17:53:32.118 -03:00 [DBG] Found ["api1"] API scopes in database
2019-06-09 17:53:32.127 -03:00 [INF] Credentials validated for username: alice
2019-06-09 17:53:32.127 -03:00 [INF] {"Username":"alice","Provider":null,"ProviderUserId":null,"SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","DisplayName":"alice","Endpoint":"Token","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HLND2I0UUVTO:00000001","TimeStamp":"2019-06-09T20:53:32.0000000Z","ProcessId":41412,"LocalIpAddress":"127.0.0.1:42399","RemoteIpAddress":"127.0.0.1","$type":"UserLoginSuccessEvent"}
2019-06-09 17:53:32.127 -03:00 [INF] {"Username":"alice","Provider":null,"ProviderUserId":null,"SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","DisplayName":null,"Endpoint":"Token","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HLND2I0UUVTO:00000001","TimeStamp":"2019-06-09T20:53:32.0000000Z","ProcessId":41412,"LocalIpAddress":"127.0.0.1:42399","RemoteIpAddress":"127.0.0.1","$type":"UserLoginSuccessEvent"}
2019-06-09 17:53:32.127 -03:00 [DBG] Resource owner password token request validation success.
2019-06-09 17:53:32.127 -03:00 [INF] Token request validation success
{"ClientId":"ro.client","ClientName":null,"GrantType":"password","Scopes":"api1 openid profile","AuthorizationCode":null,"RefreshToken":null,"UserName":"alice","AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"grant_type":"password","client_id":"ro.client","client_secret":"***REDACTED***","username":"alice","password":"***REDACTED***","scope":"openid profile api1"},"$type":"TokenRequestValidationLog"}
2019-06-09 17:53:32.127 -03:00 [DBG] Getting claims for access token for client: ro.client
2019-06-09 17:53:32.127 -03:00 [DBG] Getting claims for access token for subject: 4ba1c3a0-b786-421d-b88a-740f38d9cafa
2019-06-09 17:53:32.136 -03:00 [INF] {"ClientId":"ro.client","ClientName":null,"RedirectUri":null,"Endpoint":"Token","SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","Scopes":"openid profile api1","GrantType":"password","Tokens":[{"TokenType":"access_token","TokenValue":"****we6w","$type":"Token"}],"Category":"Token","Name":"Token Issued Success","EventType":"Success","Id":2000,"Message":null,"ActivityId":"0HLND2I0UUVTO:00000001","TimeStamp":"2019-06-09T20:53:32.0000000Z","ProcessId":41412,"LocalIpAddress":"127.0.0.1:42399","RemoteIpAddress":"127.0.0.1","$type":"TokenIssuedSuccessEvent"}
2019-06-09 17:53:32.136 -03:00 [DBG] Token request success.
2019-06-09 17:54:52.145 -03:00 [DBG] CORS request made for path: /connect/token from origin: http://localhost:5000/
2019-06-09 17:54:52.149 -03:00 [DBG] Origin http://localhost:5000/ is allowed: false
2019-06-09 17:54:52.149 -03:00 [WRN] CorsPolicyService did not allow origin: http://localhost:5000/
2019-06-09 17:54:52.149 -03:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-06-09 17:54:52.149 -03:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-06-09 17:54:52.150 -03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-06-09 17:54:52.150 -03:00 [DBG] Start token request.
2019-06-09 17:54:52.150 -03:00 [DBG] Start client validation
2019-06-09 17:54:52.150 -03:00 [DBG] Start parsing Basic Authentication secret
2019-06-09 17:54:52.150 -03:00 [DBG] Start parsing for secret in post body
2019-06-09 17:54:52.150 -03:00 [DBG] Parser found secret: PostBodySecretParser
2019-06-09 17:54:52.150 -03:00 [DBG] Secret id found: ro.client
2019-06-09 17:54:52.177 -03:00 [DBG] ro.client found in database: true
2019-06-09 17:54:52.177 -03:00 [DBG] client configuration validation for client ro.client succeeded.
2019-06-09 17:54:52.177 -03:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-06-09 17:54:52.177 -03:00 [DBG] Client validation success
2019-06-09 17:54:52.177 -03:00 [INF] {"ClientId":"ro.client","AuthenticationMethod":"SharedSecret","Category":"Authentication","Name":"Client Authentication Success","EventType":"Success","Id":1010,"Message":null,"ActivityId":"0HLND2I0UUVTP:00000001","TimeStamp":"2019-06-09T20:54:52.0000000Z","ProcessId":41412,"LocalIpAddress":"127.0.0.1:42399","RemoteIpAddress":"127.0.0.1","$type":"ClientAuthenticationSuccessEvent"}
2019-06-09 17:54:52.177 -03:00 [DBG] Start token request validation
2019-06-09 17:54:52.177 -03:00 [DBG] Start resource owner password token request validation
2019-06-09 17:54:52.185 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 17:54:52.261 -03:00 [DBG] Found ["api1"] API scopes in database
2019-06-09 17:54:52.267 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 17:54:52.306 -03:00 [DBG] Found ["api1"] API scopes in database
2019-06-09 17:54:52.316 -03:00 [INF] Credentials validated for username: alice
2019-06-09 17:54:52.316 -03:00 [INF] {"Username":"alice","Provider":null,"ProviderUserId":null,"SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","DisplayName":"alice","Endpoint":"Token","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HLND2I0UUVTP:00000001","TimeStamp":"2019-06-09T20:54:52.0000000Z","ProcessId":41412,"LocalIpAddress":"127.0.0.1:42399","RemoteIpAddress":"127.0.0.1","$type":"UserLoginSuccessEvent"}
2019-06-09 17:54:52.316 -03:00 [INF] {"Username":"alice","Provider":null,"ProviderUserId":null,"SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","DisplayName":null,"Endpoint":"Token","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HLND2I0UUVTP:00000001","TimeStamp":"2019-06-09T20:54:52.0000000Z","ProcessId":41412,"LocalIpAddress":"127.0.0.1:42399","RemoteIpAddress":"127.0.0.1","$type":"UserLoginSuccessEvent"}
2019-06-09 17:54:52.316 -03:00 [DBG] Resource owner password token request validation success.
2019-06-09 17:54:52.317 -03:00 [INF] Token request validation success
{"ClientId":"ro.client","ClientName":null,"GrantType":"password","Scopes":"api1 openid profile","AuthorizationCode":null,"RefreshToken":null,"UserName":"alice","AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"grant_type":"password","client_id":"ro.client","client_secret":"***REDACTED***","username":"alice","password":"***REDACTED***","scope":"openid profile api1"},"$type":"TokenRequestValidationLog"}
2019-06-09 17:54:52.317 -03:00 [DBG] Getting claims for access token for client: ro.client
2019-06-09 17:54:52.317 -03:00 [DBG] Getting claims for access token for subject: 4ba1c3a0-b786-421d-b88a-740f38d9cafa
2019-06-09 17:54:52.324 -03:00 [INF] {"ClientId":"ro.client","ClientName":null,"RedirectUri":null,"Endpoint":"Token","SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","Scopes":"openid profile api1","GrantType":"password","Tokens":[{"TokenType":"access_token","TokenValue":"****QBkg","$type":"Token"}],"Category":"Token","Name":"Token Issued Success","EventType":"Success","Id":2000,"Message":null,"ActivityId":"0HLND2I0UUVTP:00000001","TimeStamp":"2019-06-09T20:54:52.0000000Z","ProcessId":41412,"LocalIpAddress":"127.0.0.1:42399","RemoteIpAddress":"127.0.0.1","$type":"TokenIssuedSuccessEvent"}
2019-06-09 17:54:52.324 -03:00 [DBG] Token request success.
2019-06-09 17:55:28.265 -03:00 [DBG] CORS request made for path: /connect/token from origin: http://localhost:5000/
2019-06-09 17:55:28.270 -03:00 [DBG] Origin http://localhost:5000/ is allowed: false
2019-06-09 17:55:28.270 -03:00 [WRN] CorsPolicyService did not allow origin: http://localhost:5000/
2019-06-09 17:55:28.270 -03:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-06-09 17:55:28.271 -03:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-06-09 17:55:28.271 -03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-06-09 17:55:28.271 -03:00 [DBG] Start token request.
2019-06-09 17:55:28.271 -03:00 [DBG] Start client validation
2019-06-09 17:55:28.271 -03:00 [DBG] Start parsing Basic Authentication secret
2019-06-09 17:55:28.271 -03:00 [DBG] Start parsing for secret in post body
2019-06-09 17:55:28.271 -03:00 [DBG] Parser found secret: PostBodySecretParser
2019-06-09 17:55:28.271 -03:00 [DBG] Secret id found: ro.client
2019-06-09 17:55:28.294 -03:00 [DBG] ro.client found in database: true
2019-06-09 17:55:28.295 -03:00 [DBG] client configuration validation for client ro.client succeeded.
2019-06-09 17:55:28.295 -03:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-06-09 17:55:28.295 -03:00 [DBG] Client validation success
2019-06-09 17:55:28.295 -03:00 [INF] {"ClientId":"ro.client","AuthenticationMethod":"SharedSecret","Category":"Authentication","Name":"Client Authentication Success","EventType":"Success","Id":1010,"Message":null,"ActivityId":"0HLND2I0UUVTP:00000002","TimeStamp":"2019-06-09T20:55:28.0000000Z","ProcessId":41412,"LocalIpAddress":"127.0.0.1:42399","RemoteIpAddress":"127.0.0.1","$type":"ClientAuthenticationSuccessEvent"}
2019-06-09 17:55:28.295 -03:00 [DBG] Start token request validation
2019-06-09 17:55:28.295 -03:00 [DBG] Start resource owner password token request validation
2019-06-09 17:55:28.303 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 17:55:28.364 -03:00 [DBG] Found ["api1"] API scopes in database
2019-06-09 17:55:28.366 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 17:55:28.370 -03:00 [DBG] Found ["api1"] API scopes in database
2019-06-09 17:55:28.379 -03:00 [INF] Credentials validated for username: alice
2019-06-09 17:55:28.379 -03:00 [INF] {"Username":"alice","Provider":null,"ProviderUserId":null,"SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","DisplayName":"alice","Endpoint":"Token","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HLND2I0UUVTP:00000002","TimeStamp":"2019-06-09T20:55:28.0000000Z","ProcessId":41412,"LocalIpAddress":"127.0.0.1:42399","RemoteIpAddress":"127.0.0.1","$type":"UserLoginSuccessEvent"}
2019-06-09 17:55:28.380 -03:00 [INF] {"Username":"alice","Provider":null,"ProviderUserId":null,"SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","DisplayName":null,"Endpoint":"Token","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HLND2I0UUVTP:00000002","TimeStamp":"2019-06-09T20:55:28.0000000Z","ProcessId":41412,"LocalIpAddress":"127.0.0.1:42399","RemoteIpAddress":"127.0.0.1","$type":"UserLoginSuccessEvent"}
2019-06-09 17:55:28.380 -03:00 [DBG] Resource owner password token request validation success.
2019-06-09 17:55:28.380 -03:00 [INF] Token request validation success
{"ClientId":"ro.client","ClientName":null,"GrantType":"password","Scopes":"api1 openid profile","AuthorizationCode":null,"RefreshToken":null,"UserName":"alice","AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"grant_type":"password","client_id":"ro.client","client_secret":"***REDACTED***","username":"alice","password":"***REDACTED***","scope":"openid profile api1"},"$type":"TokenRequestValidationLog"}
2019-06-09 17:55:28.380 -03:00 [DBG] Getting claims for access token for client: ro.client
2019-06-09 17:55:28.380 -03:00 [DBG] Getting claims for access token for subject: 4ba1c3a0-b786-421d-b88a-740f38d9cafa
2019-06-09 17:55:28.388 -03:00 [INF] {"ClientId":"ro.client","ClientName":null,"RedirectUri":null,"Endpoint":"Token","SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","Scopes":"openid profile api1","GrantType":"password","Tokens":[{"TokenType":"access_token","TokenValue":"****K5Lg","$type":"Token"}],"Category":"Token","Name":"Token Issued Success","EventType":"Success","Id":2000,"Message":null,"ActivityId":"0HLND2I0UUVTP:00000002","TimeStamp":"2019-06-09T20:55:28.0000000Z","ProcessId":41412,"LocalIpAddress":"127.0.0.1:42399","RemoteIpAddress":"127.0.0.1","$type":"TokenIssuedSuccessEvent"}
2019-06-09 17:55:28.388 -03:00 [DBG] Token request success.
2019-06-09 17:55:59.315 -03:00 [DBG] CORS request made for path: /connect/token from origin: http://localhost:5000/
2019-06-09 17:55:59.319 -03:00 [DBG] Origin http://localhost:5000/ is allowed: false
2019-06-09 17:55:59.319 -03:00 [WRN] CorsPolicyService did not allow origin: http://localhost:5000/
2019-06-09 17:55:59.319 -03:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-06-09 17:55:59.319 -03:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-06-09 17:55:59.320 -03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-06-09 17:55:59.320 -03:00 [DBG] Start token request.
2019-06-09 17:55:59.320 -03:00 [DBG] Start client validation
2019-06-09 17:55:59.320 -03:00 [DBG] Start parsing Basic Authentication secret
2019-06-09 17:55:59.320 -03:00 [DBG] Start parsing for secret in post body
2019-06-09 17:55:59.320 -03:00 [DBG] Parser found secret: PostBodySecretParser
2019-06-09 17:55:59.320 -03:00 [DBG] Secret id found: ro.client
2019-06-09 17:55:59.354 -03:00 [DBG] ro.client found in database: true
2019-06-09 17:55:59.354 -03:00 [DBG] client configuration validation for client ro.client succeeded.
2019-06-09 17:55:59.354 -03:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-06-09 17:55:59.354 -03:00 [DBG] Client validation success
2019-06-09 17:55:59.355 -03:00 [INF] {"ClientId":"ro.client","AuthenticationMethod":"SharedSecret","Category":"Authentication","Name":"Client Authentication Success","EventType":"Success","Id":1010,"Message":null,"ActivityId":"0HLND2I0UUVTP:00000003","TimeStamp":"2019-06-09T20:55:59.0000000Z","ProcessId":41412,"LocalIpAddress":"127.0.0.1:42399","RemoteIpAddress":"127.0.0.1","$type":"ClientAuthenticationSuccessEvent"}
2019-06-09 17:55:59.355 -03:00 [DBG] Start token request validation
2019-06-09 17:55:59.355 -03:00 [DBG] Start resource owner password token request validation
2019-06-09 17:55:59.365 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 17:55:59.444 -03:00 [DBG] Found ["api1"] API scopes in database
2019-06-09 17:55:59.451 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 17:55:59.534 -03:00 [DBG] Found ["api1"] API scopes in database
2019-06-09 17:55:59.543 -03:00 [INF] Credentials validated for username: alice
2019-06-09 17:55:59.543 -03:00 [INF] {"Username":"alice","Provider":null,"ProviderUserId":null,"SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","DisplayName":"alice","Endpoint":"Token","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HLND2I0UUVTP:00000003","TimeStamp":"2019-06-09T20:55:59.0000000Z","ProcessId":41412,"LocalIpAddress":"127.0.0.1:42399","RemoteIpAddress":"127.0.0.1","$type":"UserLoginSuccessEvent"}
2019-06-09 17:55:59.544 -03:00 [INF] {"Username":"alice","Provider":null,"ProviderUserId":null,"SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","DisplayName":null,"Endpoint":"Token","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HLND2I0UUVTP:00000003","TimeStamp":"2019-06-09T20:55:59.0000000Z","ProcessId":41412,"LocalIpAddress":"127.0.0.1:42399","RemoteIpAddress":"127.0.0.1","$type":"UserLoginSuccessEvent"}
2019-06-09 17:55:59.544 -03:00 [DBG] Resource owner password token request validation success.
2019-06-09 17:55:59.544 -03:00 [INF] Token request validation success
{"ClientId":"ro.client","ClientName":null,"GrantType":"password","Scopes":"api1 openid profile","AuthorizationCode":null,"RefreshToken":null,"UserName":"alice","AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"grant_type":"password","client_id":"ro.client","client_secret":"***REDACTED***","username":"alice","password":"***REDACTED***","scope":"openid profile api1"},"$type":"TokenRequestValidationLog"}
2019-06-09 17:55:59.544 -03:00 [DBG] Getting claims for access token for client: ro.client
2019-06-09 17:55:59.544 -03:00 [DBG] Getting claims for access token for subject: 4ba1c3a0-b786-421d-b88a-740f38d9cafa
2019-06-09 17:55:59.551 -03:00 [INF] {"ClientId":"ro.client","ClientName":null,"RedirectUri":null,"Endpoint":"Token","SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","Scopes":"openid profile api1","GrantType":"password","Tokens":[{"TokenType":"access_token","TokenValue":"****Rk4A","$type":"Token"}],"Category":"Token","Name":"Token Issued Success","EventType":"Success","Id":2000,"Message":null,"ActivityId":"0HLND2I0UUVTP:00000003","TimeStamp":"2019-06-09T20:55:59.0000000Z","ProcessId":41412,"LocalIpAddress":"127.0.0.1:42399","RemoteIpAddress":"127.0.0.1","$type":"TokenIssuedSuccessEvent"}
2019-06-09 17:55:59.551 -03:00 [DBG] Token request success.
2019-06-09 17:56:05.425 -03:00 [INF] Removing 0 grants
2019-06-09 17:57:44.561 -03:00 [DBG] CORS request made for path: /connect/token from origin: http://localhost:5000/
2019-06-09 17:57:44.567 -03:00 [DBG] Origin http://localhost:5000/ is allowed: false
2019-06-09 17:57:44.567 -03:00 [WRN] CorsPolicyService did not allow origin: http://localhost:5000/
2019-06-09 17:57:44.568 -03:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-06-09 17:57:44.569 -03:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-06-09 17:57:44.569 -03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-06-09 17:57:44.569 -03:00 [DBG] Start token request.
2019-06-09 17:57:44.569 -03:00 [DBG] Start client validation
2019-06-09 17:57:44.569 -03:00 [DBG] Start parsing Basic Authentication secret
2019-06-09 17:57:44.569 -03:00 [DBG] Start parsing for secret in post body
2019-06-09 17:57:44.569 -03:00 [DBG] Parser found secret: PostBodySecretParser
2019-06-09 17:57:44.569 -03:00 [DBG] Secret id found: ro.client
2019-06-09 17:57:44.590 -03:00 [DBG] ro.client found in database: true
2019-06-09 17:57:44.591 -03:00 [DBG] client configuration validation for client ro.client succeeded.
2019-06-09 17:57:44.591 -03:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-06-09 17:57:44.591 -03:00 [DBG] Client validation success
2019-06-09 17:57:44.591 -03:00 [INF] {"ClientId":"ro.client","AuthenticationMethod":"SharedSecret","Category":"Authentication","Name":"Client Authentication Success","EventType":"Success","Id":1010,"Message":null,"ActivityId":"0HLND2I0UUVTQ:00000001","TimeStamp":"2019-06-09T20:57:44.0000000Z","ProcessId":41412,"LocalIpAddress":"127.0.0.1:42399","RemoteIpAddress":"127.0.0.1","$type":"ClientAuthenticationSuccessEvent"}
2019-06-09 17:57:44.591 -03:00 [DBG] Start token request validation
2019-06-09 17:57:44.591 -03:00 [DBG] Start resource owner password token request validation
2019-06-09 17:57:44.598 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 17:57:44.660 -03:00 [DBG] Found ["api1"] API scopes in database
2019-06-09 17:57:44.662 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 17:57:44.664 -03:00 [DBG] Found ["api1"] API scopes in database
2019-06-09 17:57:44.674 -03:00 [INF] Credentials validated for username: alice
2019-06-09 17:57:44.674 -03:00 [INF] {"Username":"alice","Provider":null,"ProviderUserId":null,"SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","DisplayName":"alice","Endpoint":"Token","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HLND2I0UUVTQ:00000001","TimeStamp":"2019-06-09T20:57:44.0000000Z","ProcessId":41412,"LocalIpAddress":"127.0.0.1:42399","RemoteIpAddress":"127.0.0.1","$type":"UserLoginSuccessEvent"}
2019-06-09 17:57:44.674 -03:00 [INF] {"Username":"alice","Provider":null,"ProviderUserId":null,"SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","DisplayName":null,"Endpoint":"Token","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HLND2I0UUVTQ:00000001","TimeStamp":"2019-06-09T20:57:44.0000000Z","ProcessId":41412,"LocalIpAddress":"127.0.0.1:42399","RemoteIpAddress":"127.0.0.1","$type":"UserLoginSuccessEvent"}
2019-06-09 17:57:44.674 -03:00 [DBG] Resource owner password token request validation success.
2019-06-09 17:57:44.674 -03:00 [INF] Token request validation success
{"ClientId":"ro.client","ClientName":null,"GrantType":"password","Scopes":"api1 openid profile","AuthorizationCode":null,"RefreshToken":null,"UserName":"alice","AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"grant_type":"password","client_id":"ro.client","client_secret":"***REDACTED***","username":"alice","password":"***REDACTED***","scope":"openid profile api1"},"$type":"TokenRequestValidationLog"}
2019-06-09 17:57:44.674 -03:00 [DBG] Getting claims for access token for client: ro.client
2019-06-09 17:57:44.674 -03:00 [DBG] Getting claims for access token for subject: 4ba1c3a0-b786-421d-b88a-740f38d9cafa
2019-06-09 17:57:44.682 -03:00 [INF] {"ClientId":"ro.client","ClientName":null,"RedirectUri":null,"Endpoint":"Token","SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","Scopes":"openid profile api1","GrantType":"password","Tokens":[{"TokenType":"access_token","TokenValue":"****puEg","$type":"Token"}],"Category":"Token","Name":"Token Issued Success","EventType":"Success","Id":2000,"Message":null,"ActivityId":"0HLND2I0UUVTQ:00000001","TimeStamp":"2019-06-09T20:57:44.0000000Z","ProcessId":41412,"LocalIpAddress":"127.0.0.1:42399","RemoteIpAddress":"127.0.0.1","$type":"TokenIssuedSuccessEvent"}
2019-06-09 17:57:44.682 -03:00 [DBG] Token request success.
2019-06-09 17:59:27.831 -03:00 [DBG] CORS request made for path: /connect/token from origin: http://localhost:5000/
2019-06-09 17:59:27.835 -03:00 [DBG] Origin http://localhost:5000/ is allowed: false
2019-06-09 17:59:27.835 -03:00 [WRN] CorsPolicyService did not allow origin: http://localhost:5000/
2019-06-09 17:59:27.835 -03:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-06-09 17:59:27.836 -03:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-06-09 17:59:27.836 -03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-06-09 17:59:27.836 -03:00 [DBG] Start token request.
2019-06-09 17:59:27.836 -03:00 [DBG] Start client validation
2019-06-09 17:59:27.836 -03:00 [DBG] Start parsing Basic Authentication secret
2019-06-09 17:59:27.836 -03:00 [DBG] Start parsing for secret in post body
2019-06-09 17:59:27.836 -03:00 [DBG] Parser found secret: PostBodySecretParser
2019-06-09 17:59:27.836 -03:00 [DBG] Secret id found: ro.client
2019-06-09 17:59:27.860 -03:00 [DBG] ro.client found in database: true
2019-06-09 17:59:27.860 -03:00 [DBG] client configuration validation for client ro.client succeeded.
2019-06-09 17:59:27.860 -03:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-06-09 17:59:27.860 -03:00 [DBG] Client validation success
2019-06-09 17:59:27.860 -03:00 [INF] {"ClientId":"ro.client","AuthenticationMethod":"SharedSecret","Category":"Authentication","Name":"Client Authentication Success","EventType":"Success","Id":1010,"Message":null,"ActivityId":"0HLND2I0UUVTR:00000001","TimeStamp":"2019-06-09T20:59:27.0000000Z","ProcessId":41412,"LocalIpAddress":"127.0.0.1:42399","RemoteIpAddress":"127.0.0.1","$type":"ClientAuthenticationSuccessEvent"}
2019-06-09 17:59:27.861 -03:00 [DBG] Start token request validation
2019-06-09 17:59:27.861 -03:00 [DBG] Start resource owner password token request validation
2019-06-09 17:59:27.868 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 17:59:27.931 -03:00 [DBG] Found ["api1"] API scopes in database
2019-06-09 17:59:27.933 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 17:59:27.935 -03:00 [DBG] Found ["api1"] API scopes in database
2019-06-09 17:59:27.944 -03:00 [INF] Credentials validated for username: alice
2019-06-09 17:59:27.944 -03:00 [INF] {"Username":"alice","Provider":null,"ProviderUserId":null,"SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","DisplayName":"alice","Endpoint":"Token","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HLND2I0UUVTR:00000001","TimeStamp":"2019-06-09T20:59:27.0000000Z","ProcessId":41412,"LocalIpAddress":"127.0.0.1:42399","RemoteIpAddress":"127.0.0.1","$type":"UserLoginSuccessEvent"}
2019-06-09 17:59:27.944 -03:00 [INF] {"Username":"alice","Provider":null,"ProviderUserId":null,"SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","DisplayName":null,"Endpoint":"Token","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HLND2I0UUVTR:00000001","TimeStamp":"2019-06-09T20:59:27.0000000Z","ProcessId":41412,"LocalIpAddress":"127.0.0.1:42399","RemoteIpAddress":"127.0.0.1","$type":"UserLoginSuccessEvent"}
2019-06-09 17:59:27.945 -03:00 [DBG] Resource owner password token request validation success.
2019-06-09 17:59:27.945 -03:00 [INF] Token request validation success
{"ClientId":"ro.client","ClientName":null,"GrantType":"password","Scopes":"api1 openid profile","AuthorizationCode":null,"RefreshToken":null,"UserName":"alice","AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"grant_type":"password","client_id":"ro.client","client_secret":"***REDACTED***","username":"alice","password":"***REDACTED***","scope":"openid profile api1"},"$type":"TokenRequestValidationLog"}
2019-06-09 17:59:27.945 -03:00 [DBG] Getting claims for access token for client: ro.client
2019-06-09 17:59:27.945 -03:00 [DBG] Getting claims for access token for subject: 4ba1c3a0-b786-421d-b88a-740f38d9cafa
2019-06-09 17:59:27.953 -03:00 [INF] {"ClientId":"ro.client","ClientName":null,"RedirectUri":null,"Endpoint":"Token","SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","Scopes":"openid profile api1","GrantType":"password","Tokens":[{"TokenType":"access_token","TokenValue":"****s81Q","$type":"Token"}],"Category":"Token","Name":"Token Issued Success","EventType":"Success","Id":2000,"Message":null,"ActivityId":"0HLND2I0UUVTR:00000001","TimeStamp":"2019-06-09T20:59:27.0000000Z","ProcessId":41412,"LocalIpAddress":"127.0.0.1:42399","RemoteIpAddress":"127.0.0.1","$type":"TokenIssuedSuccessEvent"}
2019-06-09 17:59:27.953 -03:00 [DBG] Token request success.
2019-06-09 17:59:41.528 -03:00 [DBG] CORS request made for path: /connect/token from origin: http://localhost:5000/
2019-06-09 17:59:41.530 -03:00 [DBG] Origin http://localhost:5000/ is allowed: false
2019-06-09 17:59:41.530 -03:00 [WRN] CorsPolicyService did not allow origin: http://localhost:5000/
2019-06-09 17:59:41.530 -03:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-06-09 17:59:41.531 -03:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-06-09 17:59:41.531 -03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-06-09 17:59:41.531 -03:00 [DBG] Start token request.
2019-06-09 17:59:41.531 -03:00 [DBG] Start client validation
2019-06-09 17:59:41.531 -03:00 [DBG] Start parsing Basic Authentication secret
2019-06-09 17:59:41.531 -03:00 [DBG] Start parsing for secret in post body
2019-06-09 17:59:41.531 -03:00 [DBG] Parser found secret: PostBodySecretParser
2019-06-09 17:59:41.531 -03:00 [DBG] Secret id found: ro.client
2019-06-09 17:59:41.546 -03:00 [DBG] ro.client found in database: true
2019-06-09 17:59:41.546 -03:00 [DBG] client configuration validation for client ro.client succeeded.
2019-06-09 17:59:41.546 -03:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-06-09 17:59:41.546 -03:00 [DBG] Client validation success
2019-06-09 17:59:41.546 -03:00 [INF] {"ClientId":"ro.client","AuthenticationMethod":"SharedSecret","Category":"Authentication","Name":"Client Authentication Success","EventType":"Success","Id":1010,"Message":null,"ActivityId":"0HLND2I0UUVTR:00000002","TimeStamp":"2019-06-09T20:59:41.0000000Z","ProcessId":41412,"LocalIpAddress":"127.0.0.1:42399","RemoteIpAddress":"127.0.0.1","$type":"ClientAuthenticationSuccessEvent"}
2019-06-09 17:59:41.547 -03:00 [DBG] Start token request validation
2019-06-09 17:59:41.547 -03:00 [DBG] Start resource owner password token request validation
2019-06-09 17:59:41.549 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 17:59:41.552 -03:00 [DBG] Found ["api1"] API scopes in database
2019-06-09 17:59:41.555 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 17:59:41.560 -03:00 [DBG] Found ["api1"] API scopes in database
2019-06-09 17:59:41.574 -03:00 [INF] Credentials validated for username: alice
2019-06-09 17:59:41.574 -03:00 [INF] {"Username":"alice","Provider":null,"ProviderUserId":null,"SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","DisplayName":"alice","Endpoint":"Token","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HLND2I0UUVTR:00000002","TimeStamp":"2019-06-09T20:59:41.0000000Z","ProcessId":41412,"LocalIpAddress":"127.0.0.1:42399","RemoteIpAddress":"127.0.0.1","$type":"UserLoginSuccessEvent"}
2019-06-09 17:59:41.575 -03:00 [INF] {"Username":"alice","Provider":null,"ProviderUserId":null,"SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","DisplayName":null,"Endpoint":"Token","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HLND2I0UUVTR:00000002","TimeStamp":"2019-06-09T20:59:41.0000000Z","ProcessId":41412,"LocalIpAddress":"127.0.0.1:42399","RemoteIpAddress":"127.0.0.1","$type":"UserLoginSuccessEvent"}
2019-06-09 17:59:41.575 -03:00 [DBG] Resource owner password token request validation success.
2019-06-09 17:59:41.575 -03:00 [INF] Token request validation success
{"ClientId":"ro.client","ClientName":null,"GrantType":"password","Scopes":"api1 openid profile","AuthorizationCode":null,"RefreshToken":null,"UserName":"alice","AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"grant_type":"password","client_id":"ro.client","client_secret":"***REDACTED***","username":"alice","password":"***REDACTED***","scope":"openid profile api1"},"$type":"TokenRequestValidationLog"}
2019-06-09 17:59:41.575 -03:00 [DBG] Getting claims for access token for client: ro.client
2019-06-09 17:59:41.575 -03:00 [DBG] Getting claims for access token for subject: 4ba1c3a0-b786-421d-b88a-740f38d9cafa
2019-06-09 17:59:41.585 -03:00 [INF] {"ClientId":"ro.client","ClientName":null,"RedirectUri":null,"Endpoint":"Token","SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","Scopes":"openid profile api1","GrantType":"password","Tokens":[{"TokenType":"access_token","TokenValue":"****KeAA","$type":"Token"}],"Category":"Token","Name":"Token Issued Success","EventType":"Success","Id":2000,"Message":null,"ActivityId":"0HLND2I0UUVTR:00000002","TimeStamp":"2019-06-09T20:59:41.0000000Z","ProcessId":41412,"LocalIpAddress":"127.0.0.1:42399","RemoteIpAddress":"127.0.0.1","$type":"TokenIssuedSuccessEvent"}
2019-06-09 17:59:41.585 -03:00 [DBG] Token request success.
2019-06-09 18:00:20.955 -03:00 [DBG] CORS request made for path: /connect/token from origin: http://localhost:5000/
2019-06-09 18:00:20.958 -03:00 [DBG] Origin http://localhost:5000/ is allowed: false
2019-06-09 18:00:20.959 -03:00 [WRN] CorsPolicyService did not allow origin: http://localhost:5000/
2019-06-09 18:00:20.959 -03:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-06-09 18:00:20.959 -03:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-06-09 18:00:20.959 -03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-06-09 18:00:20.959 -03:00 [DBG] Start token request.
2019-06-09 18:00:20.959 -03:00 [DBG] Start client validation
2019-06-09 18:00:20.959 -03:00 [DBG] Start parsing Basic Authentication secret
2019-06-09 18:00:20.960 -03:00 [DBG] Start parsing for secret in post body
2019-06-09 18:00:20.960 -03:00 [DBG] Parser found secret: PostBodySecretParser
2019-06-09 18:00:20.960 -03:00 [DBG] Secret id found: ro.client
2019-06-09 18:00:20.987 -03:00 [DBG] ro.client found in database: true
2019-06-09 18:00:20.987 -03:00 [DBG] client configuration validation for client ro.client succeeded.
2019-06-09 18:00:20.987 -03:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-06-09 18:00:20.987 -03:00 [DBG] Client validation success
2019-06-09 18:00:20.987 -03:00 [INF] {"ClientId":"ro.client","AuthenticationMethod":"SharedSecret","Category":"Authentication","Name":"Client Authentication Success","EventType":"Success","Id":1010,"Message":null,"ActivityId":"0HLND2I0UUVTR:00000003","TimeStamp":"2019-06-09T21:00:20.0000000Z","ProcessId":41412,"LocalIpAddress":"127.0.0.1:42399","RemoteIpAddress":"127.0.0.1","$type":"ClientAuthenticationSuccessEvent"}
2019-06-09 18:00:20.987 -03:00 [DBG] Start token request validation
2019-06-09 18:00:20.987 -03:00 [DBG] Start resource owner password token request validation
2019-06-09 18:00:20.995 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 18:00:21.058 -03:00 [DBG] Found ["api1"] API scopes in database
2019-06-09 18:00:21.068 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 18:00:21.148 -03:00 [DBG] Found ["api1"] API scopes in database
2019-06-09 18:00:21.159 -03:00 [INF] Credentials validated for username: alice
2019-06-09 18:00:21.159 -03:00 [INF] {"Username":"alice","Provider":null,"ProviderUserId":null,"SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","DisplayName":"alice","Endpoint":"Token","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HLND2I0UUVTR:00000003","TimeStamp":"2019-06-09T21:00:21.0000000Z","ProcessId":41412,"LocalIpAddress":"127.0.0.1:42399","RemoteIpAddress":"127.0.0.1","$type":"UserLoginSuccessEvent"}
2019-06-09 18:00:21.159 -03:00 [INF] {"Username":"alice","Provider":null,"ProviderUserId":null,"SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","DisplayName":null,"Endpoint":"Token","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HLND2I0UUVTR:00000003","TimeStamp":"2019-06-09T21:00:21.0000000Z","ProcessId":41412,"LocalIpAddress":"127.0.0.1:42399","RemoteIpAddress":"127.0.0.1","$type":"UserLoginSuccessEvent"}
2019-06-09 18:00:21.159 -03:00 [DBG] Resource owner password token request validation success.
2019-06-09 18:00:21.160 -03:00 [INF] Token request validation success
{"ClientId":"ro.client","ClientName":null,"GrantType":"password","Scopes":"api1 openid profile","AuthorizationCode":null,"RefreshToken":null,"UserName":"alice","AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"grant_type":"password","client_id":"ro.client","client_secret":"***REDACTED***","username":"alice","password":"***REDACTED***","scope":"openid profile api1"},"$type":"TokenRequestValidationLog"}
2019-06-09 18:00:21.160 -03:00 [DBG] Getting claims for access token for client: ro.client
2019-06-09 18:00:21.160 -03:00 [DBG] Getting claims for access token for subject: 4ba1c3a0-b786-421d-b88a-740f38d9cafa
2019-06-09 18:00:21.170 -03:00 [INF] {"ClientId":"ro.client","ClientName":null,"RedirectUri":null,"Endpoint":"Token","SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","Scopes":"openid profile api1","GrantType":"password","Tokens":[{"TokenType":"access_token","TokenValue":"****qX4w","$type":"Token"}],"Category":"Token","Name":"Token Issued Success","EventType":"Success","Id":2000,"Message":null,"ActivityId":"0HLND2I0UUVTR:00000003","TimeStamp":"2019-06-09T21:00:21.0000000Z","ProcessId":41412,"LocalIpAddress":"127.0.0.1:42399","RemoteIpAddress":"127.0.0.1","$type":"TokenIssuedSuccessEvent"}
2019-06-09 18:00:21.170 -03:00 [DBG] Token request success.
2019-06-09 18:00:41.699 -03:00 [DBG] CORS request made for path: /connect/token from origin: http://localhost:5000/
2019-06-09 18:00:41.703 -03:00 [DBG] Origin http://localhost:5000/ is allowed: false
2019-06-09 18:00:41.703 -03:00 [WRN] CorsPolicyService did not allow origin: http://localhost:5000/
2019-06-09 18:00:41.703 -03:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-06-09 18:00:41.703 -03:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-06-09 18:00:41.703 -03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-06-09 18:00:41.703 -03:00 [DBG] Start token request.
2019-06-09 18:00:41.703 -03:00 [DBG] Start client validation
2019-06-09 18:00:41.703 -03:00 [DBG] Start parsing Basic Authentication secret
2019-06-09 18:00:41.703 -03:00 [DBG] Start parsing for secret in post body
2019-06-09 18:00:41.703 -03:00 [DBG] Parser found secret: PostBodySecretParser
2019-06-09 18:00:41.704 -03:00 [DBG] Secret id found: ro.client
2019-06-09 18:00:41.729 -03:00 [DBG] ro.client found in database: true
2019-06-09 18:00:41.729 -03:00 [DBG] client configuration validation for client ro.client succeeded.
2019-06-09 18:00:41.729 -03:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-06-09 18:00:41.729 -03:00 [DBG] Client validation success
2019-06-09 18:00:41.730 -03:00 [INF] {"ClientId":"ro.client","AuthenticationMethod":"SharedSecret","Category":"Authentication","Name":"Client Authentication Success","EventType":"Success","Id":1010,"Message":null,"ActivityId":"0HLND2I0UUVTR:00000004","TimeStamp":"2019-06-09T21:00:41.0000000Z","ProcessId":41412,"LocalIpAddress":"127.0.0.1:42399","RemoteIpAddress":"127.0.0.1","$type":"ClientAuthenticationSuccessEvent"}
2019-06-09 18:00:41.730 -03:00 [DBG] Start token request validation
2019-06-09 18:00:41.730 -03:00 [DBG] Start resource owner password token request validation
2019-06-09 18:00:41.737 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 18:00:41.815 -03:00 [DBG] Found ["api1"] API scopes in database
2019-06-09 18:00:41.816 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 18:00:41.819 -03:00 [DBG] Found ["api1"] API scopes in database
2019-06-09 18:00:41.828 -03:00 [INF] Credentials validated for username: alice
2019-06-09 18:00:41.828 -03:00 [INF] {"Username":"alice","Provider":null,"ProviderUserId":null,"SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","DisplayName":"alice","Endpoint":"Token","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HLND2I0UUVTR:00000004","TimeStamp":"2019-06-09T21:00:41.0000000Z","ProcessId":41412,"LocalIpAddress":"127.0.0.1:42399","RemoteIpAddress":"127.0.0.1","$type":"UserLoginSuccessEvent"}
2019-06-09 18:00:41.828 -03:00 [INF] {"Username":"alice","Provider":null,"ProviderUserId":null,"SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","DisplayName":null,"Endpoint":"Token","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HLND2I0UUVTR:00000004","TimeStamp":"2019-06-09T21:00:41.0000000Z","ProcessId":41412,"LocalIpAddress":"127.0.0.1:42399","RemoteIpAddress":"127.0.0.1","$type":"UserLoginSuccessEvent"}
2019-06-09 18:00:41.828 -03:00 [DBG] Resource owner password token request validation success.
2019-06-09 18:00:41.829 -03:00 [INF] Token request validation success
{"ClientId":"ro.client","ClientName":null,"GrantType":"password","Scopes":"api1 openid profile","AuthorizationCode":null,"RefreshToken":null,"UserName":"alice","AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"grant_type":"password","client_id":"ro.client","client_secret":"***REDACTED***","username":"alice","password":"***REDACTED***","scope":"openid profile api1"},"$type":"TokenRequestValidationLog"}
2019-06-09 18:00:41.829 -03:00 [DBG] Getting claims for access token for client: ro.client
2019-06-09 18:00:41.829 -03:00 [DBG] Getting claims for access token for subject: 4ba1c3a0-b786-421d-b88a-740f38d9cafa
2019-06-09 18:00:41.836 -03:00 [INF] {"ClientId":"ro.client","ClientName":null,"RedirectUri":null,"Endpoint":"Token","SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","Scopes":"openid profile api1","GrantType":"password","Tokens":[{"TokenType":"access_token","TokenValue":"****0_RQ","$type":"Token"}],"Category":"Token","Name":"Token Issued Success","EventType":"Success","Id":2000,"Message":null,"ActivityId":"0HLND2I0UUVTR:00000004","TimeStamp":"2019-06-09T21:00:41.0000000Z","ProcessId":41412,"LocalIpAddress":"127.0.0.1:42399","RemoteIpAddress":"127.0.0.1","$type":"TokenIssuedSuccessEvent"}
2019-06-09 18:00:41.836 -03:00 [DBG] Token request success.
2019-06-09 18:03:56.334 -03:00 [DBG] CORS request made for path: /connect/token from origin: http://localhost:5000/
2019-06-09 18:03:56.343 -03:00 [DBG] Origin http://localhost:5000/ is allowed: false
2019-06-09 18:03:56.343 -03:00 [WRN] CorsPolicyService did not allow origin: http://localhost:5000/
2019-06-09 18:03:56.343 -03:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-06-09 18:03:56.344 -03:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-06-09 18:03:56.344 -03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-06-09 18:03:56.344 -03:00 [DBG] Start token request.
2019-06-09 18:03:56.344 -03:00 [DBG] Start client validation
2019-06-09 18:03:56.344 -03:00 [DBG] Start parsing Basic Authentication secret
2019-06-09 18:03:56.344 -03:00 [DBG] Start parsing for secret in post body
2019-06-09 18:03:56.344 -03:00 [DBG] Parser found secret: PostBodySecretParser
2019-06-09 18:03:56.344 -03:00 [DBG] Secret id found: ro.client
2019-06-09 18:03:56.363 -03:00 [DBG] ro.client found in database: true
2019-06-09 18:03:56.363 -03:00 [DBG] client configuration validation for client ro.client succeeded.
2019-06-09 18:03:56.363 -03:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-06-09 18:03:56.363 -03:00 [DBG] Client validation success
2019-06-09 18:03:56.363 -03:00 [INF] {"ClientId":"ro.client","AuthenticationMethod":"SharedSecret","Category":"Authentication","Name":"Client Authentication Success","EventType":"Success","Id":1010,"Message":null,"ActivityId":"0HLND2I0UUVTS:00000001","TimeStamp":"2019-06-09T21:03:56.0000000Z","ProcessId":41412,"LocalIpAddress":"127.0.0.1:42399","RemoteIpAddress":"127.0.0.1","$type":"ClientAuthenticationSuccessEvent"}
2019-06-09 18:03:56.363 -03:00 [DBG] Start token request validation
2019-06-09 18:03:56.363 -03:00 [DBG] Start resource owner password token request validation
2019-06-09 18:03:56.370 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 18:03:56.432 -03:00 [DBG] Found ["api1"] API scopes in database
2019-06-09 18:03:56.434 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 18:03:56.436 -03:00 [DBG] Found ["api1"] API scopes in database
2019-06-09 18:03:56.446 -03:00 [INF] Credentials validated for username: alice
2019-06-09 18:03:56.446 -03:00 [INF] {"Username":"alice","Provider":null,"ProviderUserId":null,"SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","DisplayName":"alice","Endpoint":"Token","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HLND2I0UUVTS:00000001","TimeStamp":"2019-06-09T21:03:56.0000000Z","ProcessId":41412,"LocalIpAddress":"127.0.0.1:42399","RemoteIpAddress":"127.0.0.1","$type":"UserLoginSuccessEvent"}
2019-06-09 18:03:56.446 -03:00 [INF] {"Username":"alice","Provider":null,"ProviderUserId":null,"SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","DisplayName":null,"Endpoint":"Token","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HLND2I0UUVTS:00000001","TimeStamp":"2019-06-09T21:03:56.0000000Z","ProcessId":41412,"LocalIpAddress":"127.0.0.1:42399","RemoteIpAddress":"127.0.0.1","$type":"UserLoginSuccessEvent"}
2019-06-09 18:03:56.446 -03:00 [DBG] Resource owner password token request validation success.
2019-06-09 18:03:56.446 -03:00 [INF] Token request validation success
{"ClientId":"ro.client","ClientName":null,"GrantType":"password","Scopes":"api1 openid profile","AuthorizationCode":null,"RefreshToken":null,"UserName":"alice","AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"grant_type":"password","client_id":"ro.client","client_secret":"***REDACTED***","username":"alice","password":"***REDACTED***","scope":"openid profile api1"},"$type":"TokenRequestValidationLog"}
2019-06-09 18:03:56.447 -03:00 [DBG] Getting claims for access token for client: ro.client
2019-06-09 18:03:56.447 -03:00 [DBG] Getting claims for access token for subject: 4ba1c3a0-b786-421d-b88a-740f38d9cafa
2019-06-09 18:03:56.454 -03:00 [INF] {"ClientId":"ro.client","ClientName":null,"RedirectUri":null,"Endpoint":"Token","SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","Scopes":"openid profile api1","GrantType":"password","Tokens":[{"TokenType":"access_token","TokenValue":"****Xysg","$type":"Token"}],"Category":"Token","Name":"Token Issued Success","EventType":"Success","Id":2000,"Message":null,"ActivityId":"0HLND2I0UUVTS:00000001","TimeStamp":"2019-06-09T21:03:56.0000000Z","ProcessId":41412,"LocalIpAddress":"127.0.0.1:42399","RemoteIpAddress":"127.0.0.1","$type":"TokenIssuedSuccessEvent"}
2019-06-09 18:03:56.454 -03:00 [DBG] Token request success.
2019-06-09 18:05:26.929 -03:00 [DBG] CORS request made for path: /connect/token from origin: http://localhost:5000/
2019-06-09 18:05:26.933 -03:00 [DBG] Origin http://localhost:5000/ is allowed: false
2019-06-09 18:05:26.933 -03:00 [WRN] CorsPolicyService did not allow origin: http://localhost:5000/
2019-06-09 18:05:26.933 -03:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-06-09 18:05:26.933 -03:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-06-09 18:05:26.933 -03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-06-09 18:05:26.933 -03:00 [DBG] Start token request.
2019-06-09 18:05:26.933 -03:00 [DBG] Start client validation
2019-06-09 18:05:26.933 -03:00 [DBG] Start parsing Basic Authentication secret
2019-06-09 18:05:26.933 -03:00 [DBG] Start parsing for secret in post body
2019-06-09 18:05:26.934 -03:00 [DBG] Parser found secret: PostBodySecretParser
2019-06-09 18:05:26.934 -03:00 [DBG] Secret id found: ro.client
2019-06-09 18:05:26.960 -03:00 [DBG] ro.client found in database: true
2019-06-09 18:05:26.961 -03:00 [DBG] client configuration validation for client ro.client succeeded.
2019-06-09 18:05:26.961 -03:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-06-09 18:05:26.961 -03:00 [DBG] Client validation success
2019-06-09 18:05:26.961 -03:00 [INF] {"ClientId":"ro.client","AuthenticationMethod":"SharedSecret","Category":"Authentication","Name":"Client Authentication Success","EventType":"Success","Id":1010,"Message":null,"ActivityId":"0HLND2I0UUVTT:00000001","TimeStamp":"2019-06-09T21:05:26.0000000Z","ProcessId":41412,"LocalIpAddress":"127.0.0.1:42399","RemoteIpAddress":"127.0.0.1","$type":"ClientAuthenticationSuccessEvent"}
2019-06-09 18:05:26.961 -03:00 [DBG] Start token request validation
2019-06-09 18:05:26.961 -03:00 [DBG] Start resource owner password token request validation
2019-06-09 18:05:26.968 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 18:05:27.042 -03:00 [DBG] Found ["api1"] API scopes in database
2019-06-09 18:05:27.043 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 18:05:27.046 -03:00 [DBG] Found ["api1"] API scopes in database
2019-06-09 18:05:27.058 -03:00 [INF] Credentials validated for username: alice
2019-06-09 18:05:27.058 -03:00 [INF] {"Username":"alice","Provider":null,"ProviderUserId":null,"SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","DisplayName":"alice","Endpoint":"Token","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HLND2I0UUVTT:00000001","TimeStamp":"2019-06-09T21:05:27.0000000Z","ProcessId":41412,"LocalIpAddress":"127.0.0.1:42399","RemoteIpAddress":"127.0.0.1","$type":"UserLoginSuccessEvent"}
2019-06-09 18:05:27.058 -03:00 [INF] {"Username":"alice","Provider":null,"ProviderUserId":null,"SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","DisplayName":null,"Endpoint":"Token","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HLND2I0UUVTT:00000001","TimeStamp":"2019-06-09T21:05:27.0000000Z","ProcessId":41412,"LocalIpAddress":"127.0.0.1:42399","RemoteIpAddress":"127.0.0.1","$type":"UserLoginSuccessEvent"}
2019-06-09 18:05:27.058 -03:00 [DBG] Resource owner password token request validation success.
2019-06-09 18:05:27.058 -03:00 [INF] Token request validation success
{"ClientId":"ro.client","ClientName":null,"GrantType":"password","Scopes":"api1 openid profile","AuthorizationCode":null,"RefreshToken":null,"UserName":"alice","AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"grant_type":"password","client_id":"ro.client","client_secret":"***REDACTED***","username":"alice","password":"***REDACTED***","scope":"openid profile api1"},"$type":"TokenRequestValidationLog"}
2019-06-09 18:05:27.058 -03:00 [DBG] Getting claims for access token for client: ro.client
2019-06-09 18:05:27.058 -03:00 [DBG] Getting claims for access token for subject: 4ba1c3a0-b786-421d-b88a-740f38d9cafa
2019-06-09 18:05:27.066 -03:00 [INF] {"ClientId":"ro.client","ClientName":null,"RedirectUri":null,"Endpoint":"Token","SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","Scopes":"openid profile api1","GrantType":"password","Tokens":[{"TokenType":"access_token","TokenValue":"****FENw","$type":"Token"}],"Category":"Token","Name":"Token Issued Success","EventType":"Success","Id":2000,"Message":null,"ActivityId":"0HLND2I0UUVTT:00000001","TimeStamp":"2019-06-09T21:05:27.0000000Z","ProcessId":41412,"LocalIpAddress":"127.0.0.1:42399","RemoteIpAddress":"127.0.0.1","$type":"TokenIssuedSuccessEvent"}
2019-06-09 18:05:27.066 -03:00 [DBG] Token request success.
2019-06-09 18:08:48.118 -03:00 [DBG] CORS request made for path: /connect/token from origin: http://localhost:5000/
2019-06-09 18:08:48.126 -03:00 [DBG] Origin http://localhost:5000/ is allowed: false
2019-06-09 18:08:48.127 -03:00 [WRN] CorsPolicyService did not allow origin: http://localhost:5000/
2019-06-09 18:08:48.127 -03:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-06-09 18:08:48.127 -03:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-06-09 18:08:48.127 -03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-06-09 18:08:48.127 -03:00 [DBG] Start token request.
2019-06-09 18:08:48.127 -03:00 [DBG] Start client validation
2019-06-09 18:08:48.128 -03:00 [DBG] Start parsing Basic Authentication secret
2019-06-09 18:08:48.128 -03:00 [DBG] Start parsing for secret in post body
2019-06-09 18:08:48.128 -03:00 [DBG] Parser found secret: PostBodySecretParser
2019-06-09 18:08:48.128 -03:00 [DBG] Secret id found: ro.client
2019-06-09 18:08:48.148 -03:00 [DBG] ro.client found in database: true
2019-06-09 18:08:48.148 -03:00 [DBG] client configuration validation for client ro.client succeeded.
2019-06-09 18:08:48.149 -03:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-06-09 18:08:48.149 -03:00 [DBG] Client validation success
2019-06-09 18:08:48.149 -03:00 [INF] {"ClientId":"ro.client","AuthenticationMethod":"SharedSecret","Category":"Authentication","Name":"Client Authentication Success","EventType":"Success","Id":1010,"Message":null,"ActivityId":"0HLND2I0UUVTU:00000001","TimeStamp":"2019-06-09T21:08:48.0000000Z","ProcessId":41412,"LocalIpAddress":"127.0.0.1:42399","RemoteIpAddress":"127.0.0.1","$type":"ClientAuthenticationSuccessEvent"}
2019-06-09 18:08:48.149 -03:00 [DBG] Start token request validation
2019-06-09 18:08:48.149 -03:00 [DBG] Start resource owner password token request validation
2019-06-09 18:08:48.159 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 18:08:48.231 -03:00 [DBG] Found ["api1"] API scopes in database
2019-06-09 18:08:48.233 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 18:08:48.235 -03:00 [DBG] Found ["api1"] API scopes in database
2019-06-09 18:08:48.245 -03:00 [INF] Credentials validated for username: alice
2019-06-09 18:08:48.245 -03:00 [INF] {"Username":"alice","Provider":null,"ProviderUserId":null,"SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","DisplayName":"alice","Endpoint":"Token","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HLND2I0UUVTU:00000001","TimeStamp":"2019-06-09T21:08:48.0000000Z","ProcessId":41412,"LocalIpAddress":"127.0.0.1:42399","RemoteIpAddress":"127.0.0.1","$type":"UserLoginSuccessEvent"}
2019-06-09 18:08:48.246 -03:00 [INF] {"Username":"alice","Provider":null,"ProviderUserId":null,"SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","DisplayName":null,"Endpoint":"Token","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HLND2I0UUVTU:00000001","TimeStamp":"2019-06-09T21:08:48.0000000Z","ProcessId":41412,"LocalIpAddress":"127.0.0.1:42399","RemoteIpAddress":"127.0.0.1","$type":"UserLoginSuccessEvent"}
2019-06-09 18:08:48.246 -03:00 [DBG] Resource owner password token request validation success.
2019-06-09 18:08:48.246 -03:00 [INF] Token request validation success
{"ClientId":"ro.client","ClientName":null,"GrantType":"password","Scopes":"api1 openid profile","AuthorizationCode":null,"RefreshToken":null,"UserName":"alice","AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"grant_type":"password","client_id":"ro.client","client_secret":"***REDACTED***","username":"alice","password":"***REDACTED***","scope":"openid profile api1"},"$type":"TokenRequestValidationLog"}
2019-06-09 18:08:48.246 -03:00 [DBG] Getting claims for access token for client: ro.client
2019-06-09 18:08:48.246 -03:00 [DBG] Getting claims for access token for subject: 4ba1c3a0-b786-421d-b88a-740f38d9cafa
2019-06-09 18:08:48.254 -03:00 [INF] {"ClientId":"ro.client","ClientName":null,"RedirectUri":null,"Endpoint":"Token","SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","Scopes":"openid profile api1","GrantType":"password","Tokens":[{"TokenType":"access_token","TokenValue":"****zdPw","$type":"Token"}],"Category":"Token","Name":"Token Issued Success","EventType":"Success","Id":2000,"Message":null,"ActivityId":"0HLND2I0UUVTU:00000001","TimeStamp":"2019-06-09T21:08:48.0000000Z","ProcessId":41412,"LocalIpAddress":"127.0.0.1:42399","RemoteIpAddress":"127.0.0.1","$type":"TokenIssuedSuccessEvent"}
2019-06-09 18:08:48.254 -03:00 [DBG] Token request success.
2019-06-09 18:08:59.479 -03:00 [DBG] CORS request made for path: /connect/token from origin: http://localhost:5000/
2019-06-09 18:08:59.480 -03:00 [DBG] Origin http://localhost:5000/ is allowed: false
2019-06-09 18:08:59.480 -03:00 [WRN] CorsPolicyService did not allow origin: http://localhost:5000/
2019-06-09 18:08:59.481 -03:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-06-09 18:08:59.481 -03:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-06-09 18:08:59.481 -03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-06-09 18:08:59.481 -03:00 [DBG] Start token request.
2019-06-09 18:08:59.481 -03:00 [DBG] Start client validation
2019-06-09 18:08:59.481 -03:00 [DBG] Start parsing Basic Authentication secret
2019-06-09 18:08:59.481 -03:00 [DBG] Start parsing for secret in post body
2019-06-09 18:08:59.481 -03:00 [DBG] Parser found secret: PostBodySecretParser
2019-06-09 18:08:59.481 -03:00 [DBG] Secret id found: ro.client
2019-06-09 18:08:59.490 -03:00 [DBG] ro.client found in database: true
2019-06-09 18:08:59.490 -03:00 [DBG] client configuration validation for client ro.client succeeded.
2019-06-09 18:08:59.490 -03:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-06-09 18:08:59.490 -03:00 [DBG] Client validation success
2019-06-09 18:08:59.490 -03:00 [INF] {"ClientId":"ro.client","AuthenticationMethod":"SharedSecret","Category":"Authentication","Name":"Client Authentication Success","EventType":"Success","Id":1010,"Message":null,"ActivityId":"0HLND2I0UUVTU:00000002","TimeStamp":"2019-06-09T21:08:59.0000000Z","ProcessId":41412,"LocalIpAddress":"127.0.0.1:42399","RemoteIpAddress":"127.0.0.1","$type":"ClientAuthenticationSuccessEvent"}
2019-06-09 18:08:59.490 -03:00 [DBG] Start token request validation
2019-06-09 18:08:59.490 -03:00 [DBG] Start resource owner password token request validation
2019-06-09 18:08:59.492 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 18:08:59.494 -03:00 [DBG] Found ["api1"] API scopes in database
2019-06-09 18:08:59.496 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 18:08:59.498 -03:00 [DBG] Found ["api1"] API scopes in database
2019-06-09 18:08:59.507 -03:00 [INF] Credentials validated for username: alice
2019-06-09 18:08:59.507 -03:00 [INF] {"Username":"alice","Provider":null,"ProviderUserId":null,"SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","DisplayName":"alice","Endpoint":"Token","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HLND2I0UUVTU:00000002","TimeStamp":"2019-06-09T21:08:59.0000000Z","ProcessId":41412,"LocalIpAddress":"127.0.0.1:42399","RemoteIpAddress":"127.0.0.1","$type":"UserLoginSuccessEvent"}
2019-06-09 18:08:59.507 -03:00 [INF] {"Username":"alice","Provider":null,"ProviderUserId":null,"SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","DisplayName":null,"Endpoint":"Token","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HLND2I0UUVTU:00000002","TimeStamp":"2019-06-09T21:08:59.0000000Z","ProcessId":41412,"LocalIpAddress":"127.0.0.1:42399","RemoteIpAddress":"127.0.0.1","$type":"UserLoginSuccessEvent"}
2019-06-09 18:08:59.507 -03:00 [DBG] Resource owner password token request validation success.
2019-06-09 18:08:59.507 -03:00 [INF] Token request validation success
{"ClientId":"ro.client","ClientName":null,"GrantType":"password","Scopes":"api1 openid profile","AuthorizationCode":null,"RefreshToken":null,"UserName":"alice","AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"grant_type":"password","client_id":"ro.client","client_secret":"***REDACTED***","username":"alice","password":"***REDACTED***","scope":"openid profile api1"},"$type":"TokenRequestValidationLog"}
2019-06-09 18:08:59.507 -03:00 [DBG] Getting claims for access token for client: ro.client
2019-06-09 18:08:59.507 -03:00 [DBG] Getting claims for access token for subject: 4ba1c3a0-b786-421d-b88a-740f38d9cafa
2019-06-09 18:08:59.512 -03:00 [INF] {"ClientId":"ro.client","ClientName":null,"RedirectUri":null,"Endpoint":"Token","SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","Scopes":"openid profile api1","GrantType":"password","Tokens":[{"TokenType":"access_token","TokenValue":"****oxhw","$type":"Token"}],"Category":"Token","Name":"Token Issued Success","EventType":"Success","Id":2000,"Message":null,"ActivityId":"0HLND2I0UUVTU:00000002","TimeStamp":"2019-06-09T21:08:59.0000000Z","ProcessId":41412,"LocalIpAddress":"127.0.0.1:42399","RemoteIpAddress":"127.0.0.1","$type":"TokenIssuedSuccessEvent"}
2019-06-09 18:08:59.512 -03:00 [DBG] Token request success.
2019-06-09 18:09:52.757 -03:00 [DBG] CORS request made for path: /connect/token from origin: http://localhost:5000/
2019-06-09 18:09:52.760 -03:00 [DBG] Origin http://localhost:5000/ is allowed: false
2019-06-09 18:09:52.761 -03:00 [WRN] CorsPolicyService did not allow origin: http://localhost:5000/
2019-06-09 18:09:52.761 -03:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-06-09 18:09:52.761 -03:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-06-09 18:09:52.761 -03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-06-09 18:09:52.761 -03:00 [DBG] Start token request.
2019-06-09 18:09:52.761 -03:00 [DBG] Start client validation
2019-06-09 18:09:52.761 -03:00 [DBG] Start parsing Basic Authentication secret
2019-06-09 18:09:52.761 -03:00 [DBG] Start parsing for secret in post body
2019-06-09 18:09:52.762 -03:00 [DBG] Parser found secret: PostBodySecretParser
2019-06-09 18:09:52.762 -03:00 [DBG] Secret id found: ro.client
2019-06-09 18:09:52.782 -03:00 [DBG] ro.client found in database: true
2019-06-09 18:09:52.782 -03:00 [DBG] client configuration validation for client ro.client succeeded.
2019-06-09 18:09:52.782 -03:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-06-09 18:09:52.782 -03:00 [DBG] Client validation success
2019-06-09 18:09:52.782 -03:00 [INF] {"ClientId":"ro.client","AuthenticationMethod":"SharedSecret","Category":"Authentication","Name":"Client Authentication Success","EventType":"Success","Id":1010,"Message":null,"ActivityId":"0HLND2I0UUVTU:00000003","TimeStamp":"2019-06-09T21:09:52.0000000Z","ProcessId":41412,"LocalIpAddress":"127.0.0.1:42399","RemoteIpAddress":"127.0.0.1","$type":"ClientAuthenticationSuccessEvent"}
2019-06-09 18:09:52.782 -03:00 [DBG] Start token request validation
2019-06-09 18:09:52.782 -03:00 [DBG] Start resource owner password token request validation
2019-06-09 18:09:52.790 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 18:09:52.852 -03:00 [DBG] Found ["api1"] API scopes in database
2019-06-09 18:09:52.854 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 18:09:52.858 -03:00 [DBG] Found ["api1"] API scopes in database
2019-06-09 18:09:52.867 -03:00 [INF] Credentials validated for username: alice
2019-06-09 18:09:52.867 -03:00 [INF] {"Username":"alice","Provider":null,"ProviderUserId":null,"SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","DisplayName":"alice","Endpoint":"Token","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HLND2I0UUVTU:00000003","TimeStamp":"2019-06-09T21:09:52.0000000Z","ProcessId":41412,"LocalIpAddress":"127.0.0.1:42399","RemoteIpAddress":"127.0.0.1","$type":"UserLoginSuccessEvent"}
2019-06-09 18:09:52.867 -03:00 [INF] {"Username":"alice","Provider":null,"ProviderUserId":null,"SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","DisplayName":null,"Endpoint":"Token","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HLND2I0UUVTU:00000003","TimeStamp":"2019-06-09T21:09:52.0000000Z","ProcessId":41412,"LocalIpAddress":"127.0.0.1:42399","RemoteIpAddress":"127.0.0.1","$type":"UserLoginSuccessEvent"}
2019-06-09 18:09:52.867 -03:00 [DBG] Resource owner password token request validation success.
2019-06-09 18:09:52.867 -03:00 [INF] Token request validation success
{"ClientId":"ro.client","ClientName":null,"GrantType":"password","Scopes":"api1 openid profile","AuthorizationCode":null,"RefreshToken":null,"UserName":"alice","AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"grant_type":"password","client_id":"ro.client","client_secret":"***REDACTED***","username":"alice","password":"***REDACTED***","scope":"openid profile api1"},"$type":"TokenRequestValidationLog"}
2019-06-09 18:09:52.867 -03:00 [DBG] Getting claims for access token for client: ro.client
2019-06-09 18:09:52.867 -03:00 [DBG] Getting claims for access token for subject: 4ba1c3a0-b786-421d-b88a-740f38d9cafa
2019-06-09 18:09:52.876 -03:00 [INF] {"ClientId":"ro.client","ClientName":null,"RedirectUri":null,"Endpoint":"Token","SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","Scopes":"openid profile api1","GrantType":"password","Tokens":[{"TokenType":"access_token","TokenValue":"****xs7A","$type":"Token"}],"Category":"Token","Name":"Token Issued Success","EventType":"Success","Id":2000,"Message":null,"ActivityId":"0HLND2I0UUVTU:00000003","TimeStamp":"2019-06-09T21:09:52.0000000Z","ProcessId":41412,"LocalIpAddress":"127.0.0.1:42399","RemoteIpAddress":"127.0.0.1","$type":"TokenIssuedSuccessEvent"}
2019-06-09 18:09:52.876 -03:00 [DBG] Token request success.
2019-06-09 18:10:51.046 -03:00 [DBG] CORS request made for path: /connect/token from origin: http://localhost:5000/
2019-06-09 18:10:51.050 -03:00 [DBG] Origin http://localhost:5000/ is allowed: false
2019-06-09 18:10:51.050 -03:00 [WRN] CorsPolicyService did not allow origin: http://localhost:5000/
2019-06-09 18:10:51.050 -03:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-06-09 18:10:51.050 -03:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-06-09 18:10:51.050 -03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-06-09 18:10:51.051 -03:00 [DBG] Start token request.
2019-06-09 18:10:51.051 -03:00 [DBG] Start client validation
2019-06-09 18:10:51.051 -03:00 [DBG] Start parsing Basic Authentication secret
2019-06-09 18:10:51.051 -03:00 [DBG] Start parsing for secret in post body
2019-06-09 18:10:51.051 -03:00 [DBG] Parser found secret: PostBodySecretParser
2019-06-09 18:10:51.051 -03:00 [DBG] Secret id found: ro.client
2019-06-09 18:10:51.072 -03:00 [DBG] ro.client found in database: true
2019-06-09 18:10:51.072 -03:00 [DBG] client configuration validation for client ro.client succeeded.
2019-06-09 18:10:51.072 -03:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-06-09 18:10:51.072 -03:00 [DBG] Client validation success
2019-06-09 18:10:51.072 -03:00 [INF] {"ClientId":"ro.client","AuthenticationMethod":"SharedSecret","Category":"Authentication","Name":"Client Authentication Success","EventType":"Success","Id":1010,"Message":null,"ActivityId":"0HLND2I0UUVTU:00000004","TimeStamp":"2019-06-09T21:10:51.0000000Z","ProcessId":41412,"LocalIpAddress":"127.0.0.1:42399","RemoteIpAddress":"127.0.0.1","$type":"ClientAuthenticationSuccessEvent"}
2019-06-09 18:10:51.072 -03:00 [DBG] Start token request validation
2019-06-09 18:10:51.072 -03:00 [DBG] Start resource owner password token request validation
2019-06-09 18:10:51.080 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 18:10:51.143 -03:00 [DBG] Found ["api1"] API scopes in database
2019-06-09 18:10:51.145 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 18:10:51.147 -03:00 [DBG] Found ["api1"] API scopes in database
2019-06-09 18:10:51.157 -03:00 [INF] Credentials validated for username: alice
2019-06-09 18:10:51.157 -03:00 [INF] {"Username":"alice","Provider":null,"ProviderUserId":null,"SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","DisplayName":"alice","Endpoint":"Token","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HLND2I0UUVTU:00000004","TimeStamp":"2019-06-09T21:10:51.0000000Z","ProcessId":41412,"LocalIpAddress":"127.0.0.1:42399","RemoteIpAddress":"127.0.0.1","$type":"UserLoginSuccessEvent"}
2019-06-09 18:10:51.157 -03:00 [INF] {"Username":"alice","Provider":null,"ProviderUserId":null,"SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","DisplayName":null,"Endpoint":"Token","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HLND2I0UUVTU:00000004","TimeStamp":"2019-06-09T21:10:51.0000000Z","ProcessId":41412,"LocalIpAddress":"127.0.0.1:42399","RemoteIpAddress":"127.0.0.1","$type":"UserLoginSuccessEvent"}
2019-06-09 18:10:51.157 -03:00 [DBG] Resource owner password token request validation success.
2019-06-09 18:10:51.158 -03:00 [INF] Token request validation success
{"ClientId":"ro.client","ClientName":null,"GrantType":"password","Scopes":"api1 openid profile","AuthorizationCode":null,"RefreshToken":null,"UserName":"alice","AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"grant_type":"password","client_id":"ro.client","client_secret":"***REDACTED***","username":"alice","password":"***REDACTED***","scope":"openid profile api1"},"$type":"TokenRequestValidationLog"}
2019-06-09 18:10:51.158 -03:00 [DBG] Getting claims for access token for client: ro.client
2019-06-09 18:10:51.158 -03:00 [DBG] Getting claims for access token for subject: 4ba1c3a0-b786-421d-b88a-740f38d9cafa
2019-06-09 18:10:51.165 -03:00 [INF] {"ClientId":"ro.client","ClientName":null,"RedirectUri":null,"Endpoint":"Token","SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","Scopes":"openid profile api1","GrantType":"password","Tokens":[{"TokenType":"access_token","TokenValue":"****KGJQ","$type":"Token"}],"Category":"Token","Name":"Token Issued Success","EventType":"Success","Id":2000,"Message":null,"ActivityId":"0HLND2I0UUVTU:00000004","TimeStamp":"2019-06-09T21:10:51.0000000Z","ProcessId":41412,"LocalIpAddress":"127.0.0.1:42399","RemoteIpAddress":"127.0.0.1","$type":"TokenIssuedSuccessEvent"}
2019-06-09 18:10:51.165 -03:00 [DBG] Token request success.
2019-06-09 18:11:14.436 -03:00 [DBG] CORS request made for path: /connect/token from origin: http://localhost:5000/
2019-06-09 18:11:14.439 -03:00 [DBG] Origin http://localhost:5000/ is allowed: false
2019-06-09 18:11:14.439 -03:00 [WRN] CorsPolicyService did not allow origin: http://localhost:5000/
2019-06-09 18:11:14.439 -03:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-06-09 18:11:14.439 -03:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-06-09 18:11:14.440 -03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-06-09 18:11:14.440 -03:00 [DBG] Start token request.
2019-06-09 18:11:14.440 -03:00 [DBG] Start client validation
2019-06-09 18:11:14.440 -03:00 [DBG] Start parsing Basic Authentication secret
2019-06-09 18:11:14.440 -03:00 [DBG] Start parsing for secret in post body
2019-06-09 18:11:14.440 -03:00 [DBG] Parser found secret: PostBodySecretParser
2019-06-09 18:11:14.440 -03:00 [DBG] Secret id found: ro.client
2019-06-09 18:11:14.448 -03:00 [DBG] ro.client found in database: true
2019-06-09 18:11:14.449 -03:00 [DBG] client configuration validation for client ro.client succeeded.
2019-06-09 18:11:14.449 -03:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-06-09 18:11:14.449 -03:00 [DBG] Client validation success
2019-06-09 18:11:14.449 -03:00 [INF] {"ClientId":"ro.client","AuthenticationMethod":"SharedSecret","Category":"Authentication","Name":"Client Authentication Success","EventType":"Success","Id":1010,"Message":null,"ActivityId":"0HLND2I0UUVTU:00000005","TimeStamp":"2019-06-09T21:11:14.0000000Z","ProcessId":41412,"LocalIpAddress":"127.0.0.1:42399","RemoteIpAddress":"127.0.0.1","$type":"ClientAuthenticationSuccessEvent"}
2019-06-09 18:11:14.449 -03:00 [DBG] Start token request validation
2019-06-09 18:11:14.449 -03:00 [DBG] Start resource owner password token request validation
2019-06-09 18:11:14.451 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 18:11:14.455 -03:00 [DBG] Found ["api1"] API scopes in database
2019-06-09 18:11:14.457 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 18:11:14.460 -03:00 [DBG] Found ["api1"] API scopes in database
2019-06-09 18:11:14.468 -03:00 [INF] Credentials validated for username: alice
2019-06-09 18:11:14.469 -03:00 [INF] {"Username":"alice","Provider":null,"ProviderUserId":null,"SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","DisplayName":"alice","Endpoint":"Token","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HLND2I0UUVTU:00000005","TimeStamp":"2019-06-09T21:11:14.0000000Z","ProcessId":41412,"LocalIpAddress":"127.0.0.1:42399","RemoteIpAddress":"127.0.0.1","$type":"UserLoginSuccessEvent"}
2019-06-09 18:11:14.469 -03:00 [INF] {"Username":"alice","Provider":null,"ProviderUserId":null,"SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","DisplayName":null,"Endpoint":"Token","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HLND2I0UUVTU:00000005","TimeStamp":"2019-06-09T21:11:14.0000000Z","ProcessId":41412,"LocalIpAddress":"127.0.0.1:42399","RemoteIpAddress":"127.0.0.1","$type":"UserLoginSuccessEvent"}
2019-06-09 18:11:14.469 -03:00 [DBG] Resource owner password token request validation success.
2019-06-09 18:11:14.470 -03:00 [INF] Token request validation success
{"ClientId":"ro.client","ClientName":null,"GrantType":"password","Scopes":"api1 openid profile","AuthorizationCode":null,"RefreshToken":null,"UserName":"alice","AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"grant_type":"password","client_id":"ro.client","client_secret":"***REDACTED***","username":"alice","password":"***REDACTED***","scope":"openid profile api1"},"$type":"TokenRequestValidationLog"}
2019-06-09 18:11:14.470 -03:00 [DBG] Getting claims for access token for client: ro.client
2019-06-09 18:11:14.470 -03:00 [DBG] Getting claims for access token for subject: 4ba1c3a0-b786-421d-b88a-740f38d9cafa
2019-06-09 18:11:14.479 -03:00 [INF] {"ClientId":"ro.client","ClientName":null,"RedirectUri":null,"Endpoint":"Token","SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","Scopes":"openid profile api1","GrantType":"password","Tokens":[{"TokenType":"access_token","TokenValue":"****YMag","$type":"Token"}],"Category":"Token","Name":"Token Issued Success","EventType":"Success","Id":2000,"Message":null,"ActivityId":"0HLND2I0UUVTU:00000005","TimeStamp":"2019-06-09T21:11:14.0000000Z","ProcessId":41412,"LocalIpAddress":"127.0.0.1:42399","RemoteIpAddress":"127.0.0.1","$type":"TokenIssuedSuccessEvent"}
2019-06-09 18:11:14.479 -03:00 [DBG] Token request success.
2019-06-09 18:11:35.069 -03:00 [DBG] CORS request made for path: /connect/token from origin: http://localhost:5000/
2019-06-09 18:11:35.073 -03:00 [DBG] Origin http://localhost:5000/ is allowed: false
2019-06-09 18:11:35.074 -03:00 [WRN] CorsPolicyService did not allow origin: http://localhost:5000/
2019-06-09 18:11:35.074 -03:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-06-09 18:11:35.074 -03:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-06-09 18:11:35.074 -03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-06-09 18:11:35.074 -03:00 [DBG] Start token request.
2019-06-09 18:11:35.074 -03:00 [DBG] Start client validation
2019-06-09 18:11:35.074 -03:00 [DBG] Start parsing Basic Authentication secret
2019-06-09 18:11:35.074 -03:00 [DBG] Start parsing for secret in post body
2019-06-09 18:11:35.074 -03:00 [DBG] Parser found secret: PostBodySecretParser
2019-06-09 18:11:35.074 -03:00 [DBG] Secret id found: ro.client
2019-06-09 18:11:35.107 -03:00 [DBG] ro.client found in database: true
2019-06-09 18:11:35.107 -03:00 [DBG] client configuration validation for client ro.client succeeded.
2019-06-09 18:11:35.107 -03:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-06-09 18:11:35.108 -03:00 [DBG] Client validation success
2019-06-09 18:11:35.108 -03:00 [INF] {"ClientId":"ro.client","AuthenticationMethod":"SharedSecret","Category":"Authentication","Name":"Client Authentication Success","EventType":"Success","Id":1010,"Message":null,"ActivityId":"0HLND2I0UUVTU:00000006","TimeStamp":"2019-06-09T21:11:35.0000000Z","ProcessId":41412,"LocalIpAddress":"127.0.0.1:42399","RemoteIpAddress":"127.0.0.1","$type":"ClientAuthenticationSuccessEvent"}
2019-06-09 18:11:35.108 -03:00 [DBG] Start token request validation
2019-06-09 18:11:35.108 -03:00 [DBG] Start resource owner password token request validation
2019-06-09 18:11:35.119 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 18:11:35.190 -03:00 [DBG] Found ["api1"] API scopes in database
2019-06-09 18:11:35.192 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 18:11:35.194 -03:00 [DBG] Found ["api1"] API scopes in database
2019-06-09 18:11:35.203 -03:00 [INF] Credentials validated for username: alice
2019-06-09 18:11:35.203 -03:00 [INF] {"Username":"alice","Provider":null,"ProviderUserId":null,"SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","DisplayName":"alice","Endpoint":"Token","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HLND2I0UUVTU:00000006","TimeStamp":"2019-06-09T21:11:35.0000000Z","ProcessId":41412,"LocalIpAddress":"127.0.0.1:42399","RemoteIpAddress":"127.0.0.1","$type":"UserLoginSuccessEvent"}
2019-06-09 18:11:35.204 -03:00 [INF] {"Username":"alice","Provider":null,"ProviderUserId":null,"SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","DisplayName":null,"Endpoint":"Token","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HLND2I0UUVTU:00000006","TimeStamp":"2019-06-09T21:11:35.0000000Z","ProcessId":41412,"LocalIpAddress":"127.0.0.1:42399","RemoteIpAddress":"127.0.0.1","$type":"UserLoginSuccessEvent"}
2019-06-09 18:11:35.204 -03:00 [DBG] Resource owner password token request validation success.
2019-06-09 18:11:35.204 -03:00 [INF] Token request validation success
{"ClientId":"ro.client","ClientName":null,"GrantType":"password","Scopes":"api1 openid profile","AuthorizationCode":null,"RefreshToken":null,"UserName":"alice","AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"grant_type":"password","client_id":"ro.client","client_secret":"***REDACTED***","username":"alice","password":"***REDACTED***","scope":"openid profile api1"},"$type":"TokenRequestValidationLog"}
2019-06-09 18:11:35.204 -03:00 [DBG] Getting claims for access token for client: ro.client
2019-06-09 18:11:35.204 -03:00 [DBG] Getting claims for access token for subject: 4ba1c3a0-b786-421d-b88a-740f38d9cafa
2019-06-09 18:11:35.211 -03:00 [INF] {"ClientId":"ro.client","ClientName":null,"RedirectUri":null,"Endpoint":"Token","SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","Scopes":"openid profile api1","GrantType":"password","Tokens":[{"TokenType":"access_token","TokenValue":"****6QlQ","$type":"Token"}],"Category":"Token","Name":"Token Issued Success","EventType":"Success","Id":2000,"Message":null,"ActivityId":"0HLND2I0UUVTU:00000006","TimeStamp":"2019-06-09T21:11:35.0000000Z","ProcessId":41412,"LocalIpAddress":"127.0.0.1:42399","RemoteIpAddress":"127.0.0.1","$type":"TokenIssuedSuccessEvent"}
2019-06-09 18:11:35.211 -03:00 [DBG] Token request success.
2019-06-09 18:12:27.092 -03:00 [DBG] CORS request made for path: /connect/token from origin: http://localhost:5000/
2019-06-09 18:12:27.097 -03:00 [DBG] Origin http://localhost:5000/ is allowed: false
2019-06-09 18:12:27.097 -03:00 [WRN] CorsPolicyService did not allow origin: http://localhost:5000/
2019-06-09 18:12:27.097 -03:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-06-09 18:12:27.098 -03:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-06-09 18:12:27.098 -03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-06-09 18:12:27.098 -03:00 [DBG] Start token request.
2019-06-09 18:12:27.098 -03:00 [DBG] Start client validation
2019-06-09 18:12:27.098 -03:00 [DBG] Start parsing Basic Authentication secret
2019-06-09 18:12:27.098 -03:00 [DBG] Start parsing for secret in post body
2019-06-09 18:12:27.098 -03:00 [DBG] Parser found secret: PostBodySecretParser
2019-06-09 18:12:27.098 -03:00 [DBG] Secret id found: ro.client
2019-06-09 18:12:27.125 -03:00 [DBG] ro.client found in database: true
2019-06-09 18:12:27.125 -03:00 [DBG] client configuration validation for client ro.client succeeded.
2019-06-09 18:12:27.125 -03:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-06-09 18:12:27.125 -03:00 [DBG] Client validation success
2019-06-09 18:12:27.126 -03:00 [INF] {"ClientId":"ro.client","AuthenticationMethod":"SharedSecret","Category":"Authentication","Name":"Client Authentication Success","EventType":"Success","Id":1010,"Message":null,"ActivityId":"0HLND2I0UUVTU:00000007","TimeStamp":"2019-06-09T21:12:27.0000000Z","ProcessId":41412,"LocalIpAddress":"127.0.0.1:42399","RemoteIpAddress":"127.0.0.1","$type":"ClientAuthenticationSuccessEvent"}
2019-06-09 18:12:27.126 -03:00 [DBG] Start token request validation
2019-06-09 18:12:27.126 -03:00 [DBG] Start resource owner password token request validation
2019-06-09 18:12:27.134 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 18:12:27.194 -03:00 [DBG] Found ["api1"] API scopes in database
2019-06-09 18:12:27.196 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 18:12:27.198 -03:00 [DBG] Found ["api1"] API scopes in database
2019-06-09 18:12:27.208 -03:00 [INF] Credentials validated for username: alice
2019-06-09 18:12:27.208 -03:00 [INF] {"Username":"alice","Provider":null,"ProviderUserId":null,"SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","DisplayName":"alice","Endpoint":"Token","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HLND2I0UUVTU:00000007","TimeStamp":"2019-06-09T21:12:27.0000000Z","ProcessId":41412,"LocalIpAddress":"127.0.0.1:42399","RemoteIpAddress":"127.0.0.1","$type":"UserLoginSuccessEvent"}
2019-06-09 18:12:27.208 -03:00 [INF] {"Username":"alice","Provider":null,"ProviderUserId":null,"SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","DisplayName":null,"Endpoint":"Token","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HLND2I0UUVTU:00000007","TimeStamp":"2019-06-09T21:12:27.0000000Z","ProcessId":41412,"LocalIpAddress":"127.0.0.1:42399","RemoteIpAddress":"127.0.0.1","$type":"UserLoginSuccessEvent"}
2019-06-09 18:12:27.208 -03:00 [DBG] Resource owner password token request validation success.
2019-06-09 18:12:27.209 -03:00 [INF] Token request validation success
{"ClientId":"ro.client","ClientName":null,"GrantType":"password","Scopes":"api1 openid profile","AuthorizationCode":null,"RefreshToken":null,"UserName":"alice","AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"grant_type":"password","client_id":"ro.client","client_secret":"***REDACTED***","username":"alice","password":"***REDACTED***","scope":"openid profile api1"},"$type":"TokenRequestValidationLog"}
2019-06-09 18:12:27.209 -03:00 [DBG] Getting claims for access token for client: ro.client
2019-06-09 18:12:27.209 -03:00 [DBG] Getting claims for access token for subject: 4ba1c3a0-b786-421d-b88a-740f38d9cafa
2019-06-09 18:12:27.218 -03:00 [INF] {"ClientId":"ro.client","ClientName":null,"RedirectUri":null,"Endpoint":"Token","SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","Scopes":"openid profile api1","GrantType":"password","Tokens":[{"TokenType":"access_token","TokenValue":"****RwqA","$type":"Token"}],"Category":"Token","Name":"Token Issued Success","EventType":"Success","Id":2000,"Message":null,"ActivityId":"0HLND2I0UUVTU:00000007","TimeStamp":"2019-06-09T21:12:27.0000000Z","ProcessId":41412,"LocalIpAddress":"127.0.0.1:42399","RemoteIpAddress":"127.0.0.1","$type":"TokenIssuedSuccessEvent"}
2019-06-09 18:12:27.218 -03:00 [DBG] Token request success.
2019-06-09 18:12:56.273 -03:00 [DBG] CORS request made for path: /connect/token from origin: http://localhost:5000/
2019-06-09 18:12:56.274 -03:00 [DBG] Origin http://localhost:5000/ is allowed: false
2019-06-09 18:12:56.274 -03:00 [WRN] CorsPolicyService did not allow origin: http://localhost:5000/
2019-06-09 18:12:56.274 -03:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-06-09 18:12:56.275 -03:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-06-09 18:12:56.275 -03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-06-09 18:12:56.275 -03:00 [DBG] Start token request.
2019-06-09 18:12:56.275 -03:00 [DBG] Start client validation
2019-06-09 18:12:56.275 -03:00 [DBG] Start parsing Basic Authentication secret
2019-06-09 18:12:56.275 -03:00 [DBG] Start parsing for secret in post body
2019-06-09 18:12:56.275 -03:00 [DBG] Parser found secret: PostBodySecretParser
2019-06-09 18:12:56.275 -03:00 [DBG] Secret id found: ro.client
2019-06-09 18:12:56.280 -03:00 [DBG] ro.client found in database: true
2019-06-09 18:12:56.280 -03:00 [DBG] client configuration validation for client ro.client succeeded.
2019-06-09 18:12:56.280 -03:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-06-09 18:12:56.280 -03:00 [DBG] Client validation success
2019-06-09 18:12:56.280 -03:00 [INF] {"ClientId":"ro.client","AuthenticationMethod":"SharedSecret","Category":"Authentication","Name":"Client Authentication Success","EventType":"Success","Id":1010,"Message":null,"ActivityId":"0HLND2I0UUVTU:00000008","TimeStamp":"2019-06-09T21:12:56.0000000Z","ProcessId":41412,"LocalIpAddress":"127.0.0.1:42399","RemoteIpAddress":"127.0.0.1","$type":"ClientAuthenticationSuccessEvent"}
2019-06-09 18:12:56.280 -03:00 [DBG] Start token request validation
2019-06-09 18:12:56.280 -03:00 [DBG] Start resource owner password token request validation
2019-06-09 18:12:56.282 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 18:12:56.285 -03:00 [DBG] Found ["api1"] API scopes in database
2019-06-09 18:12:56.286 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 18:12:56.289 -03:00 [DBG] Found ["api1"] API scopes in database
2019-06-09 18:12:56.298 -03:00 [INF] Credentials validated for username: alice
2019-06-09 18:12:56.298 -03:00 [INF] {"Username":"alice","Provider":null,"ProviderUserId":null,"SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","DisplayName":"alice","Endpoint":"Token","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HLND2I0UUVTU:00000008","TimeStamp":"2019-06-09T21:12:56.0000000Z","ProcessId":41412,"LocalIpAddress":"127.0.0.1:42399","RemoteIpAddress":"127.0.0.1","$type":"UserLoginSuccessEvent"}
2019-06-09 18:12:56.298 -03:00 [INF] {"Username":"alice","Provider":null,"ProviderUserId":null,"SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","DisplayName":null,"Endpoint":"Token","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HLND2I0UUVTU:00000008","TimeStamp":"2019-06-09T21:12:56.0000000Z","ProcessId":41412,"LocalIpAddress":"127.0.0.1:42399","RemoteIpAddress":"127.0.0.1","$type":"UserLoginSuccessEvent"}
2019-06-09 18:12:56.298 -03:00 [DBG] Resource owner password token request validation success.
2019-06-09 18:12:56.299 -03:00 [INF] Token request validation success
{"ClientId":"ro.client","ClientName":null,"GrantType":"password","Scopes":"api1 openid profile","AuthorizationCode":null,"RefreshToken":null,"UserName":"alice","AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"grant_type":"password","client_id":"ro.client","client_secret":"***REDACTED***","username":"alice","password":"***REDACTED***","scope":"openid profile api1"},"$type":"TokenRequestValidationLog"}
2019-06-09 18:12:56.299 -03:00 [DBG] Getting claims for access token for client: ro.client
2019-06-09 18:12:56.299 -03:00 [DBG] Getting claims for access token for subject: 4ba1c3a0-b786-421d-b88a-740f38d9cafa
2019-06-09 18:12:56.304 -03:00 [INF] {"ClientId":"ro.client","ClientName":null,"RedirectUri":null,"Endpoint":"Token","SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","Scopes":"openid profile api1","GrantType":"password","Tokens":[{"TokenType":"access_token","TokenValue":"****p6cw","$type":"Token"}],"Category":"Token","Name":"Token Issued Success","EventType":"Success","Id":2000,"Message":null,"ActivityId":"0HLND2I0UUVTU:00000008","TimeStamp":"2019-06-09T21:12:56.0000000Z","ProcessId":41412,"LocalIpAddress":"127.0.0.1:42399","RemoteIpAddress":"127.0.0.1","$type":"TokenIssuedSuccessEvent"}
2019-06-09 18:12:56.304 -03:00 [DBG] Token request success.
2019-06-09 18:13:26.440 -03:00 [DBG] CORS request made for path: /connect/token from origin: http://localhost:5000/
2019-06-09 18:13:26.443 -03:00 [DBG] Origin http://localhost:5000/ is allowed: false
2019-06-09 18:13:26.444 -03:00 [WRN] CorsPolicyService did not allow origin: http://localhost:5000/
2019-06-09 18:13:26.444 -03:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-06-09 18:13:26.444 -03:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-06-09 18:13:26.444 -03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-06-09 18:13:26.444 -03:00 [DBG] Start token request.
2019-06-09 18:13:26.444 -03:00 [DBG] Start client validation
2019-06-09 18:13:26.445 -03:00 [DBG] Start parsing Basic Authentication secret
2019-06-09 18:13:26.445 -03:00 [DBG] Start parsing for secret in post body
2019-06-09 18:13:26.445 -03:00 [DBG] Parser found secret: PostBodySecretParser
2019-06-09 18:13:26.445 -03:00 [DBG] Secret id found: ro.client
2019-06-09 18:13:26.470 -03:00 [DBG] ro.client found in database: true
2019-06-09 18:13:26.471 -03:00 [DBG] client configuration validation for client ro.client succeeded.
2019-06-09 18:13:26.471 -03:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-06-09 18:13:26.471 -03:00 [DBG] Client validation success
2019-06-09 18:13:26.471 -03:00 [INF] {"ClientId":"ro.client","AuthenticationMethod":"SharedSecret","Category":"Authentication","Name":"Client Authentication Success","EventType":"Success","Id":1010,"Message":null,"ActivityId":"0HLND2I0UUVTU:00000009","TimeStamp":"2019-06-09T21:13:26.0000000Z","ProcessId":41412,"LocalIpAddress":"127.0.0.1:42399","RemoteIpAddress":"127.0.0.1","$type":"ClientAuthenticationSuccessEvent"}
2019-06-09 18:13:26.471 -03:00 [DBG] Start token request validation
2019-06-09 18:13:26.471 -03:00 [DBG] Start resource owner password token request validation
2019-06-09 18:13:26.481 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 18:13:26.558 -03:00 [DBG] Found ["api1"] API scopes in database
2019-06-09 18:13:26.565 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 18:13:26.606 -03:00 [DBG] Found ["api1"] API scopes in database
2019-06-09 18:13:26.616 -03:00 [INF] Credentials validated for username: alice
2019-06-09 18:13:26.616 -03:00 [INF] {"Username":"alice","Provider":null,"ProviderUserId":null,"SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","DisplayName":"alice","Endpoint":"Token","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HLND2I0UUVTU:00000009","TimeStamp":"2019-06-09T21:13:26.0000000Z","ProcessId":41412,"LocalIpAddress":"127.0.0.1:42399","RemoteIpAddress":"127.0.0.1","$type":"UserLoginSuccessEvent"}
2019-06-09 18:13:26.617 -03:00 [INF] {"Username":"alice","Provider":null,"ProviderUserId":null,"SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","DisplayName":null,"Endpoint":"Token","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HLND2I0UUVTU:00000009","TimeStamp":"2019-06-09T21:13:26.0000000Z","ProcessId":41412,"LocalIpAddress":"127.0.0.1:42399","RemoteIpAddress":"127.0.0.1","$type":"UserLoginSuccessEvent"}
2019-06-09 18:13:26.617 -03:00 [DBG] Resource owner password token request validation success.
2019-06-09 18:13:26.617 -03:00 [INF] Token request validation success
{"ClientId":"ro.client","ClientName":null,"GrantType":"password","Scopes":"api1 openid profile","AuthorizationCode":null,"RefreshToken":null,"UserName":"alice","AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"grant_type":"password","client_id":"ro.client","client_secret":"***REDACTED***","username":"alice","password":"***REDACTED***","scope":"openid profile api1"},"$type":"TokenRequestValidationLog"}
2019-06-09 18:13:26.617 -03:00 [DBG] Getting claims for access token for client: ro.client
2019-06-09 18:13:26.617 -03:00 [DBG] Getting claims for access token for subject: 4ba1c3a0-b786-421d-b88a-740f38d9cafa
2019-06-09 18:13:26.631 -03:00 [INF] {"ClientId":"ro.client","ClientName":null,"RedirectUri":null,"Endpoint":"Token","SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","Scopes":"openid profile api1","GrantType":"password","Tokens":[{"TokenType":"access_token","TokenValue":"****HVXQ","$type":"Token"}],"Category":"Token","Name":"Token Issued Success","EventType":"Success","Id":2000,"Message":null,"ActivityId":"0HLND2I0UUVTU:00000009","TimeStamp":"2019-06-09T21:13:26.0000000Z","ProcessId":41412,"LocalIpAddress":"127.0.0.1:42399","RemoteIpAddress":"127.0.0.1","$type":"TokenIssuedSuccessEvent"}
2019-06-09 18:13:26.631 -03:00 [DBG] Token request success.
2019-06-09 18:13:28.771 -03:00 [DBG] CORS request made for path: /connect/token from origin: http://localhost:5000/
2019-06-09 18:13:28.774 -03:00 [DBG] Origin http://localhost:5000/ is allowed: false
2019-06-09 18:13:28.775 -03:00 [WRN] CorsPolicyService did not allow origin: http://localhost:5000/
2019-06-09 18:13:28.775 -03:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-06-09 18:13:28.775 -03:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-06-09 18:13:28.775 -03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-06-09 18:13:28.775 -03:00 [DBG] Start token request.
2019-06-09 18:13:28.775 -03:00 [DBG] Start client validation
2019-06-09 18:13:28.775 -03:00 [DBG] Start parsing Basic Authentication secret
2019-06-09 18:13:28.775 -03:00 [DBG] Start parsing for secret in post body
2019-06-09 18:13:28.775 -03:00 [DBG] Parser found secret: PostBodySecretParser
2019-06-09 18:13:28.775 -03:00 [DBG] Secret id found: ro.client
2019-06-09 18:13:28.797 -03:00 [DBG] ro.client found in database: true
2019-06-09 18:13:28.797 -03:00 [DBG] client configuration validation for client ro.client succeeded.
2019-06-09 18:13:28.797 -03:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-06-09 18:13:28.797 -03:00 [DBG] Client validation success
2019-06-09 18:13:28.797 -03:00 [INF] {"ClientId":"ro.client","AuthenticationMethod":"SharedSecret","Category":"Authentication","Name":"Client Authentication Success","EventType":"Success","Id":1010,"Message":null,"ActivityId":"0HLND2I0UUVTU:0000000A","TimeStamp":"2019-06-09T21:13:28.0000000Z","ProcessId":41412,"LocalIpAddress":"127.0.0.1:42399","RemoteIpAddress":"127.0.0.1","$type":"ClientAuthenticationSuccessEvent"}
2019-06-09 18:13:28.797 -03:00 [DBG] Start token request validation
2019-06-09 18:13:28.797 -03:00 [DBG] Start resource owner password token request validation
2019-06-09 18:13:28.806 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 18:13:28.878 -03:00 [DBG] Found ["api1"] API scopes in database
2019-06-09 18:13:28.885 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 18:13:28.977 -03:00 [DBG] Found ["api1"] API scopes in database
2019-06-09 18:13:28.988 -03:00 [INF] Credentials validated for username: alice
2019-06-09 18:13:28.988 -03:00 [INF] {"Username":"alice","Provider":null,"ProviderUserId":null,"SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","DisplayName":"alice","Endpoint":"Token","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HLND2I0UUVTU:0000000A","TimeStamp":"2019-06-09T21:13:28.0000000Z","ProcessId":41412,"LocalIpAddress":"127.0.0.1:42399","RemoteIpAddress":"127.0.0.1","$type":"UserLoginSuccessEvent"}
2019-06-09 18:13:28.989 -03:00 [INF] {"Username":"alice","Provider":null,"ProviderUserId":null,"SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","DisplayName":null,"Endpoint":"Token","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HLND2I0UUVTU:0000000A","TimeStamp":"2019-06-09T21:13:28.0000000Z","ProcessId":41412,"LocalIpAddress":"127.0.0.1:42399","RemoteIpAddress":"127.0.0.1","$type":"UserLoginSuccessEvent"}
2019-06-09 18:13:28.989 -03:00 [DBG] Resource owner password token request validation success.
2019-06-09 18:13:28.989 -03:00 [INF] Token request validation success
{"ClientId":"ro.client","ClientName":null,"GrantType":"password","Scopes":"api1 openid profile","AuthorizationCode":null,"RefreshToken":null,"UserName":"alice","AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"grant_type":"password","client_id":"ro.client","client_secret":"***REDACTED***","username":"alice","password":"***REDACTED***","scope":"openid profile api1"},"$type":"TokenRequestValidationLog"}
2019-06-09 18:13:28.989 -03:00 [DBG] Getting claims for access token for client: ro.client
2019-06-09 18:13:28.989 -03:00 [DBG] Getting claims for access token for subject: 4ba1c3a0-b786-421d-b88a-740f38d9cafa
2019-06-09 18:13:28.998 -03:00 [INF] {"ClientId":"ro.client","ClientName":null,"RedirectUri":null,"Endpoint":"Token","SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","Scopes":"openid profile api1","GrantType":"password","Tokens":[{"TokenType":"access_token","TokenValue":"****nGhw","$type":"Token"}],"Category":"Token","Name":"Token Issued Success","EventType":"Success","Id":2000,"Message":null,"ActivityId":"0HLND2I0UUVTU:0000000A","TimeStamp":"2019-06-09T21:13:28.0000000Z","ProcessId":41412,"LocalIpAddress":"127.0.0.1:42399","RemoteIpAddress":"127.0.0.1","$type":"TokenIssuedSuccessEvent"}
2019-06-09 18:13:28.998 -03:00 [DBG] Token request success.
2019-06-09 18:14:29.322 -03:00 [DBG] CORS request made for path: /connect/token from origin: http://localhost:5000/
2019-06-09 18:14:29.326 -03:00 [DBG] Origin http://localhost:5000/ is allowed: false
2019-06-09 18:14:29.326 -03:00 [WRN] CorsPolicyService did not allow origin: http://localhost:5000/
2019-06-09 18:14:29.327 -03:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-06-09 18:14:29.327 -03:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-06-09 18:14:29.328 -03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-06-09 18:14:29.328 -03:00 [DBG] Start token request.
2019-06-09 18:14:29.328 -03:00 [DBG] Start client validation
2019-06-09 18:14:29.328 -03:00 [DBG] Start parsing Basic Authentication secret
2019-06-09 18:14:29.328 -03:00 [DBG] Start parsing for secret in post body
2019-06-09 18:14:29.328 -03:00 [DBG] Parser found secret: PostBodySecretParser
2019-06-09 18:14:29.328 -03:00 [DBG] Secret id found: ro.client
2019-06-09 18:14:29.351 -03:00 [DBG] ro.client found in database: true
2019-06-09 18:14:29.351 -03:00 [DBG] client configuration validation for client ro.client succeeded.
2019-06-09 18:14:29.351 -03:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-06-09 18:14:29.351 -03:00 [DBG] Client validation success
2019-06-09 18:14:29.351 -03:00 [INF] {"ClientId":"ro.client","AuthenticationMethod":"SharedSecret","Category":"Authentication","Name":"Client Authentication Success","EventType":"Success","Id":1010,"Message":null,"ActivityId":"0HLND2I0UUVTV:00000001","TimeStamp":"2019-06-09T21:14:29.0000000Z","ProcessId":41412,"LocalIpAddress":"127.0.0.1:42399","RemoteIpAddress":"127.0.0.1","$type":"ClientAuthenticationSuccessEvent"}
2019-06-09 18:14:29.351 -03:00 [DBG] Start token request validation
2019-06-09 18:14:29.351 -03:00 [DBG] Start resource owner password token request validation
2019-06-09 18:14:29.360 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 18:14:29.426 -03:00 [DBG] Found ["api1"] API scopes in database
2019-06-09 18:14:29.427 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 18:14:29.430 -03:00 [DBG] Found ["api1"] API scopes in database
2019-06-09 18:14:29.439 -03:00 [INF] Credentials validated for username: alice
2019-06-09 18:14:29.440 -03:00 [INF] {"Username":"alice","Provider":null,"ProviderUserId":null,"SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","DisplayName":"alice","Endpoint":"Token","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HLND2I0UUVTV:00000001","TimeStamp":"2019-06-09T21:14:29.0000000Z","ProcessId":41412,"LocalIpAddress":"127.0.0.1:42399","RemoteIpAddress":"127.0.0.1","$type":"UserLoginSuccessEvent"}
2019-06-09 18:14:29.440 -03:00 [INF] {"Username":"alice","Provider":null,"ProviderUserId":null,"SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","DisplayName":null,"Endpoint":"Token","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HLND2I0UUVTV:00000001","TimeStamp":"2019-06-09T21:14:29.0000000Z","ProcessId":41412,"LocalIpAddress":"127.0.0.1:42399","RemoteIpAddress":"127.0.0.1","$type":"UserLoginSuccessEvent"}
2019-06-09 18:14:29.440 -03:00 [DBG] Resource owner password token request validation success.
2019-06-09 18:14:29.440 -03:00 [INF] Token request validation success
{"ClientId":"ro.client","ClientName":null,"GrantType":"password","Scopes":"api1 openid profile","AuthorizationCode":null,"RefreshToken":null,"UserName":"alice","AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"grant_type":"password","client_id":"ro.client","client_secret":"***REDACTED***","username":"alice","password":"***REDACTED***","scope":"openid profile api1"},"$type":"TokenRequestValidationLog"}
2019-06-09 18:14:29.440 -03:00 [DBG] Getting claims for access token for client: ro.client
2019-06-09 18:14:29.440 -03:00 [DBG] Getting claims for access token for subject: 4ba1c3a0-b786-421d-b88a-740f38d9cafa
2019-06-09 18:14:29.447 -03:00 [INF] {"ClientId":"ro.client","ClientName":null,"RedirectUri":null,"Endpoint":"Token","SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","Scopes":"openid profile api1","GrantType":"password","Tokens":[{"TokenType":"access_token","TokenValue":"****pgdQ","$type":"Token"}],"Category":"Token","Name":"Token Issued Success","EventType":"Success","Id":2000,"Message":null,"ActivityId":"0HLND2I0UUVTV:00000001","TimeStamp":"2019-06-09T21:14:29.0000000Z","ProcessId":41412,"LocalIpAddress":"127.0.0.1:42399","RemoteIpAddress":"127.0.0.1","$type":"TokenIssuedSuccessEvent"}
2019-06-09 18:14:29.447 -03:00 [DBG] Token request success.
2019-06-09 18:15:14.404 -03:00 [DBG] CORS request made for path: /connect/token from origin: http://localhost:5000/
2019-06-09 18:15:14.407 -03:00 [DBG] Origin http://localhost:5000/ is allowed: false
2019-06-09 18:15:14.407 -03:00 [WRN] CorsPolicyService did not allow origin: http://localhost:5000/
2019-06-09 18:15:14.407 -03:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-06-09 18:15:14.407 -03:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-06-09 18:15:14.408 -03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-06-09 18:15:14.408 -03:00 [DBG] Start token request.
2019-06-09 18:15:14.408 -03:00 [DBG] Start client validation
2019-06-09 18:15:14.408 -03:00 [DBG] Start parsing Basic Authentication secret
2019-06-09 18:15:14.408 -03:00 [DBG] Start parsing for secret in post body
2019-06-09 18:15:14.408 -03:00 [DBG] Parser found secret: PostBodySecretParser
2019-06-09 18:15:14.408 -03:00 [DBG] Secret id found: ro.client
2019-06-09 18:15:14.430 -03:00 [DBG] ro.client found in database: true
2019-06-09 18:15:14.430 -03:00 [DBG] client configuration validation for client ro.client succeeded.
2019-06-09 18:15:14.431 -03:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-06-09 18:15:14.431 -03:00 [DBG] Client validation success
2019-06-09 18:15:14.431 -03:00 [INF] {"ClientId":"ro.client","AuthenticationMethod":"SharedSecret","Category":"Authentication","Name":"Client Authentication Success","EventType":"Success","Id":1010,"Message":null,"ActivityId":"0HLND2I0UUVTV:00000002","TimeStamp":"2019-06-09T21:15:14.0000000Z","ProcessId":41412,"LocalIpAddress":"127.0.0.1:42399","RemoteIpAddress":"127.0.0.1","$type":"ClientAuthenticationSuccessEvent"}
2019-06-09 18:15:14.431 -03:00 [DBG] Start token request validation
2019-06-09 18:15:14.431 -03:00 [DBG] Start resource owner password token request validation
2019-06-09 18:15:14.437 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 18:15:14.501 -03:00 [DBG] Found ["api1"] API scopes in database
2019-06-09 18:15:14.503 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 18:15:14.505 -03:00 [DBG] Found ["api1"] API scopes in database
2019-06-09 18:15:14.515 -03:00 [INF] Credentials validated for username: alice
2019-06-09 18:15:14.515 -03:00 [INF] {"Username":"alice","Provider":null,"ProviderUserId":null,"SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","DisplayName":"alice","Endpoint":"Token","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HLND2I0UUVTV:00000002","TimeStamp":"2019-06-09T21:15:14.0000000Z","ProcessId":41412,"LocalIpAddress":"127.0.0.1:42399","RemoteIpAddress":"127.0.0.1","$type":"UserLoginSuccessEvent"}
2019-06-09 18:15:14.515 -03:00 [INF] {"Username":"alice","Provider":null,"ProviderUserId":null,"SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","DisplayName":null,"Endpoint":"Token","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HLND2I0UUVTV:00000002","TimeStamp":"2019-06-09T21:15:14.0000000Z","ProcessId":41412,"LocalIpAddress":"127.0.0.1:42399","RemoteIpAddress":"127.0.0.1","$type":"UserLoginSuccessEvent"}
2019-06-09 18:15:14.515 -03:00 [DBG] Resource owner password token request validation success.
2019-06-09 18:15:14.515 -03:00 [INF] Token request validation success
{"ClientId":"ro.client","ClientName":null,"GrantType":"password","Scopes":"api1 openid profile","AuthorizationCode":null,"RefreshToken":null,"UserName":"alice","AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"grant_type":"password","client_id":"ro.client","client_secret":"***REDACTED***","username":"alice","password":"***REDACTED***","scope":"openid profile api1"},"$type":"TokenRequestValidationLog"}
2019-06-09 18:15:14.515 -03:00 [DBG] Getting claims for access token for client: ro.client
2019-06-09 18:15:14.515 -03:00 [DBG] Getting claims for access token for subject: 4ba1c3a0-b786-421d-b88a-740f38d9cafa
2019-06-09 18:15:14.523 -03:00 [INF] {"ClientId":"ro.client","ClientName":null,"RedirectUri":null,"Endpoint":"Token","SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","Scopes":"openid profile api1","GrantType":"password","Tokens":[{"TokenType":"access_token","TokenValue":"****hKhQ","$type":"Token"}],"Category":"Token","Name":"Token Issued Success","EventType":"Success","Id":2000,"Message":null,"ActivityId":"0HLND2I0UUVTV:00000002","TimeStamp":"2019-06-09T21:15:14.0000000Z","ProcessId":41412,"LocalIpAddress":"127.0.0.1:42399","RemoteIpAddress":"127.0.0.1","$type":"TokenIssuedSuccessEvent"}
2019-06-09 18:15:14.523 -03:00 [DBG] Token request success.
2019-06-09 18:15:51.749 -03:00 [DBG] CORS request made for path: /connect/token from origin: http://localhost:5000/
2019-06-09 18:15:51.757 -03:00 [DBG] Origin http://localhost:5000/ is allowed: false
2019-06-09 18:15:51.757 -03:00 [WRN] CorsPolicyService did not allow origin: http://localhost:5000/
2019-06-09 18:15:51.757 -03:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-06-09 18:15:51.758 -03:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-06-09 18:15:51.758 -03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-06-09 18:15:51.758 -03:00 [DBG] Start token request.
2019-06-09 18:15:51.758 -03:00 [DBG] Start client validation
2019-06-09 18:15:51.758 -03:00 [DBG] Start parsing Basic Authentication secret
2019-06-09 18:15:51.758 -03:00 [DBG] Start parsing for secret in post body
2019-06-09 18:15:51.758 -03:00 [DBG] Parser found secret: PostBodySecretParser
2019-06-09 18:15:51.758 -03:00 [DBG] Secret id found: ro.client
2019-06-09 18:15:51.780 -03:00 [DBG] ro.client found in database: true
2019-06-09 18:15:51.780 -03:00 [DBG] client configuration validation for client ro.client succeeded.
2019-06-09 18:15:51.780 -03:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-06-09 18:15:51.780 -03:00 [DBG] Client validation success
2019-06-09 18:15:51.780 -03:00 [INF] {"ClientId":"ro.client","AuthenticationMethod":"SharedSecret","Category":"Authentication","Name":"Client Authentication Success","EventType":"Success","Id":1010,"Message":null,"ActivityId":"0HLND2I0UUVTV:00000003","TimeStamp":"2019-06-09T21:15:51.0000000Z","ProcessId":41412,"LocalIpAddress":"127.0.0.1:42399","RemoteIpAddress":"127.0.0.1","$type":"ClientAuthenticationSuccessEvent"}
2019-06-09 18:15:51.780 -03:00 [DBG] Start token request validation
2019-06-09 18:15:51.780 -03:00 [DBG] Start resource owner password token request validation
2019-06-09 18:15:51.789 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 18:15:51.866 -03:00 [DBG] Found ["api1"] API scopes in database
2019-06-09 18:15:51.869 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 18:15:51.872 -03:00 [DBG] Found ["api1"] API scopes in database
2019-06-09 18:15:51.882 -03:00 [INF] Credentials validated for username: alice
2019-06-09 18:15:51.882 -03:00 [INF] {"Username":"alice","Provider":null,"ProviderUserId":null,"SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","DisplayName":"alice","Endpoint":"Token","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HLND2I0UUVTV:00000003","TimeStamp":"2019-06-09T21:15:51.0000000Z","ProcessId":41412,"LocalIpAddress":"127.0.0.1:42399","RemoteIpAddress":"127.0.0.1","$type":"UserLoginSuccessEvent"}
2019-06-09 18:15:51.882 -03:00 [INF] {"Username":"alice","Provider":null,"ProviderUserId":null,"SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","DisplayName":null,"Endpoint":"Token","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HLND2I0UUVTV:00000003","TimeStamp":"2019-06-09T21:15:51.0000000Z","ProcessId":41412,"LocalIpAddress":"127.0.0.1:42399","RemoteIpAddress":"127.0.0.1","$type":"UserLoginSuccessEvent"}
2019-06-09 18:15:51.882 -03:00 [DBG] Resource owner password token request validation success.
2019-06-09 18:15:51.882 -03:00 [INF] Token request validation success
{"ClientId":"ro.client","ClientName":null,"GrantType":"password","Scopes":"api1 openid profile","AuthorizationCode":null,"RefreshToken":null,"UserName":"alice","AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"grant_type":"password","client_id":"ro.client","client_secret":"***REDACTED***","username":"alice","password":"***REDACTED***","scope":"openid profile api1"},"$type":"TokenRequestValidationLog"}
2019-06-09 18:15:51.882 -03:00 [DBG] Getting claims for access token for client: ro.client
2019-06-09 18:15:51.882 -03:00 [DBG] Getting claims for access token for subject: 4ba1c3a0-b786-421d-b88a-740f38d9cafa
2019-06-09 18:15:51.891 -03:00 [INF] {"ClientId":"ro.client","ClientName":null,"RedirectUri":null,"Endpoint":"Token","SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","Scopes":"openid profile api1","GrantType":"password","Tokens":[{"TokenType":"access_token","TokenValue":"****u7YQ","$type":"Token"}],"Category":"Token","Name":"Token Issued Success","EventType":"Success","Id":2000,"Message":null,"ActivityId":"0HLND2I0UUVTV:00000003","TimeStamp":"2019-06-09T21:15:51.0000000Z","ProcessId":41412,"LocalIpAddress":"127.0.0.1:42399","RemoteIpAddress":"127.0.0.1","$type":"TokenIssuedSuccessEvent"}
2019-06-09 18:15:51.891 -03:00 [DBG] Token request success.
2019-06-09 18:15:56.068 -03:00 [DBG] CORS request made for path: /connect/token from origin: http://localhost:5000/
2019-06-09 18:15:56.070 -03:00 [DBG] Origin http://localhost:5000/ is allowed: false
2019-06-09 18:15:56.070 -03:00 [WRN] CorsPolicyService did not allow origin: http://localhost:5000/
2019-06-09 18:15:56.070 -03:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-06-09 18:15:56.070 -03:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-06-09 18:15:56.070 -03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-06-09 18:15:56.070 -03:00 [DBG] Start token request.
2019-06-09 18:15:56.070 -03:00 [DBG] Start client validation
2019-06-09 18:15:56.070 -03:00 [DBG] Start parsing Basic Authentication secret
2019-06-09 18:15:56.070 -03:00 [DBG] Start parsing for secret in post body
2019-06-09 18:15:56.071 -03:00 [DBG] Parser found secret: PostBodySecretParser
2019-06-09 18:15:56.071 -03:00 [DBG] Secret id found: ro.client
2019-06-09 18:15:56.075 -03:00 [DBG] ro.client found in database: true
2019-06-09 18:15:56.076 -03:00 [DBG] client configuration validation for client ro.client succeeded.
2019-06-09 18:15:56.076 -03:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-06-09 18:15:56.076 -03:00 [DBG] Client validation success
2019-06-09 18:15:56.076 -03:00 [INF] {"ClientId":"ro.client","AuthenticationMethod":"SharedSecret","Category":"Authentication","Name":"Client Authentication Success","EventType":"Success","Id":1010,"Message":null,"ActivityId":"0HLND2I0UUVTV:00000004","TimeStamp":"2019-06-09T21:15:56.0000000Z","ProcessId":41412,"LocalIpAddress":"127.0.0.1:42399","RemoteIpAddress":"127.0.0.1","$type":"ClientAuthenticationSuccessEvent"}
2019-06-09 18:15:56.076 -03:00 [DBG] Start token request validation
2019-06-09 18:15:56.076 -03:00 [DBG] Start resource owner password token request validation
2019-06-09 18:15:56.078 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 18:15:56.081 -03:00 [DBG] Found ["api1"] API scopes in database
2019-06-09 18:15:56.085 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 18:15:56.091 -03:00 [DBG] Found ["api1"] API scopes in database
2019-06-09 18:15:56.098 -03:00 [INF] Credentials validated for username: alice
2019-06-09 18:15:56.098 -03:00 [INF] {"Username":"alice","Provider":null,"ProviderUserId":null,"SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","DisplayName":"alice","Endpoint":"Token","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HLND2I0UUVTV:00000004","TimeStamp":"2019-06-09T21:15:56.0000000Z","ProcessId":41412,"LocalIpAddress":"127.0.0.1:42399","RemoteIpAddress":"127.0.0.1","$type":"UserLoginSuccessEvent"}
2019-06-09 18:15:56.099 -03:00 [INF] {"Username":"alice","Provider":null,"ProviderUserId":null,"SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","DisplayName":null,"Endpoint":"Token","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HLND2I0UUVTV:00000004","TimeStamp":"2019-06-09T21:15:56.0000000Z","ProcessId":41412,"LocalIpAddress":"127.0.0.1:42399","RemoteIpAddress":"127.0.0.1","$type":"UserLoginSuccessEvent"}
2019-06-09 18:15:56.099 -03:00 [DBG] Resource owner password token request validation success.
2019-06-09 18:15:56.099 -03:00 [INF] Token request validation success
{"ClientId":"ro.client","ClientName":null,"GrantType":"password","Scopes":"api1 openid profile","AuthorizationCode":null,"RefreshToken":null,"UserName":"alice","AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"grant_type":"password","client_id":"ro.client","client_secret":"***REDACTED***","username":"alice","password":"***REDACTED***","scope":"openid profile api1"},"$type":"TokenRequestValidationLog"}
2019-06-09 18:15:56.099 -03:00 [DBG] Getting claims for access token for client: ro.client
2019-06-09 18:15:56.099 -03:00 [DBG] Getting claims for access token for subject: 4ba1c3a0-b786-421d-b88a-740f38d9cafa
2019-06-09 18:15:56.105 -03:00 [INF] {"ClientId":"ro.client","ClientName":null,"RedirectUri":null,"Endpoint":"Token","SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","Scopes":"openid profile api1","GrantType":"password","Tokens":[{"TokenType":"access_token","TokenValue":"****he3A","$type":"Token"}],"Category":"Token","Name":"Token Issued Success","EventType":"Success","Id":2000,"Message":null,"ActivityId":"0HLND2I0UUVTV:00000004","TimeStamp":"2019-06-09T21:15:56.0000000Z","ProcessId":41412,"LocalIpAddress":"127.0.0.1:42399","RemoteIpAddress":"127.0.0.1","$type":"TokenIssuedSuccessEvent"}
2019-06-09 18:15:56.105 -03:00 [DBG] Token request success.
2019-06-09 18:16:02.123 -03:00 [DBG] CORS request made for path: /connect/token from origin: http://localhost:5000/
2019-06-09 18:16:02.124 -03:00 [DBG] Origin http://localhost:5000/ is allowed: false
2019-06-09 18:16:02.124 -03:00 [WRN] CorsPolicyService did not allow origin: http://localhost:5000/
2019-06-09 18:16:02.124 -03:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-06-09 18:16:02.125 -03:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-06-09 18:16:02.125 -03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-06-09 18:16:02.125 -03:00 [DBG] Start token request.
2019-06-09 18:16:02.125 -03:00 [DBG] Start client validation
2019-06-09 18:16:02.125 -03:00 [DBG] Start parsing Basic Authentication secret
2019-06-09 18:16:02.125 -03:00 [DBG] Start parsing for secret in post body
2019-06-09 18:16:02.125 -03:00 [DBG] Parser found secret: PostBodySecretParser
2019-06-09 18:16:02.125 -03:00 [DBG] Secret id found: ro.client
2019-06-09 18:16:02.130 -03:00 [DBG] ro.client found in database: true
2019-06-09 18:16:02.130 -03:00 [DBG] client configuration validation for client ro.client succeeded.
2019-06-09 18:16:02.131 -03:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-06-09 18:16:02.131 -03:00 [DBG] Client validation success
2019-06-09 18:16:02.131 -03:00 [INF] {"ClientId":"ro.client","AuthenticationMethod":"SharedSecret","Category":"Authentication","Name":"Client Authentication Success","EventType":"Success","Id":1010,"Message":null,"ActivityId":"0HLND2I0UUVTV:00000005","TimeStamp":"2019-06-09T21:16:02.0000000Z","ProcessId":41412,"LocalIpAddress":"127.0.0.1:42399","RemoteIpAddress":"127.0.0.1","$type":"ClientAuthenticationSuccessEvent"}
2019-06-09 18:16:02.132 -03:00 [DBG] Start token request validation
2019-06-09 18:16:02.132 -03:00 [DBG] Start resource owner password token request validation
2019-06-09 18:16:02.135 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 18:16:02.139 -03:00 [DBG] Found ["api1"] API scopes in database
2019-06-09 18:16:02.140 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 18:16:02.143 -03:00 [DBG] Found ["api1"] API scopes in database
2019-06-09 18:16:02.143 -03:00 [ERR] Username or password missing, request details: []
2019-06-09 18:16:02.143 -03:00 [INF] {"ClientId":"ro.client","ClientName":null,"RedirectUri":null,"Endpoint":"Token","SubjectId":null,"Scopes":"api1 openid profile","GrantType":"password","Error":"invalid_grant","ErrorDescription":null,"Category":"Token","Name":"Token Issued Failure","EventType":"Failure","Id":2001,"Message":null,"ActivityId":"0HLND2I0UUVTV:00000005","TimeStamp":"2019-06-09T21:16:02.0000000Z","ProcessId":41412,"LocalIpAddress":"127.0.0.1:42399","RemoteIpAddress":"127.0.0.1","$type":"TokenIssuedFailureEvent"}
2019-06-09 18:16:04.287 -03:00 [DBG] CORS request made for path: /connect/token from origin: http://localhost:5000/
2019-06-09 18:16:04.288 -03:00 [DBG] Origin http://localhost:5000/ is allowed: false
2019-06-09 18:16:04.288 -03:00 [WRN] CorsPolicyService did not allow origin: http://localhost:5000/
2019-06-09 18:16:04.288 -03:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-06-09 18:16:04.288 -03:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-06-09 18:16:04.288 -03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-06-09 18:16:04.288 -03:00 [DBG] Start token request.
2019-06-09 18:16:04.288 -03:00 [DBG] Start client validation
2019-06-09 18:16:04.288 -03:00 [DBG] Start parsing Basic Authentication secret
2019-06-09 18:16:04.288 -03:00 [DBG] Start parsing for secret in post body
2019-06-09 18:16:04.288 -03:00 [DBG] Parser found secret: PostBodySecretParser
2019-06-09 18:16:04.289 -03:00 [DBG] Secret id found: ro.client
2019-06-09 18:16:04.293 -03:00 [DBG] ro.client found in database: true
2019-06-09 18:16:04.294 -03:00 [DBG] client configuration validation for client ro.client succeeded.
2019-06-09 18:16:04.294 -03:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-06-09 18:16:04.294 -03:00 [DBG] Client validation success
2019-06-09 18:16:04.294 -03:00 [INF] {"ClientId":"ro.client","AuthenticationMethod":"SharedSecret","Category":"Authentication","Name":"Client Authentication Success","EventType":"Success","Id":1010,"Message":null,"ActivityId":"0HLND2I0UUVTV:00000006","TimeStamp":"2019-06-09T21:16:04.0000000Z","ProcessId":41412,"LocalIpAddress":"127.0.0.1:42399","RemoteIpAddress":"127.0.0.1","$type":"ClientAuthenticationSuccessEvent"}
2019-06-09 18:16:04.294 -03:00 [DBG] Start token request validation
2019-06-09 18:16:04.294 -03:00 [DBG] Start resource owner password token request validation
2019-06-09 18:16:04.296 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 18:16:04.302 -03:00 [DBG] Found ["api1"] API scopes in database
2019-06-09 18:16:04.304 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 18:16:04.309 -03:00 [DBG] Found ["api1"] API scopes in database
2019-06-09 18:16:04.309 -03:00 [ERR] Username or password missing, request details: []
2019-06-09 18:16:04.309 -03:00 [INF] {"ClientId":"ro.client","ClientName":null,"RedirectUri":null,"Endpoint":"Token","SubjectId":null,"Scopes":"api1 openid profile","GrantType":"password","Error":"invalid_grant","ErrorDescription":null,"Category":"Token","Name":"Token Issued Failure","EventType":"Failure","Id":2001,"Message":null,"ActivityId":"0HLND2I0UUVTV:00000006","TimeStamp":"2019-06-09T21:16:04.0000000Z","ProcessId":41412,"LocalIpAddress":"127.0.0.1:42399","RemoteIpAddress":"127.0.0.1","$type":"TokenIssuedFailureEvent"}
2019-06-09 18:16:17.222 -03:00 [DBG] CORS request made for path: /connect/token from origin: http://localhost:5000/
2019-06-09 18:16:17.223 -03:00 [DBG] Origin http://localhost:5000/ is allowed: false
2019-06-09 18:16:17.223 -03:00 [WRN] CorsPolicyService did not allow origin: http://localhost:5000/
2019-06-09 18:16:17.223 -03:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-06-09 18:16:17.223 -03:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-06-09 18:16:17.224 -03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-06-09 18:16:17.224 -03:00 [DBG] Start token request.
2019-06-09 18:16:17.224 -03:00 [DBG] Start client validation
2019-06-09 18:16:17.224 -03:00 [DBG] Start parsing Basic Authentication secret
2019-06-09 18:16:17.224 -03:00 [DBG] Start parsing for secret in post body
2019-06-09 18:16:17.224 -03:00 [DBG] Parser found secret: PostBodySecretParser
2019-06-09 18:16:17.224 -03:00 [DBG] Secret id found: ro.client
2019-06-09 18:16:17.230 -03:00 [DBG] ro.client found in database: true
2019-06-09 18:16:17.231 -03:00 [DBG] client configuration validation for client ro.client succeeded.
2019-06-09 18:16:17.231 -03:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-06-09 18:16:17.231 -03:00 [DBG] Client validation success
2019-06-09 18:16:17.231 -03:00 [INF] {"ClientId":"ro.client","AuthenticationMethod":"SharedSecret","Category":"Authentication","Name":"Client Authentication Success","EventType":"Success","Id":1010,"Message":null,"ActivityId":"0HLND2I0UUVTV:00000007","TimeStamp":"2019-06-09T21:16:17.0000000Z","ProcessId":41412,"LocalIpAddress":"127.0.0.1:42399","RemoteIpAddress":"127.0.0.1","$type":"ClientAuthenticationSuccessEvent"}
2019-06-09 18:16:17.231 -03:00 [DBG] Start token request validation
2019-06-09 18:16:17.231 -03:00 [DBG] Start resource owner password token request validation
2019-06-09 18:16:17.233 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 18:16:17.236 -03:00 [DBG] Found ["api1"] API scopes in database
2019-06-09 18:16:17.237 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 18:16:17.241 -03:00 [DBG] Found ["api1"] API scopes in database
2019-06-09 18:16:17.251 -03:00 [INF] Credentials validated for username: alice
2019-06-09 18:16:17.251 -03:00 [INF] {"Username":"alice","Provider":null,"ProviderUserId":null,"SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","DisplayName":"alice","Endpoint":"Token","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HLND2I0UUVTV:00000007","TimeStamp":"2019-06-09T21:16:17.0000000Z","ProcessId":41412,"LocalIpAddress":"127.0.0.1:42399","RemoteIpAddress":"127.0.0.1","$type":"UserLoginSuccessEvent"}
2019-06-09 18:16:17.251 -03:00 [INF] {"Username":"alice","Provider":null,"ProviderUserId":null,"SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","DisplayName":null,"Endpoint":"Token","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HLND2I0UUVTV:00000007","TimeStamp":"2019-06-09T21:16:17.0000000Z","ProcessId":41412,"LocalIpAddress":"127.0.0.1:42399","RemoteIpAddress":"127.0.0.1","$type":"UserLoginSuccessEvent"}
2019-06-09 18:16:17.251 -03:00 [DBG] Resource owner password token request validation success.
2019-06-09 18:16:17.251 -03:00 [INF] Token request validation success
{"ClientId":"ro.client","ClientName":null,"GrantType":"password","Scopes":"api1 openid profile","AuthorizationCode":null,"RefreshToken":null,"UserName":"alice","AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"grant_type":"password","client_id":"ro.client","client_secret":"***REDACTED***","username":"alice","password":"***REDACTED***","scope":"openid profile api1"},"$type":"TokenRequestValidationLog"}
2019-06-09 18:16:17.251 -03:00 [DBG] Getting claims for access token for client: ro.client
2019-06-09 18:16:17.251 -03:00 [DBG] Getting claims for access token for subject: 4ba1c3a0-b786-421d-b88a-740f38d9cafa
2019-06-09 18:16:17.257 -03:00 [INF] {"ClientId":"ro.client","ClientName":null,"RedirectUri":null,"Endpoint":"Token","SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","Scopes":"openid profile api1","GrantType":"password","Tokens":[{"TokenType":"access_token","TokenValue":"****ucJA","$type":"Token"}],"Category":"Token","Name":"Token Issued Success","EventType":"Success","Id":2000,"Message":null,"ActivityId":"0HLND2I0UUVTV:00000007","TimeStamp":"2019-06-09T21:16:17.0000000Z","ProcessId":41412,"LocalIpAddress":"127.0.0.1:42399","RemoteIpAddress":"127.0.0.1","$type":"TokenIssuedSuccessEvent"}
2019-06-09 18:16:17.257 -03:00 [DBG] Token request success.
2019-06-09 18:17:01.439 -03:00 [DBG] CORS request made for path: /connect/token from origin: http://localhost:5000/
2019-06-09 18:17:01.442 -03:00 [DBG] Origin http://localhost:5000/ is allowed: false
2019-06-09 18:17:01.442 -03:00 [WRN] CorsPolicyService did not allow origin: http://localhost:5000/
2019-06-09 18:17:01.443 -03:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-06-09 18:17:01.443 -03:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-06-09 18:17:01.443 -03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-06-09 18:17:01.443 -03:00 [DBG] Start token request.
2019-06-09 18:17:01.443 -03:00 [DBG] Start client validation
2019-06-09 18:17:01.443 -03:00 [DBG] Start parsing Basic Authentication secret
2019-06-09 18:17:01.443 -03:00 [DBG] Start parsing for secret in post body
2019-06-09 18:17:01.443 -03:00 [DBG] Parser found secret: PostBodySecretParser
2019-06-09 18:17:01.443 -03:00 [DBG] Secret id found: ro.client
2019-06-09 18:17:01.463 -03:00 [DBG] ro.client found in database: true
2019-06-09 18:17:01.463 -03:00 [DBG] client configuration validation for client ro.client succeeded.
2019-06-09 18:17:01.463 -03:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-06-09 18:17:01.463 -03:00 [DBG] Client validation success
2019-06-09 18:17:01.463 -03:00 [INF] {"ClientId":"ro.client","AuthenticationMethod":"SharedSecret","Category":"Authentication","Name":"Client Authentication Success","EventType":"Success","Id":1010,"Message":null,"ActivityId":"0HLND2I0UUVTV:00000008","TimeStamp":"2019-06-09T21:17:01.0000000Z","ProcessId":41412,"LocalIpAddress":"127.0.0.1:42399","RemoteIpAddress":"127.0.0.1","$type":"ClientAuthenticationSuccessEvent"}
2019-06-09 18:17:01.463 -03:00 [DBG] Start token request validation
2019-06-09 18:17:01.463 -03:00 [DBG] Start resource owner password token request validation
2019-06-09 18:17:01.472 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 18:17:01.546 -03:00 [DBG] Found ["api1"] API scopes in database
2019-06-09 18:17:01.550 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 18:17:01.555 -03:00 [DBG] Found ["api1"] API scopes in database
2019-06-09 18:17:01.568 -03:00 [INF] Credentials validated for username: alice
2019-06-09 18:17:01.568 -03:00 [INF] {"Username":"alice","Provider":null,"ProviderUserId":null,"SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","DisplayName":"alice","Endpoint":"Token","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HLND2I0UUVTV:00000008","TimeStamp":"2019-06-09T21:17:01.0000000Z","ProcessId":41412,"LocalIpAddress":"127.0.0.1:42399","RemoteIpAddress":"127.0.0.1","$type":"UserLoginSuccessEvent"}
2019-06-09 18:17:01.568 -03:00 [INF] {"Username":"alice","Provider":null,"ProviderUserId":null,"SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","DisplayName":null,"Endpoint":"Token","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HLND2I0UUVTV:00000008","TimeStamp":"2019-06-09T21:17:01.0000000Z","ProcessId":41412,"LocalIpAddress":"127.0.0.1:42399","RemoteIpAddress":"127.0.0.1","$type":"UserLoginSuccessEvent"}
2019-06-09 18:17:01.568 -03:00 [DBG] Resource owner password token request validation success.
2019-06-09 18:17:01.568 -03:00 [INF] Token request validation success
{"ClientId":"ro.client","ClientName":null,"GrantType":"password","Scopes":"api1 openid profile","AuthorizationCode":null,"RefreshToken":null,"UserName":"alice","AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"grant_type":"password","client_id":"ro.client","client_secret":"***REDACTED***","username":"alice","password":"***REDACTED***","scope":"openid profile api1"},"$type":"TokenRequestValidationLog"}
2019-06-09 18:17:01.568 -03:00 [DBG] Getting claims for access token for client: ro.client
2019-06-09 18:17:01.568 -03:00 [DBG] Getting claims for access token for subject: 4ba1c3a0-b786-421d-b88a-740f38d9cafa
2019-06-09 18:17:01.577 -03:00 [INF] {"ClientId":"ro.client","ClientName":null,"RedirectUri":null,"Endpoint":"Token","SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","Scopes":"openid profile api1","GrantType":"password","Tokens":[{"TokenType":"access_token","TokenValue":"****HDxw","$type":"Token"}],"Category":"Token","Name":"Token Issued Success","EventType":"Success","Id":2000,"Message":null,"ActivityId":"0HLND2I0UUVTV:00000008","TimeStamp":"2019-06-09T21:17:01.0000000Z","ProcessId":41412,"LocalIpAddress":"127.0.0.1:42399","RemoteIpAddress":"127.0.0.1","$type":"TokenIssuedSuccessEvent"}
2019-06-09 18:17:01.577 -03:00 [DBG] Token request success.
2019-06-09 18:23:00.801 -03:00 [DBG] CORS request made for path: /connect/token from origin: http://localhost:5000/
2019-06-09 18:23:00.808 -03:00 [DBG] Origin http://localhost:5000/ is allowed: false
2019-06-09 18:23:00.808 -03:00 [WRN] CorsPolicyService did not allow origin: http://localhost:5000/
2019-06-09 18:23:00.808 -03:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-06-09 18:23:00.808 -03:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-06-09 18:23:00.808 -03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-06-09 18:23:00.808 -03:00 [DBG] Start token request.
2019-06-09 18:23:00.808 -03:00 [DBG] Start client validation
2019-06-09 18:23:00.808 -03:00 [DBG] Start parsing Basic Authentication secret
2019-06-09 18:23:00.808 -03:00 [DBG] Start parsing for secret in post body
2019-06-09 18:23:00.808 -03:00 [DBG] Parser found secret: PostBodySecretParser
2019-06-09 18:23:00.809 -03:00 [DBG] Secret id found: ro.client
2019-06-09 18:23:00.835 -03:00 [DBG] ro.client found in database: true
2019-06-09 18:23:00.835 -03:00 [DBG] client configuration validation for client ro.client succeeded.
2019-06-09 18:23:00.835 -03:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-06-09 18:23:00.835 -03:00 [DBG] Client validation success
2019-06-09 18:23:00.836 -03:00 [INF] {"ClientId":"ro.client","AuthenticationMethod":"SharedSecret","Category":"Authentication","Name":"Client Authentication Success","EventType":"Success","Id":1010,"Message":null,"ActivityId":"0HLND2I0UUVU0:00000001","TimeStamp":"2019-06-09T21:23:00.0000000Z","ProcessId":41412,"LocalIpAddress":"127.0.0.1:42399","RemoteIpAddress":"127.0.0.1","$type":"ClientAuthenticationSuccessEvent"}
2019-06-09 18:23:00.836 -03:00 [DBG] Start token request validation
2019-06-09 18:23:00.836 -03:00 [DBG] Start resource owner password token request validation
2019-06-09 18:23:00.842 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 18:23:00.905 -03:00 [DBG] Found ["api1"] API scopes in database
2019-06-09 18:23:00.907 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 18:23:00.910 -03:00 [DBG] Found ["api1"] API scopes in database
2019-06-09 18:23:00.919 -03:00 [INF] Credentials validated for username: alice
2019-06-09 18:23:00.919 -03:00 [INF] {"Username":"alice","Provider":null,"ProviderUserId":null,"SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","DisplayName":"alice","Endpoint":"Token","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HLND2I0UUVU0:00000001","TimeStamp":"2019-06-09T21:23:00.0000000Z","ProcessId":41412,"LocalIpAddress":"127.0.0.1:42399","RemoteIpAddress":"127.0.0.1","$type":"UserLoginSuccessEvent"}
2019-06-09 18:23:00.920 -03:00 [INF] {"Username":"alice","Provider":null,"ProviderUserId":null,"SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","DisplayName":null,"Endpoint":"Token","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HLND2I0UUVU0:00000001","TimeStamp":"2019-06-09T21:23:00.0000000Z","ProcessId":41412,"LocalIpAddress":"127.0.0.1:42399","RemoteIpAddress":"127.0.0.1","$type":"UserLoginSuccessEvent"}
2019-06-09 18:23:00.920 -03:00 [DBG] Resource owner password token request validation success.
2019-06-09 18:23:00.920 -03:00 [INF] Token request validation success
{"ClientId":"ro.client","ClientName":null,"GrantType":"password","Scopes":"api1 openid profile","AuthorizationCode":null,"RefreshToken":null,"UserName":"alice","AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"grant_type":"password","client_id":"ro.client","client_secret":"***REDACTED***","username":"alice","password":"***REDACTED***","scope":"openid profile api1"},"$type":"TokenRequestValidationLog"}
2019-06-09 18:23:00.920 -03:00 [DBG] Getting claims for access token for client: ro.client
2019-06-09 18:23:00.920 -03:00 [DBG] Getting claims for access token for subject: 4ba1c3a0-b786-421d-b88a-740f38d9cafa
2019-06-09 18:23:00.929 -03:00 [INF] {"ClientId":"ro.client","ClientName":null,"RedirectUri":null,"Endpoint":"Token","SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","Scopes":"openid profile api1","GrantType":"password","Tokens":[{"TokenType":"access_token","TokenValue":"****4v9A","$type":"Token"}],"Category":"Token","Name":"Token Issued Success","EventType":"Success","Id":2000,"Message":null,"ActivityId":"0HLND2I0UUVU0:00000001","TimeStamp":"2019-06-09T21:23:00.0000000Z","ProcessId":41412,"LocalIpAddress":"127.0.0.1:42399","RemoteIpAddress":"127.0.0.1","$type":"TokenIssuedSuccessEvent"}
2019-06-09 18:23:00.929 -03:00 [DBG] Token request success.
2019-06-09 18:24:18.582 -03:00 [DBG] CORS request made for path: /connect/token from origin: http://localhost:5000/
2019-06-09 18:24:18.586 -03:00 [DBG] Origin http://localhost:5000/ is allowed: false
2019-06-09 18:24:18.586 -03:00 [WRN] CorsPolicyService did not allow origin: http://localhost:5000/
2019-06-09 18:24:18.586 -03:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-06-09 18:24:18.586 -03:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-06-09 18:24:18.586 -03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-06-09 18:24:18.586 -03:00 [DBG] Start token request.
2019-06-09 18:24:18.586 -03:00 [DBG] Start client validation
2019-06-09 18:24:18.586 -03:00 [DBG] Start parsing Basic Authentication secret
2019-06-09 18:24:18.586 -03:00 [DBG] Start parsing for secret in post body
2019-06-09 18:24:18.586 -03:00 [DBG] Parser found secret: PostBodySecretParser
2019-06-09 18:24:18.587 -03:00 [DBG] Secret id found: ro.client
2019-06-09 18:24:18.608 -03:00 [DBG] ro.client found in database: true
2019-06-09 18:24:18.608 -03:00 [DBG] client configuration validation for client ro.client succeeded.
2019-06-09 18:24:18.608 -03:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-06-09 18:24:18.609 -03:00 [DBG] Client validation success
2019-06-09 18:24:18.609 -03:00 [INF] {"ClientId":"ro.client","AuthenticationMethod":"SharedSecret","Category":"Authentication","Name":"Client Authentication Success","EventType":"Success","Id":1010,"Message":null,"ActivityId":"0HLND2I0UUVU1:00000001","TimeStamp":"2019-06-09T21:24:18.0000000Z","ProcessId":41412,"LocalIpAddress":"127.0.0.1:42399","RemoteIpAddress":"127.0.0.1","$type":"ClientAuthenticationSuccessEvent"}
2019-06-09 18:24:18.609 -03:00 [DBG] Start token request validation
2019-06-09 18:24:18.609 -03:00 [DBG] Start resource owner password token request validation
2019-06-09 18:24:18.617 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 18:24:18.679 -03:00 [DBG] Found ["api1"] API scopes in database
2019-06-09 18:24:18.681 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 18:24:18.683 -03:00 [DBG] Found ["api1"] API scopes in database
2019-06-09 18:24:18.692 -03:00 [INF] Credentials validated for username: alice
2019-06-09 18:24:18.692 -03:00 [INF] {"Username":"alice","Provider":null,"ProviderUserId":null,"SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","DisplayName":"alice","Endpoint":"Token","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HLND2I0UUVU1:00000001","TimeStamp":"2019-06-09T21:24:18.0000000Z","ProcessId":41412,"LocalIpAddress":"127.0.0.1:42399","RemoteIpAddress":"127.0.0.1","$type":"UserLoginSuccessEvent"}
2019-06-09 18:24:18.693 -03:00 [INF] {"Username":"alice","Provider":null,"ProviderUserId":null,"SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","DisplayName":null,"Endpoint":"Token","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HLND2I0UUVU1:00000001","TimeStamp":"2019-06-09T21:24:18.0000000Z","ProcessId":41412,"LocalIpAddress":"127.0.0.1:42399","RemoteIpAddress":"127.0.0.1","$type":"UserLoginSuccessEvent"}
2019-06-09 18:24:18.693 -03:00 [DBG] Resource owner password token request validation success.
2019-06-09 18:24:18.693 -03:00 [INF] Token request validation success
{"ClientId":"ro.client","ClientName":null,"GrantType":"password","Scopes":"api1 openid profile","AuthorizationCode":null,"RefreshToken":null,"UserName":"alice","AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"grant_type":"password","client_id":"ro.client","client_secret":"***REDACTED***","username":"alice","password":"***REDACTED***","scope":"openid profile api1"},"$type":"TokenRequestValidationLog"}
2019-06-09 18:24:18.693 -03:00 [DBG] Getting claims for access token for client: ro.client
2019-06-09 18:24:18.693 -03:00 [DBG] Getting claims for access token for subject: 4ba1c3a0-b786-421d-b88a-740f38d9cafa
2019-06-09 18:24:18.701 -03:00 [INF] {"ClientId":"ro.client","ClientName":null,"RedirectUri":null,"Endpoint":"Token","SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","Scopes":"openid profile api1","GrantType":"password","Tokens":[{"TokenType":"access_token","TokenValue":"****ZE-g","$type":"Token"}],"Category":"Token","Name":"Token Issued Success","EventType":"Success","Id":2000,"Message":null,"ActivityId":"0HLND2I0UUVU1:00000001","TimeStamp":"2019-06-09T21:24:18.0000000Z","ProcessId":41412,"LocalIpAddress":"127.0.0.1:42399","RemoteIpAddress":"127.0.0.1","$type":"TokenIssuedSuccessEvent"}
2019-06-09 18:24:18.701 -03:00 [DBG] Token request success.
2019-06-09 18:24:45.075 -03:00 [DBG] CORS request made for path: /connect/token from origin: http://localhost:5000/
2019-06-09 18:24:45.082 -03:00 [DBG] Origin http://localhost:5000/ is allowed: false
2019-06-09 18:24:45.082 -03:00 [WRN] CorsPolicyService did not allow origin: http://localhost:5000/
2019-06-09 18:24:45.083 -03:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-06-09 18:24:45.083 -03:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-06-09 18:24:45.083 -03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-06-09 18:24:45.083 -03:00 [DBG] Start token request.
2019-06-09 18:24:45.083 -03:00 [DBG] Start client validation
2019-06-09 18:24:45.083 -03:00 [DBG] Start parsing Basic Authentication secret
2019-06-09 18:24:45.083 -03:00 [DBG] Start parsing for secret in post body
2019-06-09 18:24:45.083 -03:00 [DBG] Parser found secret: PostBodySecretParser
2019-06-09 18:24:45.083 -03:00 [DBG] Secret id found: ro.client
2019-06-09 18:24:45.105 -03:00 [DBG] ro.client found in database: true
2019-06-09 18:24:45.105 -03:00 [DBG] client configuration validation for client ro.client succeeded.
2019-06-09 18:24:45.105 -03:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-06-09 18:24:45.105 -03:00 [DBG] Client validation success
2019-06-09 18:24:45.105 -03:00 [INF] {"ClientId":"ro.client","AuthenticationMethod":"SharedSecret","Category":"Authentication","Name":"Client Authentication Success","EventType":"Success","Id":1010,"Message":null,"ActivityId":"0HLND2I0UUVU1:00000002","TimeStamp":"2019-06-09T21:24:45.0000000Z","ProcessId":41412,"LocalIpAddress":"127.0.0.1:42399","RemoteIpAddress":"127.0.0.1","$type":"ClientAuthenticationSuccessEvent"}
2019-06-09 18:24:45.105 -03:00 [DBG] Start token request validation
2019-06-09 18:24:45.105 -03:00 [DBG] Start resource owner password token request validation
2019-06-09 18:24:45.113 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 18:24:45.173 -03:00 [DBG] Found ["api1"] API scopes in database
2019-06-09 18:24:45.175 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 18:24:45.177 -03:00 [DBG] Found ["api1"] API scopes in database
2019-06-09 18:24:45.186 -03:00 [INF] Credentials validated for username: alice
2019-06-09 18:24:45.187 -03:00 [INF] {"Username":"alice","Provider":null,"ProviderUserId":null,"SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","DisplayName":"alice","Endpoint":"Token","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HLND2I0UUVU1:00000002","TimeStamp":"2019-06-09T21:24:45.0000000Z","ProcessId":41412,"LocalIpAddress":"127.0.0.1:42399","RemoteIpAddress":"127.0.0.1","$type":"UserLoginSuccessEvent"}
2019-06-09 18:24:45.187 -03:00 [INF] {"Username":"alice","Provider":null,"ProviderUserId":null,"SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","DisplayName":null,"Endpoint":"Token","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HLND2I0UUVU1:00000002","TimeStamp":"2019-06-09T21:24:45.0000000Z","ProcessId":41412,"LocalIpAddress":"127.0.0.1:42399","RemoteIpAddress":"127.0.0.1","$type":"UserLoginSuccessEvent"}
2019-06-09 18:24:45.187 -03:00 [DBG] Resource owner password token request validation success.
2019-06-09 18:24:45.187 -03:00 [INF] Token request validation success
{"ClientId":"ro.client","ClientName":null,"GrantType":"password","Scopes":"api1 openid profile","AuthorizationCode":null,"RefreshToken":null,"UserName":"alice","AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"grant_type":"password","client_id":"ro.client","client_secret":"***REDACTED***","username":"alice","password":"***REDACTED***","scope":"openid profile api1"},"$type":"TokenRequestValidationLog"}
2019-06-09 18:24:45.187 -03:00 [DBG] Getting claims for access token for client: ro.client
2019-06-09 18:24:45.187 -03:00 [DBG] Getting claims for access token for subject: 4ba1c3a0-b786-421d-b88a-740f38d9cafa
2019-06-09 18:24:45.195 -03:00 [INF] {"ClientId":"ro.client","ClientName":null,"RedirectUri":null,"Endpoint":"Token","SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","Scopes":"openid profile api1","GrantType":"password","Tokens":[{"TokenType":"access_token","TokenValue":"****R61Q","$type":"Token"}],"Category":"Token","Name":"Token Issued Success","EventType":"Success","Id":2000,"Message":null,"ActivityId":"0HLND2I0UUVU1:00000002","TimeStamp":"2019-06-09T21:24:45.0000000Z","ProcessId":41412,"LocalIpAddress":"127.0.0.1:42399","RemoteIpAddress":"127.0.0.1","$type":"TokenIssuedSuccessEvent"}
2019-06-09 18:24:45.195 -03:00 [DBG] Token request success.
2019-06-09 18:25:31.577 -03:00 [DBG] CORS request made for path: /connect/token from origin: http://localhost:5000/
2019-06-09 18:25:31.585 -03:00 [DBG] Origin http://localhost:5000/ is allowed: false
2019-06-09 18:25:31.586 -03:00 [WRN] CorsPolicyService did not allow origin: http://localhost:5000/
2019-06-09 18:25:31.586 -03:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-06-09 18:25:31.586 -03:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-06-09 18:25:31.586 -03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-06-09 18:25:31.587 -03:00 [DBG] Start token request.
2019-06-09 18:25:31.587 -03:00 [DBG] Start client validation
2019-06-09 18:25:31.587 -03:00 [DBG] Start parsing Basic Authentication secret
2019-06-09 18:25:31.587 -03:00 [DBG] Start parsing for secret in post body
2019-06-09 18:25:31.587 -03:00 [DBG] Parser found secret: PostBodySecretParser
2019-06-09 18:25:31.587 -03:00 [DBG] Secret id found: ro.client
2019-06-09 18:25:31.615 -03:00 [DBG] ro.client found in database: true
2019-06-09 18:25:31.615 -03:00 [DBG] client configuration validation for client ro.client succeeded.
2019-06-09 18:25:31.615 -03:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-06-09 18:25:31.615 -03:00 [DBG] Client validation success
2019-06-09 18:25:31.615 -03:00 [INF] {"ClientId":"ro.client","AuthenticationMethod":"SharedSecret","Category":"Authentication","Name":"Client Authentication Success","EventType":"Success","Id":1010,"Message":null,"ActivityId":"0HLND2I0UUVU1:00000003","TimeStamp":"2019-06-09T21:25:31.0000000Z","ProcessId":41412,"LocalIpAddress":"127.0.0.1:42399","RemoteIpAddress":"127.0.0.1","$type":"ClientAuthenticationSuccessEvent"}
2019-06-09 18:25:31.615 -03:00 [DBG] Start token request validation
2019-06-09 18:25:31.615 -03:00 [DBG] Start resource owner password token request validation
2019-06-09 18:25:31.625 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 18:25:31.711 -03:00 [DBG] Found ["api1"] API scopes in database
2019-06-09 18:25:31.721 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 18:25:31.824 -03:00 [DBG] Found ["api1"] API scopes in database
2019-06-09 18:25:31.842 -03:00 [INF] Credentials validated for username: alice
2019-06-09 18:25:31.842 -03:00 [INF] {"Username":"alice","Provider":null,"ProviderUserId":null,"SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","DisplayName":"alice","Endpoint":"Token","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HLND2I0UUVU1:00000003","TimeStamp":"2019-06-09T21:25:31.0000000Z","ProcessId":41412,"LocalIpAddress":"127.0.0.1:42399","RemoteIpAddress":"127.0.0.1","$type":"UserLoginSuccessEvent"}
2019-06-09 18:25:31.843 -03:00 [INF] {"Username":"alice","Provider":null,"ProviderUserId":null,"SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","DisplayName":null,"Endpoint":"Token","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HLND2I0UUVU1:00000003","TimeStamp":"2019-06-09T21:25:31.0000000Z","ProcessId":41412,"LocalIpAddress":"127.0.0.1:42399","RemoteIpAddress":"127.0.0.1","$type":"UserLoginSuccessEvent"}
2019-06-09 18:25:31.843 -03:00 [DBG] Resource owner password token request validation success.
2019-06-09 18:25:31.843 -03:00 [INF] Token request validation success
{"ClientId":"ro.client","ClientName":null,"GrantType":"password","Scopes":"api1 openid profile","AuthorizationCode":null,"RefreshToken":null,"UserName":"alice","AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"grant_type":"password","client_id":"ro.client","client_secret":"***REDACTED***","username":"alice","password":"***REDACTED***","scope":"openid profile api1"},"$type":"TokenRequestValidationLog"}
2019-06-09 18:25:31.843 -03:00 [DBG] Getting claims for access token for client: ro.client
2019-06-09 18:25:31.843 -03:00 [DBG] Getting claims for access token for subject: 4ba1c3a0-b786-421d-b88a-740f38d9cafa
2019-06-09 18:25:31.854 -03:00 [INF] {"ClientId":"ro.client","ClientName":null,"RedirectUri":null,"Endpoint":"Token","SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","Scopes":"openid profile api1","GrantType":"password","Tokens":[{"TokenType":"access_token","TokenValue":"****hJeQ","$type":"Token"}],"Category":"Token","Name":"Token Issued Success","EventType":"Success","Id":2000,"Message":null,"ActivityId":"0HLND2I0UUVU1:00000003","TimeStamp":"2019-06-09T21:25:31.0000000Z","ProcessId":41412,"LocalIpAddress":"127.0.0.1:42399","RemoteIpAddress":"127.0.0.1","$type":"TokenIssuedSuccessEvent"}
2019-06-09 18:25:31.854 -03:00 [DBG] Token request success.
2019-06-09 18:26:01.987 -03:00 [DBG] CORS request made for path: /connect/token from origin: http://localhost:5000/
2019-06-09 18:26:01.990 -03:00 [DBG] Origin http://localhost:5000/ is allowed: false
2019-06-09 18:26:01.990 -03:00 [WRN] CorsPolicyService did not allow origin: http://localhost:5000/
2019-06-09 18:26:01.990 -03:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-06-09 18:26:01.991 -03:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-06-09 18:26:01.991 -03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-06-09 18:26:01.991 -03:00 [DBG] Start token request.
2019-06-09 18:26:01.991 -03:00 [DBG] Start client validation
2019-06-09 18:26:01.991 -03:00 [DBG] Start parsing Basic Authentication secret
2019-06-09 18:26:01.991 -03:00 [DBG] Start parsing for secret in post body
2019-06-09 18:26:01.991 -03:00 [DBG] Parser found secret: PostBodySecretParser
2019-06-09 18:26:01.991 -03:00 [DBG] Secret id found: ro.client
2019-06-09 18:26:02.014 -03:00 [DBG] ro.client found in database: true
2019-06-09 18:26:02.014 -03:00 [DBG] client configuration validation for client ro.client succeeded.
2019-06-09 18:26:02.014 -03:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-06-09 18:26:02.014 -03:00 [DBG] Client validation success
2019-06-09 18:26:02.014 -03:00 [INF] {"ClientId":"ro.client","AuthenticationMethod":"SharedSecret","Category":"Authentication","Name":"Client Authentication Success","EventType":"Success","Id":1010,"Message":null,"ActivityId":"0HLND2I0UUVU1:00000004","TimeStamp":"2019-06-09T21:26:02.0000000Z","ProcessId":41412,"LocalIpAddress":"127.0.0.1:42399","RemoteIpAddress":"127.0.0.1","$type":"ClientAuthenticationSuccessEvent"}
2019-06-09 18:26:02.014 -03:00 [DBG] Start token request validation
2019-06-09 18:26:02.014 -03:00 [DBG] Start resource owner password token request validation
2019-06-09 18:26:02.022 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 18:26:02.081 -03:00 [DBG] Found ["api1"] API scopes in database
2019-06-09 18:26:02.083 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 18:26:02.087 -03:00 [DBG] Found ["api1"] API scopes in database
2019-06-09 18:26:02.096 -03:00 [INF] Credentials validated for username: alice
2019-06-09 18:26:02.096 -03:00 [INF] {"Username":"alice","Provider":null,"ProviderUserId":null,"SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","DisplayName":"alice","Endpoint":"Token","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HLND2I0UUVU1:00000004","TimeStamp":"2019-06-09T21:26:02.0000000Z","ProcessId":41412,"LocalIpAddress":"127.0.0.1:42399","RemoteIpAddress":"127.0.0.1","$type":"UserLoginSuccessEvent"}
2019-06-09 18:26:02.096 -03:00 [INF] {"Username":"alice","Provider":null,"ProviderUserId":null,"SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","DisplayName":null,"Endpoint":"Token","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HLND2I0UUVU1:00000004","TimeStamp":"2019-06-09T21:26:02.0000000Z","ProcessId":41412,"LocalIpAddress":"127.0.0.1:42399","RemoteIpAddress":"127.0.0.1","$type":"UserLoginSuccessEvent"}
2019-06-09 18:26:02.096 -03:00 [DBG] Resource owner password token request validation success.
2019-06-09 18:26:02.096 -03:00 [INF] Token request validation success
{"ClientId":"ro.client","ClientName":null,"GrantType":"password","Scopes":"api1 openid profile","AuthorizationCode":null,"RefreshToken":null,"UserName":"alice","AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"grant_type":"password","client_id":"ro.client","client_secret":"***REDACTED***","username":"alice","password":"***REDACTED***","scope":"openid profile api1"},"$type":"TokenRequestValidationLog"}
2019-06-09 18:26:02.096 -03:00 [DBG] Getting claims for access token for client: ro.client
2019-06-09 18:26:02.096 -03:00 [DBG] Getting claims for access token for subject: 4ba1c3a0-b786-421d-b88a-740f38d9cafa
2019-06-09 18:26:02.105 -03:00 [INF] {"ClientId":"ro.client","ClientName":null,"RedirectUri":null,"Endpoint":"Token","SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","Scopes":"openid profile api1","GrantType":"password","Tokens":[{"TokenType":"access_token","TokenValue":"****r2Jw","$type":"Token"}],"Category":"Token","Name":"Token Issued Success","EventType":"Success","Id":2000,"Message":null,"ActivityId":"0HLND2I0UUVU1:00000004","TimeStamp":"2019-06-09T21:26:02.0000000Z","ProcessId":41412,"LocalIpAddress":"127.0.0.1:42399","RemoteIpAddress":"127.0.0.1","$type":"TokenIssuedSuccessEvent"}
2019-06-09 18:26:02.105 -03:00 [DBG] Token request success.
2019-06-09 18:27:26.535 -03:00 [DBG] CORS request made for path: /connect/token from origin: http://localhost:5000/
2019-06-09 18:27:26.538 -03:00 [DBG] Origin http://localhost:5000/ is allowed: false
2019-06-09 18:27:26.538 -03:00 [WRN] CorsPolicyService did not allow origin: http://localhost:5000/
2019-06-09 18:27:26.538 -03:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-06-09 18:27:26.539 -03:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-06-09 18:27:26.539 -03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-06-09 18:27:26.539 -03:00 [DBG] Start token request.
2019-06-09 18:27:26.539 -03:00 [DBG] Start client validation
2019-06-09 18:27:26.539 -03:00 [DBG] Start parsing Basic Authentication secret
2019-06-09 18:27:26.539 -03:00 [DBG] Start parsing for secret in post body
2019-06-09 18:27:26.539 -03:00 [DBG] Parser found secret: PostBodySecretParser
2019-06-09 18:27:26.539 -03:00 [DBG] Secret id found: ro.client
2019-06-09 18:27:26.561 -03:00 [DBG] ro.client found in database: true
2019-06-09 18:27:26.561 -03:00 [DBG] client configuration validation for client ro.client succeeded.
2019-06-09 18:27:26.562 -03:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-06-09 18:27:26.562 -03:00 [DBG] Client validation success
2019-06-09 18:27:26.562 -03:00 [INF] {"ClientId":"ro.client","AuthenticationMethod":"SharedSecret","Category":"Authentication","Name":"Client Authentication Success","EventType":"Success","Id":1010,"Message":null,"ActivityId":"0HLND2I0UUVU2:00000001","TimeStamp":"2019-06-09T21:27:26.0000000Z","ProcessId":41412,"LocalIpAddress":"127.0.0.1:42399","RemoteIpAddress":"127.0.0.1","$type":"ClientAuthenticationSuccessEvent"}
2019-06-09 18:27:26.562 -03:00 [DBG] Start token request validation
2019-06-09 18:27:26.562 -03:00 [DBG] Start resource owner password token request validation
2019-06-09 18:27:26.571 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 18:27:26.638 -03:00 [DBG] Found ["api1"] API scopes in database
2019-06-09 18:27:26.640 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 18:27:26.642 -03:00 [DBG] Found ["api1"] API scopes in database
2019-06-09 18:27:26.652 -03:00 [INF] Credentials validated for username: alice
2019-06-09 18:27:26.652 -03:00 [INF] {"Username":"alice","Provider":null,"ProviderUserId":null,"SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","DisplayName":"alice","Endpoint":"Token","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HLND2I0UUVU2:00000001","TimeStamp":"2019-06-09T21:27:26.0000000Z","ProcessId":41412,"LocalIpAddress":"127.0.0.1:42399","RemoteIpAddress":"127.0.0.1","$type":"UserLoginSuccessEvent"}
2019-06-09 18:27:26.653 -03:00 [INF] {"Username":"alice","Provider":null,"ProviderUserId":null,"SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","DisplayName":null,"Endpoint":"Token","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HLND2I0UUVU2:00000001","TimeStamp":"2019-06-09T21:27:26.0000000Z","ProcessId":41412,"LocalIpAddress":"127.0.0.1:42399","RemoteIpAddress":"127.0.0.1","$type":"UserLoginSuccessEvent"}
2019-06-09 18:27:26.653 -03:00 [DBG] Resource owner password token request validation success.
2019-06-09 18:27:26.653 -03:00 [INF] Token request validation success
{"ClientId":"ro.client","ClientName":null,"GrantType":"password","Scopes":"api1 openid profile","AuthorizationCode":null,"RefreshToken":null,"UserName":"alice","AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"grant_type":"password","client_id":"ro.client","client_secret":"***REDACTED***","username":"alice","password":"***REDACTED***","scope":"openid profile api1"},"$type":"TokenRequestValidationLog"}
2019-06-09 18:27:26.653 -03:00 [DBG] Getting claims for access token for client: ro.client
2019-06-09 18:27:26.653 -03:00 [DBG] Getting claims for access token for subject: 4ba1c3a0-b786-421d-b88a-740f38d9cafa
2019-06-09 18:27:26.664 -03:00 [INF] {"ClientId":"ro.client","ClientName":null,"RedirectUri":null,"Endpoint":"Token","SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","Scopes":"openid profile api1","GrantType":"password","Tokens":[{"TokenType":"access_token","TokenValue":"****1oKw","$type":"Token"}],"Category":"Token","Name":"Token Issued Success","EventType":"Success","Id":2000,"Message":null,"ActivityId":"0HLND2I0UUVU2:00000001","TimeStamp":"2019-06-09T21:27:26.0000000Z","ProcessId":41412,"LocalIpAddress":"127.0.0.1:42399","RemoteIpAddress":"127.0.0.1","$type":"TokenIssuedSuccessEvent"}
2019-06-09 18:27:26.664 -03:00 [DBG] Token request success.
2019-06-09 18:27:44.806 -03:00 [DBG] CORS request made for path: /connect/token from origin: http://localhost:5000/
2019-06-09 18:27:44.811 -03:00 [DBG] Origin http://localhost:5000/ is allowed: false
2019-06-09 18:27:44.811 -03:00 [WRN] CorsPolicyService did not allow origin: http://localhost:5000/
2019-06-09 18:27:44.811 -03:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-06-09 18:27:44.812 -03:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-06-09 18:27:44.812 -03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-06-09 18:27:44.812 -03:00 [DBG] Start token request.
2019-06-09 18:27:44.812 -03:00 [DBG] Start client validation
2019-06-09 18:27:44.812 -03:00 [DBG] Start parsing Basic Authentication secret
2019-06-09 18:27:44.812 -03:00 [DBG] Start parsing for secret in post body
2019-06-09 18:27:44.812 -03:00 [DBG] Parser found secret: PostBodySecretParser
2019-06-09 18:27:44.812 -03:00 [DBG] Secret id found: ro.client
2019-06-09 18:27:44.838 -03:00 [DBG] ro.client found in database: true
2019-06-09 18:27:44.838 -03:00 [DBG] client configuration validation for client ro.client succeeded.
2019-06-09 18:27:44.838 -03:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-06-09 18:27:44.838 -03:00 [DBG] Client validation success
2019-06-09 18:27:44.838 -03:00 [INF] {"ClientId":"ro.client","AuthenticationMethod":"SharedSecret","Category":"Authentication","Name":"Client Authentication Success","EventType":"Success","Id":1010,"Message":null,"ActivityId":"0HLND2I0UUVU2:00000002","TimeStamp":"2019-06-09T21:27:44.0000000Z","ProcessId":41412,"LocalIpAddress":"127.0.0.1:42399","RemoteIpAddress":"127.0.0.1","$type":"ClientAuthenticationSuccessEvent"}
2019-06-09 18:27:44.838 -03:00 [DBG] Start token request validation
2019-06-09 18:27:44.838 -03:00 [DBG] Start resource owner password token request validation
2019-06-09 18:27:44.847 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 18:27:44.910 -03:00 [DBG] Found ["api1"] API scopes in database
2019-06-09 18:27:44.912 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 18:27:44.914 -03:00 [DBG] Found ["api1"] API scopes in database
2019-06-09 18:27:44.923 -03:00 [INF] Credentials validated for username: alice
2019-06-09 18:27:44.923 -03:00 [INF] {"Username":"alice","Provider":null,"ProviderUserId":null,"SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","DisplayName":"alice","Endpoint":"Token","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HLND2I0UUVU2:00000002","TimeStamp":"2019-06-09T21:27:44.0000000Z","ProcessId":41412,"LocalIpAddress":"127.0.0.1:42399","RemoteIpAddress":"127.0.0.1","$type":"UserLoginSuccessEvent"}
2019-06-09 18:27:44.923 -03:00 [INF] {"Username":"alice","Provider":null,"ProviderUserId":null,"SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","DisplayName":null,"Endpoint":"Token","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HLND2I0UUVU2:00000002","TimeStamp":"2019-06-09T21:27:44.0000000Z","ProcessId":41412,"LocalIpAddress":"127.0.0.1:42399","RemoteIpAddress":"127.0.0.1","$type":"UserLoginSuccessEvent"}
2019-06-09 18:27:44.923 -03:00 [DBG] Resource owner password token request validation success.
2019-06-09 18:27:44.923 -03:00 [INF] Token request validation success
{"ClientId":"ro.client","ClientName":null,"GrantType":"password","Scopes":"api1 openid profile","AuthorizationCode":null,"RefreshToken":null,"UserName":"alice","AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"grant_type":"password","client_id":"ro.client","client_secret":"***REDACTED***","username":"alice","password":"***REDACTED***","scope":"openid profile api1"},"$type":"TokenRequestValidationLog"}
2019-06-09 18:27:44.924 -03:00 [DBG] Getting claims for access token for client: ro.client
2019-06-09 18:27:44.924 -03:00 [DBG] Getting claims for access token for subject: 4ba1c3a0-b786-421d-b88a-740f38d9cafa
2019-06-09 18:27:44.932 -03:00 [INF] {"ClientId":"ro.client","ClientName":null,"RedirectUri":null,"Endpoint":"Token","SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","Scopes":"openid profile api1","GrantType":"password","Tokens":[{"TokenType":"access_token","TokenValue":"****zs6g","$type":"Token"}],"Category":"Token","Name":"Token Issued Success","EventType":"Success","Id":2000,"Message":null,"ActivityId":"0HLND2I0UUVU2:00000002","TimeStamp":"2019-06-09T21:27:44.0000000Z","ProcessId":41412,"LocalIpAddress":"127.0.0.1:42399","RemoteIpAddress":"127.0.0.1","$type":"TokenIssuedSuccessEvent"}
2019-06-09 18:27:44.932 -03:00 [DBG] Token request success.
2019-06-09 18:28:05.725 -03:00 [DBG] CORS request made for path: /connect/token from origin: http://localhost:5000/
2019-06-09 18:28:05.726 -03:00 [DBG] Origin http://localhost:5000/ is allowed: false
2019-06-09 18:28:05.726 -03:00 [WRN] CorsPolicyService did not allow origin: http://localhost:5000/
2019-06-09 18:28:05.727 -03:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-06-09 18:28:05.727 -03:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-06-09 18:28:05.727 -03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-06-09 18:28:05.727 -03:00 [DBG] Start token request.
2019-06-09 18:28:05.727 -03:00 [DBG] Start client validation
2019-06-09 18:28:05.727 -03:00 [DBG] Start parsing Basic Authentication secret
2019-06-09 18:28:05.727 -03:00 [DBG] Start parsing for secret in post body
2019-06-09 18:28:05.728 -03:00 [DBG] Parser found secret: PostBodySecretParser
2019-06-09 18:28:05.728 -03:00 [DBG] Secret id found: ro.client
2019-06-09 18:28:05.732 -03:00 [DBG] ro.client found in database: true
2019-06-09 18:28:05.732 -03:00 [DBG] client configuration validation for client ro.client succeeded.
2019-06-09 18:28:05.732 -03:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-06-09 18:28:05.733 -03:00 [DBG] Client validation success
2019-06-09 18:28:05.733 -03:00 [INF] {"ClientId":"ro.client","AuthenticationMethod":"SharedSecret","Category":"Authentication","Name":"Client Authentication Success","EventType":"Success","Id":1010,"Message":null,"ActivityId":"0HLND2I0UUVU2:00000003","TimeStamp":"2019-06-09T21:28:05.0000000Z","ProcessId":41412,"LocalIpAddress":"127.0.0.1:42399","RemoteIpAddress":"127.0.0.1","$type":"ClientAuthenticationSuccessEvent"}
2019-06-09 18:28:05.733 -03:00 [DBG] Start token request validation
2019-06-09 18:28:05.733 -03:00 [DBG] Start resource owner password token request validation
2019-06-09 18:28:05.735 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 18:28:05.740 -03:00 [DBG] Found ["api1"] API scopes in database
2019-06-09 18:28:05.749 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 18:28:05.752 -03:00 [DBG] Found ["api1"] API scopes in database
2019-06-09 18:28:05.760 -03:00 [INF] Credentials validated for username: alice
2019-06-09 18:28:05.761 -03:00 [INF] {"Username":"alice","Provider":null,"ProviderUserId":null,"SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","DisplayName":"alice","Endpoint":"Token","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HLND2I0UUVU2:00000003","TimeStamp":"2019-06-09T21:28:05.0000000Z","ProcessId":41412,"LocalIpAddress":"127.0.0.1:42399","RemoteIpAddress":"127.0.0.1","$type":"UserLoginSuccessEvent"}
2019-06-09 18:28:05.761 -03:00 [INF] {"Username":"alice","Provider":null,"ProviderUserId":null,"SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","DisplayName":null,"Endpoint":"Token","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HLND2I0UUVU2:00000003","TimeStamp":"2019-06-09T21:28:05.0000000Z","ProcessId":41412,"LocalIpAddress":"127.0.0.1:42399","RemoteIpAddress":"127.0.0.1","$type":"UserLoginSuccessEvent"}
2019-06-09 18:28:05.761 -03:00 [DBG] Resource owner password token request validation success.
2019-06-09 18:28:05.761 -03:00 [INF] Token request validation success
{"ClientId":"ro.client","ClientName":null,"GrantType":"password","Scopes":"api1 openid profile","AuthorizationCode":null,"RefreshToken":null,"UserName":"alice","AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"grant_type":"password","client_id":"ro.client","client_secret":"***REDACTED***","username":"alice","password":"***REDACTED***","scope":"openid profile api1"},"$type":"TokenRequestValidationLog"}
2019-06-09 18:28:05.761 -03:00 [DBG] Getting claims for access token for client: ro.client
2019-06-09 18:28:05.761 -03:00 [DBG] Getting claims for access token for subject: 4ba1c3a0-b786-421d-b88a-740f38d9cafa
2019-06-09 18:28:05.766 -03:00 [INF] {"ClientId":"ro.client","ClientName":null,"RedirectUri":null,"Endpoint":"Token","SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","Scopes":"openid profile api1","GrantType":"password","Tokens":[{"TokenType":"access_token","TokenValue":"****UD4g","$type":"Token"}],"Category":"Token","Name":"Token Issued Success","EventType":"Success","Id":2000,"Message":null,"ActivityId":"0HLND2I0UUVU2:00000003","TimeStamp":"2019-06-09T21:28:05.0000000Z","ProcessId":41412,"LocalIpAddress":"127.0.0.1:42399","RemoteIpAddress":"127.0.0.1","$type":"TokenIssuedSuccessEvent"}
2019-06-09 18:28:05.766 -03:00 [DBG] Token request success.
2019-06-09 18:30:42.302 -03:00 [DBG] CORS request made for path: /connect/token from origin: http://localhost:5000/
2019-06-09 18:30:42.306 -03:00 [DBG] Origin http://localhost:5000/ is allowed: false
2019-06-09 18:30:42.306 -03:00 [WRN] CorsPolicyService did not allow origin: http://localhost:5000/
2019-06-09 18:30:42.306 -03:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-06-09 18:30:42.306 -03:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-06-09 18:30:42.306 -03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-06-09 18:30:42.306 -03:00 [DBG] Start token request.
2019-06-09 18:30:42.306 -03:00 [DBG] Start client validation
2019-06-09 18:30:42.306 -03:00 [DBG] Start parsing Basic Authentication secret
2019-06-09 18:30:42.306 -03:00 [DBG] Start parsing for secret in post body
2019-06-09 18:30:42.307 -03:00 [DBG] Parser found secret: PostBodySecretParser
2019-06-09 18:30:42.307 -03:00 [DBG] Secret id found: ro.client
2019-06-09 18:30:42.330 -03:00 [DBG] ro.client found in database: true
2019-06-09 18:30:42.331 -03:00 [DBG] client configuration validation for client ro.client succeeded.
2019-06-09 18:30:42.331 -03:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-06-09 18:30:42.331 -03:00 [DBG] Client validation success
2019-06-09 18:30:42.331 -03:00 [INF] {"ClientId":"ro.client","AuthenticationMethod":"SharedSecret","Category":"Authentication","Name":"Client Authentication Success","EventType":"Success","Id":1010,"Message":null,"ActivityId":"0HLND2I0UUVU3:00000001","TimeStamp":"2019-06-09T21:30:42.0000000Z","ProcessId":41412,"LocalIpAddress":"127.0.0.1:42399","RemoteIpAddress":"127.0.0.1","$type":"ClientAuthenticationSuccessEvent"}
2019-06-09 18:30:42.331 -03:00 [DBG] Start token request validation
2019-06-09 18:30:42.331 -03:00 [DBG] Start resource owner password token request validation
2019-06-09 18:30:42.339 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 18:30:42.402 -03:00 [DBG] Found ["api1"] API scopes in database
2019-06-09 18:30:42.404 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 18:30:42.406 -03:00 [DBG] Found ["api1"] API scopes in database
2019-06-09 18:30:42.415 -03:00 [INF] Credentials validated for username: alice
2019-06-09 18:30:42.415 -03:00 [INF] {"Username":"alice","Provider":null,"ProviderUserId":null,"SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","DisplayName":"alice","Endpoint":"Token","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HLND2I0UUVU3:00000001","TimeStamp":"2019-06-09T21:30:42.0000000Z","ProcessId":41412,"LocalIpAddress":"127.0.0.1:42399","RemoteIpAddress":"127.0.0.1","$type":"UserLoginSuccessEvent"}
2019-06-09 18:30:42.415 -03:00 [INF] {"Username":"alice","Provider":null,"ProviderUserId":null,"SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","DisplayName":null,"Endpoint":"Token","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HLND2I0UUVU3:00000001","TimeStamp":"2019-06-09T21:30:42.0000000Z","ProcessId":41412,"LocalIpAddress":"127.0.0.1:42399","RemoteIpAddress":"127.0.0.1","$type":"UserLoginSuccessEvent"}
2019-06-09 18:30:42.415 -03:00 [DBG] Resource owner password token request validation success.
2019-06-09 18:30:42.415 -03:00 [INF] Token request validation success
{"ClientId":"ro.client","ClientName":null,"GrantType":"password","Scopes":"api1 openid profile","AuthorizationCode":null,"RefreshToken":null,"UserName":"alice","AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"grant_type":"password","client_id":"ro.client","client_secret":"***REDACTED***","username":"alice","password":"***REDACTED***","scope":"openid profile api1"},"$type":"TokenRequestValidationLog"}
2019-06-09 18:30:42.416 -03:00 [DBG] Getting claims for access token for client: ro.client
2019-06-09 18:30:42.416 -03:00 [DBG] Getting claims for access token for subject: 4ba1c3a0-b786-421d-b88a-740f38d9cafa
2019-06-09 18:30:42.423 -03:00 [INF] {"ClientId":"ro.client","ClientName":null,"RedirectUri":null,"Endpoint":"Token","SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","Scopes":"openid profile api1","GrantType":"password","Tokens":[{"TokenType":"access_token","TokenValue":"****pHAQ","$type":"Token"}],"Category":"Token","Name":"Token Issued Success","EventType":"Success","Id":2000,"Message":null,"ActivityId":"0HLND2I0UUVU3:00000001","TimeStamp":"2019-06-09T21:30:42.0000000Z","ProcessId":41412,"LocalIpAddress":"127.0.0.1:42399","RemoteIpAddress":"127.0.0.1","$type":"TokenIssuedSuccessEvent"}
2019-06-09 18:30:42.424 -03:00 [DBG] Token request success.
2019-06-09 18:30:42.464 -03:00 [DBG] CORS request made for path: /connect/userinfo from origin: http://localhost:3000
2019-06-09 18:30:42.466 -03:00 [DBG] Origin http://localhost:3000 is allowed: false
2019-06-09 18:30:42.466 -03:00 [WRN] CorsPolicyService did not allow origin: http://localhost:3000
2019-06-09 18:30:42.466 -03:00 [DBG] Request path /connect/userinfo matched to endpoint type Userinfo
2019-06-09 18:30:42.467 -03:00 [DBG] Endpoint enabled: Userinfo, successfully created handler: IdentityServer4.Endpoints.UserInfoEndpoint
2019-06-09 18:30:42.467 -03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.UserInfoEndpoint for /connect/userinfo
2019-06-09 18:30:42.467 -03:00 [WRN] Invalid HTTP method for userinfo endpoint.
2019-06-09 18:31:48.221 -03:00 [DBG] Request path /connect/userinfo matched to endpoint type Userinfo
2019-06-09 18:31:48.221 -03:00 [DBG] Endpoint enabled: Userinfo, successfully created handler: IdentityServer4.Endpoints.UserInfoEndpoint
2019-06-09 18:31:48.221 -03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.UserInfoEndpoint for /connect/userinfo
2019-06-09 18:31:48.221 -03:00 [DBG] Start userinfo request
2019-06-09 18:31:48.222 -03:00 [DBG] Bearer token found in header
2019-06-09 18:31:48.226 -03:00 [INF] JWT token validation error: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters) in C:\agent2\_work\15\s\src\Microsoft.IdentityModel.Tokens\Validators.cs:line 269
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\15\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 1212
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\15\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 763
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken) in C:\agent2\_work\15\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 747
   at IdentityServer4.Validation.TokenValidator.ValidateJwtAsync(String jwt, String audience, IEnumerable`1 validationKeys, Boolean validateLifetime) in C:\local\identity\server4\IdentityServer4\src\Validation\Default\TokenValidator.cs:line 287
2019-06-09 18:31:57.457 -03:00 [DBG] CORS request made for path: /connect/token from origin: http://localhost:5000/
2019-06-09 18:31:57.460 -03:00 [DBG] Origin http://localhost:5000/ is allowed: false
2019-06-09 18:31:57.460 -03:00 [WRN] CorsPolicyService did not allow origin: http://localhost:5000/
2019-06-09 18:31:57.461 -03:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-06-09 18:31:57.461 -03:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-06-09 18:31:57.461 -03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-06-09 18:31:57.461 -03:00 [DBG] Start token request.
2019-06-09 18:31:57.461 -03:00 [DBG] Start client validation
2019-06-09 18:31:57.461 -03:00 [DBG] Start parsing Basic Authentication secret
2019-06-09 18:31:57.461 -03:00 [DBG] Start parsing for secret in post body
2019-06-09 18:31:57.461 -03:00 [DBG] Parser found secret: PostBodySecretParser
2019-06-09 18:31:57.461 -03:00 [DBG] Secret id found: ro.client
2019-06-09 18:31:57.485 -03:00 [DBG] ro.client found in database: true
2019-06-09 18:31:57.485 -03:00 [DBG] client configuration validation for client ro.client succeeded.
2019-06-09 18:31:57.485 -03:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-06-09 18:31:57.485 -03:00 [DBG] Client validation success
2019-06-09 18:31:57.485 -03:00 [INF] {"ClientId":"ro.client","AuthenticationMethod":"SharedSecret","Category":"Authentication","Name":"Client Authentication Success","EventType":"Success","Id":1010,"Message":null,"ActivityId":"0HLND2I0UUVU4:00000002","TimeStamp":"2019-06-09T21:31:57.0000000Z","ProcessId":41412,"LocalIpAddress":"127.0.0.1:42399","RemoteIpAddress":"127.0.0.1","$type":"ClientAuthenticationSuccessEvent"}
2019-06-09 18:31:57.485 -03:00 [DBG] Start token request validation
2019-06-09 18:31:57.485 -03:00 [DBG] Start resource owner password token request validation
2019-06-09 18:31:57.493 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 18:31:57.555 -03:00 [DBG] Found ["api1"] API scopes in database
2019-06-09 18:31:57.556 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 18:31:57.559 -03:00 [DBG] Found ["api1"] API scopes in database
2019-06-09 18:31:57.568 -03:00 [INF] Credentials validated for username: alice
2019-06-09 18:31:57.568 -03:00 [INF] {"Username":"alice","Provider":null,"ProviderUserId":null,"SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","DisplayName":"alice","Endpoint":"Token","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HLND2I0UUVU4:00000002","TimeStamp":"2019-06-09T21:31:57.0000000Z","ProcessId":41412,"LocalIpAddress":"127.0.0.1:42399","RemoteIpAddress":"127.0.0.1","$type":"UserLoginSuccessEvent"}
2019-06-09 18:31:57.568 -03:00 [INF] {"Username":"alice","Provider":null,"ProviderUserId":null,"SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","DisplayName":null,"Endpoint":"Token","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HLND2I0UUVU4:00000002","TimeStamp":"2019-06-09T21:31:57.0000000Z","ProcessId":41412,"LocalIpAddress":"127.0.0.1:42399","RemoteIpAddress":"127.0.0.1","$type":"UserLoginSuccessEvent"}
2019-06-09 18:31:57.568 -03:00 [DBG] Resource owner password token request validation success.
2019-06-09 18:31:57.568 -03:00 [INF] Token request validation success
{"ClientId":"ro.client","ClientName":null,"GrantType":"password","Scopes":"api1 openid profile","AuthorizationCode":null,"RefreshToken":null,"UserName":"alice","AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"grant_type":"password","client_id":"ro.client","client_secret":"***REDACTED***","username":"alice","password":"***REDACTED***","scope":"openid profile api1"},"$type":"TokenRequestValidationLog"}
2019-06-09 18:31:57.569 -03:00 [DBG] Getting claims for access token for client: ro.client
2019-06-09 18:31:57.569 -03:00 [DBG] Getting claims for access token for subject: 4ba1c3a0-b786-421d-b88a-740f38d9cafa
2019-06-09 18:31:57.576 -03:00 [INF] {"ClientId":"ro.client","ClientName":null,"RedirectUri":null,"Endpoint":"Token","SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","Scopes":"openid profile api1","GrantType":"password","Tokens":[{"TokenType":"access_token","TokenValue":"****i9Yg","$type":"Token"}],"Category":"Token","Name":"Token Issued Success","EventType":"Success","Id":2000,"Message":null,"ActivityId":"0HLND2I0UUVU4:00000002","TimeStamp":"2019-06-09T21:31:57.0000000Z","ProcessId":41412,"LocalIpAddress":"127.0.0.1:42399","RemoteIpAddress":"127.0.0.1","$type":"TokenIssuedSuccessEvent"}
2019-06-09 18:31:57.577 -03:00 [DBG] Token request success.
2019-06-09 18:31:57.611 -03:00 [DBG] CORS request made for path: /connect/userinfo from origin: http://localhost:3000
2019-06-09 18:31:57.612 -03:00 [DBG] Origin http://localhost:3000 is allowed: false
2019-06-09 18:31:57.613 -03:00 [WRN] CorsPolicyService did not allow origin: http://localhost:3000
2019-06-09 18:31:57.613 -03:00 [DBG] Request path /connect/userinfo matched to endpoint type Userinfo
2019-06-09 18:31:57.613 -03:00 [DBG] Endpoint enabled: Userinfo, successfully created handler: IdentityServer4.Endpoints.UserInfoEndpoint
2019-06-09 18:31:57.613 -03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.UserInfoEndpoint for /connect/userinfo
2019-06-09 18:31:57.613 -03:00 [WRN] Invalid HTTP method for userinfo endpoint.
2019-06-09 18:32:18.105 -03:00 [DBG] CORS request made for path: /connect/token from origin: http://localhost:5000/
2019-06-09 18:32:18.107 -03:00 [DBG] Origin http://localhost:5000/ is allowed: false
2019-06-09 18:32:18.108 -03:00 [WRN] CorsPolicyService did not allow origin: http://localhost:5000/
2019-06-09 18:32:18.108 -03:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-06-09 18:32:18.108 -03:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-06-09 18:32:18.108 -03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-06-09 18:32:18.108 -03:00 [DBG] Start token request.
2019-06-09 18:32:18.108 -03:00 [DBG] Start client validation
2019-06-09 18:32:18.109 -03:00 [DBG] Start parsing Basic Authentication secret
2019-06-09 18:32:18.109 -03:00 [DBG] Start parsing for secret in post body
2019-06-09 18:32:18.109 -03:00 [DBG] Parser found secret: PostBodySecretParser
2019-06-09 18:32:18.109 -03:00 [DBG] Secret id found: ro.client
2019-06-09 18:32:18.133 -03:00 [DBG] ro.client found in database: true
2019-06-09 18:32:18.133 -03:00 [DBG] client configuration validation for client ro.client succeeded.
2019-06-09 18:32:18.133 -03:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-06-09 18:32:18.133 -03:00 [DBG] Client validation success
2019-06-09 18:32:18.133 -03:00 [INF] {"ClientId":"ro.client","AuthenticationMethod":"SharedSecret","Category":"Authentication","Name":"Client Authentication Success","EventType":"Success","Id":1010,"Message":null,"ActivityId":"0HLND2I0UUVU4:00000004","TimeStamp":"2019-06-09T21:32:18.0000000Z","ProcessId":41412,"LocalIpAddress":"127.0.0.1:42399","RemoteIpAddress":"127.0.0.1","$type":"ClientAuthenticationSuccessEvent"}
2019-06-09 18:32:18.133 -03:00 [DBG] Start token request validation
2019-06-09 18:32:18.133 -03:00 [DBG] Start resource owner password token request validation
2019-06-09 18:32:18.141 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 18:32:18.203 -03:00 [DBG] Found ["api1"] API scopes in database
2019-06-09 18:32:18.204 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 18:32:18.207 -03:00 [DBG] Found ["api1"] API scopes in database
2019-06-09 18:32:18.217 -03:00 [INF] Credentials validated for username: alice
2019-06-09 18:32:18.217 -03:00 [INF] {"Username":"alice","Provider":null,"ProviderUserId":null,"SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","DisplayName":"alice","Endpoint":"Token","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HLND2I0UUVU4:00000004","TimeStamp":"2019-06-09T21:32:18.0000000Z","ProcessId":41412,"LocalIpAddress":"127.0.0.1:42399","RemoteIpAddress":"127.0.0.1","$type":"UserLoginSuccessEvent"}
2019-06-09 18:32:18.217 -03:00 [INF] {"Username":"alice","Provider":null,"ProviderUserId":null,"SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","DisplayName":null,"Endpoint":"Token","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HLND2I0UUVU4:00000004","TimeStamp":"2019-06-09T21:32:18.0000000Z","ProcessId":41412,"LocalIpAddress":"127.0.0.1:42399","RemoteIpAddress":"127.0.0.1","$type":"UserLoginSuccessEvent"}
2019-06-09 18:32:18.217 -03:00 [DBG] Resource owner password token request validation success.
2019-06-09 18:32:18.217 -03:00 [INF] Token request validation success
{"ClientId":"ro.client","ClientName":null,"GrantType":"password","Scopes":"api1 openid profile","AuthorizationCode":null,"RefreshToken":null,"UserName":"alice","AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"grant_type":"password","client_id":"ro.client","client_secret":"***REDACTED***","username":"alice","password":"***REDACTED***","scope":"openid profile api1"},"$type":"TokenRequestValidationLog"}
2019-06-09 18:32:18.217 -03:00 [DBG] Getting claims for access token for client: ro.client
2019-06-09 18:32:18.217 -03:00 [DBG] Getting claims for access token for subject: 4ba1c3a0-b786-421d-b88a-740f38d9cafa
2019-06-09 18:32:18.225 -03:00 [INF] {"ClientId":"ro.client","ClientName":null,"RedirectUri":null,"Endpoint":"Token","SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","Scopes":"openid profile api1","GrantType":"password","Tokens":[{"TokenType":"access_token","TokenValue":"****pEng","$type":"Token"}],"Category":"Token","Name":"Token Issued Success","EventType":"Success","Id":2000,"Message":null,"ActivityId":"0HLND2I0UUVU4:00000004","TimeStamp":"2019-06-09T21:32:18.0000000Z","ProcessId":41412,"LocalIpAddress":"127.0.0.1:42399","RemoteIpAddress":"127.0.0.1","$type":"TokenIssuedSuccessEvent"}
2019-06-09 18:32:18.225 -03:00 [DBG] Token request success.
2019-06-09 18:32:18.252 -03:00 [DBG] CORS request made for path: /connect/userinfo from origin: http://localhost:3000
2019-06-09 18:32:18.253 -03:00 [DBG] Origin http://localhost:3000 is allowed: false
2019-06-09 18:32:18.253 -03:00 [WRN] CorsPolicyService did not allow origin: http://localhost:3000
2019-06-09 18:32:18.253 -03:00 [DBG] Request path /connect/userinfo matched to endpoint type Userinfo
2019-06-09 18:32:18.254 -03:00 [DBG] Endpoint enabled: Userinfo, successfully created handler: IdentityServer4.Endpoints.UserInfoEndpoint
2019-06-09 18:32:18.254 -03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.UserInfoEndpoint for /connect/userinfo
2019-06-09 18:32:18.254 -03:00 [WRN] Invalid HTTP method for userinfo endpoint.
2019-06-09 18:32:56.354 -03:00 [DBG] Request path /connect/userinfo matched to endpoint type Userinfo
2019-06-09 18:32:56.354 -03:00 [DBG] Endpoint enabled: Userinfo, successfully created handler: IdentityServer4.Endpoints.UserInfoEndpoint
2019-06-09 18:32:56.354 -03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.UserInfoEndpoint for /connect/userinfo
2019-06-09 18:32:56.354 -03:00 [DBG] Start userinfo request
2019-06-09 18:32:56.354 -03:00 [DBG] Bearer token found in header
2019-06-09 18:32:56.361 -03:00 [DBG] ro.client found in database: true
2019-06-09 18:32:56.361 -03:00 [DBG] client configuration validation for client ro.client succeeded.
2019-06-09 18:32:56.364 -03:00 [DBG] ro.client found in database: true
2019-06-09 18:32:56.364 -03:00 [DBG] client configuration validation for client ro.client succeeded.
2019-06-09 18:32:56.368 -03:00 [DBG] Calling into custom token validator: IdentityServer4.Validation.DefaultCustomTokenValidator
2019-06-09 18:32:56.368 -03:00 [DBG] Token validation success
{"ClientId":null,"ClientName":null,"ValidateLifetime":true,"AccessTokenType":"Jwt","ExpectedScope":"openid","TokenHandle":null,"JwtId":null,"Claims":{"nbf":1560115917,"exp":1560119517,"iss":"http://localhost:5000","aud":["http://localhost:5000/resources","api1"],"client_id":"ro.client","sub":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","auth_time":1560115917,"idp":"local","scope":["openid","profile","api1"],"amr":"pwd"},"$type":"TokenValidationLog"}
2019-06-09 18:32:56.368 -03:00 [DBG] Creating userinfo response
2019-06-09 18:32:56.368 -03:00 [DBG] Scopes in access token: openid profile api1
2019-06-09 18:32:56.368 -03:00 [DBG] Scopes in access token: openid profile api1
2019-06-09 18:32:56.376 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 18:32:56.376 -03:00 [DBG] Requested claim types: sub name family_name given_name middle_name nickname preferred_username profile picture website gender birthdate zoneinfo locale updated_at
2019-06-09 18:32:56.376 -03:00 [DBG] Scopes in access token: openid profile api1
2019-06-09 18:32:56.378 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 18:32:56.381 -03:00 [INF] Profile service returned the following claim types: sub name given_name family_name website preferred_username
2019-06-09 18:32:56.381 -03:00 [DBG] End userinfo request
2019-06-09 18:34:28.057 -03:00 [DBG] CORS request made for path: /connect/token from origin: http://localhost:5000/
2019-06-09 18:34:28.060 -03:00 [DBG] Origin http://localhost:5000/ is allowed: false
2019-06-09 18:34:28.061 -03:00 [WRN] CorsPolicyService did not allow origin: http://localhost:5000/
2019-06-09 18:34:28.061 -03:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-06-09 18:34:28.062 -03:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-06-09 18:34:28.062 -03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-06-09 18:34:28.062 -03:00 [DBG] Start token request.
2019-06-09 18:34:28.062 -03:00 [DBG] Start client validation
2019-06-09 18:34:28.062 -03:00 [DBG] Start parsing Basic Authentication secret
2019-06-09 18:34:28.062 -03:00 [DBG] Start parsing for secret in post body
2019-06-09 18:34:28.062 -03:00 [DBG] Parser found secret: PostBodySecretParser
2019-06-09 18:34:28.062 -03:00 [DBG] Secret id found: ro.client
2019-06-09 18:34:28.088 -03:00 [DBG] ro.client found in database: true
2019-06-09 18:34:28.088 -03:00 [DBG] client configuration validation for client ro.client succeeded.
2019-06-09 18:34:28.088 -03:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-06-09 18:34:28.088 -03:00 [DBG] Client validation success
2019-06-09 18:34:28.088 -03:00 [INF] {"ClientId":"ro.client","AuthenticationMethod":"SharedSecret","Category":"Authentication","Name":"Client Authentication Success","EventType":"Success","Id":1010,"Message":null,"ActivityId":"0HLND2I0UUVU5:00000001","TimeStamp":"2019-06-09T21:34:28.0000000Z","ProcessId":41412,"LocalIpAddress":"127.0.0.1:42399","RemoteIpAddress":"127.0.0.1","$type":"ClientAuthenticationSuccessEvent"}
2019-06-09 18:34:28.088 -03:00 [DBG] Start token request validation
2019-06-09 18:34:28.088 -03:00 [DBG] Start resource owner password token request validation
2019-06-09 18:34:28.097 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 18:34:28.158 -03:00 [DBG] Found ["api1"] API scopes in database
2019-06-09 18:34:28.159 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 18:34:28.163 -03:00 [DBG] Found ["api1"] API scopes in database
2019-06-09 18:34:28.176 -03:00 [INF] Credentials validated for username: alice
2019-06-09 18:34:28.176 -03:00 [INF] {"Username":"alice","Provider":null,"ProviderUserId":null,"SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","DisplayName":"alice","Endpoint":"Token","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HLND2I0UUVU5:00000001","TimeStamp":"2019-06-09T21:34:28.0000000Z","ProcessId":41412,"LocalIpAddress":"127.0.0.1:42399","RemoteIpAddress":"127.0.0.1","$type":"UserLoginSuccessEvent"}
2019-06-09 18:34:28.176 -03:00 [INF] {"Username":"alice","Provider":null,"ProviderUserId":null,"SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","DisplayName":null,"Endpoint":"Token","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HLND2I0UUVU5:00000001","TimeStamp":"2019-06-09T21:34:28.0000000Z","ProcessId":41412,"LocalIpAddress":"127.0.0.1:42399","RemoteIpAddress":"127.0.0.1","$type":"UserLoginSuccessEvent"}
2019-06-09 18:34:28.176 -03:00 [DBG] Resource owner password token request validation success.
2019-06-09 18:34:28.176 -03:00 [INF] Token request validation success
{"ClientId":"ro.client","ClientName":null,"GrantType":"password","Scopes":"api1 openid profile","AuthorizationCode":null,"RefreshToken":null,"UserName":"alice","AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"grant_type":"password","client_id":"ro.client","client_secret":"***REDACTED***","username":"alice","password":"***REDACTED***","scope":"openid profile api1"},"$type":"TokenRequestValidationLog"}
2019-06-09 18:34:28.176 -03:00 [DBG] Getting claims for access token for client: ro.client
2019-06-09 18:34:28.176 -03:00 [DBG] Getting claims for access token for subject: 4ba1c3a0-b786-421d-b88a-740f38d9cafa
2019-06-09 18:34:28.188 -03:00 [INF] {"ClientId":"ro.client","ClientName":null,"RedirectUri":null,"Endpoint":"Token","SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","Scopes":"openid profile api1","GrantType":"password","Tokens":[{"TokenType":"access_token","TokenValue":"****dZpA","$type":"Token"}],"Category":"Token","Name":"Token Issued Success","EventType":"Success","Id":2000,"Message":null,"ActivityId":"0HLND2I0UUVU5:00000001","TimeStamp":"2019-06-09T21:34:28.0000000Z","ProcessId":41412,"LocalIpAddress":"127.0.0.1:42399","RemoteIpAddress":"127.0.0.1","$type":"TokenIssuedSuccessEvent"}
2019-06-09 18:34:28.188 -03:00 [DBG] Token request success.
2019-06-09 18:34:28.221 -03:00 [DBG] CORS request made for path: /connect/userinfo from origin: http://localhost:3000
2019-06-09 18:34:28.223 -03:00 [DBG] Origin http://localhost:3000 is allowed: false
2019-06-09 18:34:28.223 -03:00 [WRN] CorsPolicyService did not allow origin: http://localhost:3000
2019-06-09 18:34:28.223 -03:00 [DBG] Request path /connect/userinfo matched to endpoint type Userinfo
2019-06-09 18:34:28.224 -03:00 [DBG] Endpoint enabled: Userinfo, successfully created handler: IdentityServer4.Endpoints.UserInfoEndpoint
2019-06-09 18:34:28.224 -03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.UserInfoEndpoint for /connect/userinfo
2019-06-09 18:34:28.224 -03:00 [WRN] Invalid HTTP method for userinfo endpoint.
2019-06-09 18:36:41.597 -03:00 [DBG] CORS request made for path: /connect/token from origin: http://localhost:5000/
2019-06-09 18:36:41.601 -03:00 [DBG] Origin http://localhost:5000/ is allowed: false
2019-06-09 18:36:41.601 -03:00 [WRN] CorsPolicyService did not allow origin: http://localhost:5000/
2019-06-09 18:36:41.601 -03:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-06-09 18:36:41.601 -03:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-06-09 18:36:41.601 -03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-06-09 18:36:41.601 -03:00 [DBG] Start token request.
2019-06-09 18:36:41.601 -03:00 [DBG] Start client validation
2019-06-09 18:36:41.601 -03:00 [DBG] Start parsing Basic Authentication secret
2019-06-09 18:36:41.601 -03:00 [DBG] Start parsing for secret in post body
2019-06-09 18:36:41.601 -03:00 [DBG] Parser found secret: PostBodySecretParser
2019-06-09 18:36:41.602 -03:00 [DBG] Secret id found: ro.client
2019-06-09 18:36:41.629 -03:00 [DBG] ro.client found in database: true
2019-06-09 18:36:41.630 -03:00 [DBG] client configuration validation for client ro.client succeeded.
2019-06-09 18:36:41.630 -03:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-06-09 18:36:41.630 -03:00 [DBG] Client validation success
2019-06-09 18:36:41.630 -03:00 [INF] {"ClientId":"ro.client","AuthenticationMethod":"SharedSecret","Category":"Authentication","Name":"Client Authentication Success","EventType":"Success","Id":1010,"Message":null,"ActivityId":"0HLND2I0UUVU6:00000001","TimeStamp":"2019-06-09T21:36:41.0000000Z","ProcessId":41412,"LocalIpAddress":"127.0.0.1:42399","RemoteIpAddress":"127.0.0.1","$type":"ClientAuthenticationSuccessEvent"}
2019-06-09 18:36:41.630 -03:00 [DBG] Start token request validation
2019-06-09 18:36:41.630 -03:00 [DBG] Start resource owner password token request validation
2019-06-09 18:36:41.655 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 18:36:41.726 -03:00 [DBG] Found ["api1"] API scopes in database
2019-06-09 18:36:41.728 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 18:36:41.732 -03:00 [DBG] Found ["api1"] API scopes in database
2019-06-09 18:36:41.741 -03:00 [INF] Credentials validated for username: alice
2019-06-09 18:36:41.741 -03:00 [INF] {"Username":"alice","Provider":null,"ProviderUserId":null,"SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","DisplayName":"alice","Endpoint":"Token","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HLND2I0UUVU6:00000001","TimeStamp":"2019-06-09T21:36:41.0000000Z","ProcessId":41412,"LocalIpAddress":"127.0.0.1:42399","RemoteIpAddress":"127.0.0.1","$type":"UserLoginSuccessEvent"}
2019-06-09 18:36:41.742 -03:00 [INF] {"Username":"alice","Provider":null,"ProviderUserId":null,"SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","DisplayName":null,"Endpoint":"Token","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HLND2I0UUVU6:00000001","TimeStamp":"2019-06-09T21:36:41.0000000Z","ProcessId":41412,"LocalIpAddress":"127.0.0.1:42399","RemoteIpAddress":"127.0.0.1","$type":"UserLoginSuccessEvent"}
2019-06-09 18:36:41.742 -03:00 [DBG] Resource owner password token request validation success.
2019-06-09 18:36:41.742 -03:00 [INF] Token request validation success
{"ClientId":"ro.client","ClientName":null,"GrantType":"password","Scopes":"api1 openid profile","AuthorizationCode":null,"RefreshToken":null,"UserName":"alice","AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"grant_type":"password","client_id":"ro.client","client_secret":"***REDACTED***","username":"alice","password":"***REDACTED***","scope":"openid profile api1"},"$type":"TokenRequestValidationLog"}
2019-06-09 18:36:41.742 -03:00 [DBG] Getting claims for access token for client: ro.client
2019-06-09 18:36:41.742 -03:00 [DBG] Getting claims for access token for subject: 4ba1c3a0-b786-421d-b88a-740f38d9cafa
2019-06-09 18:36:41.751 -03:00 [INF] {"ClientId":"ro.client","ClientName":null,"RedirectUri":null,"Endpoint":"Token","SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","Scopes":"openid profile api1","GrantType":"password","Tokens":[{"TokenType":"access_token","TokenValue":"****ODBg","$type":"Token"}],"Category":"Token","Name":"Token Issued Success","EventType":"Success","Id":2000,"Message":null,"ActivityId":"0HLND2I0UUVU6:00000001","TimeStamp":"2019-06-09T21:36:41.0000000Z","ProcessId":41412,"LocalIpAddress":"127.0.0.1:42399","RemoteIpAddress":"127.0.0.1","$type":"TokenIssuedSuccessEvent"}
2019-06-09 18:36:41.751 -03:00 [DBG] Token request success.
2019-06-09 18:36:41.789 -03:00 [DBG] CORS request made for path: /connect/userinfo from origin: http://localhost:3000
2019-06-09 18:36:41.791 -03:00 [DBG] Origin http://localhost:3000 is allowed: false
2019-06-09 18:36:41.791 -03:00 [WRN] CorsPolicyService did not allow origin: http://localhost:3000
2019-06-09 18:36:41.791 -03:00 [DBG] Request path /connect/userinfo matched to endpoint type Userinfo
2019-06-09 18:36:41.792 -03:00 [DBG] Endpoint enabled: Userinfo, successfully created handler: IdentityServer4.Endpoints.UserInfoEndpoint
2019-06-09 18:36:41.792 -03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.UserInfoEndpoint for /connect/userinfo
2019-06-09 18:36:41.792 -03:00 [WRN] Invalid HTTP method for userinfo endpoint.
2019-06-09 18:36:56.564 -03:00 [DBG] CORS request made for path: /connect/token from origin: http://localhost:5000/
2019-06-09 18:36:56.566 -03:00 [DBG] Origin http://localhost:5000/ is allowed: false
2019-06-09 18:36:56.566 -03:00 [WRN] CorsPolicyService did not allow origin: http://localhost:5000/
2019-06-09 18:36:56.566 -03:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-06-09 18:36:56.566 -03:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-06-09 18:36:56.566 -03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-06-09 18:36:56.566 -03:00 [DBG] Start token request.
2019-06-09 18:36:56.566 -03:00 [DBG] Start client validation
2019-06-09 18:36:56.566 -03:00 [DBG] Start parsing Basic Authentication secret
2019-06-09 18:36:56.566 -03:00 [DBG] Start parsing for secret in post body
2019-06-09 18:36:56.567 -03:00 [DBG] Parser found secret: PostBodySecretParser
2019-06-09 18:36:56.567 -03:00 [DBG] Secret id found: ro.client
2019-06-09 18:36:56.571 -03:00 [DBG] ro.client found in database: true
2019-06-09 18:36:56.571 -03:00 [DBG] client configuration validation for client ro.client succeeded.
2019-06-09 18:36:56.571 -03:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-06-09 18:36:56.571 -03:00 [DBG] Client validation success
2019-06-09 18:36:56.571 -03:00 [INF] {"ClientId":"ro.client","AuthenticationMethod":"SharedSecret","Category":"Authentication","Name":"Client Authentication Success","EventType":"Success","Id":1010,"Message":null,"ActivityId":"0HLND2I0UUVU6:00000003","TimeStamp":"2019-06-09T21:36:56.0000000Z","ProcessId":41412,"LocalIpAddress":"127.0.0.1:42399","RemoteIpAddress":"127.0.0.1","$type":"ClientAuthenticationSuccessEvent"}
2019-06-09 18:36:56.571 -03:00 [DBG] Start token request validation
2019-06-09 18:36:56.571 -03:00 [DBG] Start resource owner password token request validation
2019-06-09 18:36:56.573 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 18:36:56.577 -03:00 [DBG] Found ["api1"] API scopes in database
2019-06-09 18:36:56.579 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 18:36:56.582 -03:00 [DBG] Found ["api1"] API scopes in database
2019-06-09 18:36:56.590 -03:00 [INF] Credentials validated for username: alice
2019-06-09 18:36:56.590 -03:00 [INF] {"Username":"alice","Provider":null,"ProviderUserId":null,"SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","DisplayName":"alice","Endpoint":"Token","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HLND2I0UUVU6:00000003","TimeStamp":"2019-06-09T21:36:56.0000000Z","ProcessId":41412,"LocalIpAddress":"127.0.0.1:42399","RemoteIpAddress":"127.0.0.1","$type":"UserLoginSuccessEvent"}
2019-06-09 18:36:56.590 -03:00 [INF] {"Username":"alice","Provider":null,"ProviderUserId":null,"SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","DisplayName":null,"Endpoint":"Token","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HLND2I0UUVU6:00000003","TimeStamp":"2019-06-09T21:36:56.0000000Z","ProcessId":41412,"LocalIpAddress":"127.0.0.1:42399","RemoteIpAddress":"127.0.0.1","$type":"UserLoginSuccessEvent"}
2019-06-09 18:36:56.591 -03:00 [DBG] Resource owner password token request validation success.
2019-06-09 18:36:56.591 -03:00 [INF] Token request validation success
{"ClientId":"ro.client","ClientName":null,"GrantType":"password","Scopes":"api1 openid profile","AuthorizationCode":null,"RefreshToken":null,"UserName":"alice","AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"grant_type":"password","client_id":"ro.client","client_secret":"***REDACTED***","username":"alice","password":"***REDACTED***","scope":"openid profile api1"},"$type":"TokenRequestValidationLog"}
2019-06-09 18:36:56.591 -03:00 [DBG] Getting claims for access token for client: ro.client
2019-06-09 18:36:56.591 -03:00 [DBG] Getting claims for access token for subject: 4ba1c3a0-b786-421d-b88a-740f38d9cafa
2019-06-09 18:36:56.597 -03:00 [INF] {"ClientId":"ro.client","ClientName":null,"RedirectUri":null,"Endpoint":"Token","SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","Scopes":"openid profile api1","GrantType":"password","Tokens":[{"TokenType":"access_token","TokenValue":"****T39A","$type":"Token"}],"Category":"Token","Name":"Token Issued Success","EventType":"Success","Id":2000,"Message":null,"ActivityId":"0HLND2I0UUVU6:00000003","TimeStamp":"2019-06-09T21:36:56.0000000Z","ProcessId":41412,"LocalIpAddress":"127.0.0.1:42399","RemoteIpAddress":"127.0.0.1","$type":"TokenIssuedSuccessEvent"}
2019-06-09 18:36:56.597 -03:00 [DBG] Token request success.
2019-06-09 18:36:56.620 -03:00 [DBG] CORS request made for path: /connect/userinfo from origin: http://localhost:3000
2019-06-09 18:36:56.621 -03:00 [DBG] Origin http://localhost:3000 is allowed: false
2019-06-09 18:36:56.621 -03:00 [WRN] CorsPolicyService did not allow origin: http://localhost:3000
2019-06-09 18:36:56.621 -03:00 [DBG] Request path /connect/userinfo matched to endpoint type Userinfo
2019-06-09 18:36:56.621 -03:00 [DBG] Endpoint enabled: Userinfo, successfully created handler: IdentityServer4.Endpoints.UserInfoEndpoint
2019-06-09 18:36:56.621 -03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.UserInfoEndpoint for /connect/userinfo
2019-06-09 18:36:56.621 -03:00 [WRN] Invalid HTTP method for userinfo endpoint.
2019-06-09 18:38:36.013 -03:00 [DBG] CORS request made for path: /connect/token from origin: http://localhost:5000/
2019-06-09 18:38:36.016 -03:00 [DBG] Origin http://localhost:5000/ is allowed: false
2019-06-09 18:38:36.016 -03:00 [WRN] CorsPolicyService did not allow origin: http://localhost:5000/
2019-06-09 18:38:36.016 -03:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-06-09 18:38:36.016 -03:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-06-09 18:38:36.016 -03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-06-09 18:38:36.017 -03:00 [DBG] Start token request.
2019-06-09 18:38:36.017 -03:00 [DBG] Start client validation
2019-06-09 18:38:36.017 -03:00 [DBG] Start parsing Basic Authentication secret
2019-06-09 18:38:36.017 -03:00 [DBG] Start parsing for secret in post body
2019-06-09 18:38:36.017 -03:00 [DBG] Parser found secret: PostBodySecretParser
2019-06-09 18:38:36.017 -03:00 [DBG] Secret id found: ro.client
2019-06-09 18:38:36.040 -03:00 [DBG] ro.client found in database: true
2019-06-09 18:38:36.040 -03:00 [DBG] client configuration validation for client ro.client succeeded.
2019-06-09 18:38:36.040 -03:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-06-09 18:38:36.040 -03:00 [DBG] Client validation success
2019-06-09 18:38:36.040 -03:00 [INF] {"ClientId":"ro.client","AuthenticationMethod":"SharedSecret","Category":"Authentication","Name":"Client Authentication Success","EventType":"Success","Id":1010,"Message":null,"ActivityId":"0HLND2I0UUVU7:00000001","TimeStamp":"2019-06-09T21:38:36.0000000Z","ProcessId":41412,"LocalIpAddress":"127.0.0.1:42399","RemoteIpAddress":"127.0.0.1","$type":"ClientAuthenticationSuccessEvent"}
2019-06-09 18:38:36.040 -03:00 [DBG] Start token request validation
2019-06-09 18:38:36.040 -03:00 [DBG] Start resource owner password token request validation
2019-06-09 18:38:36.047 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 18:38:36.109 -03:00 [DBG] Found ["api1"] API scopes in database
2019-06-09 18:38:36.110 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 18:38:36.113 -03:00 [DBG] Found ["api1"] API scopes in database
2019-06-09 18:38:36.122 -03:00 [INF] Credentials validated for username: alice
2019-06-09 18:38:36.122 -03:00 [INF] {"Username":"alice","Provider":null,"ProviderUserId":null,"SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","DisplayName":"alice","Endpoint":"Token","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HLND2I0UUVU7:00000001","TimeStamp":"2019-06-09T21:38:36.0000000Z","ProcessId":41412,"LocalIpAddress":"127.0.0.1:42399","RemoteIpAddress":"127.0.0.1","$type":"UserLoginSuccessEvent"}
2019-06-09 18:38:36.122 -03:00 [INF] {"Username":"alice","Provider":null,"ProviderUserId":null,"SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","DisplayName":null,"Endpoint":"Token","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HLND2I0UUVU7:00000001","TimeStamp":"2019-06-09T21:38:36.0000000Z","ProcessId":41412,"LocalIpAddress":"127.0.0.1:42399","RemoteIpAddress":"127.0.0.1","$type":"UserLoginSuccessEvent"}
2019-06-09 18:38:36.122 -03:00 [DBG] Resource owner password token request validation success.
2019-06-09 18:38:36.122 -03:00 [INF] Token request validation success
{"ClientId":"ro.client","ClientName":null,"GrantType":"password","Scopes":"api1 openid profile","AuthorizationCode":null,"RefreshToken":null,"UserName":"alice","AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"grant_type":"password","client_id":"ro.client","client_secret":"***REDACTED***","username":"alice","password":"***REDACTED***","scope":"openid profile api1"},"$type":"TokenRequestValidationLog"}
2019-06-09 18:38:36.123 -03:00 [DBG] Getting claims for access token for client: ro.client
2019-06-09 18:38:36.123 -03:00 [DBG] Getting claims for access token for subject: 4ba1c3a0-b786-421d-b88a-740f38d9cafa
2019-06-09 18:38:36.130 -03:00 [INF] {"ClientId":"ro.client","ClientName":null,"RedirectUri":null,"Endpoint":"Token","SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","Scopes":"openid profile api1","GrantType":"password","Tokens":[{"TokenType":"access_token","TokenValue":"****GEHw","$type":"Token"}],"Category":"Token","Name":"Token Issued Success","EventType":"Success","Id":2000,"Message":null,"ActivityId":"0HLND2I0UUVU7:00000001","TimeStamp":"2019-06-09T21:38:36.0000000Z","ProcessId":41412,"LocalIpAddress":"127.0.0.1:42399","RemoteIpAddress":"127.0.0.1","$type":"TokenIssuedSuccessEvent"}
2019-06-09 18:38:36.130 -03:00 [DBG] Token request success.
2019-06-09 18:38:51.125 -03:00 [DBG] CORS request made for path: /connect/userinfo from origin: http://localhost:3000
2019-06-09 18:38:51.128 -03:00 [DBG] Origin http://localhost:3000 is allowed: false
2019-06-09 18:38:51.128 -03:00 [WRN] CorsPolicyService did not allow origin: http://localhost:3000
2019-06-09 18:38:51.128 -03:00 [DBG] Request path /connect/userinfo matched to endpoint type Userinfo
2019-06-09 18:38:51.128 -03:00 [DBG] Endpoint enabled: Userinfo, successfully created handler: IdentityServer4.Endpoints.UserInfoEndpoint
2019-06-09 18:38:51.128 -03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.UserInfoEndpoint for /connect/userinfo
2019-06-09 18:38:51.129 -03:00 [WRN] Invalid HTTP method for userinfo endpoint.
2019-06-09 18:40:19.949 -03:00 [DBG] CORS request made for path: /connect/token from origin: http://localhost:5000/
2019-06-09 18:40:19.953 -03:00 [DBG] Origin http://localhost:5000/ is allowed: false
2019-06-09 18:40:19.953 -03:00 [WRN] CorsPolicyService did not allow origin: http://localhost:5000/
2019-06-09 18:40:19.953 -03:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-06-09 18:40:19.954 -03:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-06-09 18:40:19.954 -03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-06-09 18:40:19.954 -03:00 [DBG] Start token request.
2019-06-09 18:40:19.954 -03:00 [DBG] Start client validation
2019-06-09 18:40:19.954 -03:00 [DBG] Start parsing Basic Authentication secret
2019-06-09 18:40:19.954 -03:00 [DBG] Start parsing for secret in post body
2019-06-09 18:40:19.954 -03:00 [DBG] Parser found secret: PostBodySecretParser
2019-06-09 18:40:19.955 -03:00 [DBG] Secret id found: ro.client
2019-06-09 18:40:19.979 -03:00 [DBG] ro.client found in database: true
2019-06-09 18:40:19.979 -03:00 [DBG] client configuration validation for client ro.client succeeded.
2019-06-09 18:40:19.979 -03:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-06-09 18:40:19.979 -03:00 [DBG] Client validation success
2019-06-09 18:40:19.979 -03:00 [INF] {"ClientId":"ro.client","AuthenticationMethod":"SharedSecret","Category":"Authentication","Name":"Client Authentication Success","EventType":"Success","Id":1010,"Message":null,"ActivityId":"0HLND2I0UUVU8:00000001","TimeStamp":"2019-06-09T21:40:19.0000000Z","ProcessId":41412,"LocalIpAddress":"127.0.0.1:42399","RemoteIpAddress":"127.0.0.1","$type":"ClientAuthenticationSuccessEvent"}
2019-06-09 18:40:19.979 -03:00 [DBG] Start token request validation
2019-06-09 18:40:19.979 -03:00 [DBG] Start resource owner password token request validation
2019-06-09 18:40:19.986 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 18:40:20.048 -03:00 [DBG] Found ["api1"] API scopes in database
2019-06-09 18:40:20.049 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 18:40:20.052 -03:00 [DBG] Found ["api1"] API scopes in database
2019-06-09 18:40:20.061 -03:00 [INF] Credentials validated for username: alice
2019-06-09 18:40:20.061 -03:00 [INF] {"Username":"alice","Provider":null,"ProviderUserId":null,"SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","DisplayName":"alice","Endpoint":"Token","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HLND2I0UUVU8:00000001","TimeStamp":"2019-06-09T21:40:20.0000000Z","ProcessId":41412,"LocalIpAddress":"127.0.0.1:42399","RemoteIpAddress":"127.0.0.1","$type":"UserLoginSuccessEvent"}
2019-06-09 18:40:20.061 -03:00 [INF] {"Username":"alice","Provider":null,"ProviderUserId":null,"SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","DisplayName":null,"Endpoint":"Token","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HLND2I0UUVU8:00000001","TimeStamp":"2019-06-09T21:40:20.0000000Z","ProcessId":41412,"LocalIpAddress":"127.0.0.1:42399","RemoteIpAddress":"127.0.0.1","$type":"UserLoginSuccessEvent"}
2019-06-09 18:40:20.061 -03:00 [DBG] Resource owner password token request validation success.
2019-06-09 18:40:20.061 -03:00 [INF] Token request validation success
{"ClientId":"ro.client","ClientName":null,"GrantType":"password","Scopes":"api1 openid profile","AuthorizationCode":null,"RefreshToken":null,"UserName":"alice","AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"grant_type":"password","client_id":"ro.client","client_secret":"***REDACTED***","username":"alice","password":"***REDACTED***","scope":"openid profile api1"},"$type":"TokenRequestValidationLog"}
2019-06-09 18:40:20.061 -03:00 [DBG] Getting claims for access token for client: ro.client
2019-06-09 18:40:20.061 -03:00 [DBG] Getting claims for access token for subject: 4ba1c3a0-b786-421d-b88a-740f38d9cafa
2019-06-09 18:40:20.069 -03:00 [INF] {"ClientId":"ro.client","ClientName":null,"RedirectUri":null,"Endpoint":"Token","SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","Scopes":"openid profile api1","GrantType":"password","Tokens":[{"TokenType":"access_token","TokenValue":"****BCFQ","$type":"Token"}],"Category":"Token","Name":"Token Issued Success","EventType":"Success","Id":2000,"Message":null,"ActivityId":"0HLND2I0UUVU8:00000001","TimeStamp":"2019-06-09T21:40:20.0000000Z","ProcessId":41412,"LocalIpAddress":"127.0.0.1:42399","RemoteIpAddress":"127.0.0.1","$type":"TokenIssuedSuccessEvent"}
2019-06-09 18:40:20.069 -03:00 [DBG] Token request success.
2019-06-09 18:40:23.606 -03:00 [DBG] CORS request made for path: /connect/userinfo from origin: http://localhost:3000
2019-06-09 18:40:23.608 -03:00 [DBG] Origin http://localhost:3000 is allowed: false
2019-06-09 18:40:23.608 -03:00 [WRN] CorsPolicyService did not allow origin: http://localhost:3000
2019-06-09 18:40:23.608 -03:00 [DBG] Request path /connect/userinfo matched to endpoint type Userinfo
2019-06-09 18:40:23.609 -03:00 [DBG] Endpoint enabled: Userinfo, successfully created handler: IdentityServer4.Endpoints.UserInfoEndpoint
2019-06-09 18:40:23.609 -03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.UserInfoEndpoint for /connect/userinfo
2019-06-09 18:40:23.609 -03:00 [WRN] Invalid HTTP method for userinfo endpoint.
2019-06-09 18:41:48.654 -03:00 [INF] Starting IdentityServer4 version 2.3.2.0
2019-06-09 18:41:48.821 -03:00 [INF] Using the default authentication scheme Identity.Application for IdentityServer
2019-06-09 18:41:48.821 -03:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for authentication
2019-06-09 18:41:48.821 -03:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-in
2019-06-09 18:41:48.821 -03:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-out
2019-06-09 18:41:48.821 -03:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for challenge
2019-06-09 18:41:48.821 -03:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for forbid
2019-06-09 18:41:48.992 -03:00 [DBG] Starting grant removal
2019-06-09 18:41:49.422 -03:00 [DBG] Login Url: /Account/Login
2019-06-09 18:41:49.425 -03:00 [DBG] Login Return Url Parameter: ReturnUrl
2019-06-09 18:41:49.425 -03:00 [DBG] Logout Url: /Account/Logout
2019-06-09 18:41:49.425 -03:00 [DBG] ConsentUrl Url: /consent
2019-06-09 18:41:49.425 -03:00 [DBG] Consent Return Url Parameter: returnUrl
2019-06-09 18:41:49.425 -03:00 [DBG] Error Url: /home/error
2019-06-09 18:41:49.425 -03:00 [DBG] Error Id Parameter: errorId
2019-06-09 18:42:01.303 -03:00 [DBG] CORS request made for path: /connect/token from origin: http://localhost:5000/
2019-06-09 18:42:02.453 -03:00 [DBG] Origin http://localhost:5000/ is allowed: false
2019-06-09 18:42:02.457 -03:00 [WRN] CorsPolicyService did not allow origin: http://localhost:5000/
2019-06-09 18:42:02.459 -03:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-06-09 18:42:02.489 -03:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-06-09 18:42:02.489 -03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-06-09 18:42:02.497 -03:00 [DBG] Start token request.
2019-06-09 18:42:02.505 -03:00 [DBG] Start client validation
2019-06-09 18:42:02.511 -03:00 [DBG] Start parsing Basic Authentication secret
2019-06-09 18:42:02.514 -03:00 [DBG] Start parsing for secret in post body
2019-06-09 18:42:02.534 -03:00 [DBG] Parser found secret: PostBodySecretParser
2019-06-09 18:42:02.535 -03:00 [DBG] Secret id found: ro.client
2019-06-09 18:42:03.144 -03:00 [DBG] ro.client found in database: true
2019-06-09 18:42:03.150 -03:00 [DBG] client configuration validation for client ro.client succeeded.
2019-06-09 18:42:03.158 -03:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-06-09 18:42:03.158 -03:00 [DBG] Client validation success
2019-06-09 18:42:03.176 -03:00 [INF] {"ClientId":"ro.client","AuthenticationMethod":"SharedSecret","Category":"Authentication","Name":"Client Authentication Success","EventType":"Success","Id":1010,"Message":null,"ActivityId":"0HLND4D3HU7M9:00000002","TimeStamp":"2019-06-09T21:42:03.0000000Z","ProcessId":24452,"LocalIpAddress":"127.0.0.1:23064","RemoteIpAddress":"127.0.0.1","$type":"ClientAuthenticationSuccessEvent"}
2019-06-09 18:42:03.189 -03:00 [DBG] Start token request validation
2019-06-09 18:42:03.198 -03:00 [DBG] Start resource owner password token request validation
2019-06-09 18:42:03.264 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 18:42:03.527 -03:00 [DBG] Found ["api1"] API scopes in database
2019-06-09 18:42:03.543 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 18:42:03.546 -03:00 [DBG] Found ["api1"] API scopes in database
2019-06-09 18:42:03.723 -03:00 [INF] Credentials validated for username: alice
2019-06-09 18:42:03.725 -03:00 [INF] {"Username":"alice","Provider":null,"ProviderUserId":null,"SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","DisplayName":"alice","Endpoint":"Token","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HLND4D3HU7M9:00000002","TimeStamp":"2019-06-09T21:42:03.0000000Z","ProcessId":24452,"LocalIpAddress":"127.0.0.1:23064","RemoteIpAddress":"127.0.0.1","$type":"UserLoginSuccessEvent"}
2019-06-09 18:42:03.733 -03:00 [INF] {"Username":"alice","Provider":null,"ProviderUserId":null,"SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","DisplayName":null,"Endpoint":"Token","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HLND4D3HU7M9:00000002","TimeStamp":"2019-06-09T21:42:03.0000000Z","ProcessId":24452,"LocalIpAddress":"127.0.0.1:23064","RemoteIpAddress":"127.0.0.1","$type":"UserLoginSuccessEvent"}
2019-06-09 18:42:03.733 -03:00 [DBG] Resource owner password token request validation success.
2019-06-09 18:42:03.741 -03:00 [INF] Token request validation success
{"ClientId":"ro.client","ClientName":null,"GrantType":"password","Scopes":"api1 openid profile","AuthorizationCode":null,"RefreshToken":null,"UserName":"alice","AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"grant_type":"password","client_id":"ro.client","client_secret":"***REDACTED***","username":"alice","password":"***REDACTED***","scope":"openid profile api1"},"$type":"TokenRequestValidationLog"}
2019-06-09 18:42:03.765 -03:00 [DBG] Getting claims for access token for client: ro.client
2019-06-09 18:42:03.765 -03:00 [DBG] Getting claims for access token for subject: 4ba1c3a0-b786-421d-b88a-740f38d9cafa
2019-06-09 18:42:03.919 -03:00 [INF] {"ClientId":"ro.client","ClientName":null,"RedirectUri":null,"Endpoint":"Token","SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","Scopes":"openid profile api1","GrantType":"password","Tokens":[{"TokenType":"access_token","TokenValue":"****zkDw","$type":"Token"}],"Category":"Token","Name":"Token Issued Success","EventType":"Success","Id":2000,"Message":null,"ActivityId":"0HLND4D3HU7M9:00000002","TimeStamp":"2019-06-09T21:42:03.0000000Z","ProcessId":24452,"LocalIpAddress":"127.0.0.1:23064","RemoteIpAddress":"127.0.0.1","$type":"TokenIssuedSuccessEvent"}
2019-06-09 18:42:03.920 -03:00 [DBG] Token request success.
2019-06-09 18:42:06.862 -03:00 [DBG] CORS request made for path: /connect/userinfo from origin: http://localhost:3000
2019-06-09 18:42:06.866 -03:00 [DBG] Origin http://localhost:3000 is allowed: false
2019-06-09 18:42:06.866 -03:00 [WRN] CorsPolicyService did not allow origin: http://localhost:3000
2019-06-09 18:42:06.866 -03:00 [DBG] Request path /connect/userinfo matched to endpoint type Userinfo
2019-06-09 18:42:06.869 -03:00 [DBG] Endpoint enabled: Userinfo, successfully created handler: IdentityServer4.Endpoints.UserInfoEndpoint
2019-06-09 18:42:06.869 -03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.UserInfoEndpoint for /connect/userinfo
2019-06-09 18:42:06.873 -03:00 [WRN] Invalid HTTP method for userinfo endpoint.
2019-06-09 18:42:30.914 -03:00 [DBG] CORS request made for path: /connect/token from origin: http://localhost:5000/
2019-06-09 18:42:30.915 -03:00 [DBG] Origin http://localhost:5000/ is allowed: false
2019-06-09 18:42:30.915 -03:00 [WRN] CorsPolicyService did not allow origin: http://localhost:5000/
2019-06-09 18:42:30.916 -03:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-06-09 18:42:30.916 -03:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-06-09 18:42:30.916 -03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-06-09 18:42:30.916 -03:00 [DBG] Start token request.
2019-06-09 18:42:30.916 -03:00 [DBG] Start client validation
2019-06-09 18:42:30.917 -03:00 [DBG] Start parsing Basic Authentication secret
2019-06-09 18:42:30.917 -03:00 [DBG] Start parsing for secret in post body
2019-06-09 18:42:30.917 -03:00 [DBG] Parser found secret: PostBodySecretParser
2019-06-09 18:42:30.917 -03:00 [DBG] Secret id found: ro.client
2019-06-09 18:42:30.922 -03:00 [DBG] ro.client found in database: true
2019-06-09 18:42:30.922 -03:00 [DBG] client configuration validation for client ro.client succeeded.
2019-06-09 18:42:30.922 -03:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-06-09 18:42:30.922 -03:00 [DBG] Client validation success
2019-06-09 18:42:30.923 -03:00 [INF] {"ClientId":"ro.client","AuthenticationMethod":"SharedSecret","Category":"Authentication","Name":"Client Authentication Success","EventType":"Success","Id":1010,"Message":null,"ActivityId":"0HLND4D3HU7M9:00000003","TimeStamp":"2019-06-09T21:42:30.0000000Z","ProcessId":24452,"LocalIpAddress":"127.0.0.1:23064","RemoteIpAddress":"127.0.0.1","$type":"ClientAuthenticationSuccessEvent"}
2019-06-09 18:42:30.923 -03:00 [DBG] Start token request validation
2019-06-09 18:42:30.923 -03:00 [DBG] Start resource owner password token request validation
2019-06-09 18:42:30.925 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 18:42:30.933 -03:00 [DBG] Found ["api1"] API scopes in database
2019-06-09 18:42:30.934 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 18:42:30.937 -03:00 [DBG] Found ["api1"] API scopes in database
2019-06-09 18:42:30.952 -03:00 [INF] Credentials validated for username: alice
2019-06-09 18:42:30.952 -03:00 [INF] {"Username":"alice","Provider":null,"ProviderUserId":null,"SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","DisplayName":"alice","Endpoint":"Token","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HLND4D3HU7M9:00000003","TimeStamp":"2019-06-09T21:42:30.0000000Z","ProcessId":24452,"LocalIpAddress":"127.0.0.1:23064","RemoteIpAddress":"127.0.0.1","$type":"UserLoginSuccessEvent"}
2019-06-09 18:42:30.952 -03:00 [INF] {"Username":"alice","Provider":null,"ProviderUserId":null,"SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","DisplayName":null,"Endpoint":"Token","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HLND4D3HU7M9:00000003","TimeStamp":"2019-06-09T21:42:30.0000000Z","ProcessId":24452,"LocalIpAddress":"127.0.0.1:23064","RemoteIpAddress":"127.0.0.1","$type":"UserLoginSuccessEvent"}
2019-06-09 18:42:30.952 -03:00 [DBG] Resource owner password token request validation success.
2019-06-09 18:42:30.952 -03:00 [INF] Token request validation success
{"ClientId":"ro.client","ClientName":null,"GrantType":"password","Scopes":"api1 openid profile","AuthorizationCode":null,"RefreshToken":null,"UserName":"alice","AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"grant_type":"password","client_id":"ro.client","client_secret":"***REDACTED***","username":"alice","password":"***REDACTED***","scope":"openid profile api1"},"$type":"TokenRequestValidationLog"}
2019-06-09 18:42:30.953 -03:00 [DBG] Getting claims for access token for client: ro.client
2019-06-09 18:42:30.953 -03:00 [DBG] Getting claims for access token for subject: 4ba1c3a0-b786-421d-b88a-740f38d9cafa
2019-06-09 18:42:30.988 -03:00 [INF] {"ClientId":"ro.client","ClientName":null,"RedirectUri":null,"Endpoint":"Token","SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","Scopes":"openid profile api1","GrantType":"password","Tokens":[{"TokenType":"access_token","TokenValue":"****ysXA","$type":"Token"}],"Category":"Token","Name":"Token Issued Success","EventType":"Success","Id":2000,"Message":null,"ActivityId":"0HLND4D3HU7M9:00000003","TimeStamp":"2019-06-09T21:42:30.0000000Z","ProcessId":24452,"LocalIpAddress":"127.0.0.1:23064","RemoteIpAddress":"127.0.0.1","$type":"TokenIssuedSuccessEvent"}
2019-06-09 18:42:30.988 -03:00 [DBG] Token request success.
2019-06-09 18:42:33.280 -03:00 [DBG] CORS request made for path: /connect/userinfo from origin: http://localhost:3000
2019-06-09 18:42:33.282 -03:00 [DBG] Origin http://localhost:3000 is allowed: false
2019-06-09 18:42:33.282 -03:00 [WRN] CorsPolicyService did not allow origin: http://localhost:3000
2019-06-09 18:42:33.283 -03:00 [DBG] Request path /connect/userinfo matched to endpoint type Userinfo
2019-06-09 18:42:33.283 -03:00 [DBG] Endpoint enabled: Userinfo, successfully created handler: IdentityServer4.Endpoints.UserInfoEndpoint
2019-06-09 18:42:33.283 -03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.UserInfoEndpoint for /connect/userinfo
2019-06-09 18:42:33.283 -03:00 [WRN] Invalid HTTP method for userinfo endpoint.
2019-06-09 18:43:42.280 -03:00 [INF] Starting IdentityServer4 version 2.3.2.0
2019-06-09 18:43:42.453 -03:00 [INF] Using the default authentication scheme Identity.Application for IdentityServer
2019-06-09 18:43:42.453 -03:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for authentication
2019-06-09 18:43:42.453 -03:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-in
2019-06-09 18:43:42.453 -03:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-out
2019-06-09 18:43:42.453 -03:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for challenge
2019-06-09 18:43:42.453 -03:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for forbid
2019-06-09 18:43:42.646 -03:00 [DBG] Starting grant removal
2019-06-09 18:43:43.086 -03:00 [DBG] Login Url: /Account/Login
2019-06-09 18:43:43.089 -03:00 [DBG] Login Return Url Parameter: ReturnUrl
2019-06-09 18:43:43.089 -03:00 [DBG] Logout Url: /Account/Logout
2019-06-09 18:43:43.089 -03:00 [DBG] ConsentUrl Url: /consent
2019-06-09 18:43:43.089 -03:00 [DBG] Consent Return Url Parameter: returnUrl
2019-06-09 18:43:43.089 -03:00 [DBG] Error Url: /home/error
2019-06-09 18:43:43.089 -03:00 [DBG] Error Id Parameter: errorId
2019-06-09 18:43:48.061 -03:00 [DBG] CORS request made for path: /connect/token from origin: http://localhost:5000/
2019-06-09 18:43:49.376 -03:00 [DBG] Origin http://localhost:5000/ is allowed: false
2019-06-09 18:43:49.381 -03:00 [WRN] CorsPolicyService did not allow origin: http://localhost:5000/
2019-06-09 18:43:49.382 -03:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-06-09 18:43:49.409 -03:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-06-09 18:43:49.410 -03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-06-09 18:43:49.417 -03:00 [DBG] Start token request.
2019-06-09 18:43:49.425 -03:00 [DBG] Start client validation
2019-06-09 18:43:49.432 -03:00 [DBG] Start parsing Basic Authentication secret
2019-06-09 18:43:49.437 -03:00 [DBG] Start parsing for secret in post body
2019-06-09 18:43:49.461 -03:00 [DBG] Parser found secret: PostBodySecretParser
2019-06-09 18:43:49.462 -03:00 [DBG] Secret id found: ro.client
2019-06-09 18:43:50.260 -03:00 [DBG] ro.client found in database: true
2019-06-09 18:43:50.266 -03:00 [DBG] client configuration validation for client ro.client succeeded.
2019-06-09 18:43:50.274 -03:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-06-09 18:43:50.274 -03:00 [DBG] Client validation success
2019-06-09 18:43:50.293 -03:00 [INF] {"ClientId":"ro.client","AuthenticationMethod":"SharedSecret","Category":"Authentication","Name":"Client Authentication Success","EventType":"Success","Id":1010,"Message":null,"ActivityId":"0HLND4E5DR755:00000002","TimeStamp":"2019-06-09T21:43:50.0000000Z","ProcessId":11580,"LocalIpAddress":"127.0.0.1:47182","RemoteIpAddress":"127.0.0.1","$type":"ClientAuthenticationSuccessEvent"}
2019-06-09 18:43:50.308 -03:00 [DBG] Start token request validation
2019-06-09 18:43:50.320 -03:00 [DBG] Start resource owner password token request validation
2019-06-09 18:43:50.458 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 18:43:50.750 -03:00 [DBG] Found ["api1"] API scopes in database
2019-06-09 18:43:50.765 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 18:43:50.768 -03:00 [DBG] Found ["api1"] API scopes in database
2019-06-09 18:43:50.935 -03:00 [INF] Credentials validated for username: alice
2019-06-09 18:43:50.936 -03:00 [INF] {"Username":"alice","Provider":null,"ProviderUserId":null,"SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","DisplayName":"alice","Endpoint":"Token","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HLND4E5DR755:00000002","TimeStamp":"2019-06-09T21:43:50.0000000Z","ProcessId":11580,"LocalIpAddress":"127.0.0.1:47182","RemoteIpAddress":"127.0.0.1","$type":"UserLoginSuccessEvent"}
2019-06-09 18:43:50.945 -03:00 [INF] {"Username":"alice","Provider":null,"ProviderUserId":null,"SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","DisplayName":null,"Endpoint":"Token","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HLND4E5DR755:00000002","TimeStamp":"2019-06-09T21:43:50.0000000Z","ProcessId":11580,"LocalIpAddress":"127.0.0.1:47182","RemoteIpAddress":"127.0.0.1","$type":"UserLoginSuccessEvent"}
2019-06-09 18:43:50.945 -03:00 [DBG] Resource owner password token request validation success.
2019-06-09 18:43:50.955 -03:00 [INF] Token request validation success
{"ClientId":"ro.client","ClientName":null,"GrantType":"password","Scopes":"api1 openid profile","AuthorizationCode":null,"RefreshToken":null,"UserName":"alice","AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"grant_type":"password","client_id":"ro.client","client_secret":"***REDACTED***","username":"alice","password":"***REDACTED***","scope":"openid profile api1"},"$type":"TokenRequestValidationLog"}
2019-06-09 18:43:50.978 -03:00 [DBG] Getting claims for access token for client: ro.client
2019-06-09 18:43:50.978 -03:00 [DBG] Getting claims for access token for subject: 4ba1c3a0-b786-421d-b88a-740f38d9cafa
2019-06-09 18:43:51.147 -03:00 [INF] {"ClientId":"ro.client","ClientName":null,"RedirectUri":null,"Endpoint":"Token","SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","Scopes":"openid profile api1","GrantType":"password","Tokens":[{"TokenType":"access_token","TokenValue":"****_JtQ","$type":"Token"}],"Category":"Token","Name":"Token Issued Success","EventType":"Success","Id":2000,"Message":null,"ActivityId":"0HLND4E5DR755:00000002","TimeStamp":"2019-06-09T21:43:51.0000000Z","ProcessId":11580,"LocalIpAddress":"127.0.0.1:47182","RemoteIpAddress":"127.0.0.1","$type":"TokenIssuedSuccessEvent"}
2019-06-09 18:43:51.149 -03:00 [DBG] Token request success.
2019-06-09 18:43:56.533 -03:00 [DBG] CORS request made for path: /connect/userinfo from origin: http://localhost:3000
2019-06-09 18:43:56.537 -03:00 [DBG] Origin http://localhost:3000 is allowed: false
2019-06-09 18:43:56.537 -03:00 [WRN] CorsPolicyService did not allow origin: http://localhost:3000
2019-06-09 18:43:56.537 -03:00 [DBG] Request path /connect/userinfo matched to endpoint type Userinfo
2019-06-09 18:43:56.542 -03:00 [DBG] Endpoint enabled: Userinfo, successfully created handler: IdentityServer4.Endpoints.UserInfoEndpoint
2019-06-09 18:43:56.542 -03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.UserInfoEndpoint for /connect/userinfo
2019-06-09 18:43:56.547 -03:00 [WRN] Invalid HTTP method for userinfo endpoint.
2019-06-09 18:44:20.864 -03:00 [DBG] CORS request made for path: /connect/token from origin: http://localhost:5000/
2019-06-09 18:44:20.867 -03:00 [DBG] Origin http://localhost:5000/ is allowed: false
2019-06-09 18:44:20.867 -03:00 [WRN] CorsPolicyService did not allow origin: http://localhost:5000/
2019-06-09 18:44:20.867 -03:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-06-09 18:44:20.868 -03:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-06-09 18:44:20.868 -03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-06-09 18:44:20.868 -03:00 [DBG] Start token request.
2019-06-09 18:44:20.868 -03:00 [DBG] Start client validation
2019-06-09 18:44:20.868 -03:00 [DBG] Start parsing Basic Authentication secret
2019-06-09 18:44:20.869 -03:00 [DBG] Start parsing for secret in post body
2019-06-09 18:44:20.870 -03:00 [DBG] Parser found secret: PostBodySecretParser
2019-06-09 18:44:20.870 -03:00 [DBG] Secret id found: ro.client
2019-06-09 18:44:20.876 -03:00 [DBG] ro.client found in database: true
2019-06-09 18:44:20.877 -03:00 [DBG] client configuration validation for client ro.client succeeded.
2019-06-09 18:44:20.878 -03:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-06-09 18:44:20.879 -03:00 [DBG] Client validation success
2019-06-09 18:44:20.879 -03:00 [INF] {"ClientId":"ro.client","AuthenticationMethod":"SharedSecret","Category":"Authentication","Name":"Client Authentication Success","EventType":"Success","Id":1010,"Message":null,"ActivityId":"0HLND4E5DR755:00000003","TimeStamp":"2019-06-09T21:44:20.0000000Z","ProcessId":11580,"LocalIpAddress":"127.0.0.1:47182","RemoteIpAddress":"127.0.0.1","$type":"ClientAuthenticationSuccessEvent"}
2019-06-09 18:44:20.879 -03:00 [DBG] Start token request validation
2019-06-09 18:44:20.879 -03:00 [DBG] Start resource owner password token request validation
2019-06-09 18:44:20.881 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 18:44:20.887 -03:00 [DBG] Found ["api1"] API scopes in database
2019-06-09 18:44:20.888 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 18:44:20.891 -03:00 [DBG] Found ["api1"] API scopes in database
2019-06-09 18:44:20.904 -03:00 [INF] Credentials validated for username: alice
2019-06-09 18:44:20.905 -03:00 [INF] {"Username":"alice","Provider":null,"ProviderUserId":null,"SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","DisplayName":"alice","Endpoint":"Token","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HLND4E5DR755:00000003","TimeStamp":"2019-06-09T21:44:20.0000000Z","ProcessId":11580,"LocalIpAddress":"127.0.0.1:47182","RemoteIpAddress":"127.0.0.1","$type":"UserLoginSuccessEvent"}
2019-06-09 18:44:20.905 -03:00 [INF] {"Username":"alice","Provider":null,"ProviderUserId":null,"SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","DisplayName":null,"Endpoint":"Token","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HLND4E5DR755:00000003","TimeStamp":"2019-06-09T21:44:20.0000000Z","ProcessId":11580,"LocalIpAddress":"127.0.0.1:47182","RemoteIpAddress":"127.0.0.1","$type":"UserLoginSuccessEvent"}
2019-06-09 18:44:20.905 -03:00 [DBG] Resource owner password token request validation success.
2019-06-09 18:44:20.905 -03:00 [INF] Token request validation success
{"ClientId":"ro.client","ClientName":null,"GrantType":"password","Scopes":"api1 openid profile","AuthorizationCode":null,"RefreshToken":null,"UserName":"alice","AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"grant_type":"password","client_id":"ro.client","client_secret":"***REDACTED***","username":"alice","password":"***REDACTED***","scope":"openid profile api1"},"$type":"TokenRequestValidationLog"}
2019-06-09 18:44:20.905 -03:00 [DBG] Getting claims for access token for client: ro.client
2019-06-09 18:44:20.905 -03:00 [DBG] Getting claims for access token for subject: 4ba1c3a0-b786-421d-b88a-740f38d9cafa
2019-06-09 18:44:20.913 -03:00 [INF] {"ClientId":"ro.client","ClientName":null,"RedirectUri":null,"Endpoint":"Token","SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","Scopes":"openid profile api1","GrantType":"password","Tokens":[{"TokenType":"access_token","TokenValue":"****_Nyg","$type":"Token"}],"Category":"Token","Name":"Token Issued Success","EventType":"Success","Id":2000,"Message":null,"ActivityId":"0HLND4E5DR755:00000003","TimeStamp":"2019-06-09T21:44:20.0000000Z","ProcessId":11580,"LocalIpAddress":"127.0.0.1:47182","RemoteIpAddress":"127.0.0.1","$type":"TokenIssuedSuccessEvent"}
2019-06-09 18:44:20.913 -03:00 [DBG] Token request success.
2019-06-09 18:44:22.780 -03:00 [DBG] CORS request made for path: /connect/userinfo from origin: http://localhost:3000
2019-06-09 18:44:22.785 -03:00 [DBG] Origin http://localhost:3000 is allowed: false
2019-06-09 18:44:22.785 -03:00 [WRN] CorsPolicyService did not allow origin: http://localhost:3000
2019-06-09 18:44:22.785 -03:00 [DBG] Request path /connect/userinfo matched to endpoint type Userinfo
2019-06-09 18:44:22.786 -03:00 [DBG] Endpoint enabled: Userinfo, successfully created handler: IdentityServer4.Endpoints.UserInfoEndpoint
2019-06-09 18:44:22.786 -03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.UserInfoEndpoint for /connect/userinfo
2019-06-09 18:44:22.786 -03:00 [WRN] Invalid HTTP method for userinfo endpoint.
2019-06-09 18:46:11.233 -03:00 [INF] Starting IdentityServer4 version 2.3.2.0
2019-06-09 18:46:11.384 -03:00 [INF] Using the default authentication scheme Identity.Application for IdentityServer
2019-06-09 18:46:11.384 -03:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for authentication
2019-06-09 18:46:11.384 -03:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-in
2019-06-09 18:46:11.384 -03:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-out
2019-06-09 18:46:11.384 -03:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for challenge
2019-06-09 18:46:11.384 -03:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for forbid
2019-06-09 18:46:11.537 -03:00 [DBG] Starting grant removal
2019-06-09 18:46:11.843 -03:00 [DBG] Login Url: /Account/Login
2019-06-09 18:46:11.845 -03:00 [DBG] Login Return Url Parameter: ReturnUrl
2019-06-09 18:46:11.845 -03:00 [DBG] Logout Url: /Account/Logout
2019-06-09 18:46:11.845 -03:00 [DBG] ConsentUrl Url: /consent
2019-06-09 18:46:11.845 -03:00 [DBG] Consent Return Url Parameter: returnUrl
2019-06-09 18:46:11.845 -03:00 [DBG] Error Url: /home/error
2019-06-09 18:46:11.845 -03:00 [DBG] Error Id Parameter: errorId
2019-06-09 18:46:20.822 -03:00 [DBG] CORS request made for path: /connect/token from origin: http://localhost:5000/
2019-06-09 18:46:21.267 -03:00 [DBG] Origin http://localhost:5000/ is allowed: false
2019-06-09 18:46:21.272 -03:00 [WRN] CorsPolicyService did not allow origin: http://localhost:5000/
2019-06-09 18:46:21.273 -03:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-06-09 18:46:21.292 -03:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-06-09 18:46:21.292 -03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-06-09 18:46:21.298 -03:00 [DBG] Start token request.
2019-06-09 18:46:21.304 -03:00 [DBG] Start client validation
2019-06-09 18:46:21.309 -03:00 [DBG] Start parsing Basic Authentication secret
2019-06-09 18:46:21.312 -03:00 [DBG] Start parsing for secret in post body
2019-06-09 18:46:21.327 -03:00 [DBG] Parser found secret: PostBodySecretParser
2019-06-09 18:46:21.327 -03:00 [DBG] Secret id found: ro.client
2019-06-09 18:46:21.908 -03:00 [DBG] ro.client found in database: true
2019-06-09 18:46:21.914 -03:00 [DBG] client configuration validation for client ro.client succeeded.
2019-06-09 18:46:21.922 -03:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-06-09 18:46:21.922 -03:00 [DBG] Client validation success
2019-06-09 18:46:21.941 -03:00 [INF] {"ClientId":"ro.client","AuthenticationMethod":"SharedSecret","Category":"Authentication","Name":"Client Authentication Success","EventType":"Success","Id":1010,"Message":null,"ActivityId":"0HLND4FHONU7L:00000002","TimeStamp":"2019-06-09T21:46:21.0000000Z","ProcessId":11616,"LocalIpAddress":"127.0.0.1:26722","RemoteIpAddress":"127.0.0.1","$type":"ClientAuthenticationSuccessEvent"}
2019-06-09 18:46:21.952 -03:00 [DBG] Start token request validation
2019-06-09 18:46:21.963 -03:00 [DBG] Start resource owner password token request validation
2019-06-09 18:46:22.027 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 18:46:22.259 -03:00 [DBG] Found ["api1"] API scopes in database
2019-06-09 18:46:22.274 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 18:46:22.277 -03:00 [DBG] Found ["api1"] API scopes in database
2019-06-09 18:46:22.457 -03:00 [INF] Credentials validated for username: alice
2019-06-09 18:46:22.458 -03:00 [INF] {"Username":"alice","Provider":null,"ProviderUserId":null,"SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","DisplayName":"alice","Endpoint":"Token","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HLND4FHONU7L:00000002","TimeStamp":"2019-06-09T21:46:22.0000000Z","ProcessId":11616,"LocalIpAddress":"127.0.0.1:26722","RemoteIpAddress":"127.0.0.1","$type":"UserLoginSuccessEvent"}
2019-06-09 18:46:22.466 -03:00 [INF] {"Username":"alice","Provider":null,"ProviderUserId":null,"SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","DisplayName":null,"Endpoint":"Token","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HLND4FHONU7L:00000002","TimeStamp":"2019-06-09T21:46:22.0000000Z","ProcessId":11616,"LocalIpAddress":"127.0.0.1:26722","RemoteIpAddress":"127.0.0.1","$type":"UserLoginSuccessEvent"}
2019-06-09 18:46:22.466 -03:00 [DBG] Resource owner password token request validation success.
2019-06-09 18:46:22.475 -03:00 [INF] Token request validation success
{"ClientId":"ro.client","ClientName":null,"GrantType":"password","Scopes":"api1 openid profile","AuthorizationCode":null,"RefreshToken":null,"UserName":"alice","AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"grant_type":"password","client_id":"ro.client","client_secret":"***REDACTED***","username":"alice","password":"***REDACTED***","scope":"openid profile api1"},"$type":"TokenRequestValidationLog"}
2019-06-09 18:46:22.498 -03:00 [DBG] Getting claims for access token for client: ro.client
2019-06-09 18:46:22.498 -03:00 [DBG] Getting claims for access token for subject: 4ba1c3a0-b786-421d-b88a-740f38d9cafa
2019-06-09 18:46:22.677 -03:00 [INF] {"ClientId":"ro.client","ClientName":null,"RedirectUri":null,"Endpoint":"Token","SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","Scopes":"openid profile api1","GrantType":"password","Tokens":[{"TokenType":"access_token","TokenValue":"****wHXg","$type":"Token"}],"Category":"Token","Name":"Token Issued Success","EventType":"Success","Id":2000,"Message":null,"ActivityId":"0HLND4FHONU7L:00000002","TimeStamp":"2019-06-09T21:46:22.0000000Z","ProcessId":11616,"LocalIpAddress":"127.0.0.1:26722","RemoteIpAddress":"127.0.0.1","$type":"TokenIssuedSuccessEvent"}
2019-06-09 18:46:22.679 -03:00 [DBG] Token request success.
2019-06-09 18:46:24.711 -03:00 [DBG] CORS request made for path: /connect/userinfo from origin: http://localhost:3000
2019-06-09 18:46:24.713 -03:00 [DBG] Origin http://localhost:3000 is allowed: false
2019-06-09 18:46:24.713 -03:00 [WRN] CorsPolicyService did not allow origin: http://localhost:3000
2019-06-09 18:46:24.713 -03:00 [DBG] Request path /connect/userinfo matched to endpoint type Userinfo
2019-06-09 18:46:24.715 -03:00 [DBG] Endpoint enabled: Userinfo, successfully created handler: IdentityServer4.Endpoints.UserInfoEndpoint
2019-06-09 18:46:24.715 -03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.UserInfoEndpoint for /connect/userinfo
2019-06-09 18:46:24.723 -03:00 [DBG] Start userinfo request
2019-06-09 18:46:24.727 -03:00 [DBG] Bearer token found in header
2019-06-09 18:46:24.790 -03:00 [DBG] ro.client found in database: true
2019-06-09 18:46:24.790 -03:00 [DBG] client configuration validation for client ro.client succeeded.
2019-06-09 18:46:24.796 -03:00 [DBG] ro.client found in database: true
2019-06-09 18:46:24.796 -03:00 [DBG] client configuration validation for client ro.client succeeded.
2019-06-09 18:46:24.810 -03:00 [DBG] Calling into custom token validator: IdentityServer4.Validation.DefaultCustomTokenValidator
2019-06-09 18:46:24.812 -03:00 [DBG] Token validation success
{"ClientId":null,"ClientName":null,"ValidateLifetime":true,"AccessTokenType":"Jwt","ExpectedScope":"openid","TokenHandle":null,"JwtId":null,"Claims":{"nbf":1560116782,"exp":1560120382,"iss":"http://localhost:5000","aud":["http://localhost:5000/resources","api1"],"client_id":"ro.client","sub":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","auth_time":1560116782,"idp":"local","scope":["openid","profile","api1"],"amr":"pwd"},"$type":"TokenValidationLog"}
2019-06-09 18:46:24.820 -03:00 [DBG] Creating userinfo response
2019-06-09 18:46:24.824 -03:00 [DBG] Scopes in access token: openid profile api1
2019-06-09 18:46:24.825 -03:00 [DBG] Scopes in access token: openid profile api1
2019-06-09 18:46:24.834 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 18:46:24.834 -03:00 [DBG] Requested claim types: sub name family_name given_name middle_name nickname preferred_username profile picture website gender birthdate zoneinfo locale updated_at
2019-06-09 18:46:24.835 -03:00 [DBG] Scopes in access token: openid profile api1
2019-06-09 18:46:24.836 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 18:46:24.843 -03:00 [INF] Profile service returned the following claim types: sub name given_name family_name website preferred_username
2019-06-09 18:46:24.843 -03:00 [DBG] End userinfo request
2019-06-09 18:46:39.629 -03:00 [DBG] CORS request made for path: /connect/token from origin: http://localhost:5000/
2019-06-09 18:46:39.630 -03:00 [DBG] Origin http://localhost:5000/ is allowed: false
2019-06-09 18:46:39.630 -03:00 [WRN] CorsPolicyService did not allow origin: http://localhost:5000/
2019-06-09 18:46:39.630 -03:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-06-09 18:46:39.630 -03:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-06-09 18:46:39.631 -03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-06-09 18:46:39.631 -03:00 [DBG] Start token request.
2019-06-09 18:46:39.631 -03:00 [DBG] Start client validation
2019-06-09 18:46:39.631 -03:00 [DBG] Start parsing Basic Authentication secret
2019-06-09 18:46:39.631 -03:00 [DBG] Start parsing for secret in post body
2019-06-09 18:46:39.632 -03:00 [DBG] Parser found secret: PostBodySecretParser
2019-06-09 18:46:39.632 -03:00 [DBG] Secret id found: ro.client
2019-06-09 18:46:39.638 -03:00 [DBG] ro.client found in database: true
2019-06-09 18:46:39.638 -03:00 [DBG] client configuration validation for client ro.client succeeded.
2019-06-09 18:46:39.638 -03:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-06-09 18:46:39.638 -03:00 [DBG] Client validation success
2019-06-09 18:46:39.638 -03:00 [INF] {"ClientId":"ro.client","AuthenticationMethod":"SharedSecret","Category":"Authentication","Name":"Client Authentication Success","EventType":"Success","Id":1010,"Message":null,"ActivityId":"0HLND4FHONU7M:00000003","TimeStamp":"2019-06-09T21:46:39.0000000Z","ProcessId":11616,"LocalIpAddress":"127.0.0.1:26722","RemoteIpAddress":"127.0.0.1","$type":"ClientAuthenticationSuccessEvent"}
2019-06-09 18:46:39.638 -03:00 [DBG] Start token request validation
2019-06-09 18:46:39.638 -03:00 [DBG] Start resource owner password token request validation
2019-06-09 18:46:39.640 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 18:46:39.644 -03:00 [DBG] Found ["api1"] API scopes in database
2019-06-09 18:46:39.646 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 18:46:39.650 -03:00 [DBG] Found ["api1"] API scopes in database
2019-06-09 18:46:39.665 -03:00 [INF] Credentials validated for username: alice
2019-06-09 18:46:39.666 -03:00 [INF] {"Username":"alice","Provider":null,"ProviderUserId":null,"SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","DisplayName":"alice","Endpoint":"Token","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HLND4FHONU7M:00000003","TimeStamp":"2019-06-09T21:46:39.0000000Z","ProcessId":11616,"LocalIpAddress":"127.0.0.1:26722","RemoteIpAddress":"127.0.0.1","$type":"UserLoginSuccessEvent"}
2019-06-09 18:46:39.666 -03:00 [INF] {"Username":"alice","Provider":null,"ProviderUserId":null,"SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","DisplayName":null,"Endpoint":"Token","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HLND4FHONU7M:00000003","TimeStamp":"2019-06-09T21:46:39.0000000Z","ProcessId":11616,"LocalIpAddress":"127.0.0.1:26722","RemoteIpAddress":"127.0.0.1","$type":"UserLoginSuccessEvent"}
2019-06-09 18:46:39.667 -03:00 [DBG] Resource owner password token request validation success.
2019-06-09 18:46:39.667 -03:00 [INF] Token request validation success
{"ClientId":"ro.client","ClientName":null,"GrantType":"password","Scopes":"api1 openid profile","AuthorizationCode":null,"RefreshToken":null,"UserName":"alice","AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"grant_type":"password","client_id":"ro.client","client_secret":"***REDACTED***","username":"alice","password":"***REDACTED***","scope":"openid profile api1"},"$type":"TokenRequestValidationLog"}
2019-06-09 18:46:39.667 -03:00 [DBG] Getting claims for access token for client: ro.client
2019-06-09 18:46:39.668 -03:00 [DBG] Getting claims for access token for subject: 4ba1c3a0-b786-421d-b88a-740f38d9cafa
2019-06-09 18:46:39.675 -03:00 [INF] {"ClientId":"ro.client","ClientName":null,"RedirectUri":null,"Endpoint":"Token","SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","Scopes":"openid profile api1","GrantType":"password","Tokens":[{"TokenType":"access_token","TokenValue":"****xLpA","$type":"Token"}],"Category":"Token","Name":"Token Issued Success","EventType":"Success","Id":2000,"Message":null,"ActivityId":"0HLND4FHONU7M:00000003","TimeStamp":"2019-06-09T21:46:39.0000000Z","ProcessId":11616,"LocalIpAddress":"127.0.0.1:26722","RemoteIpAddress":"127.0.0.1","$type":"TokenIssuedSuccessEvent"}
2019-06-09 18:46:39.675 -03:00 [DBG] Token request success.
2019-06-09 18:46:42.295 -03:00 [DBG] CORS request made for path: /connect/userinfo from origin: http://localhost:3000
2019-06-09 18:46:42.299 -03:00 [DBG] Origin http://localhost:3000 is allowed: false
2019-06-09 18:46:42.299 -03:00 [WRN] CorsPolicyService did not allow origin: http://localhost:3000
2019-06-09 18:46:42.299 -03:00 [DBG] Request path /connect/userinfo matched to endpoint type Userinfo
2019-06-09 18:46:42.300 -03:00 [DBG] Endpoint enabled: Userinfo, successfully created handler: IdentityServer4.Endpoints.UserInfoEndpoint
2019-06-09 18:46:42.300 -03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.UserInfoEndpoint for /connect/userinfo
2019-06-09 18:46:42.301 -03:00 [DBG] Start userinfo request
2019-06-09 18:46:42.301 -03:00 [DBG] Bearer token found in header
2019-06-09 18:46:42.316 -03:00 [DBG] ro.client found in database: true
2019-06-09 18:46:42.316 -03:00 [DBG] client configuration validation for client ro.client succeeded.
2019-06-09 18:46:42.321 -03:00 [DBG] ro.client found in database: true
2019-06-09 18:46:42.321 -03:00 [DBG] client configuration validation for client ro.client succeeded.
2019-06-09 18:46:42.325 -03:00 [DBG] Calling into custom token validator: IdentityServer4.Validation.DefaultCustomTokenValidator
2019-06-09 18:46:42.326 -03:00 [DBG] Token validation success
{"ClientId":null,"ClientName":null,"ValidateLifetime":true,"AccessTokenType":"Jwt","ExpectedScope":"openid","TokenHandle":null,"JwtId":null,"Claims":{"nbf":1560116799,"exp":1560120399,"iss":"http://localhost:5000","aud":["http://localhost:5000/resources","api1"],"client_id":"ro.client","sub":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","auth_time":1560116799,"idp":"local","scope":["openid","profile","api1"],"amr":"pwd"},"$type":"TokenValidationLog"}
2019-06-09 18:46:42.326 -03:00 [DBG] Creating userinfo response
2019-06-09 18:46:42.326 -03:00 [DBG] Scopes in access token: openid profile api1
2019-06-09 18:46:42.326 -03:00 [DBG] Scopes in access token: openid profile api1
2019-06-09 18:46:42.328 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 18:46:42.328 -03:00 [DBG] Requested claim types: sub name family_name given_name middle_name nickname preferred_username profile picture website gender birthdate zoneinfo locale updated_at
2019-06-09 18:46:42.328 -03:00 [DBG] Scopes in access token: openid profile api1
2019-06-09 18:46:42.330 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 18:46:42.337 -03:00 [INF] Profile service returned the following claim types: sub name given_name family_name website preferred_username
2019-06-09 18:46:42.337 -03:00 [DBG] End userinfo request
2019-06-09 18:48:24.295 -03:00 [INF] Starting IdentityServer4 version 2.3.2.0
2019-06-09 18:48:24.456 -03:00 [INF] Using the default authentication scheme Identity.Application for IdentityServer
2019-06-09 18:48:24.456 -03:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for authentication
2019-06-09 18:48:24.456 -03:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-in
2019-06-09 18:48:24.456 -03:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-out
2019-06-09 18:48:24.457 -03:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for challenge
2019-06-09 18:48:24.457 -03:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for forbid
2019-06-09 18:48:24.621 -03:00 [DBG] Starting grant removal
2019-06-09 18:48:24.840 -03:00 [DBG] CORS request made for path: /connect/token from origin: http://localhost:3000
2019-06-09 18:48:24.855 -03:00 [DBG] Login Url: /Account/Login
2019-06-09 18:48:24.855 -03:00 [DBG] Login Return Url Parameter: ReturnUrl
2019-06-09 18:48:24.855 -03:00 [DBG] Logout Url: /Account/Logout
2019-06-09 18:48:24.855 -03:00 [DBG] ConsentUrl Url: /consent
2019-06-09 18:48:24.855 -03:00 [DBG] Consent Return Url Parameter: returnUrl
2019-06-09 18:48:24.855 -03:00 [DBG] Error Url: /home/error
2019-06-09 18:48:24.855 -03:00 [DBG] Error Id Parameter: errorId
2019-06-09 18:48:25.494 -03:00 [DBG] Origin http://localhost:3000 is allowed: false
2019-06-09 18:48:25.500 -03:00 [WRN] CorsPolicyService did not allow origin: http://localhost:3000
2019-06-09 18:48:25.501 -03:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-06-09 18:48:25.526 -03:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-06-09 18:48:25.526 -03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-06-09 18:48:25.533 -03:00 [DBG] Start token request.
2019-06-09 18:48:25.539 -03:00 [DBG] Start client validation
2019-06-09 18:48:25.547 -03:00 [DBG] Start parsing Basic Authentication secret
2019-06-09 18:48:25.552 -03:00 [DBG] Start parsing for secret in post body
2019-06-09 18:48:25.575 -03:00 [DBG] Parser found secret: PostBodySecretParser
2019-06-09 18:48:25.575 -03:00 [DBG] Secret id found: ro.client
2019-06-09 18:48:26.219 -03:00 [DBG] ro.client found in database: true
2019-06-09 18:48:26.226 -03:00 [DBG] client configuration validation for client ro.client succeeded.
2019-06-09 18:48:26.236 -03:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-06-09 18:48:26.236 -03:00 [DBG] Client validation success
2019-06-09 18:48:26.257 -03:00 [INF] {"ClientId":"ro.client","AuthenticationMethod":"SharedSecret","Category":"Authentication","Name":"Client Authentication Success","EventType":"Success","Id":1010,"Message":null,"ActivityId":"0HLND4GPCPFD0:00000001","TimeStamp":"2019-06-09T21:48:26.0000000Z","ProcessId":28108,"LocalIpAddress":"127.0.0.1:10630","RemoteIpAddress":"::1","$type":"ClientAuthenticationSuccessEvent"}
2019-06-09 18:48:26.272 -03:00 [DBG] Start token request validation
2019-06-09 18:48:26.283 -03:00 [DBG] Start resource owner password token request validation
2019-06-09 18:48:26.342 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 18:48:26.525 -03:00 [DBG] Found ["api1"] API scopes in database
2019-06-09 18:48:26.545 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 18:48:26.548 -03:00 [DBG] Found ["api1"] API scopes in database
2019-06-09 18:48:26.762 -03:00 [INF] Credentials validated for username: alice
2019-06-09 18:48:26.763 -03:00 [INF] {"Username":"alice","Provider":null,"ProviderUserId":null,"SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","DisplayName":"alice","Endpoint":"Token","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HLND4GPCPFD0:00000001","TimeStamp":"2019-06-09T21:48:26.0000000Z","ProcessId":28108,"LocalIpAddress":"127.0.0.1:10630","RemoteIpAddress":"::1","$type":"UserLoginSuccessEvent"}
2019-06-09 18:48:26.773 -03:00 [INF] {"Username":"alice","Provider":null,"ProviderUserId":null,"SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","DisplayName":null,"Endpoint":"Token","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HLND4GPCPFD0:00000001","TimeStamp":"2019-06-09T21:48:26.0000000Z","ProcessId":28108,"LocalIpAddress":"127.0.0.1:10630","RemoteIpAddress":"::1","$type":"UserLoginSuccessEvent"}
2019-06-09 18:48:26.773 -03:00 [DBG] Resource owner password token request validation success.
2019-06-09 18:48:26.783 -03:00 [INF] Token request validation success
{"ClientId":"ro.client","ClientName":null,"GrantType":"password","Scopes":"api1 openid profile","AuthorizationCode":null,"RefreshToken":null,"UserName":"alice","AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"grant_type":"password","client_id":"ro.client","client_secret":"***REDACTED***","username":"alice","password":"***REDACTED***","scope":"openid profile api1"},"$type":"TokenRequestValidationLog"}
2019-06-09 18:48:26.812 -03:00 [DBG] Getting claims for access token for client: ro.client
2019-06-09 18:48:26.813 -03:00 [DBG] Getting claims for access token for subject: 4ba1c3a0-b786-421d-b88a-740f38d9cafa
2019-06-09 18:48:27.011 -03:00 [INF] {"ClientId":"ro.client","ClientName":null,"RedirectUri":null,"Endpoint":"Token","SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","Scopes":"openid profile api1","GrantType":"password","Tokens":[{"TokenType":"access_token","TokenValue":"****CE5g","$type":"Token"}],"Category":"Token","Name":"Token Issued Success","EventType":"Success","Id":2000,"Message":null,"ActivityId":"0HLND4GPCPFD0:00000001","TimeStamp":"2019-06-09T21:48:27.0000000Z","ProcessId":28108,"LocalIpAddress":"127.0.0.1:10630","RemoteIpAddress":"::1","$type":"TokenIssuedSuccessEvent"}
2019-06-09 18:48:27.012 -03:00 [DBG] Token request success.
2019-06-09 18:48:27.084 -03:00 [DBG] Request path /connect/userinfo matched to endpoint type Userinfo
2019-06-09 18:48:27.086 -03:00 [DBG] Endpoint enabled: Userinfo, successfully created handler: IdentityServer4.Endpoints.UserInfoEndpoint
2019-06-09 18:48:27.086 -03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.UserInfoEndpoint for /connect/userinfo
2019-06-09 18:48:27.094 -03:00 [DBG] Start userinfo request
2019-06-09 18:48:27.097 -03:00 [DBG] Bearer token found in header
2019-06-09 18:48:27.164 -03:00 [DBG] ro.client found in database: true
2019-06-09 18:48:27.164 -03:00 [DBG] client configuration validation for client ro.client succeeded.
2019-06-09 18:48:27.170 -03:00 [DBG] ro.client found in database: true
2019-06-09 18:48:27.170 -03:00 [DBG] client configuration validation for client ro.client succeeded.
2019-06-09 18:48:27.185 -03:00 [DBG] Calling into custom token validator: IdentityServer4.Validation.DefaultCustomTokenValidator
2019-06-09 18:48:27.186 -03:00 [DBG] Token validation success
{"ClientId":null,"ClientName":null,"ValidateLifetime":true,"AccessTokenType":"Jwt","ExpectedScope":"openid","TokenHandle":null,"JwtId":null,"Claims":{"nbf":1560116906,"exp":1560120506,"iss":"http://localhost:5000","aud":["http://localhost:5000/resources","api1"],"client_id":"ro.client","sub":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","auth_time":1560116906,"idp":"local","scope":["openid","profile","api1"],"amr":"pwd"},"$type":"TokenValidationLog"}
2019-06-09 18:48:27.195 -03:00 [DBG] Creating userinfo response
2019-06-09 18:48:27.198 -03:00 [DBG] Scopes in access token: openid profile api1
2019-06-09 18:48:27.201 -03:00 [DBG] Scopes in access token: openid profile api1
2019-06-09 18:48:27.205 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 18:48:27.205 -03:00 [DBG] Requested claim types: sub name family_name given_name middle_name nickname preferred_username profile picture website gender birthdate zoneinfo locale updated_at
2019-06-09 18:48:27.206 -03:00 [DBG] Scopes in access token: openid profile api1
2019-06-09 18:48:27.208 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 18:48:27.214 -03:00 [INF] Profile service returned the following claim types: sub name given_name family_name website preferred_username
2019-06-09 18:48:27.214 -03:00 [DBG] End userinfo request
2019-06-09 18:48:43.605 -03:00 [DBG] CORS request made for path: /connect/token from origin: http://localhost:3000
2019-06-09 18:48:43.607 -03:00 [DBG] Origin http://localhost:3000 is allowed: false
2019-06-09 18:48:43.607 -03:00 [WRN] CorsPolicyService did not allow origin: http://localhost:3000
2019-06-09 18:48:43.607 -03:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-06-09 18:48:43.608 -03:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-06-09 18:48:43.608 -03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-06-09 18:48:43.608 -03:00 [DBG] Start token request.
2019-06-09 18:48:43.608 -03:00 [DBG] Start client validation
2019-06-09 18:48:43.608 -03:00 [DBG] Start parsing Basic Authentication secret
2019-06-09 18:48:43.608 -03:00 [DBG] Start parsing for secret in post body
2019-06-09 18:48:43.609 -03:00 [DBG] Parser found secret: PostBodySecretParser
2019-06-09 18:48:43.609 -03:00 [DBG] Secret id found: ro.client
2019-06-09 18:48:43.613 -03:00 [DBG] ro.client found in database: true
2019-06-09 18:48:43.613 -03:00 [DBG] client configuration validation for client ro.client succeeded.
2019-06-09 18:48:43.613 -03:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-06-09 18:48:43.614 -03:00 [DBG] Client validation success
2019-06-09 18:48:43.614 -03:00 [INF] {"ClientId":"ro.client","AuthenticationMethod":"SharedSecret","Category":"Authentication","Name":"Client Authentication Success","EventType":"Success","Id":1010,"Message":null,"ActivityId":"0HLND4GPCPFCV:00000002","TimeStamp":"2019-06-09T21:48:43.0000000Z","ProcessId":28108,"LocalIpAddress":"127.0.0.1:10630","RemoteIpAddress":"::1","$type":"ClientAuthenticationSuccessEvent"}
2019-06-09 18:48:43.614 -03:00 [DBG] Start token request validation
2019-06-09 18:48:43.614 -03:00 [DBG] Start resource owner password token request validation
2019-06-09 18:48:43.617 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 18:48:43.622 -03:00 [DBG] Found ["api1"] API scopes in database
2019-06-09 18:48:43.624 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 18:48:43.627 -03:00 [DBG] Found ["api1"] API scopes in database
2019-06-09 18:48:43.638 -03:00 [INF] Credentials validated for username: alice
2019-06-09 18:48:43.638 -03:00 [INF] {"Username":"alice","Provider":null,"ProviderUserId":null,"SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","DisplayName":"alice","Endpoint":"Token","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HLND4GPCPFCV:00000002","TimeStamp":"2019-06-09T21:48:43.0000000Z","ProcessId":28108,"LocalIpAddress":"127.0.0.1:10630","RemoteIpAddress":"::1","$type":"UserLoginSuccessEvent"}
2019-06-09 18:48:43.638 -03:00 [INF] {"Username":"alice","Provider":null,"ProviderUserId":null,"SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","DisplayName":null,"Endpoint":"Token","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HLND4GPCPFCV:00000002","TimeStamp":"2019-06-09T21:48:43.0000000Z","ProcessId":28108,"LocalIpAddress":"127.0.0.1:10630","RemoteIpAddress":"::1","$type":"UserLoginSuccessEvent"}
2019-06-09 18:48:43.639 -03:00 [DBG] Resource owner password token request validation success.
2019-06-09 18:48:43.639 -03:00 [INF] Token request validation success
{"ClientId":"ro.client","ClientName":null,"GrantType":"password","Scopes":"api1 openid profile","AuthorizationCode":null,"RefreshToken":null,"UserName":"alice","AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"grant_type":"password","client_id":"ro.client","client_secret":"***REDACTED***","username":"alice","password":"***REDACTED***","scope":"openid profile api1"},"$type":"TokenRequestValidationLog"}
2019-06-09 18:48:43.639 -03:00 [DBG] Getting claims for access token for client: ro.client
2019-06-09 18:48:43.639 -03:00 [DBG] Getting claims for access token for subject: 4ba1c3a0-b786-421d-b88a-740f38d9cafa
2019-06-09 18:48:43.646 -03:00 [INF] {"ClientId":"ro.client","ClientName":null,"RedirectUri":null,"Endpoint":"Token","SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","Scopes":"openid profile api1","GrantType":"password","Tokens":[{"TokenType":"access_token","TokenValue":"****B0vw","$type":"Token"}],"Category":"Token","Name":"Token Issued Success","EventType":"Success","Id":2000,"Message":null,"ActivityId":"0HLND4GPCPFCV:00000002","TimeStamp":"2019-06-09T21:48:43.0000000Z","ProcessId":28108,"LocalIpAddress":"127.0.0.1:10630","RemoteIpAddress":"::1","$type":"TokenIssuedSuccessEvent"}
2019-06-09 18:48:43.646 -03:00 [DBG] Token request success.
2019-06-09 18:48:48.455 -03:00 [DBG] Request path /connect/userinfo matched to endpoint type Userinfo
2019-06-09 18:48:48.456 -03:00 [DBG] Endpoint enabled: Userinfo, successfully created handler: IdentityServer4.Endpoints.UserInfoEndpoint
2019-06-09 18:48:48.456 -03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.UserInfoEndpoint for /connect/userinfo
2019-06-09 18:48:48.456 -03:00 [DBG] Start userinfo request
2019-06-09 18:48:48.456 -03:00 [DBG] Bearer token found in header
2019-06-09 18:48:48.465 -03:00 [DBG] ro.client found in database: true
2019-06-09 18:48:48.465 -03:00 [DBG] client configuration validation for client ro.client succeeded.
2019-06-09 18:48:48.474 -03:00 [DBG] ro.client found in database: true
2019-06-09 18:48:48.475 -03:00 [DBG] client configuration validation for client ro.client succeeded.
2019-06-09 18:48:48.479 -03:00 [DBG] Calling into custom token validator: IdentityServer4.Validation.DefaultCustomTokenValidator
2019-06-09 18:48:48.479 -03:00 [DBG] Token validation success
{"ClientId":null,"ClientName":null,"ValidateLifetime":true,"AccessTokenType":"Jwt","ExpectedScope":"openid","TokenHandle":null,"JwtId":null,"Claims":{"nbf":1560116923,"exp":1560120523,"iss":"http://localhost:5000","aud":["http://localhost:5000/resources","api1"],"client_id":"ro.client","sub":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","auth_time":1560116923,"idp":"local","scope":["openid","profile","api1"],"amr":"pwd"},"$type":"TokenValidationLog"}
2019-06-09 18:48:48.480 -03:00 [DBG] Creating userinfo response
2019-06-09 18:48:48.480 -03:00 [DBG] Scopes in access token: openid profile api1
2019-06-09 18:48:48.480 -03:00 [DBG] Scopes in access token: openid profile api1
2019-06-09 18:48:48.482 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 18:48:48.482 -03:00 [DBG] Requested claim types: sub name family_name given_name middle_name nickname preferred_username profile picture website gender birthdate zoneinfo locale updated_at
2019-06-09 18:48:48.482 -03:00 [DBG] Scopes in access token: openid profile api1
2019-06-09 18:48:48.486 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 18:48:48.490 -03:00 [INF] Profile service returned the following claim types: sub name given_name family_name website preferred_username
2019-06-09 18:48:48.490 -03:00 [DBG] End userinfo request
2019-06-09 18:50:50.238 -03:00 [DBG] CORS request made for path: /connect/token from origin: http://localhost:3000
2019-06-09 18:50:50.242 -03:00 [DBG] Origin http://localhost:3000 is allowed: false
2019-06-09 18:50:50.242 -03:00 [WRN] CorsPolicyService did not allow origin: http://localhost:3000
2019-06-09 18:50:50.242 -03:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-06-09 18:50:50.243 -03:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-06-09 18:50:50.243 -03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-06-09 18:50:50.243 -03:00 [DBG] Start token request.
2019-06-09 18:50:50.243 -03:00 [DBG] Start client validation
2019-06-09 18:50:50.243 -03:00 [DBG] Start parsing Basic Authentication secret
2019-06-09 18:50:50.243 -03:00 [DBG] Start parsing for secret in post body
2019-06-09 18:50:50.243 -03:00 [DBG] Parser found secret: PostBodySecretParser
2019-06-09 18:50:50.243 -03:00 [DBG] Secret id found: ro.client
2019-06-09 18:50:50.247 -03:00 [DBG] ro.client found in database: true
2019-06-09 18:50:50.247 -03:00 [DBG] client configuration validation for client ro.client succeeded.
2019-06-09 18:50:50.248 -03:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-06-09 18:50:50.248 -03:00 [DBG] Client validation success
2019-06-09 18:50:50.248 -03:00 [INF] {"ClientId":"ro.client","AuthenticationMethod":"SharedSecret","Category":"Authentication","Name":"Client Authentication Success","EventType":"Success","Id":1010,"Message":null,"ActivityId":"0HLND4GPCPFD1:00000001","TimeStamp":"2019-06-09T21:50:50.0000000Z","ProcessId":28108,"LocalIpAddress":"127.0.0.1:10630","RemoteIpAddress":"::1","$type":"ClientAuthenticationSuccessEvent"}
2019-06-09 18:50:50.248 -03:00 [DBG] Start token request validation
2019-06-09 18:50:50.248 -03:00 [DBG] Start resource owner password token request validation
2019-06-09 18:50:50.250 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 18:50:50.252 -03:00 [DBG] Found ["api1"] API scopes in database
2019-06-09 18:50:50.255 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 18:50:50.258 -03:00 [DBG] Found ["api1"] API scopes in database
2019-06-09 18:50:50.268 -03:00 [INF] Credentials validated for username: alice
2019-06-09 18:50:50.268 -03:00 [INF] {"Username":"alice","Provider":null,"ProviderUserId":null,"SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","DisplayName":"alice","Endpoint":"Token","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HLND4GPCPFD1:00000001","TimeStamp":"2019-06-09T21:50:50.0000000Z","ProcessId":28108,"LocalIpAddress":"127.0.0.1:10630","RemoteIpAddress":"::1","$type":"UserLoginSuccessEvent"}
2019-06-09 18:50:50.269 -03:00 [INF] {"Username":"alice","Provider":null,"ProviderUserId":null,"SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","DisplayName":null,"Endpoint":"Token","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HLND4GPCPFD1:00000001","TimeStamp":"2019-06-09T21:50:50.0000000Z","ProcessId":28108,"LocalIpAddress":"127.0.0.1:10630","RemoteIpAddress":"::1","$type":"UserLoginSuccessEvent"}
2019-06-09 18:50:50.269 -03:00 [DBG] Resource owner password token request validation success.
2019-06-09 18:50:50.269 -03:00 [INF] Token request validation success
{"ClientId":"ro.client","ClientName":null,"GrantType":"password","Scopes":"api1 openid profile","AuthorizationCode":null,"RefreshToken":null,"UserName":"alice","AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"grant_type":"password","client_id":"ro.client","client_secret":"***REDACTED***","username":"alice","password":"***REDACTED***","scope":"openid profile api1"},"$type":"TokenRequestValidationLog"}
2019-06-09 18:50:50.269 -03:00 [DBG] Getting claims for access token for client: ro.client
2019-06-09 18:50:50.269 -03:00 [DBG] Getting claims for access token for subject: 4ba1c3a0-b786-421d-b88a-740f38d9cafa
2019-06-09 18:50:50.277 -03:00 [INF] {"ClientId":"ro.client","ClientName":null,"RedirectUri":null,"Endpoint":"Token","SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","Scopes":"openid profile api1","GrantType":"password","Tokens":[{"TokenType":"access_token","TokenValue":"****FnqA","$type":"Token"}],"Category":"Token","Name":"Token Issued Success","EventType":"Success","Id":2000,"Message":null,"ActivityId":"0HLND4GPCPFD1:00000001","TimeStamp":"2019-06-09T21:50:50.0000000Z","ProcessId":28108,"LocalIpAddress":"127.0.0.1:10630","RemoteIpAddress":"::1","$type":"TokenIssuedSuccessEvent"}
2019-06-09 18:50:50.277 -03:00 [DBG] Token request success.
2019-06-09 18:50:50.310 -03:00 [DBG] Request path /connect/userinfo matched to endpoint type Userinfo
2019-06-09 18:50:50.311 -03:00 [DBG] Endpoint enabled: Userinfo, successfully created handler: IdentityServer4.Endpoints.UserInfoEndpoint
2019-06-09 18:50:50.311 -03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.UserInfoEndpoint for /connect/userinfo
2019-06-09 18:50:50.311 -03:00 [DBG] Start userinfo request
2019-06-09 18:50:50.311 -03:00 [DBG] Bearer token found in header
2019-06-09 18:50:50.317 -03:00 [DBG] ro.client found in database: true
2019-06-09 18:50:50.317 -03:00 [DBG] client configuration validation for client ro.client succeeded.
2019-06-09 18:50:50.323 -03:00 [DBG] ro.client found in database: true
2019-06-09 18:50:50.323 -03:00 [DBG] client configuration validation for client ro.client succeeded.
2019-06-09 18:50:50.334 -03:00 [DBG] Calling into custom token validator: IdentityServer4.Validation.DefaultCustomTokenValidator
2019-06-09 18:50:50.334 -03:00 [DBG] Token validation success
{"ClientId":null,"ClientName":null,"ValidateLifetime":true,"AccessTokenType":"Jwt","ExpectedScope":"openid","TokenHandle":null,"JwtId":null,"Claims":{"nbf":1560117050,"exp":1560120650,"iss":"http://localhost:5000","aud":["http://localhost:5000/resources","api1"],"client_id":"ro.client","sub":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","auth_time":1560117050,"idp":"local","scope":["openid","profile","api1"],"amr":"pwd"},"$type":"TokenValidationLog"}
2019-06-09 18:50:50.334 -03:00 [DBG] Creating userinfo response
2019-06-09 18:50:50.334 -03:00 [DBG] Scopes in access token: openid profile api1
2019-06-09 18:50:50.335 -03:00 [DBG] Scopes in access token: openid profile api1
2019-06-09 18:50:50.337 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 18:50:50.338 -03:00 [DBG] Requested claim types: sub name family_name given_name middle_name nickname preferred_username profile picture website gender birthdate zoneinfo locale updated_at
2019-06-09 18:50:50.338 -03:00 [DBG] Scopes in access token: openid profile api1
2019-06-09 18:50:50.341 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 18:50:50.355 -03:00 [INF] Profile service returned the following claim types: sub name given_name family_name website preferred_username
2019-06-09 18:50:50.355 -03:00 [DBG] End userinfo request
2019-06-09 18:52:21.807 -03:00 [DBG] CORS request made for path: /connect/token from origin: http://localhost:3000
2019-06-09 18:52:21.809 -03:00 [DBG] Origin http://localhost:3000 is allowed: false
2019-06-09 18:52:21.809 -03:00 [WRN] CorsPolicyService did not allow origin: http://localhost:3000
2019-06-09 18:52:21.809 -03:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-06-09 18:52:21.809 -03:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-06-09 18:52:21.810 -03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-06-09 18:52:21.810 -03:00 [DBG] Start token request.
2019-06-09 18:52:21.810 -03:00 [DBG] Start client validation
2019-06-09 18:52:21.810 -03:00 [DBG] Start parsing Basic Authentication secret
2019-06-09 18:52:21.810 -03:00 [DBG] Start parsing for secret in post body
2019-06-09 18:52:21.810 -03:00 [DBG] Parser found secret: PostBodySecretParser
2019-06-09 18:52:21.810 -03:00 [DBG] Secret id found: ro.client
2019-06-09 18:52:21.818 -03:00 [DBG] ro.client found in database: true
2019-06-09 18:52:21.818 -03:00 [DBG] client configuration validation for client ro.client succeeded.
2019-06-09 18:52:21.818 -03:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-06-09 18:52:21.818 -03:00 [DBG] Client validation success
2019-06-09 18:52:21.818 -03:00 [INF] {"ClientId":"ro.client","AuthenticationMethod":"SharedSecret","Category":"Authentication","Name":"Client Authentication Success","EventType":"Success","Id":1010,"Message":null,"ActivityId":"0HLND4GPCPFD2:00000001","TimeStamp":"2019-06-09T21:52:21.0000000Z","ProcessId":28108,"LocalIpAddress":"127.0.0.1:10630","RemoteIpAddress":"::1","$type":"ClientAuthenticationSuccessEvent"}
2019-06-09 18:52:21.818 -03:00 [DBG] Start token request validation
2019-06-09 18:52:21.818 -03:00 [DBG] Start resource owner password token request validation
2019-06-09 18:52:21.820 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 18:52:21.827 -03:00 [DBG] Found ["api1"] API scopes in database
2019-06-09 18:52:21.829 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 18:52:21.833 -03:00 [DBG] Found ["api1"] API scopes in database
2019-06-09 18:52:21.847 -03:00 [INF] Credentials validated for username: alice
2019-06-09 18:52:21.847 -03:00 [INF] {"Username":"alice","Provider":null,"ProviderUserId":null,"SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","DisplayName":"alice","Endpoint":"Token","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HLND4GPCPFD2:00000001","TimeStamp":"2019-06-09T21:52:21.0000000Z","ProcessId":28108,"LocalIpAddress":"127.0.0.1:10630","RemoteIpAddress":"::1","$type":"UserLoginSuccessEvent"}
2019-06-09 18:52:21.847 -03:00 [INF] {"Username":"alice","Provider":null,"ProviderUserId":null,"SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","DisplayName":null,"Endpoint":"Token","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HLND4GPCPFD2:00000001","TimeStamp":"2019-06-09T21:52:21.0000000Z","ProcessId":28108,"LocalIpAddress":"127.0.0.1:10630","RemoteIpAddress":"::1","$type":"UserLoginSuccessEvent"}
2019-06-09 18:52:21.847 -03:00 [DBG] Resource owner password token request validation success.
2019-06-09 18:52:21.847 -03:00 [INF] Token request validation success
{"ClientId":"ro.client","ClientName":null,"GrantType":"password","Scopes":"api1 openid profile","AuthorizationCode":null,"RefreshToken":null,"UserName":"alice","AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"grant_type":"password","client_id":"ro.client","client_secret":"***REDACTED***","username":"alice","password":"***REDACTED***","scope":"openid profile api1"},"$type":"TokenRequestValidationLog"}
2019-06-09 18:52:21.847 -03:00 [DBG] Getting claims for access token for client: ro.client
2019-06-09 18:52:21.847 -03:00 [DBG] Getting claims for access token for subject: 4ba1c3a0-b786-421d-b88a-740f38d9cafa
2019-06-09 18:52:21.854 -03:00 [INF] {"ClientId":"ro.client","ClientName":null,"RedirectUri":null,"Endpoint":"Token","SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","Scopes":"openid profile api1","GrantType":"password","Tokens":[{"TokenType":"access_token","TokenValue":"****EgNw","$type":"Token"}],"Category":"Token","Name":"Token Issued Success","EventType":"Success","Id":2000,"Message":null,"ActivityId":"0HLND4GPCPFD2:00000001","TimeStamp":"2019-06-09T21:52:21.0000000Z","ProcessId":28108,"LocalIpAddress":"127.0.0.1:10630","RemoteIpAddress":"::1","$type":"TokenIssuedSuccessEvent"}
2019-06-09 18:52:21.854 -03:00 [DBG] Token request success.
2019-06-09 18:52:21.895 -03:00 [DBG] Request path /connect/userinfo matched to endpoint type Userinfo
2019-06-09 18:52:21.896 -03:00 [DBG] Endpoint enabled: Userinfo, successfully created handler: IdentityServer4.Endpoints.UserInfoEndpoint
2019-06-09 18:52:21.896 -03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.UserInfoEndpoint for /connect/userinfo
2019-06-09 18:52:21.896 -03:00 [DBG] Start userinfo request
2019-06-09 18:52:21.896 -03:00 [DBG] Bearer token found in header
2019-06-09 18:52:21.904 -03:00 [DBG] ro.client found in database: true
2019-06-09 18:52:21.904 -03:00 [DBG] client configuration validation for client ro.client succeeded.
2019-06-09 18:52:21.906 -03:00 [DBG] ro.client found in database: true
2019-06-09 18:52:21.906 -03:00 [DBG] client configuration validation for client ro.client succeeded.
2019-06-09 18:52:21.910 -03:00 [DBG] Calling into custom token validator: IdentityServer4.Validation.DefaultCustomTokenValidator
2019-06-09 18:52:21.910 -03:00 [DBG] Token validation success
{"ClientId":null,"ClientName":null,"ValidateLifetime":true,"AccessTokenType":"Jwt","ExpectedScope":"openid","TokenHandle":null,"JwtId":null,"Claims":{"nbf":1560117141,"exp":1560120741,"iss":"http://localhost:5000","aud":["http://localhost:5000/resources","api1"],"client_id":"ro.client","sub":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","auth_time":1560117141,"idp":"local","scope":["openid","profile","api1"],"amr":"pwd"},"$type":"TokenValidationLog"}
2019-06-09 18:52:21.910 -03:00 [DBG] Creating userinfo response
2019-06-09 18:52:21.910 -03:00 [DBG] Scopes in access token: openid profile api1
2019-06-09 18:52:21.910 -03:00 [DBG] Scopes in access token: openid profile api1
2019-06-09 18:52:21.912 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 18:52:21.912 -03:00 [DBG] Requested claim types: sub name family_name given_name middle_name nickname preferred_username profile picture website gender birthdate zoneinfo locale updated_at
2019-06-09 18:52:21.912 -03:00 [DBG] Scopes in access token: openid profile api1
2019-06-09 18:52:21.913 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 18:52:21.926 -03:00 [INF] Profile service returned the following claim types: sub name given_name family_name website preferred_username
2019-06-09 18:52:21.926 -03:00 [DBG] End userinfo request
2019-06-09 18:52:33.761 -03:00 [DBG] CORS request made for path: /connect/token from origin: http://localhost:3000
2019-06-09 18:52:33.764 -03:00 [DBG] Origin http://localhost:3000 is allowed: false
2019-06-09 18:52:33.764 -03:00 [WRN] CorsPolicyService did not allow origin: http://localhost:3000
2019-06-09 18:52:33.764 -03:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-06-09 18:52:33.765 -03:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-06-09 18:52:33.765 -03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-06-09 18:52:33.765 -03:00 [DBG] Start token request.
2019-06-09 18:52:33.765 -03:00 [DBG] Start client validation
2019-06-09 18:52:33.765 -03:00 [DBG] Start parsing Basic Authentication secret
2019-06-09 18:52:33.765 -03:00 [DBG] Start parsing for secret in post body
2019-06-09 18:52:33.765 -03:00 [DBG] Parser found secret: PostBodySecretParser
2019-06-09 18:52:33.765 -03:00 [DBG] Secret id found: ro.client
2019-06-09 18:52:33.770 -03:00 [DBG] ro.client found in database: true
2019-06-09 18:52:33.770 -03:00 [DBG] client configuration validation for client ro.client succeeded.
2019-06-09 18:52:33.770 -03:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-06-09 18:52:33.770 -03:00 [DBG] Client validation success
2019-06-09 18:52:33.770 -03:00 [INF] {"ClientId":"ro.client","AuthenticationMethod":"SharedSecret","Category":"Authentication","Name":"Client Authentication Success","EventType":"Success","Id":1010,"Message":null,"ActivityId":"0HLND4GPCPFD2:00000003","TimeStamp":"2019-06-09T21:52:33.0000000Z","ProcessId":28108,"LocalIpAddress":"127.0.0.1:10630","RemoteIpAddress":"::1","$type":"ClientAuthenticationSuccessEvent"}
2019-06-09 18:52:33.771 -03:00 [DBG] Start token request validation
2019-06-09 18:52:33.771 -03:00 [DBG] Start resource owner password token request validation
2019-06-09 18:52:33.772 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 18:52:33.775 -03:00 [DBG] Found ["api1"] API scopes in database
2019-06-09 18:52:33.777 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 18:52:33.782 -03:00 [DBG] Found ["api1"] API scopes in database
2019-06-09 18:52:33.793 -03:00 [INF] Credentials validated for username: alice
2019-06-09 18:52:33.793 -03:00 [INF] {"Username":"alice","Provider":null,"ProviderUserId":null,"SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","DisplayName":"alice","Endpoint":"Token","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HLND4GPCPFD2:00000003","TimeStamp":"2019-06-09T21:52:33.0000000Z","ProcessId":28108,"LocalIpAddress":"127.0.0.1:10630","RemoteIpAddress":"::1","$type":"UserLoginSuccessEvent"}
2019-06-09 18:52:33.793 -03:00 [INF] {"Username":"alice","Provider":null,"ProviderUserId":null,"SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","DisplayName":null,"Endpoint":"Token","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HLND4GPCPFD2:00000003","TimeStamp":"2019-06-09T21:52:33.0000000Z","ProcessId":28108,"LocalIpAddress":"127.0.0.1:10630","RemoteIpAddress":"::1","$type":"UserLoginSuccessEvent"}
2019-06-09 18:52:33.793 -03:00 [DBG] Resource owner password token request validation success.
2019-06-09 18:52:33.793 -03:00 [INF] Token request validation success
{"ClientId":"ro.client","ClientName":null,"GrantType":"password","Scopes":"api1 openid profile","AuthorizationCode":null,"RefreshToken":null,"UserName":"alice","AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"grant_type":"password","client_id":"ro.client","client_secret":"***REDACTED***","username":"alice","password":"***REDACTED***","scope":"openid profile api1"},"$type":"TokenRequestValidationLog"}
2019-06-09 18:52:33.793 -03:00 [DBG] Getting claims for access token for client: ro.client
2019-06-09 18:52:33.793 -03:00 [DBG] Getting claims for access token for subject: 4ba1c3a0-b786-421d-b88a-740f38d9cafa
2019-06-09 18:52:33.802 -03:00 [INF] {"ClientId":"ro.client","ClientName":null,"RedirectUri":null,"Endpoint":"Token","SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","Scopes":"openid profile api1","GrantType":"password","Tokens":[{"TokenType":"access_token","TokenValue":"****HHjQ","$type":"Token"}],"Category":"Token","Name":"Token Issued Success","EventType":"Success","Id":2000,"Message":null,"ActivityId":"0HLND4GPCPFD2:00000003","TimeStamp":"2019-06-09T21:52:33.0000000Z","ProcessId":28108,"LocalIpAddress":"127.0.0.1:10630","RemoteIpAddress":"::1","$type":"TokenIssuedSuccessEvent"}
2019-06-09 18:52:33.802 -03:00 [DBG] Token request success.
2019-06-09 18:52:33.833 -03:00 [DBG] Request path /connect/userinfo matched to endpoint type Userinfo
2019-06-09 18:52:33.833 -03:00 [DBG] Endpoint enabled: Userinfo, successfully created handler: IdentityServer4.Endpoints.UserInfoEndpoint
2019-06-09 18:52:33.833 -03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.UserInfoEndpoint for /connect/userinfo
2019-06-09 18:52:33.833 -03:00 [DBG] Start userinfo request
2019-06-09 18:52:33.833 -03:00 [DBG] Bearer token found in header
2019-06-09 18:52:33.840 -03:00 [DBG] ro.client found in database: true
2019-06-09 18:52:33.841 -03:00 [DBG] client configuration validation for client ro.client succeeded.
2019-06-09 18:52:33.844 -03:00 [DBG] ro.client found in database: true
2019-06-09 18:52:33.844 -03:00 [DBG] client configuration validation for client ro.client succeeded.
2019-06-09 18:52:33.850 -03:00 [DBG] Calling into custom token validator: IdentityServer4.Validation.DefaultCustomTokenValidator
2019-06-09 18:52:33.851 -03:00 [DBG] Token validation success
{"ClientId":null,"ClientName":null,"ValidateLifetime":true,"AccessTokenType":"Jwt","ExpectedScope":"openid","TokenHandle":null,"JwtId":null,"Claims":{"nbf":1560117153,"exp":1560120753,"iss":"http://localhost:5000","aud":["http://localhost:5000/resources","api1"],"client_id":"ro.client","sub":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","auth_time":1560117153,"idp":"local","scope":["openid","profile","api1"],"amr":"pwd"},"$type":"TokenValidationLog"}
2019-06-09 18:52:33.851 -03:00 [DBG] Creating userinfo response
2019-06-09 18:52:33.851 -03:00 [DBG] Scopes in access token: openid profile api1
2019-06-09 18:52:33.851 -03:00 [DBG] Scopes in access token: openid profile api1
2019-06-09 18:52:33.853 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 18:52:33.853 -03:00 [DBG] Requested claim types: sub name family_name given_name middle_name nickname preferred_username profile picture website gender birthdate zoneinfo locale updated_at
2019-06-09 18:52:33.853 -03:00 [DBG] Scopes in access token: openid profile api1
2019-06-09 18:52:33.854 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 18:52:33.858 -03:00 [INF] Profile service returned the following claim types: sub name given_name family_name website preferred_username
2019-06-09 18:52:33.858 -03:00 [DBG] End userinfo request
2019-06-09 18:54:16.974 -03:00 [DBG] CORS request made for path: /connect/token from origin: http://localhost:3000
2019-06-09 18:54:16.975 -03:00 [DBG] Origin http://localhost:3000 is allowed: false
2019-06-09 18:54:16.976 -03:00 [WRN] CorsPolicyService did not allow origin: http://localhost:3000
2019-06-09 18:54:16.976 -03:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-06-09 18:54:16.976 -03:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-06-09 18:54:16.976 -03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-06-09 18:54:16.976 -03:00 [DBG] Start token request.
2019-06-09 18:54:16.976 -03:00 [DBG] Start client validation
2019-06-09 18:54:16.976 -03:00 [DBG] Start parsing Basic Authentication secret
2019-06-09 18:54:16.976 -03:00 [DBG] Start parsing for secret in post body
2019-06-09 18:54:16.977 -03:00 [DBG] Parser found secret: PostBodySecretParser
2019-06-09 18:54:16.977 -03:00 [DBG] Secret id found: ro.client
2019-06-09 18:54:16.980 -03:00 [DBG] ro.client found in database: true
2019-06-09 18:54:16.981 -03:00 [DBG] client configuration validation for client ro.client succeeded.
2019-06-09 18:54:16.981 -03:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-06-09 18:54:16.981 -03:00 [DBG] Client validation success
2019-06-09 18:54:16.981 -03:00 [INF] {"ClientId":"ro.client","AuthenticationMethod":"SharedSecret","Category":"Authentication","Name":"Client Authentication Success","EventType":"Success","Id":1010,"Message":null,"ActivityId":"0HLND4GPCPFD3:00000001","TimeStamp":"2019-06-09T21:54:16.0000000Z","ProcessId":28108,"LocalIpAddress":"127.0.0.1:10630","RemoteIpAddress":"::1","$type":"ClientAuthenticationSuccessEvent"}
2019-06-09 18:54:16.981 -03:00 [DBG] Start token request validation
2019-06-09 18:54:16.981 -03:00 [DBG] Start resource owner password token request validation
2019-06-09 18:54:16.982 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 18:54:16.985 -03:00 [DBG] Found ["api1"] API scopes in database
2019-06-09 18:54:16.988 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 18:54:16.991 -03:00 [DBG] Found ["api1"] API scopes in database
2019-06-09 18:54:17.002 -03:00 [INF] Credentials validated for username: alice
2019-06-09 18:54:17.002 -03:00 [INF] {"Username":"alice","Provider":null,"ProviderUserId":null,"SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","DisplayName":"alice","Endpoint":"Token","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HLND4GPCPFD3:00000001","TimeStamp":"2019-06-09T21:54:17.0000000Z","ProcessId":28108,"LocalIpAddress":"127.0.0.1:10630","RemoteIpAddress":"::1","$type":"UserLoginSuccessEvent"}
2019-06-09 18:54:17.002 -03:00 [INF] {"Username":"alice","Provider":null,"ProviderUserId":null,"SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","DisplayName":null,"Endpoint":"Token","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HLND4GPCPFD3:00000001","TimeStamp":"2019-06-09T21:54:17.0000000Z","ProcessId":28108,"LocalIpAddress":"127.0.0.1:10630","RemoteIpAddress":"::1","$type":"UserLoginSuccessEvent"}
2019-06-09 18:54:17.002 -03:00 [DBG] Resource owner password token request validation success.
2019-06-09 18:54:17.002 -03:00 [INF] Token request validation success
{"ClientId":"ro.client","ClientName":null,"GrantType":"password","Scopes":"api1 openid profile","AuthorizationCode":null,"RefreshToken":null,"UserName":"alice","AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"grant_type":"password","client_id":"ro.client","client_secret":"***REDACTED***","username":"alice","password":"***REDACTED***","scope":"openid profile api1"},"$type":"TokenRequestValidationLog"}
2019-06-09 18:54:17.002 -03:00 [DBG] Getting claims for access token for client: ro.client
2019-06-09 18:54:17.002 -03:00 [DBG] Getting claims for access token for subject: 4ba1c3a0-b786-421d-b88a-740f38d9cafa
2019-06-09 18:54:17.010 -03:00 [INF] {"ClientId":"ro.client","ClientName":null,"RedirectUri":null,"Endpoint":"Token","SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","Scopes":"openid profile api1","GrantType":"password","Tokens":[{"TokenType":"access_token","TokenValue":"****nMeg","$type":"Token"}],"Category":"Token","Name":"Token Issued Success","EventType":"Success","Id":2000,"Message":null,"ActivityId":"0HLND4GPCPFD3:00000001","TimeStamp":"2019-06-09T21:54:17.0000000Z","ProcessId":28108,"LocalIpAddress":"127.0.0.1:10630","RemoteIpAddress":"::1","$type":"TokenIssuedSuccessEvent"}
2019-06-09 18:54:17.010 -03:00 [DBG] Token request success.
2019-06-09 18:54:17.046 -03:00 [DBG] Request path /connect/userinfo matched to endpoint type Userinfo
2019-06-09 18:54:17.046 -03:00 [DBG] Endpoint enabled: Userinfo, successfully created handler: IdentityServer4.Endpoints.UserInfoEndpoint
2019-06-09 18:54:17.047 -03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.UserInfoEndpoint for /connect/userinfo
2019-06-09 18:54:17.047 -03:00 [DBG] Start userinfo request
2019-06-09 18:54:17.047 -03:00 [DBG] Bearer token found in header
2019-06-09 18:54:17.053 -03:00 [DBG] ro.client found in database: true
2019-06-09 18:54:17.053 -03:00 [DBG] client configuration validation for client ro.client succeeded.
2019-06-09 18:54:17.058 -03:00 [DBG] ro.client found in database: true
2019-06-09 18:54:17.058 -03:00 [DBG] client configuration validation for client ro.client succeeded.
2019-06-09 18:54:17.062 -03:00 [DBG] Calling into custom token validator: IdentityServer4.Validation.DefaultCustomTokenValidator
2019-06-09 18:54:17.063 -03:00 [DBG] Token validation success
{"ClientId":null,"ClientName":null,"ValidateLifetime":true,"AccessTokenType":"Jwt","ExpectedScope":"openid","TokenHandle":null,"JwtId":null,"Claims":{"nbf":1560117257,"exp":1560120857,"iss":"http://localhost:5000","aud":["http://localhost:5000/resources","api1"],"client_id":"ro.client","sub":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","auth_time":1560117257,"idp":"local","scope":["openid","profile","api1"],"amr":"pwd"},"$type":"TokenValidationLog"}
2019-06-09 18:54:17.063 -03:00 [DBG] Creating userinfo response
2019-06-09 18:54:17.063 -03:00 [DBG] Scopes in access token: openid profile api1
2019-06-09 18:54:17.063 -03:00 [DBG] Scopes in access token: openid profile api1
2019-06-09 18:54:17.065 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 18:54:17.065 -03:00 [DBG] Requested claim types: sub name family_name given_name middle_name nickname preferred_username profile picture website gender birthdate zoneinfo locale updated_at
2019-06-09 18:54:17.065 -03:00 [DBG] Scopes in access token: openid profile api1
2019-06-09 18:54:17.066 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 18:54:17.076 -03:00 [INF] Profile service returned the following claim types: sub name given_name family_name website preferred_username
2019-06-09 18:54:17.076 -03:00 [DBG] End userinfo request
2019-06-09 18:54:58.254 -03:00 [DBG] CORS request made for path: /connect/token from origin: http://localhost:3000
2019-06-09 18:54:58.255 -03:00 [DBG] Origin http://localhost:3000 is allowed: false
2019-06-09 18:54:58.255 -03:00 [WRN] CorsPolicyService did not allow origin: http://localhost:3000
2019-06-09 18:54:58.255 -03:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-06-09 18:54:58.256 -03:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-06-09 18:54:58.256 -03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-06-09 18:54:58.256 -03:00 [DBG] Start token request.
2019-06-09 18:54:58.256 -03:00 [DBG] Start client validation
2019-06-09 18:54:58.256 -03:00 [DBG] Start parsing Basic Authentication secret
2019-06-09 18:54:58.256 -03:00 [DBG] Start parsing for secret in post body
2019-06-09 18:54:58.256 -03:00 [DBG] Parser found secret: PostBodySecretParser
2019-06-09 18:54:58.256 -03:00 [DBG] Secret id found: ro.client
2019-06-09 18:54:58.265 -03:00 [DBG] ro.client found in database: true
2019-06-09 18:54:58.265 -03:00 [DBG] client configuration validation for client ro.client succeeded.
2019-06-09 18:54:58.265 -03:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-06-09 18:54:58.265 -03:00 [DBG] Client validation success
2019-06-09 18:54:58.265 -03:00 [INF] {"ClientId":"ro.client","AuthenticationMethod":"SharedSecret","Category":"Authentication","Name":"Client Authentication Success","EventType":"Success","Id":1010,"Message":null,"ActivityId":"0HLND4GPCPFD3:00000003","TimeStamp":"2019-06-09T21:54:58.0000000Z","ProcessId":28108,"LocalIpAddress":"127.0.0.1:10630","RemoteIpAddress":"::1","$type":"ClientAuthenticationSuccessEvent"}
2019-06-09 18:54:58.265 -03:00 [DBG] Start token request validation
2019-06-09 18:54:58.265 -03:00 [DBG] Start resource owner password token request validation
2019-06-09 18:54:58.269 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 18:54:58.274 -03:00 [DBG] Found ["api1"] API scopes in database
2019-06-09 18:54:58.275 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 18:54:58.279 -03:00 [DBG] Found ["api1"] API scopes in database
2019-06-09 18:54:58.290 -03:00 [INF] Credentials validated for username: alice
2019-06-09 18:54:58.291 -03:00 [INF] {"Username":"alice","Provider":null,"ProviderUserId":null,"SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","DisplayName":"alice","Endpoint":"Token","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HLND4GPCPFD3:00000003","TimeStamp":"2019-06-09T21:54:58.0000000Z","ProcessId":28108,"LocalIpAddress":"127.0.0.1:10630","RemoteIpAddress":"::1","$type":"UserLoginSuccessEvent"}
2019-06-09 18:54:58.291 -03:00 [INF] {"Username":"alice","Provider":null,"ProviderUserId":null,"SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","DisplayName":null,"Endpoint":"Token","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HLND4GPCPFD3:00000003","TimeStamp":"2019-06-09T21:54:58.0000000Z","ProcessId":28108,"LocalIpAddress":"127.0.0.1:10630","RemoteIpAddress":"::1","$type":"UserLoginSuccessEvent"}
2019-06-09 18:54:58.291 -03:00 [DBG] Resource owner password token request validation success.
2019-06-09 18:54:58.291 -03:00 [INF] Token request validation success
{"ClientId":"ro.client","ClientName":null,"GrantType":"password","Scopes":"api1 openid profile","AuthorizationCode":null,"RefreshToken":null,"UserName":"alice","AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"grant_type":"password","client_id":"ro.client","client_secret":"***REDACTED***","username":"alice","password":"***REDACTED***","scope":"openid profile api1"},"$type":"TokenRequestValidationLog"}
2019-06-09 18:54:58.291 -03:00 [DBG] Getting claims for access token for client: ro.client
2019-06-09 18:54:58.291 -03:00 [DBG] Getting claims for access token for subject: 4ba1c3a0-b786-421d-b88a-740f38d9cafa
2019-06-09 18:54:58.298 -03:00 [INF] {"ClientId":"ro.client","ClientName":null,"RedirectUri":null,"Endpoint":"Token","SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","Scopes":"openid profile api1","GrantType":"password","Tokens":[{"TokenType":"access_token","TokenValue":"****gOxQ","$type":"Token"}],"Category":"Token","Name":"Token Issued Success","EventType":"Success","Id":2000,"Message":null,"ActivityId":"0HLND4GPCPFD3:00000003","TimeStamp":"2019-06-09T21:54:58.0000000Z","ProcessId":28108,"LocalIpAddress":"127.0.0.1:10630","RemoteIpAddress":"::1","$type":"TokenIssuedSuccessEvent"}
2019-06-09 18:54:58.299 -03:00 [DBG] Token request success.
2019-06-09 18:54:58.332 -03:00 [DBG] Request path /connect/userinfo matched to endpoint type Userinfo
2019-06-09 18:54:58.333 -03:00 [DBG] Endpoint enabled: Userinfo, successfully created handler: IdentityServer4.Endpoints.UserInfoEndpoint
2019-06-09 18:54:58.333 -03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.UserInfoEndpoint for /connect/userinfo
2019-06-09 18:54:58.333 -03:00 [DBG] Start userinfo request
2019-06-09 18:54:58.333 -03:00 [DBG] Bearer token found in header
2019-06-09 18:54:58.341 -03:00 [DBG] ro.client found in database: true
2019-06-09 18:54:58.341 -03:00 [DBG] client configuration validation for client ro.client succeeded.
2019-06-09 18:54:58.345 -03:00 [DBG] ro.client found in database: true
2019-06-09 18:54:58.345 -03:00 [DBG] client configuration validation for client ro.client succeeded.
2019-06-09 18:54:58.351 -03:00 [DBG] Calling into custom token validator: IdentityServer4.Validation.DefaultCustomTokenValidator
2019-06-09 18:54:58.351 -03:00 [DBG] Token validation success
{"ClientId":null,"ClientName":null,"ValidateLifetime":true,"AccessTokenType":"Jwt","ExpectedScope":"openid","TokenHandle":null,"JwtId":null,"Claims":{"nbf":1560117298,"exp":1560120898,"iss":"http://localhost:5000","aud":["http://localhost:5000/resources","api1"],"client_id":"ro.client","sub":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","auth_time":1560117298,"idp":"local","scope":["openid","profile","api1"],"amr":"pwd"},"$type":"TokenValidationLog"}
2019-06-09 18:54:58.352 -03:00 [DBG] Creating userinfo response
2019-06-09 18:54:58.352 -03:00 [DBG] Scopes in access token: openid profile api1
2019-06-09 18:54:58.352 -03:00 [DBG] Scopes in access token: openid profile api1
2019-06-09 18:54:58.353 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 18:54:58.353 -03:00 [DBG] Requested claim types: sub name family_name given_name middle_name nickname preferred_username profile picture website gender birthdate zoneinfo locale updated_at
2019-06-09 18:54:58.354 -03:00 [DBG] Scopes in access token: openid profile api1
2019-06-09 18:54:58.355 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 18:54:58.363 -03:00 [INF] Profile service returned the following claim types: sub name given_name family_name website preferred_username
2019-06-09 18:54:58.363 -03:00 [DBG] End userinfo request
2019-06-09 18:55:32.879 -03:00 [DBG] CORS request made for path: /connect/token from origin: http://localhost:3000
2019-06-09 18:55:32.881 -03:00 [DBG] Origin http://localhost:3000 is allowed: false
2019-06-09 18:55:32.881 -03:00 [WRN] CorsPolicyService did not allow origin: http://localhost:3000
2019-06-09 18:55:32.881 -03:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-06-09 18:55:32.882 -03:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-06-09 18:55:32.882 -03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-06-09 18:55:32.882 -03:00 [DBG] Start token request.
2019-06-09 18:55:32.882 -03:00 [DBG] Start client validation
2019-06-09 18:55:32.882 -03:00 [DBG] Start parsing Basic Authentication secret
2019-06-09 18:55:32.882 -03:00 [DBG] Start parsing for secret in post body
2019-06-09 18:55:32.882 -03:00 [DBG] Parser found secret: PostBodySecretParser
2019-06-09 18:55:32.882 -03:00 [DBG] Secret id found: ro.client
2019-06-09 18:55:32.894 -03:00 [DBG] ro.client found in database: true
2019-06-09 18:55:32.895 -03:00 [DBG] client configuration validation for client ro.client succeeded.
2019-06-09 18:55:32.895 -03:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-06-09 18:55:32.895 -03:00 [DBG] Client validation success
2019-06-09 18:55:32.895 -03:00 [INF] {"ClientId":"ro.client","AuthenticationMethod":"SharedSecret","Category":"Authentication","Name":"Client Authentication Success","EventType":"Success","Id":1010,"Message":null,"ActivityId":"0HLND4GPCPFD3:00000005","TimeStamp":"2019-06-09T21:55:32.0000000Z","ProcessId":28108,"LocalIpAddress":"127.0.0.1:10630","RemoteIpAddress":"::1","$type":"ClientAuthenticationSuccessEvent"}
2019-06-09 18:55:32.895 -03:00 [DBG] Start token request validation
2019-06-09 18:55:32.895 -03:00 [DBG] Start resource owner password token request validation
2019-06-09 18:55:32.897 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 18:55:32.900 -03:00 [DBG] Found ["api1"] API scopes in database
2019-06-09 18:55:32.903 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 18:55:32.906 -03:00 [DBG] Found ["api1"] API scopes in database
2019-06-09 18:55:32.916 -03:00 [INF] Credentials validated for username: alice
2019-06-09 18:55:32.916 -03:00 [INF] {"Username":"alice","Provider":null,"ProviderUserId":null,"SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","DisplayName":"alice","Endpoint":"Token","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HLND4GPCPFD3:00000005","TimeStamp":"2019-06-09T21:55:32.0000000Z","ProcessId":28108,"LocalIpAddress":"127.0.0.1:10630","RemoteIpAddress":"::1","$type":"UserLoginSuccessEvent"}
2019-06-09 18:55:32.916 -03:00 [INF] {"Username":"alice","Provider":null,"ProviderUserId":null,"SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","DisplayName":null,"Endpoint":"Token","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HLND4GPCPFD3:00000005","TimeStamp":"2019-06-09T21:55:32.0000000Z","ProcessId":28108,"LocalIpAddress":"127.0.0.1:10630","RemoteIpAddress":"::1","$type":"UserLoginSuccessEvent"}
2019-06-09 18:55:32.916 -03:00 [DBG] Resource owner password token request validation success.
2019-06-09 18:55:32.917 -03:00 [INF] Token request validation success
{"ClientId":"ro.client","ClientName":null,"GrantType":"password","Scopes":"api1 openid profile","AuthorizationCode":null,"RefreshToken":null,"UserName":"alice","AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"grant_type":"password","client_id":"ro.client","client_secret":"***REDACTED***","username":"alice","password":"***REDACTED***","scope":"openid profile api1"},"$type":"TokenRequestValidationLog"}
2019-06-09 18:55:32.917 -03:00 [DBG] Getting claims for access token for client: ro.client
2019-06-09 18:55:32.917 -03:00 [DBG] Getting claims for access token for subject: 4ba1c3a0-b786-421d-b88a-740f38d9cafa
2019-06-09 18:55:32.925 -03:00 [INF] {"ClientId":"ro.client","ClientName":null,"RedirectUri":null,"Endpoint":"Token","SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","Scopes":"openid profile api1","GrantType":"password","Tokens":[{"TokenType":"access_token","TokenValue":"****Qucw","$type":"Token"}],"Category":"Token","Name":"Token Issued Success","EventType":"Success","Id":2000,"Message":null,"ActivityId":"0HLND4GPCPFD3:00000005","TimeStamp":"2019-06-09T21:55:32.0000000Z","ProcessId":28108,"LocalIpAddress":"127.0.0.1:10630","RemoteIpAddress":"::1","$type":"TokenIssuedSuccessEvent"}
2019-06-09 18:55:32.925 -03:00 [DBG] Token request success.
2019-06-09 18:55:35.226 -03:00 [DBG] Request path /connect/userinfo matched to endpoint type Userinfo
2019-06-09 18:55:35.228 -03:00 [DBG] Endpoint enabled: Userinfo, successfully created handler: IdentityServer4.Endpoints.UserInfoEndpoint
2019-06-09 18:55:35.228 -03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.UserInfoEndpoint for /connect/userinfo
2019-06-09 18:55:35.228 -03:00 [DBG] Start userinfo request
2019-06-09 18:55:35.228 -03:00 [DBG] Bearer token found in header
2019-06-09 18:55:35.236 -03:00 [DBG] ro.client found in database: true
2019-06-09 18:55:35.236 -03:00 [DBG] client configuration validation for client ro.client succeeded.
2019-06-09 18:55:35.243 -03:00 [DBG] ro.client found in database: true
2019-06-09 18:55:35.243 -03:00 [DBG] client configuration validation for client ro.client succeeded.
2019-06-09 18:55:35.247 -03:00 [DBG] Calling into custom token validator: IdentityServer4.Validation.DefaultCustomTokenValidator
2019-06-09 18:55:35.247 -03:00 [DBG] Token validation success
{"ClientId":null,"ClientName":null,"ValidateLifetime":true,"AccessTokenType":"Jwt","ExpectedScope":"openid","TokenHandle":null,"JwtId":null,"Claims":{"nbf":1560117332,"exp":1560120932,"iss":"http://localhost:5000","aud":["http://localhost:5000/resources","api1"],"client_id":"ro.client","sub":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","auth_time":1560117332,"idp":"local","scope":["openid","profile","api1"],"amr":"pwd"},"$type":"TokenValidationLog"}
2019-06-09 18:55:35.247 -03:00 [DBG] Creating userinfo response
2019-06-09 18:55:35.248 -03:00 [DBG] Scopes in access token: openid profile api1
2019-06-09 18:55:35.248 -03:00 [DBG] Scopes in access token: openid profile api1
2019-06-09 18:55:35.254 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 18:55:35.254 -03:00 [DBG] Requested claim types: sub name family_name given_name middle_name nickname preferred_username profile picture website gender birthdate zoneinfo locale updated_at
2019-06-09 18:55:35.254 -03:00 [DBG] Scopes in access token: openid profile api1
2019-06-09 18:55:35.258 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 18:55:35.262 -03:00 [INF] Profile service returned the following claim types: sub name given_name family_name website preferred_username
2019-06-09 18:55:35.262 -03:00 [DBG] End userinfo request
2019-06-09 18:58:00.053 -03:00 [DBG] CORS request made for path: /connect/token from origin: http://localhost:3000
2019-06-09 18:58:00.056 -03:00 [DBG] Origin http://localhost:3000 is allowed: false
2019-06-09 18:58:00.056 -03:00 [WRN] CorsPolicyService did not allow origin: http://localhost:3000
2019-06-09 18:58:00.056 -03:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-06-09 18:58:00.056 -03:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-06-09 18:58:00.056 -03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-06-09 18:58:00.057 -03:00 [DBG] Start token request.
2019-06-09 18:58:00.057 -03:00 [DBG] Start client validation
2019-06-09 18:58:00.057 -03:00 [DBG] Start parsing Basic Authentication secret
2019-06-09 18:58:00.057 -03:00 [DBG] Start parsing for secret in post body
2019-06-09 18:58:00.057 -03:00 [DBG] Parser found secret: PostBodySecretParser
2019-06-09 18:58:00.057 -03:00 [DBG] Secret id found: ro.client
2019-06-09 18:58:00.070 -03:00 [DBG] ro.client found in database: true
2019-06-09 18:58:00.070 -03:00 [DBG] client configuration validation for client ro.client succeeded.
2019-06-09 18:58:00.070 -03:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-06-09 18:58:00.070 -03:00 [DBG] Client validation success
2019-06-09 18:58:00.070 -03:00 [INF] {"ClientId":"ro.client","AuthenticationMethod":"SharedSecret","Category":"Authentication","Name":"Client Authentication Success","EventType":"Success","Id":1010,"Message":null,"ActivityId":"0HLND4GPCPFD4:00000001","TimeStamp":"2019-06-09T21:58:00.0000000Z","ProcessId":28108,"LocalIpAddress":"127.0.0.1:10630","RemoteIpAddress":"::1","$type":"ClientAuthenticationSuccessEvent"}
2019-06-09 18:58:00.070 -03:00 [DBG] Start token request validation
2019-06-09 18:58:00.070 -03:00 [DBG] Start resource owner password token request validation
2019-06-09 18:58:00.072 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 18:58:00.076 -03:00 [DBG] Found ["api1"] API scopes in database
2019-06-09 18:58:00.077 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 18:58:00.080 -03:00 [DBG] Found ["api1"] API scopes in database
2019-06-09 18:58:00.091 -03:00 [INF] Credentials validated for username: alice
2019-06-09 18:58:00.091 -03:00 [INF] {"Username":"alice","Provider":null,"ProviderUserId":null,"SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","DisplayName":"alice","Endpoint":"Token","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HLND4GPCPFD4:00000001","TimeStamp":"2019-06-09T21:58:00.0000000Z","ProcessId":28108,"LocalIpAddress":"127.0.0.1:10630","RemoteIpAddress":"::1","$type":"UserLoginSuccessEvent"}
2019-06-09 18:58:00.091 -03:00 [INF] {"Username":"alice","Provider":null,"ProviderUserId":null,"SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","DisplayName":null,"Endpoint":"Token","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HLND4GPCPFD4:00000001","TimeStamp":"2019-06-09T21:58:00.0000000Z","ProcessId":28108,"LocalIpAddress":"127.0.0.1:10630","RemoteIpAddress":"::1","$type":"UserLoginSuccessEvent"}
2019-06-09 18:58:00.091 -03:00 [DBG] Resource owner password token request validation success.
2019-06-09 18:58:00.091 -03:00 [INF] Token request validation success
{"ClientId":"ro.client","ClientName":null,"GrantType":"password","Scopes":"api1 openid profile","AuthorizationCode":null,"RefreshToken":null,"UserName":"alice","AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"grant_type":"password","client_id":"ro.client","client_secret":"***REDACTED***","username":"alice","password":"***REDACTED***","scope":"openid profile api1"},"$type":"TokenRequestValidationLog"}
2019-06-09 18:58:00.091 -03:00 [DBG] Getting claims for access token for client: ro.client
2019-06-09 18:58:00.091 -03:00 [DBG] Getting claims for access token for subject: 4ba1c3a0-b786-421d-b88a-740f38d9cafa
2019-06-09 18:58:00.097 -03:00 [INF] {"ClientId":"ro.client","ClientName":null,"RedirectUri":null,"Endpoint":"Token","SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","Scopes":"openid profile api1","GrantType":"password","Tokens":[{"TokenType":"access_token","TokenValue":"****W63g","$type":"Token"}],"Category":"Token","Name":"Token Issued Success","EventType":"Success","Id":2000,"Message":null,"ActivityId":"0HLND4GPCPFD4:00000001","TimeStamp":"2019-06-09T21:58:00.0000000Z","ProcessId":28108,"LocalIpAddress":"127.0.0.1:10630","RemoteIpAddress":"::1","$type":"TokenIssuedSuccessEvent"}
2019-06-09 18:58:00.098 -03:00 [DBG] Token request success.
2019-06-09 18:58:00.137 -03:00 [DBG] Request path /connect/userinfo matched to endpoint type Userinfo
2019-06-09 18:58:00.137 -03:00 [DBG] Endpoint enabled: Userinfo, successfully created handler: IdentityServer4.Endpoints.UserInfoEndpoint
2019-06-09 18:58:00.137 -03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.UserInfoEndpoint for /connect/userinfo
2019-06-09 18:58:00.137 -03:00 [DBG] Start userinfo request
2019-06-09 18:58:00.137 -03:00 [DBG] Bearer token found in header
2019-06-09 18:58:00.143 -03:00 [DBG] ro.client found in database: true
2019-06-09 18:58:00.143 -03:00 [DBG] client configuration validation for client ro.client succeeded.
2019-06-09 18:58:00.146 -03:00 [DBG] ro.client found in database: true
2019-06-09 18:58:00.146 -03:00 [DBG] client configuration validation for client ro.client succeeded.
2019-06-09 18:58:00.150 -03:00 [DBG] Calling into custom token validator: IdentityServer4.Validation.DefaultCustomTokenValidator
2019-06-09 18:58:00.150 -03:00 [DBG] Token validation success
{"ClientId":null,"ClientName":null,"ValidateLifetime":true,"AccessTokenType":"Jwt","ExpectedScope":"openid","TokenHandle":null,"JwtId":null,"Claims":{"nbf":1560117480,"exp":1560121080,"iss":"http://localhost:5000","aud":["http://localhost:5000/resources","api1"],"client_id":"ro.client","sub":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","auth_time":1560117480,"idp":"local","scope":["openid","profile","api1"],"amr":"pwd"},"$type":"TokenValidationLog"}
2019-06-09 18:58:00.150 -03:00 [DBG] Creating userinfo response
2019-06-09 18:58:00.150 -03:00 [DBG] Scopes in access token: openid profile api1
2019-06-09 18:58:00.150 -03:00 [DBG] Scopes in access token: openid profile api1
2019-06-09 18:58:00.152 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 18:58:00.152 -03:00 [DBG] Requested claim types: sub name family_name given_name middle_name nickname preferred_username profile picture website gender birthdate zoneinfo locale updated_at
2019-06-09 18:58:00.152 -03:00 [DBG] Scopes in access token: openid profile api1
2019-06-09 18:58:00.154 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 18:58:00.158 -03:00 [INF] Profile service returned the following claim types: sub name given_name family_name website preferred_username
2019-06-09 18:58:00.158 -03:00 [DBG] End userinfo request
2019-06-09 19:00:23.452 -03:00 [DBG] CORS request made for path: /connect/token from origin: http://localhost:3000
2019-06-09 19:00:23.455 -03:00 [DBG] Origin http://localhost:3000 is allowed: false
2019-06-09 19:00:23.455 -03:00 [WRN] CorsPolicyService did not allow origin: http://localhost:3000
2019-06-09 19:00:23.455 -03:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-06-09 19:00:23.456 -03:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-06-09 19:00:23.456 -03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-06-09 19:00:23.456 -03:00 [DBG] Start token request.
2019-06-09 19:00:23.456 -03:00 [DBG] Start client validation
2019-06-09 19:00:23.456 -03:00 [DBG] Start parsing Basic Authentication secret
2019-06-09 19:00:23.456 -03:00 [DBG] Start parsing for secret in post body
2019-06-09 19:00:23.457 -03:00 [DBG] Parser found secret: PostBodySecretParser
2019-06-09 19:00:23.458 -03:00 [DBG] Secret id found: ro.client
2019-06-09 19:00:23.468 -03:00 [DBG] ro.client found in database: true
2019-06-09 19:00:23.468 -03:00 [DBG] client configuration validation for client ro.client succeeded.
2019-06-09 19:00:23.468 -03:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-06-09 19:00:23.468 -03:00 [DBG] Client validation success
2019-06-09 19:00:23.468 -03:00 [INF] {"ClientId":"ro.client","AuthenticationMethod":"SharedSecret","Category":"Authentication","Name":"Client Authentication Success","EventType":"Success","Id":1010,"Message":null,"ActivityId":"0HLND4GPCPFD5:00000001","TimeStamp":"2019-06-09T22:00:23.0000000Z","ProcessId":28108,"LocalIpAddress":"127.0.0.1:10630","RemoteIpAddress":"::1","$type":"ClientAuthenticationSuccessEvent"}
2019-06-09 19:00:23.468 -03:00 [DBG] Start token request validation
2019-06-09 19:00:23.468 -03:00 [DBG] Start resource owner password token request validation
2019-06-09 19:00:23.470 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 19:00:23.475 -03:00 [DBG] Found ["api1"] API scopes in database
2019-06-09 19:00:23.477 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 19:00:23.483 -03:00 [DBG] Found ["api1"] API scopes in database
2019-06-09 19:00:23.495 -03:00 [INF] Credentials validated for username: alice
2019-06-09 19:00:23.495 -03:00 [INF] {"Username":"alice","Provider":null,"ProviderUserId":null,"SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","DisplayName":"alice","Endpoint":"Token","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HLND4GPCPFD5:00000001","TimeStamp":"2019-06-09T22:00:23.0000000Z","ProcessId":28108,"LocalIpAddress":"127.0.0.1:10630","RemoteIpAddress":"::1","$type":"UserLoginSuccessEvent"}
2019-06-09 19:00:23.495 -03:00 [INF] {"Username":"alice","Provider":null,"ProviderUserId":null,"SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","DisplayName":null,"Endpoint":"Token","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HLND4GPCPFD5:00000001","TimeStamp":"2019-06-09T22:00:23.0000000Z","ProcessId":28108,"LocalIpAddress":"127.0.0.1:10630","RemoteIpAddress":"::1","$type":"UserLoginSuccessEvent"}
2019-06-09 19:00:23.495 -03:00 [DBG] Resource owner password token request validation success.
2019-06-09 19:00:23.495 -03:00 [INF] Token request validation success
{"ClientId":"ro.client","ClientName":null,"GrantType":"password","Scopes":"api1 openid profile","AuthorizationCode":null,"RefreshToken":null,"UserName":"alice","AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"grant_type":"password","client_id":"ro.client","client_secret":"***REDACTED***","username":"alice","password":"***REDACTED***","scope":"openid profile api1"},"$type":"TokenRequestValidationLog"}
2019-06-09 19:00:23.495 -03:00 [DBG] Getting claims for access token for client: ro.client
2019-06-09 19:00:23.495 -03:00 [DBG] Getting claims for access token for subject: 4ba1c3a0-b786-421d-b88a-740f38d9cafa
2019-06-09 19:00:23.510 -03:00 [INF] {"ClientId":"ro.client","ClientName":null,"RedirectUri":null,"Endpoint":"Token","SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","Scopes":"openid profile api1","GrantType":"password","Tokens":[{"TokenType":"access_token","TokenValue":"****rcjg","$type":"Token"}],"Category":"Token","Name":"Token Issued Success","EventType":"Success","Id":2000,"Message":null,"ActivityId":"0HLND4GPCPFD5:00000001","TimeStamp":"2019-06-09T22:00:23.0000000Z","ProcessId":28108,"LocalIpAddress":"127.0.0.1:10630","RemoteIpAddress":"::1","$type":"TokenIssuedSuccessEvent"}
2019-06-09 19:00:23.510 -03:00 [DBG] Token request success.
2019-06-09 19:00:23.538 -03:00 [DBG] Request path /connect/userinfo matched to endpoint type Userinfo
2019-06-09 19:00:23.539 -03:00 [DBG] Endpoint enabled: Userinfo, successfully created handler: IdentityServer4.Endpoints.UserInfoEndpoint
2019-06-09 19:00:23.539 -03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.UserInfoEndpoint for /connect/userinfo
2019-06-09 19:00:23.540 -03:00 [DBG] Start userinfo request
2019-06-09 19:00:23.540 -03:00 [DBG] Bearer token found in header
2019-06-09 19:00:23.546 -03:00 [DBG] ro.client found in database: true
2019-06-09 19:00:23.546 -03:00 [DBG] client configuration validation for client ro.client succeeded.
2019-06-09 19:00:23.551 -03:00 [DBG] ro.client found in database: true
2019-06-09 19:00:23.551 -03:00 [DBG] client configuration validation for client ro.client succeeded.
2019-06-09 19:00:23.556 -03:00 [DBG] Calling into custom token validator: IdentityServer4.Validation.DefaultCustomTokenValidator
2019-06-09 19:00:23.556 -03:00 [DBG] Token validation success
{"ClientId":null,"ClientName":null,"ValidateLifetime":true,"AccessTokenType":"Jwt","ExpectedScope":"openid","TokenHandle":null,"JwtId":null,"Claims":{"nbf":1560117623,"exp":1560121223,"iss":"http://localhost:5000","aud":["http://localhost:5000/resources","api1"],"client_id":"ro.client","sub":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","auth_time":1560117623,"idp":"local","scope":["openid","profile","api1"],"amr":"pwd"},"$type":"TokenValidationLog"}
2019-06-09 19:00:23.556 -03:00 [DBG] Creating userinfo response
2019-06-09 19:00:23.557 -03:00 [DBG] Scopes in access token: openid profile api1
2019-06-09 19:00:23.557 -03:00 [DBG] Scopes in access token: openid profile api1
2019-06-09 19:00:23.558 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 19:00:23.558 -03:00 [DBG] Requested claim types: sub name family_name given_name middle_name nickname preferred_username profile picture website gender birthdate zoneinfo locale updated_at
2019-06-09 19:00:23.558 -03:00 [DBG] Scopes in access token: openid profile api1
2019-06-09 19:00:23.559 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 19:00:23.563 -03:00 [INF] Profile service returned the following claim types: sub name given_name family_name website preferred_username
2019-06-09 19:00:23.563 -03:00 [DBG] End userinfo request
2019-06-09 19:01:22.552 -03:00 [DBG] CORS request made for path: /connect/token from origin: http://localhost:3000
2019-06-09 19:01:22.556 -03:00 [DBG] Origin http://localhost:3000 is allowed: false
2019-06-09 19:01:22.556 -03:00 [WRN] CorsPolicyService did not allow origin: http://localhost:3000
2019-06-09 19:01:22.556 -03:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-06-09 19:01:22.556 -03:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-06-09 19:01:22.556 -03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-06-09 19:01:22.557 -03:00 [DBG] Start token request.
2019-06-09 19:01:22.557 -03:00 [DBG] Start client validation
2019-06-09 19:01:22.557 -03:00 [DBG] Start parsing Basic Authentication secret
2019-06-09 19:01:22.557 -03:00 [DBG] Start parsing for secret in post body
2019-06-09 19:01:22.557 -03:00 [DBG] Parser found secret: PostBodySecretParser
2019-06-09 19:01:22.557 -03:00 [DBG] Secret id found: ro.client
2019-06-09 19:01:22.564 -03:00 [DBG] ro.client found in database: true
2019-06-09 19:01:22.564 -03:00 [DBG] client configuration validation for client ro.client succeeded.
2019-06-09 19:01:22.564 -03:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-06-09 19:01:22.564 -03:00 [DBG] Client validation success
2019-06-09 19:01:22.565 -03:00 [INF] {"ClientId":"ro.client","AuthenticationMethod":"SharedSecret","Category":"Authentication","Name":"Client Authentication Success","EventType":"Success","Id":1010,"Message":null,"ActivityId":"0HLND4GPCPFD5:00000003","TimeStamp":"2019-06-09T22:01:22.0000000Z","ProcessId":28108,"LocalIpAddress":"127.0.0.1:10630","RemoteIpAddress":"::1","$type":"ClientAuthenticationSuccessEvent"}
2019-06-09 19:01:22.565 -03:00 [DBG] Start token request validation
2019-06-09 19:01:22.565 -03:00 [DBG] Start resource owner password token request validation
2019-06-09 19:01:22.568 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 19:01:22.571 -03:00 [DBG] Found ["api1"] API scopes in database
2019-06-09 19:01:22.572 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 19:01:22.575 -03:00 [DBG] Found ["api1"] API scopes in database
2019-06-09 19:01:22.586 -03:00 [INF] Credentials validated for username: alice
2019-06-09 19:01:22.586 -03:00 [INF] {"Username":"alice","Provider":null,"ProviderUserId":null,"SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","DisplayName":"alice","Endpoint":"Token","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HLND4GPCPFD5:00000003","TimeStamp":"2019-06-09T22:01:22.0000000Z","ProcessId":28108,"LocalIpAddress":"127.0.0.1:10630","RemoteIpAddress":"::1","$type":"UserLoginSuccessEvent"}
2019-06-09 19:01:22.586 -03:00 [INF] {"Username":"alice","Provider":null,"ProviderUserId":null,"SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","DisplayName":null,"Endpoint":"Token","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HLND4GPCPFD5:00000003","TimeStamp":"2019-06-09T22:01:22.0000000Z","ProcessId":28108,"LocalIpAddress":"127.0.0.1:10630","RemoteIpAddress":"::1","$type":"UserLoginSuccessEvent"}
2019-06-09 19:01:22.586 -03:00 [DBG] Resource owner password token request validation success.
2019-06-09 19:01:22.586 -03:00 [INF] Token request validation success
{"ClientId":"ro.client","ClientName":null,"GrantType":"password","Scopes":"api1 openid profile","AuthorizationCode":null,"RefreshToken":null,"UserName":"alice","AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"grant_type":"password","client_id":"ro.client","client_secret":"***REDACTED***","username":"alice","password":"***REDACTED***","scope":"openid profile api1"},"$type":"TokenRequestValidationLog"}
2019-06-09 19:01:22.586 -03:00 [DBG] Getting claims for access token for client: ro.client
2019-06-09 19:01:22.586 -03:00 [DBG] Getting claims for access token for subject: 4ba1c3a0-b786-421d-b88a-740f38d9cafa
2019-06-09 19:01:22.605 -03:00 [INF] {"ClientId":"ro.client","ClientName":null,"RedirectUri":null,"Endpoint":"Token","SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","Scopes":"openid profile api1","GrantType":"password","Tokens":[{"TokenType":"access_token","TokenValue":"****gzdA","$type":"Token"}],"Category":"Token","Name":"Token Issued Success","EventType":"Success","Id":2000,"Message":null,"ActivityId":"0HLND4GPCPFD5:00000003","TimeStamp":"2019-06-09T22:01:22.0000000Z","ProcessId":28108,"LocalIpAddress":"127.0.0.1:10630","RemoteIpAddress":"::1","$type":"TokenIssuedSuccessEvent"}
2019-06-09 19:01:22.606 -03:00 [DBG] Token request success.
2019-06-09 19:01:22.642 -03:00 [DBG] Request path /connect/userinfo matched to endpoint type Userinfo
2019-06-09 19:01:22.642 -03:00 [DBG] Endpoint enabled: Userinfo, successfully created handler: IdentityServer4.Endpoints.UserInfoEndpoint
2019-06-09 19:01:22.642 -03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.UserInfoEndpoint for /connect/userinfo
2019-06-09 19:01:22.642 -03:00 [DBG] Start userinfo request
2019-06-09 19:01:22.643 -03:00 [DBG] Bearer token found in header
2019-06-09 19:01:22.648 -03:00 [DBG] ro.client found in database: true
2019-06-09 19:01:22.648 -03:00 [DBG] client configuration validation for client ro.client succeeded.
2019-06-09 19:01:22.654 -03:00 [DBG] ro.client found in database: true
2019-06-09 19:01:22.654 -03:00 [DBG] client configuration validation for client ro.client succeeded.
2019-06-09 19:01:22.657 -03:00 [DBG] Calling into custom token validator: IdentityServer4.Validation.DefaultCustomTokenValidator
2019-06-09 19:01:22.658 -03:00 [DBG] Token validation success
{"ClientId":null,"ClientName":null,"ValidateLifetime":true,"AccessTokenType":"Jwt","ExpectedScope":"openid","TokenHandle":null,"JwtId":null,"Claims":{"nbf":1560117682,"exp":1560121282,"iss":"http://localhost:5000","aud":["http://localhost:5000/resources","api1"],"client_id":"ro.client","sub":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","auth_time":1560117682,"idp":"local","scope":["openid","profile","api1"],"amr":"pwd"},"$type":"TokenValidationLog"}
2019-06-09 19:01:22.658 -03:00 [DBG] Creating userinfo response
2019-06-09 19:01:22.658 -03:00 [DBG] Scopes in access token: openid profile api1
2019-06-09 19:01:22.658 -03:00 [DBG] Scopes in access token: openid profile api1
2019-06-09 19:01:22.660 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 19:01:22.660 -03:00 [DBG] Requested claim types: sub name family_name given_name middle_name nickname preferred_username profile picture website gender birthdate zoneinfo locale updated_at
2019-06-09 19:01:22.660 -03:00 [DBG] Scopes in access token: openid profile api1
2019-06-09 19:01:22.661 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 19:01:22.665 -03:00 [INF] Profile service returned the following claim types: sub name given_name family_name website preferred_username
2019-06-09 19:01:22.665 -03:00 [DBG] End userinfo request
2019-06-09 19:01:26.264 -03:00 [DBG] CORS request made for path: /connect/token from origin: http://localhost:3000
2019-06-09 19:01:26.266 -03:00 [DBG] Origin http://localhost:3000 is allowed: false
2019-06-09 19:01:26.266 -03:00 [WRN] CorsPolicyService did not allow origin: http://localhost:3000
2019-06-09 19:01:26.266 -03:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-06-09 19:01:26.267 -03:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-06-09 19:01:26.267 -03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-06-09 19:01:26.267 -03:00 [DBG] Start token request.
2019-06-09 19:01:26.267 -03:00 [DBG] Start client validation
2019-06-09 19:01:26.267 -03:00 [DBG] Start parsing Basic Authentication secret
2019-06-09 19:01:26.267 -03:00 [DBG] Start parsing for secret in post body
2019-06-09 19:01:26.267 -03:00 [DBG] Parser found secret: PostBodySecretParser
2019-06-09 19:01:26.267 -03:00 [DBG] Secret id found: ro.client
2019-06-09 19:01:26.276 -03:00 [DBG] ro.client found in database: true
2019-06-09 19:01:26.276 -03:00 [DBG] client configuration validation for client ro.client succeeded.
2019-06-09 19:01:26.276 -03:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-06-09 19:01:26.276 -03:00 [DBG] Client validation success
2019-06-09 19:01:26.276 -03:00 [INF] {"ClientId":"ro.client","AuthenticationMethod":"SharedSecret","Category":"Authentication","Name":"Client Authentication Success","EventType":"Success","Id":1010,"Message":null,"ActivityId":"0HLND4GPCPFD5:00000005","TimeStamp":"2019-06-09T22:01:26.0000000Z","ProcessId":28108,"LocalIpAddress":"127.0.0.1:10630","RemoteIpAddress":"::1","$type":"ClientAuthenticationSuccessEvent"}
2019-06-09 19:01:26.276 -03:00 [DBG] Start token request validation
2019-06-09 19:01:26.276 -03:00 [DBG] Start resource owner password token request validation
2019-06-09 19:01:26.278 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 19:01:26.281 -03:00 [DBG] Found ["api1"] API scopes in database
2019-06-09 19:01:26.284 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 19:01:26.287 -03:00 [DBG] Found ["api1"] API scopes in database
2019-06-09 19:01:26.298 -03:00 [INF] Credentials validated for username: alice
2019-06-09 19:01:26.299 -03:00 [INF] {"Username":"alice","Provider":null,"ProviderUserId":null,"SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","DisplayName":"alice","Endpoint":"Token","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HLND4GPCPFD5:00000005","TimeStamp":"2019-06-09T22:01:26.0000000Z","ProcessId":28108,"LocalIpAddress":"127.0.0.1:10630","RemoteIpAddress":"::1","$type":"UserLoginSuccessEvent"}
2019-06-09 19:01:26.299 -03:00 [INF] {"Username":"alice","Provider":null,"ProviderUserId":null,"SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","DisplayName":null,"Endpoint":"Token","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HLND4GPCPFD5:00000005","TimeStamp":"2019-06-09T22:01:26.0000000Z","ProcessId":28108,"LocalIpAddress":"127.0.0.1:10630","RemoteIpAddress":"::1","$type":"UserLoginSuccessEvent"}
2019-06-09 19:01:26.299 -03:00 [DBG] Resource owner password token request validation success.
2019-06-09 19:01:26.299 -03:00 [INF] Token request validation success
{"ClientId":"ro.client","ClientName":null,"GrantType":"password","Scopes":"api1 openid profile","AuthorizationCode":null,"RefreshToken":null,"UserName":"alice","AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"grant_type":"password","client_id":"ro.client","client_secret":"***REDACTED***","username":"alice","password":"***REDACTED***","scope":"openid profile api1"},"$type":"TokenRequestValidationLog"}
2019-06-09 19:01:26.299 -03:00 [DBG] Getting claims for access token for client: ro.client
2019-06-09 19:01:26.299 -03:00 [DBG] Getting claims for access token for subject: 4ba1c3a0-b786-421d-b88a-740f38d9cafa
2019-06-09 19:01:26.308 -03:00 [INF] {"ClientId":"ro.client","ClientName":null,"RedirectUri":null,"Endpoint":"Token","SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","Scopes":"openid profile api1","GrantType":"password","Tokens":[{"TokenType":"access_token","TokenValue":"****bhpw","$type":"Token"}],"Category":"Token","Name":"Token Issued Success","EventType":"Success","Id":2000,"Message":null,"ActivityId":"0HLND4GPCPFD5:00000005","TimeStamp":"2019-06-09T22:01:26.0000000Z","ProcessId":28108,"LocalIpAddress":"127.0.0.1:10630","RemoteIpAddress":"::1","$type":"TokenIssuedSuccessEvent"}
2019-06-09 19:01:26.308 -03:00 [DBG] Token request success.
2019-06-09 19:01:26.345 -03:00 [DBG] Request path /connect/userinfo matched to endpoint type Userinfo
2019-06-09 19:01:26.345 -03:00 [DBG] Endpoint enabled: Userinfo, successfully created handler: IdentityServer4.Endpoints.UserInfoEndpoint
2019-06-09 19:01:26.345 -03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.UserInfoEndpoint for /connect/userinfo
2019-06-09 19:01:26.345 -03:00 [DBG] Start userinfo request
2019-06-09 19:01:26.346 -03:00 [DBG] Bearer token found in header
2019-06-09 19:01:26.354 -03:00 [DBG] ro.client found in database: true
2019-06-09 19:01:26.354 -03:00 [DBG] client configuration validation for client ro.client succeeded.
2019-06-09 19:01:26.357 -03:00 [DBG] ro.client found in database: true
2019-06-09 19:01:26.357 -03:00 [DBG] client configuration validation for client ro.client succeeded.
2019-06-09 19:01:26.361 -03:00 [DBG] Calling into custom token validator: IdentityServer4.Validation.DefaultCustomTokenValidator
2019-06-09 19:01:26.361 -03:00 [DBG] Token validation success
{"ClientId":null,"ClientName":null,"ValidateLifetime":true,"AccessTokenType":"Jwt","ExpectedScope":"openid","TokenHandle":null,"JwtId":null,"Claims":{"nbf":1560117686,"exp":1560121286,"iss":"http://localhost:5000","aud":["http://localhost:5000/resources","api1"],"client_id":"ro.client","sub":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","auth_time":1560117686,"idp":"local","scope":["openid","profile","api1"],"amr":"pwd"},"$type":"TokenValidationLog"}
2019-06-09 19:01:26.361 -03:00 [DBG] Creating userinfo response
2019-06-09 19:01:26.361 -03:00 [DBG] Scopes in access token: openid profile api1
2019-06-09 19:01:26.361 -03:00 [DBG] Scopes in access token: openid profile api1
2019-06-09 19:01:26.363 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 19:01:26.363 -03:00 [DBG] Requested claim types: sub name family_name given_name middle_name nickname preferred_username profile picture website gender birthdate zoneinfo locale updated_at
2019-06-09 19:01:26.363 -03:00 [DBG] Scopes in access token: openid profile api1
2019-06-09 19:01:26.367 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 19:01:26.372 -03:00 [INF] Profile service returned the following claim types: sub name given_name family_name website preferred_username
2019-06-09 19:01:26.372 -03:00 [DBG] End userinfo request
2019-06-09 19:01:53.939 -03:00 [DBG] CORS request made for path: /connect/token from origin: http://localhost:3000
2019-06-09 19:01:53.940 -03:00 [DBG] Origin http://localhost:3000 is allowed: false
2019-06-09 19:01:53.940 -03:00 [WRN] CorsPolicyService did not allow origin: http://localhost:3000
2019-06-09 19:01:53.940 -03:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-06-09 19:01:53.940 -03:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-06-09 19:01:53.941 -03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-06-09 19:01:53.941 -03:00 [DBG] Start token request.
2019-06-09 19:01:53.941 -03:00 [DBG] Start client validation
2019-06-09 19:01:53.941 -03:00 [DBG] Start parsing Basic Authentication secret
2019-06-09 19:01:53.941 -03:00 [DBG] Start parsing for secret in post body
2019-06-09 19:01:53.942 -03:00 [DBG] Parser found secret: PostBodySecretParser
2019-06-09 19:01:53.942 -03:00 [DBG] Secret id found: ro.client
2019-06-09 19:01:53.949 -03:00 [DBG] ro.client found in database: true
2019-06-09 19:01:53.949 -03:00 [DBG] client configuration validation for client ro.client succeeded.
2019-06-09 19:01:53.949 -03:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-06-09 19:01:53.949 -03:00 [DBG] Client validation success
2019-06-09 19:01:53.949 -03:00 [INF] {"ClientId":"ro.client","AuthenticationMethod":"SharedSecret","Category":"Authentication","Name":"Client Authentication Success","EventType":"Success","Id":1010,"Message":null,"ActivityId":"0HLND4GPCPFD5:00000007","TimeStamp":"2019-06-09T22:01:53.0000000Z","ProcessId":28108,"LocalIpAddress":"127.0.0.1:10630","RemoteIpAddress":"::1","$type":"ClientAuthenticationSuccessEvent"}
2019-06-09 19:01:53.949 -03:00 [DBG] Start token request validation
2019-06-09 19:01:53.949 -03:00 [DBG] Start resource owner password token request validation
2019-06-09 19:01:53.951 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 19:01:53.959 -03:00 [DBG] Found ["api1"] API scopes in database
2019-06-09 19:01:53.961 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 19:01:53.964 -03:00 [DBG] Found ["api1"] API scopes in database
2019-06-09 19:01:53.974 -03:00 [INF] Credentials validated for username: alice
2019-06-09 19:01:53.974 -03:00 [INF] {"Username":"alice","Provider":null,"ProviderUserId":null,"SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","DisplayName":"alice","Endpoint":"Token","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HLND4GPCPFD5:00000007","TimeStamp":"2019-06-09T22:01:53.0000000Z","ProcessId":28108,"LocalIpAddress":"127.0.0.1:10630","RemoteIpAddress":"::1","$type":"UserLoginSuccessEvent"}
2019-06-09 19:01:53.975 -03:00 [INF] {"Username":"alice","Provider":null,"ProviderUserId":null,"SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","DisplayName":null,"Endpoint":"Token","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HLND4GPCPFD5:00000007","TimeStamp":"2019-06-09T22:01:53.0000000Z","ProcessId":28108,"LocalIpAddress":"127.0.0.1:10630","RemoteIpAddress":"::1","$type":"UserLoginSuccessEvent"}
2019-06-09 19:01:53.975 -03:00 [DBG] Resource owner password token request validation success.
2019-06-09 19:01:53.975 -03:00 [INF] Token request validation success
{"ClientId":"ro.client","ClientName":null,"GrantType":"password","Scopes":"api1 openid profile","AuthorizationCode":null,"RefreshToken":null,"UserName":"alice","AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"grant_type":"password","client_id":"ro.client","client_secret":"***REDACTED***","username":"alice","password":"***REDACTED***","scope":"openid profile api1"},"$type":"TokenRequestValidationLog"}
2019-06-09 19:01:53.975 -03:00 [DBG] Getting claims for access token for client: ro.client
2019-06-09 19:01:53.975 -03:00 [DBG] Getting claims for access token for subject: 4ba1c3a0-b786-421d-b88a-740f38d9cafa
2019-06-09 19:01:53.982 -03:00 [INF] {"ClientId":"ro.client","ClientName":null,"RedirectUri":null,"Endpoint":"Token","SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","Scopes":"openid profile api1","GrantType":"password","Tokens":[{"TokenType":"access_token","TokenValue":"****V2gQ","$type":"Token"}],"Category":"Token","Name":"Token Issued Success","EventType":"Success","Id":2000,"Message":null,"ActivityId":"0HLND4GPCPFD5:00000007","TimeStamp":"2019-06-09T22:01:53.0000000Z","ProcessId":28108,"LocalIpAddress":"127.0.0.1:10630","RemoteIpAddress":"::1","$type":"TokenIssuedSuccessEvent"}
2019-06-09 19:01:53.983 -03:00 [DBG] Token request success.
2019-06-09 19:01:54.017 -03:00 [DBG] Request path /connect/userinfo matched to endpoint type Userinfo
2019-06-09 19:01:54.018 -03:00 [DBG] Endpoint enabled: Userinfo, successfully created handler: IdentityServer4.Endpoints.UserInfoEndpoint
2019-06-09 19:01:54.018 -03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.UserInfoEndpoint for /connect/userinfo
2019-06-09 19:01:54.018 -03:00 [DBG] Start userinfo request
2019-06-09 19:01:54.018 -03:00 [DBG] Bearer token found in header
2019-06-09 19:01:54.024 -03:00 [DBG] ro.client found in database: true
2019-06-09 19:01:54.024 -03:00 [DBG] client configuration validation for client ro.client succeeded.
2019-06-09 19:01:54.029 -03:00 [DBG] ro.client found in database: true
2019-06-09 19:01:54.029 -03:00 [DBG] client configuration validation for client ro.client succeeded.
2019-06-09 19:01:54.032 -03:00 [DBG] Calling into custom token validator: IdentityServer4.Validation.DefaultCustomTokenValidator
2019-06-09 19:01:54.033 -03:00 [DBG] Token validation success
{"ClientId":null,"ClientName":null,"ValidateLifetime":true,"AccessTokenType":"Jwt","ExpectedScope":"openid","TokenHandle":null,"JwtId":null,"Claims":{"nbf":1560117713,"exp":1560121313,"iss":"http://localhost:5000","aud":["http://localhost:5000/resources","api1"],"client_id":"ro.client","sub":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","auth_time":1560117713,"idp":"local","scope":["openid","profile","api1"],"amr":"pwd"},"$type":"TokenValidationLog"}
2019-06-09 19:01:54.033 -03:00 [DBG] Creating userinfo response
2019-06-09 19:01:54.033 -03:00 [DBG] Scopes in access token: openid profile api1
2019-06-09 19:01:54.033 -03:00 [DBG] Scopes in access token: openid profile api1
2019-06-09 19:01:54.035 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 19:01:54.035 -03:00 [DBG] Requested claim types: sub name family_name given_name middle_name nickname preferred_username profile picture website gender birthdate zoneinfo locale updated_at
2019-06-09 19:01:54.035 -03:00 [DBG] Scopes in access token: openid profile api1
2019-06-09 19:01:54.036 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 19:01:54.039 -03:00 [INF] Profile service returned the following claim types: sub name given_name family_name website preferred_username
2019-06-09 19:01:54.039 -03:00 [DBG] End userinfo request
2019-06-09 19:02:04.098 -03:00 [DBG] CORS request made for path: /connect/token from origin: http://localhost:3000
2019-06-09 19:02:04.101 -03:00 [DBG] Origin http://localhost:3000 is allowed: false
2019-06-09 19:02:04.101 -03:00 [WRN] CorsPolicyService did not allow origin: http://localhost:3000
2019-06-09 19:02:04.101 -03:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-06-09 19:02:04.102 -03:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-06-09 19:02:04.102 -03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-06-09 19:02:04.102 -03:00 [DBG] Start token request.
2019-06-09 19:02:04.102 -03:00 [DBG] Start client validation
2019-06-09 19:02:04.102 -03:00 [DBG] Start parsing Basic Authentication secret
2019-06-09 19:02:04.102 -03:00 [DBG] Start parsing for secret in post body
2019-06-09 19:02:04.102 -03:00 [DBG] Parser found secret: PostBodySecretParser
2019-06-09 19:02:04.102 -03:00 [DBG] Secret id found: ro.client
2019-06-09 19:02:04.112 -03:00 [DBG] ro.client found in database: true
2019-06-09 19:02:04.112 -03:00 [DBG] client configuration validation for client ro.client succeeded.
2019-06-09 19:02:04.112 -03:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-06-09 19:02:04.112 -03:00 [DBG] Client validation success
2019-06-09 19:02:04.112 -03:00 [INF] {"ClientId":"ro.client","AuthenticationMethod":"SharedSecret","Category":"Authentication","Name":"Client Authentication Success","EventType":"Success","Id":1010,"Message":null,"ActivityId":"0HLND4GPCPFD5:00000009","TimeStamp":"2019-06-09T22:02:04.0000000Z","ProcessId":28108,"LocalIpAddress":"127.0.0.1:10630","RemoteIpAddress":"::1","$type":"ClientAuthenticationSuccessEvent"}
2019-06-09 19:02:04.112 -03:00 [DBG] Start token request validation
2019-06-09 19:02:04.113 -03:00 [DBG] Start resource owner password token request validation
2019-06-09 19:02:04.114 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 19:02:04.118 -03:00 [DBG] Found ["api1"] API scopes in database
2019-06-09 19:02:04.119 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 19:02:04.123 -03:00 [DBG] Found ["api1"] API scopes in database
2019-06-09 19:02:04.133 -03:00 [INF] Credentials validated for username: alice
2019-06-09 19:02:04.133 -03:00 [INF] {"Username":"alice","Provider":null,"ProviderUserId":null,"SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","DisplayName":"alice","Endpoint":"Token","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HLND4GPCPFD5:00000009","TimeStamp":"2019-06-09T22:02:04.0000000Z","ProcessId":28108,"LocalIpAddress":"127.0.0.1:10630","RemoteIpAddress":"::1","$type":"UserLoginSuccessEvent"}
2019-06-09 19:02:04.134 -03:00 [INF] {"Username":"alice","Provider":null,"ProviderUserId":null,"SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","DisplayName":null,"Endpoint":"Token","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HLND4GPCPFD5:00000009","TimeStamp":"2019-06-09T22:02:04.0000000Z","ProcessId":28108,"LocalIpAddress":"127.0.0.1:10630","RemoteIpAddress":"::1","$type":"UserLoginSuccessEvent"}
2019-06-09 19:02:04.134 -03:00 [DBG] Resource owner password token request validation success.
2019-06-09 19:02:04.134 -03:00 [INF] Token request validation success
{"ClientId":"ro.client","ClientName":null,"GrantType":"password","Scopes":"api1 openid profile","AuthorizationCode":null,"RefreshToken":null,"UserName":"alice","AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"grant_type":"password","client_id":"ro.client","client_secret":"***REDACTED***","username":"alice","password":"***REDACTED***","scope":"openid profile api1"},"$type":"TokenRequestValidationLog"}
2019-06-09 19:02:04.134 -03:00 [DBG] Getting claims for access token for client: ro.client
2019-06-09 19:02:04.134 -03:00 [DBG] Getting claims for access token for subject: 4ba1c3a0-b786-421d-b88a-740f38d9cafa
2019-06-09 19:02:04.141 -03:00 [INF] {"ClientId":"ro.client","ClientName":null,"RedirectUri":null,"Endpoint":"Token","SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","Scopes":"openid profile api1","GrantType":"password","Tokens":[{"TokenType":"access_token","TokenValue":"****bAWA","$type":"Token"}],"Category":"Token","Name":"Token Issued Success","EventType":"Success","Id":2000,"Message":null,"ActivityId":"0HLND4GPCPFD5:00000009","TimeStamp":"2019-06-09T22:02:04.0000000Z","ProcessId":28108,"LocalIpAddress":"127.0.0.1:10630","RemoteIpAddress":"::1","$type":"TokenIssuedSuccessEvent"}
2019-06-09 19:02:04.141 -03:00 [DBG] Token request success.
2019-06-09 19:02:04.175 -03:00 [DBG] Request path /connect/userinfo matched to endpoint type Userinfo
2019-06-09 19:02:04.176 -03:00 [DBG] Endpoint enabled: Userinfo, successfully created handler: IdentityServer4.Endpoints.UserInfoEndpoint
2019-06-09 19:02:04.176 -03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.UserInfoEndpoint for /connect/userinfo
2019-06-09 19:02:04.176 -03:00 [DBG] Start userinfo request
2019-06-09 19:02:04.176 -03:00 [DBG] Bearer token found in header
2019-06-09 19:02:04.182 -03:00 [DBG] ro.client found in database: true
2019-06-09 19:02:04.182 -03:00 [DBG] client configuration validation for client ro.client succeeded.
2019-06-09 19:02:04.185 -03:00 [DBG] ro.client found in database: true
2019-06-09 19:02:04.185 -03:00 [DBG] client configuration validation for client ro.client succeeded.
2019-06-09 19:02:04.188 -03:00 [DBG] Calling into custom token validator: IdentityServer4.Validation.DefaultCustomTokenValidator
2019-06-09 19:02:04.188 -03:00 [DBG] Token validation success
{"ClientId":null,"ClientName":null,"ValidateLifetime":true,"AccessTokenType":"Jwt","ExpectedScope":"openid","TokenHandle":null,"JwtId":null,"Claims":{"nbf":1560117724,"exp":1560121324,"iss":"http://localhost:5000","aud":["http://localhost:5000/resources","api1"],"client_id":"ro.client","sub":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","auth_time":1560117724,"idp":"local","scope":["openid","profile","api1"],"amr":"pwd"},"$type":"TokenValidationLog"}
2019-06-09 19:02:04.188 -03:00 [DBG] Creating userinfo response
2019-06-09 19:02:04.189 -03:00 [DBG] Scopes in access token: openid profile api1
2019-06-09 19:02:04.190 -03:00 [DBG] Scopes in access token: openid profile api1
2019-06-09 19:02:04.192 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 19:02:04.192 -03:00 [DBG] Requested claim types: sub name family_name given_name middle_name nickname preferred_username profile picture website gender birthdate zoneinfo locale updated_at
2019-06-09 19:02:04.192 -03:00 [DBG] Scopes in access token: openid profile api1
2019-06-09 19:02:04.194 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 19:02:04.198 -03:00 [INF] Profile service returned the following claim types: sub name given_name family_name website preferred_username
2019-06-09 19:02:04.198 -03:00 [DBG] End userinfo request
2019-06-09 19:04:34.064 -03:00 [DBG] CORS request made for path: /connect/token from origin: http://localhost:3000
2019-06-09 19:04:34.066 -03:00 [DBG] Origin http://localhost:3000 is allowed: false
2019-06-09 19:04:34.066 -03:00 [WRN] CorsPolicyService did not allow origin: http://localhost:3000
2019-06-09 19:04:34.066 -03:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-06-09 19:04:34.066 -03:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-06-09 19:04:34.067 -03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-06-09 19:04:34.067 -03:00 [DBG] Start token request.
2019-06-09 19:04:34.067 -03:00 [DBG] Start client validation
2019-06-09 19:04:34.067 -03:00 [DBG] Start parsing Basic Authentication secret
2019-06-09 19:04:34.067 -03:00 [DBG] Start parsing for secret in post body
2019-06-09 19:04:34.067 -03:00 [DBG] Parser found secret: PostBodySecretParser
2019-06-09 19:04:34.067 -03:00 [DBG] Secret id found: ro.client
2019-06-09 19:04:34.073 -03:00 [DBG] ro.client found in database: true
2019-06-09 19:04:34.073 -03:00 [DBG] client configuration validation for client ro.client succeeded.
2019-06-09 19:04:34.074 -03:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-06-09 19:04:34.074 -03:00 [DBG] Client validation success
2019-06-09 19:04:34.074 -03:00 [INF] {"ClientId":"ro.client","AuthenticationMethod":"SharedSecret","Category":"Authentication","Name":"Client Authentication Success","EventType":"Success","Id":1010,"Message":null,"ActivityId":"0HLND4GPCPFD6:00000001","TimeStamp":"2019-06-09T22:04:34.0000000Z","ProcessId":28108,"LocalIpAddress":"127.0.0.1:10630","RemoteIpAddress":"::1","$type":"ClientAuthenticationSuccessEvent"}
2019-06-09 19:04:34.074 -03:00 [DBG] Start token request validation
2019-06-09 19:04:34.074 -03:00 [DBG] Start resource owner password token request validation
2019-06-09 19:04:34.076 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 19:04:34.082 -03:00 [DBG] Found ["api1"] API scopes in database
2019-06-09 19:04:34.084 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 19:04:34.087 -03:00 [DBG] Found ["api1"] API scopes in database
2019-06-09 19:04:34.098 -03:00 [INF] Credentials validated for username: alice
2019-06-09 19:04:34.098 -03:00 [INF] {"Username":"alice","Provider":null,"ProviderUserId":null,"SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","DisplayName":"alice","Endpoint":"Token","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HLND4GPCPFD6:00000001","TimeStamp":"2019-06-09T22:04:34.0000000Z","ProcessId":28108,"LocalIpAddress":"127.0.0.1:10630","RemoteIpAddress":"::1","$type":"UserLoginSuccessEvent"}
2019-06-09 19:04:34.098 -03:00 [INF] {"Username":"alice","Provider":null,"ProviderUserId":null,"SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","DisplayName":null,"Endpoint":"Token","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HLND4GPCPFD6:00000001","TimeStamp":"2019-06-09T22:04:34.0000000Z","ProcessId":28108,"LocalIpAddress":"127.0.0.1:10630","RemoteIpAddress":"::1","$type":"UserLoginSuccessEvent"}
2019-06-09 19:04:34.098 -03:00 [DBG] Resource owner password token request validation success.
2019-06-09 19:04:34.099 -03:00 [INF] Token request validation success
{"ClientId":"ro.client","ClientName":null,"GrantType":"password","Scopes":"api1 openid profile","AuthorizationCode":null,"RefreshToken":null,"UserName":"alice","AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"grant_type":"password","client_id":"ro.client","client_secret":"***REDACTED***","username":"alice","password":"***REDACTED***","scope":"openid profile api1"},"$type":"TokenRequestValidationLog"}
2019-06-09 19:04:34.099 -03:00 [DBG] Getting claims for access token for client: ro.client
2019-06-09 19:04:34.099 -03:00 [DBG] Getting claims for access token for subject: 4ba1c3a0-b786-421d-b88a-740f38d9cafa
2019-06-09 19:04:34.115 -03:00 [INF] {"ClientId":"ro.client","ClientName":null,"RedirectUri":null,"Endpoint":"Token","SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","Scopes":"openid profile api1","GrantType":"password","Tokens":[{"TokenType":"access_token","TokenValue":"****i4PQ","$type":"Token"}],"Category":"Token","Name":"Token Issued Success","EventType":"Success","Id":2000,"Message":null,"ActivityId":"0HLND4GPCPFD6:00000001","TimeStamp":"2019-06-09T22:04:34.0000000Z","ProcessId":28108,"LocalIpAddress":"127.0.0.1:10630","RemoteIpAddress":"::1","$type":"TokenIssuedSuccessEvent"}
2019-06-09 19:04:34.115 -03:00 [DBG] Token request success.
2019-06-09 19:04:34.160 -03:00 [DBG] Request path /connect/userinfo matched to endpoint type Userinfo
2019-06-09 19:04:34.161 -03:00 [DBG] Endpoint enabled: Userinfo, successfully created handler: IdentityServer4.Endpoints.UserInfoEndpoint
2019-06-09 19:04:34.161 -03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.UserInfoEndpoint for /connect/userinfo
2019-06-09 19:04:34.161 -03:00 [DBG] Start userinfo request
2019-06-09 19:04:34.161 -03:00 [DBG] Bearer token found in header
2019-06-09 19:04:34.168 -03:00 [DBG] ro.client found in database: true
2019-06-09 19:04:34.168 -03:00 [DBG] client configuration validation for client ro.client succeeded.
2019-06-09 19:04:34.177 -03:00 [DBG] ro.client found in database: true
2019-06-09 19:04:34.177 -03:00 [DBG] client configuration validation for client ro.client succeeded.
2019-06-09 19:04:34.182 -03:00 [DBG] Calling into custom token validator: IdentityServer4.Validation.DefaultCustomTokenValidator
2019-06-09 19:04:34.182 -03:00 [DBG] Token validation success
{"ClientId":null,"ClientName":null,"ValidateLifetime":true,"AccessTokenType":"Jwt","ExpectedScope":"openid","TokenHandle":null,"JwtId":null,"Claims":{"nbf":1560117874,"exp":1560121474,"iss":"http://localhost:5000","aud":["http://localhost:5000/resources","api1"],"client_id":"ro.client","sub":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","auth_time":1560117874,"idp":"local","scope":["openid","profile","api1"],"amr":"pwd"},"$type":"TokenValidationLog"}
2019-06-09 19:04:34.182 -03:00 [DBG] Creating userinfo response
2019-06-09 19:04:34.182 -03:00 [DBG] Scopes in access token: openid profile api1
2019-06-09 19:04:34.182 -03:00 [DBG] Scopes in access token: openid profile api1
2019-06-09 19:04:34.185 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 19:04:34.185 -03:00 [DBG] Requested claim types: sub name family_name given_name middle_name nickname preferred_username profile picture website gender birthdate zoneinfo locale updated_at
2019-06-09 19:04:34.185 -03:00 [DBG] Scopes in access token: openid profile api1
2019-06-09 19:04:34.190 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 19:04:34.194 -03:00 [INF] Profile service returned the following claim types: sub name given_name family_name website preferred_username
2019-06-09 19:04:34.195 -03:00 [DBG] End userinfo request
2019-06-09 19:04:50.957 -03:00 [DBG] CORS request made for path: /connect/token from origin: http://localhost:3000
2019-06-09 19:04:50.959 -03:00 [DBG] Origin http://localhost:3000 is allowed: false
2019-06-09 19:04:50.959 -03:00 [WRN] CorsPolicyService did not allow origin: http://localhost:3000
2019-06-09 19:04:50.959 -03:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-06-09 19:04:50.959 -03:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-06-09 19:04:50.959 -03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-06-09 19:04:50.959 -03:00 [DBG] Start token request.
2019-06-09 19:04:50.959 -03:00 [DBG] Start client validation
2019-06-09 19:04:50.959 -03:00 [DBG] Start parsing Basic Authentication secret
2019-06-09 19:04:50.959 -03:00 [DBG] Start parsing for secret in post body
2019-06-09 19:04:50.960 -03:00 [DBG] Parser found secret: PostBodySecretParser
2019-06-09 19:04:50.960 -03:00 [DBG] Secret id found: ro.client
2019-06-09 19:04:50.970 -03:00 [DBG] ro.client found in database: true
2019-06-09 19:04:50.970 -03:00 [DBG] client configuration validation for client ro.client succeeded.
2019-06-09 19:04:50.970 -03:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-06-09 19:04:50.970 -03:00 [DBG] Client validation success
2019-06-09 19:04:50.970 -03:00 [INF] {"ClientId":"ro.client","AuthenticationMethod":"SharedSecret","Category":"Authentication","Name":"Client Authentication Success","EventType":"Success","Id":1010,"Message":null,"ActivityId":"0HLND4GPCPFD6:00000003","TimeStamp":"2019-06-09T22:04:50.0000000Z","ProcessId":28108,"LocalIpAddress":"127.0.0.1:10630","RemoteIpAddress":"::1","$type":"ClientAuthenticationSuccessEvent"}
2019-06-09 19:04:50.971 -03:00 [DBG] Start token request validation
2019-06-09 19:04:50.971 -03:00 [DBG] Start resource owner password token request validation
2019-06-09 19:04:50.973 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 19:04:50.976 -03:00 [DBG] Found ["api1"] API scopes in database
2019-06-09 19:04:50.978 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 19:04:50.981 -03:00 [DBG] Found ["api1"] API scopes in database
2019-06-09 19:04:50.992 -03:00 [INF] Credentials validated for username: alice
2019-06-09 19:04:50.992 -03:00 [INF] {"Username":"alice","Provider":null,"ProviderUserId":null,"SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","DisplayName":"alice","Endpoint":"Token","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HLND4GPCPFD6:00000003","TimeStamp":"2019-06-09T22:04:50.0000000Z","ProcessId":28108,"LocalIpAddress":"127.0.0.1:10630","RemoteIpAddress":"::1","$type":"UserLoginSuccessEvent"}
2019-06-09 19:04:50.992 -03:00 [INF] {"Username":"alice","Provider":null,"ProviderUserId":null,"SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","DisplayName":null,"Endpoint":"Token","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HLND4GPCPFD6:00000003","TimeStamp":"2019-06-09T22:04:50.0000000Z","ProcessId":28108,"LocalIpAddress":"127.0.0.1:10630","RemoteIpAddress":"::1","$type":"UserLoginSuccessEvent"}
2019-06-09 19:04:50.992 -03:00 [DBG] Resource owner password token request validation success.
2019-06-09 19:04:50.992 -03:00 [INF] Token request validation success
{"ClientId":"ro.client","ClientName":null,"GrantType":"password","Scopes":"api1 openid profile","AuthorizationCode":null,"RefreshToken":null,"UserName":"alice","AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"grant_type":"password","client_id":"ro.client","client_secret":"***REDACTED***","username":"alice","password":"***REDACTED***","scope":"openid profile api1"},"$type":"TokenRequestValidationLog"}
2019-06-09 19:04:50.992 -03:00 [DBG] Getting claims for access token for client: ro.client
2019-06-09 19:04:50.992 -03:00 [DBG] Getting claims for access token for subject: 4ba1c3a0-b786-421d-b88a-740f38d9cafa
2019-06-09 19:04:50.999 -03:00 [INF] {"ClientId":"ro.client","ClientName":null,"RedirectUri":null,"Endpoint":"Token","SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","Scopes":"openid profile api1","GrantType":"password","Tokens":[{"TokenType":"access_token","TokenValue":"****3OTw","$type":"Token"}],"Category":"Token","Name":"Token Issued Success","EventType":"Success","Id":2000,"Message":null,"ActivityId":"0HLND4GPCPFD6:00000003","TimeStamp":"2019-06-09T22:04:50.0000000Z","ProcessId":28108,"LocalIpAddress":"127.0.0.1:10630","RemoteIpAddress":"::1","$type":"TokenIssuedSuccessEvent"}
2019-06-09 19:04:50.999 -03:00 [DBG] Token request success.
2019-06-09 19:04:51.042 -03:00 [DBG] Request path /connect/userinfo matched to endpoint type Userinfo
2019-06-09 19:04:51.042 -03:00 [DBG] Endpoint enabled: Userinfo, successfully created handler: IdentityServer4.Endpoints.UserInfoEndpoint
2019-06-09 19:04:51.042 -03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.UserInfoEndpoint for /connect/userinfo
2019-06-09 19:04:51.042 -03:00 [DBG] Start userinfo request
2019-06-09 19:04:51.043 -03:00 [DBG] Bearer token found in header
2019-06-09 19:04:51.051 -03:00 [DBG] ro.client found in database: true
2019-06-09 19:04:51.051 -03:00 [DBG] client configuration validation for client ro.client succeeded.
2019-06-09 19:04:51.054 -03:00 [DBG] ro.client found in database: true
2019-06-09 19:04:51.054 -03:00 [DBG] client configuration validation for client ro.client succeeded.
2019-06-09 19:04:51.060 -03:00 [DBG] Calling into custom token validator: IdentityServer4.Validation.DefaultCustomTokenValidator
2019-06-09 19:04:51.061 -03:00 [DBG] Token validation success
{"ClientId":null,"ClientName":null,"ValidateLifetime":true,"AccessTokenType":"Jwt","ExpectedScope":"openid","TokenHandle":null,"JwtId":null,"Claims":{"nbf":1560117890,"exp":1560121490,"iss":"http://localhost:5000","aud":["http://localhost:5000/resources","api1"],"client_id":"ro.client","sub":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","auth_time":1560117890,"idp":"local","scope":["openid","profile","api1"],"amr":"pwd"},"$type":"TokenValidationLog"}
2019-06-09 19:04:51.061 -03:00 [DBG] Creating userinfo response
2019-06-09 19:04:51.061 -03:00 [DBG] Scopes in access token: openid profile api1
2019-06-09 19:04:51.061 -03:00 [DBG] Scopes in access token: openid profile api1
2019-06-09 19:04:51.063 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 19:04:51.063 -03:00 [DBG] Requested claim types: sub name family_name given_name middle_name nickname preferred_username profile picture website gender birthdate zoneinfo locale updated_at
2019-06-09 19:04:51.063 -03:00 [DBG] Scopes in access token: openid profile api1
2019-06-09 19:04:51.066 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 19:04:51.070 -03:00 [INF] Profile service returned the following claim types: sub name given_name family_name website preferred_username
2019-06-09 19:04:51.070 -03:00 [DBG] End userinfo request
2019-06-09 19:05:17.747 -03:00 [DBG] CORS request made for path: /connect/token from origin: http://localhost:3000
2019-06-09 19:05:17.749 -03:00 [DBG] Origin http://localhost:3000 is allowed: false
2019-06-09 19:05:17.749 -03:00 [WRN] CorsPolicyService did not allow origin: http://localhost:3000
2019-06-09 19:05:17.749 -03:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-06-09 19:05:17.749 -03:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-06-09 19:05:17.749 -03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-06-09 19:05:17.749 -03:00 [DBG] Start token request.
2019-06-09 19:05:17.750 -03:00 [DBG] Start client validation
2019-06-09 19:05:17.750 -03:00 [DBG] Start parsing Basic Authentication secret
2019-06-09 19:05:17.750 -03:00 [DBG] Start parsing for secret in post body
2019-06-09 19:05:17.750 -03:00 [DBG] Parser found secret: PostBodySecretParser
2019-06-09 19:05:17.750 -03:00 [DBG] Secret id found: ro.client
2019-06-09 19:05:17.754 -03:00 [DBG] ro.client found in database: true
2019-06-09 19:05:17.755 -03:00 [DBG] client configuration validation for client ro.client succeeded.
2019-06-09 19:05:17.755 -03:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-06-09 19:05:17.755 -03:00 [DBG] Client validation success
2019-06-09 19:05:17.755 -03:00 [INF] {"ClientId":"ro.client","AuthenticationMethod":"SharedSecret","Category":"Authentication","Name":"Client Authentication Success","EventType":"Success","Id":1010,"Message":null,"ActivityId":"0HLND4GPCPFD6:00000005","TimeStamp":"2019-06-09T22:05:17.0000000Z","ProcessId":28108,"LocalIpAddress":"127.0.0.1:10630","RemoteIpAddress":"::1","$type":"ClientAuthenticationSuccessEvent"}
2019-06-09 19:05:17.755 -03:00 [DBG] Start token request validation
2019-06-09 19:05:17.755 -03:00 [DBG] Start resource owner password token request validation
2019-06-09 19:05:17.757 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 19:05:17.766 -03:00 [DBG] Found ["api1"] API scopes in database
2019-06-09 19:05:17.768 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 19:05:17.771 -03:00 [DBG] Found ["api1"] API scopes in database
2019-06-09 19:05:17.782 -03:00 [INF] Credentials validated for username: alice
2019-06-09 19:05:17.782 -03:00 [INF] {"Username":"alice","Provider":null,"ProviderUserId":null,"SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","DisplayName":"alice","Endpoint":"Token","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HLND4GPCPFD6:00000005","TimeStamp":"2019-06-09T22:05:17.0000000Z","ProcessId":28108,"LocalIpAddress":"127.0.0.1:10630","RemoteIpAddress":"::1","$type":"UserLoginSuccessEvent"}
2019-06-09 19:05:17.782 -03:00 [INF] {"Username":"alice","Provider":null,"ProviderUserId":null,"SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","DisplayName":null,"Endpoint":"Token","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HLND4GPCPFD6:00000005","TimeStamp":"2019-06-09T22:05:17.0000000Z","ProcessId":28108,"LocalIpAddress":"127.0.0.1:10630","RemoteIpAddress":"::1","$type":"UserLoginSuccessEvent"}
2019-06-09 19:05:17.783 -03:00 [DBG] Resource owner password token request validation success.
2019-06-09 19:05:17.783 -03:00 [INF] Token request validation success
{"ClientId":"ro.client","ClientName":null,"GrantType":"password","Scopes":"api1 openid profile","AuthorizationCode":null,"RefreshToken":null,"UserName":"alice","AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"grant_type":"password","client_id":"ro.client","client_secret":"***REDACTED***","username":"alice","password":"***REDACTED***","scope":"openid profile api1"},"$type":"TokenRequestValidationLog"}
2019-06-09 19:05:17.783 -03:00 [DBG] Getting claims for access token for client: ro.client
2019-06-09 19:05:17.783 -03:00 [DBG] Getting claims for access token for subject: 4ba1c3a0-b786-421d-b88a-740f38d9cafa
2019-06-09 19:05:17.797 -03:00 [INF] {"ClientId":"ro.client","ClientName":null,"RedirectUri":null,"Endpoint":"Token","SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","Scopes":"openid profile api1","GrantType":"password","Tokens":[{"TokenType":"access_token","TokenValue":"****MWEQ","$type":"Token"}],"Category":"Token","Name":"Token Issued Success","EventType":"Success","Id":2000,"Message":null,"ActivityId":"0HLND4GPCPFD6:00000005","TimeStamp":"2019-06-09T22:05:17.0000000Z","ProcessId":28108,"LocalIpAddress":"127.0.0.1:10630","RemoteIpAddress":"::1","$type":"TokenIssuedSuccessEvent"}
2019-06-09 19:05:17.797 -03:00 [DBG] Token request success.
2019-06-09 19:05:17.845 -03:00 [DBG] Request path /connect/userinfo matched to endpoint type Userinfo
2019-06-09 19:05:17.845 -03:00 [DBG] Endpoint enabled: Userinfo, successfully created handler: IdentityServer4.Endpoints.UserInfoEndpoint
2019-06-09 19:05:17.845 -03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.UserInfoEndpoint for /connect/userinfo
2019-06-09 19:05:17.845 -03:00 [DBG] Start userinfo request
2019-06-09 19:05:17.846 -03:00 [DBG] Bearer token found in header
2019-06-09 19:05:17.851 -03:00 [DBG] ro.client found in database: true
2019-06-09 19:05:17.852 -03:00 [DBG] client configuration validation for client ro.client succeeded.
2019-06-09 19:05:17.854 -03:00 [DBG] ro.client found in database: true
2019-06-09 19:05:17.854 -03:00 [DBG] client configuration validation for client ro.client succeeded.
2019-06-09 19:05:17.858 -03:00 [DBG] Calling into custom token validator: IdentityServer4.Validation.DefaultCustomTokenValidator
2019-06-09 19:05:17.860 -03:00 [DBG] Token validation success
{"ClientId":null,"ClientName":null,"ValidateLifetime":true,"AccessTokenType":"Jwt","ExpectedScope":"openid","TokenHandle":null,"JwtId":null,"Claims":{"nbf":1560117917,"exp":1560121517,"iss":"http://localhost:5000","aud":["http://localhost:5000/resources","api1"],"client_id":"ro.client","sub":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","auth_time":1560117917,"idp":"local","scope":["openid","profile","api1"],"amr":"pwd"},"$type":"TokenValidationLog"}
2019-06-09 19:05:17.861 -03:00 [DBG] Creating userinfo response
2019-06-09 19:05:17.861 -03:00 [DBG] Scopes in access token: openid profile api1
2019-06-09 19:05:17.861 -03:00 [DBG] Scopes in access token: openid profile api1
2019-06-09 19:05:17.863 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 19:05:17.863 -03:00 [DBG] Requested claim types: sub name family_name given_name middle_name nickname preferred_username profile picture website gender birthdate zoneinfo locale updated_at
2019-06-09 19:05:17.863 -03:00 [DBG] Scopes in access token: openid profile api1
2019-06-09 19:05:17.865 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 19:05:17.868 -03:00 [INF] Profile service returned the following claim types: sub name given_name family_name website preferred_username
2019-06-09 19:05:17.868 -03:00 [DBG] End userinfo request
2019-06-09 19:05:27.819 -03:00 [DBG] CORS request made for path: /connect/token from origin: http://localhost:3000
2019-06-09 19:05:27.820 -03:00 [DBG] Origin http://localhost:3000 is allowed: false
2019-06-09 19:05:27.820 -03:00 [WRN] CorsPolicyService did not allow origin: http://localhost:3000
2019-06-09 19:05:27.821 -03:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-06-09 19:05:27.821 -03:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-06-09 19:05:27.821 -03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-06-09 19:05:27.821 -03:00 [DBG] Start token request.
2019-06-09 19:05:27.821 -03:00 [DBG] Start client validation
2019-06-09 19:05:27.821 -03:00 [DBG] Start parsing Basic Authentication secret
2019-06-09 19:05:27.821 -03:00 [DBG] Start parsing for secret in post body
2019-06-09 19:05:27.821 -03:00 [DBG] Parser found secret: PostBodySecretParser
2019-06-09 19:05:27.822 -03:00 [DBG] Secret id found: ro.client
2019-06-09 19:05:27.830 -03:00 [DBG] ro.client found in database: true
2019-06-09 19:05:27.831 -03:00 [DBG] client configuration validation for client ro.client succeeded.
2019-06-09 19:05:27.831 -03:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-06-09 19:05:27.831 -03:00 [DBG] Client validation success
2019-06-09 19:05:27.831 -03:00 [INF] {"ClientId":"ro.client","AuthenticationMethod":"SharedSecret","Category":"Authentication","Name":"Client Authentication Success","EventType":"Success","Id":1010,"Message":null,"ActivityId":"0HLND4GPCPFD6:00000007","TimeStamp":"2019-06-09T22:05:27.0000000Z","ProcessId":28108,"LocalIpAddress":"127.0.0.1:10630","RemoteIpAddress":"::1","$type":"ClientAuthenticationSuccessEvent"}
2019-06-09 19:05:27.831 -03:00 [DBG] Start token request validation
2019-06-09 19:05:27.831 -03:00 [DBG] Start resource owner password token request validation
2019-06-09 19:05:27.834 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 19:05:27.837 -03:00 [DBG] Found ["api1"] API scopes in database
2019-06-09 19:05:27.840 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 19:05:27.847 -03:00 [DBG] Found ["api1"] API scopes in database
2019-06-09 19:05:27.859 -03:00 [INF] Credentials validated for username: alice
2019-06-09 19:05:27.859 -03:00 [INF] {"Username":"alice","Provider":null,"ProviderUserId":null,"SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","DisplayName":"alice","Endpoint":"Token","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HLND4GPCPFD6:00000007","TimeStamp":"2019-06-09T22:05:27.0000000Z","ProcessId":28108,"LocalIpAddress":"127.0.0.1:10630","RemoteIpAddress":"::1","$type":"UserLoginSuccessEvent"}
2019-06-09 19:05:27.859 -03:00 [INF] {"Username":"alice","Provider":null,"ProviderUserId":null,"SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","DisplayName":null,"Endpoint":"Token","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HLND4GPCPFD6:00000007","TimeStamp":"2019-06-09T22:05:27.0000000Z","ProcessId":28108,"LocalIpAddress":"127.0.0.1:10630","RemoteIpAddress":"::1","$type":"UserLoginSuccessEvent"}
2019-06-09 19:05:27.859 -03:00 [DBG] Resource owner password token request validation success.
2019-06-09 19:05:27.859 -03:00 [INF] Token request validation success
{"ClientId":"ro.client","ClientName":null,"GrantType":"password","Scopes":"api1 openid profile","AuthorizationCode":null,"RefreshToken":null,"UserName":"alice","AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"grant_type":"password","client_id":"ro.client","client_secret":"***REDACTED***","username":"alice","password":"***REDACTED***","scope":"openid profile api1"},"$type":"TokenRequestValidationLog"}
2019-06-09 19:05:27.860 -03:00 [DBG] Getting claims for access token for client: ro.client
2019-06-09 19:05:27.860 -03:00 [DBG] Getting claims for access token for subject: 4ba1c3a0-b786-421d-b88a-740f38d9cafa
2019-06-09 19:05:27.866 -03:00 [INF] {"ClientId":"ro.client","ClientName":null,"RedirectUri":null,"Endpoint":"Token","SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","Scopes":"openid profile api1","GrantType":"password","Tokens":[{"TokenType":"access_token","TokenValue":"****9K5A","$type":"Token"}],"Category":"Token","Name":"Token Issued Success","EventType":"Success","Id":2000,"Message":null,"ActivityId":"0HLND4GPCPFD6:00000007","TimeStamp":"2019-06-09T22:05:27.0000000Z","ProcessId":28108,"LocalIpAddress":"127.0.0.1:10630","RemoteIpAddress":"::1","$type":"TokenIssuedSuccessEvent"}
2019-06-09 19:05:27.867 -03:00 [DBG] Token request success.
2019-06-09 19:05:27.901 -03:00 [DBG] Request path /connect/userinfo matched to endpoint type Userinfo
2019-06-09 19:05:27.901 -03:00 [DBG] Endpoint enabled: Userinfo, successfully created handler: IdentityServer4.Endpoints.UserInfoEndpoint
2019-06-09 19:05:27.901 -03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.UserInfoEndpoint for /connect/userinfo
2019-06-09 19:05:27.901 -03:00 [DBG] Start userinfo request
2019-06-09 19:05:27.902 -03:00 [DBG] Bearer token found in header
2019-06-09 19:05:27.909 -03:00 [DBG] ro.client found in database: true
2019-06-09 19:05:27.909 -03:00 [DBG] client configuration validation for client ro.client succeeded.
2019-06-09 19:05:27.914 -03:00 [DBG] ro.client found in database: true
2019-06-09 19:05:27.914 -03:00 [DBG] client configuration validation for client ro.client succeeded.
2019-06-09 19:05:27.917 -03:00 [DBG] Calling into custom token validator: IdentityServer4.Validation.DefaultCustomTokenValidator
2019-06-09 19:05:27.918 -03:00 [DBG] Token validation success
{"ClientId":null,"ClientName":null,"ValidateLifetime":true,"AccessTokenType":"Jwt","ExpectedScope":"openid","TokenHandle":null,"JwtId":null,"Claims":{"nbf":1560117927,"exp":1560121527,"iss":"http://localhost:5000","aud":["http://localhost:5000/resources","api1"],"client_id":"ro.client","sub":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","auth_time":1560117927,"idp":"local","scope":["openid","profile","api1"],"amr":"pwd"},"$type":"TokenValidationLog"}
2019-06-09 19:05:27.918 -03:00 [DBG] Creating userinfo response
2019-06-09 19:05:27.918 -03:00 [DBG] Scopes in access token: openid profile api1
2019-06-09 19:05:27.918 -03:00 [DBG] Scopes in access token: openid profile api1
2019-06-09 19:05:27.920 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 19:05:27.920 -03:00 [DBG] Requested claim types: sub name family_name given_name middle_name nickname preferred_username profile picture website gender birthdate zoneinfo locale updated_at
2019-06-09 19:05:27.920 -03:00 [DBG] Scopes in access token: openid profile api1
2019-06-09 19:05:27.921 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 19:05:27.928 -03:00 [INF] Profile service returned the following claim types: sub name given_name family_name website preferred_username
2019-06-09 19:05:27.928 -03:00 [DBG] End userinfo request
2019-06-09 19:06:44.899 -03:00 [DBG] CORS request made for path: /connect/token from origin: http://localhost:3000
2019-06-09 19:06:44.900 -03:00 [DBG] Origin http://localhost:3000 is allowed: false
2019-06-09 19:06:44.900 -03:00 [WRN] CorsPolicyService did not allow origin: http://localhost:3000
2019-06-09 19:06:44.901 -03:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-06-09 19:06:44.901 -03:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-06-09 19:06:44.901 -03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-06-09 19:06:44.901 -03:00 [DBG] Start token request.
2019-06-09 19:06:44.901 -03:00 [DBG] Start client validation
2019-06-09 19:06:44.901 -03:00 [DBG] Start parsing Basic Authentication secret
2019-06-09 19:06:44.901 -03:00 [DBG] Start parsing for secret in post body
2019-06-09 19:06:44.902 -03:00 [DBG] Parser found secret: PostBodySecretParser
2019-06-09 19:06:44.902 -03:00 [DBG] Secret id found: ro.client
2019-06-09 19:06:44.909 -03:00 [DBG] ro.client found in database: true
2019-06-09 19:06:44.909 -03:00 [DBG] client configuration validation for client ro.client succeeded.
2019-06-09 19:06:44.909 -03:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-06-09 19:06:44.909 -03:00 [DBG] Client validation success
2019-06-09 19:06:44.909 -03:00 [INF] {"ClientId":"ro.client","AuthenticationMethod":"SharedSecret","Category":"Authentication","Name":"Client Authentication Success","EventType":"Success","Id":1010,"Message":null,"ActivityId":"0HLND4GPCPFD7:00000001","TimeStamp":"2019-06-09T22:06:44.0000000Z","ProcessId":28108,"LocalIpAddress":"127.0.0.1:10630","RemoteIpAddress":"::1","$type":"ClientAuthenticationSuccessEvent"}
2019-06-09 19:06:44.910 -03:00 [DBG] Start token request validation
2019-06-09 19:06:44.910 -03:00 [DBG] Start resource owner password token request validation
2019-06-09 19:06:44.912 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 19:06:44.915 -03:00 [DBG] Found ["api1"] API scopes in database
2019-06-09 19:06:44.916 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 19:06:44.919 -03:00 [DBG] Found ["api1"] API scopes in database
2019-06-09 19:06:44.934 -03:00 [INF] Credentials validated for username: alice
2019-06-09 19:06:44.934 -03:00 [INF] {"Username":"alice","Provider":null,"ProviderUserId":null,"SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","DisplayName":"alice","Endpoint":"Token","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HLND4GPCPFD7:00000001","TimeStamp":"2019-06-09T22:06:44.0000000Z","ProcessId":28108,"LocalIpAddress":"127.0.0.1:10630","RemoteIpAddress":"::1","$type":"UserLoginSuccessEvent"}
2019-06-09 19:06:44.934 -03:00 [INF] {"Username":"alice","Provider":null,"ProviderUserId":null,"SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","DisplayName":null,"Endpoint":"Token","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HLND4GPCPFD7:00000001","TimeStamp":"2019-06-09T22:06:44.0000000Z","ProcessId":28108,"LocalIpAddress":"127.0.0.1:10630","RemoteIpAddress":"::1","$type":"UserLoginSuccessEvent"}
2019-06-09 19:06:44.934 -03:00 [DBG] Resource owner password token request validation success.
2019-06-09 19:06:44.934 -03:00 [INF] Token request validation success
{"ClientId":"ro.client","ClientName":null,"GrantType":"password","Scopes":"api1 openid profile","AuthorizationCode":null,"RefreshToken":null,"UserName":"alice","AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"grant_type":"password","client_id":"ro.client","client_secret":"***REDACTED***","username":"alice","password":"***REDACTED***","scope":"openid profile api1"},"$type":"TokenRequestValidationLog"}
2019-06-09 19:06:44.935 -03:00 [DBG] Getting claims for access token for client: ro.client
2019-06-09 19:06:44.935 -03:00 [DBG] Getting claims for access token for subject: 4ba1c3a0-b786-421d-b88a-740f38d9cafa
2019-06-09 19:06:44.974 -03:00 [INF] {"ClientId":"ro.client","ClientName":null,"RedirectUri":null,"Endpoint":"Token","SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","Scopes":"openid profile api1","GrantType":"password","Tokens":[{"TokenType":"access_token","TokenValue":"****bhHA","$type":"Token"}],"Category":"Token","Name":"Token Issued Success","EventType":"Success","Id":2000,"Message":null,"ActivityId":"0HLND4GPCPFD7:00000001","TimeStamp":"2019-06-09T22:06:44.0000000Z","ProcessId":28108,"LocalIpAddress":"127.0.0.1:10630","RemoteIpAddress":"::1","$type":"TokenIssuedSuccessEvent"}
2019-06-09 19:06:44.975 -03:00 [DBG] Token request success.
2019-06-09 19:06:45.011 -03:00 [DBG] Request path /connect/userinfo matched to endpoint type Userinfo
2019-06-09 19:06:45.011 -03:00 [DBG] Endpoint enabled: Userinfo, successfully created handler: IdentityServer4.Endpoints.UserInfoEndpoint
2019-06-09 19:06:45.011 -03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.UserInfoEndpoint for /connect/userinfo
2019-06-09 19:06:45.011 -03:00 [DBG] Start userinfo request
2019-06-09 19:06:45.011 -03:00 [DBG] Bearer token found in header
2019-06-09 19:06:45.018 -03:00 [DBG] ro.client found in database: true
2019-06-09 19:06:45.018 -03:00 [DBG] client configuration validation for client ro.client succeeded.
2019-06-09 19:06:45.023 -03:00 [DBG] ro.client found in database: true
2019-06-09 19:06:45.023 -03:00 [DBG] client configuration validation for client ro.client succeeded.
2019-06-09 19:06:45.028 -03:00 [DBG] Calling into custom token validator: IdentityServer4.Validation.DefaultCustomTokenValidator
2019-06-09 19:06:45.028 -03:00 [DBG] Token validation success
{"ClientId":null,"ClientName":null,"ValidateLifetime":true,"AccessTokenType":"Jwt","ExpectedScope":"openid","TokenHandle":null,"JwtId":null,"Claims":{"nbf":1560118004,"exp":1560121604,"iss":"http://localhost:5000","aud":["http://localhost:5000/resources","api1"],"client_id":"ro.client","sub":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","auth_time":1560118004,"idp":"local","scope":["openid","profile","api1"],"amr":"pwd"},"$type":"TokenValidationLog"}
2019-06-09 19:06:45.028 -03:00 [DBG] Creating userinfo response
2019-06-09 19:06:45.028 -03:00 [DBG] Scopes in access token: openid profile api1
2019-06-09 19:06:45.028 -03:00 [DBG] Scopes in access token: openid profile api1
2019-06-09 19:06:45.030 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 19:06:45.030 -03:00 [DBG] Requested claim types: sub name family_name given_name middle_name nickname preferred_username profile picture website gender birthdate zoneinfo locale updated_at
2019-06-09 19:06:45.030 -03:00 [DBG] Scopes in access token: openid profile api1
2019-06-09 19:06:45.032 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 19:06:45.036 -03:00 [INF] Profile service returned the following claim types: sub name given_name family_name website preferred_username
2019-06-09 19:06:45.036 -03:00 [DBG] End userinfo request
2019-06-09 19:07:10.510 -03:00 [DBG] CORS request made for path: /connect/token from origin: http://localhost:3000
2019-06-09 19:07:10.511 -03:00 [DBG] Origin http://localhost:3000 is allowed: false
2019-06-09 19:07:10.511 -03:00 [WRN] CorsPolicyService did not allow origin: http://localhost:3000
2019-06-09 19:07:10.512 -03:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-06-09 19:07:10.512 -03:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-06-09 19:07:10.512 -03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-06-09 19:07:10.512 -03:00 [DBG] Start token request.
2019-06-09 19:07:10.512 -03:00 [DBG] Start client validation
2019-06-09 19:07:10.512 -03:00 [DBG] Start parsing Basic Authentication secret
2019-06-09 19:07:10.512 -03:00 [DBG] Start parsing for secret in post body
2019-06-09 19:07:10.512 -03:00 [DBG] Parser found secret: PostBodySecretParser
2019-06-09 19:07:10.513 -03:00 [DBG] Secret id found: ro.client
2019-06-09 19:07:10.520 -03:00 [DBG] ro.client found in database: true
2019-06-09 19:07:10.520 -03:00 [DBG] client configuration validation for client ro.client succeeded.
2019-06-09 19:07:10.521 -03:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-06-09 19:07:10.521 -03:00 [DBG] Client validation success
2019-06-09 19:07:10.521 -03:00 [INF] {"ClientId":"ro.client","AuthenticationMethod":"SharedSecret","Category":"Authentication","Name":"Client Authentication Success","EventType":"Success","Id":1010,"Message":null,"ActivityId":"0HLND4GPCPFD7:00000003","TimeStamp":"2019-06-09T22:07:10.0000000Z","ProcessId":28108,"LocalIpAddress":"127.0.0.1:10630","RemoteIpAddress":"::1","$type":"ClientAuthenticationSuccessEvent"}
2019-06-09 19:07:10.521 -03:00 [DBG] Start token request validation
2019-06-09 19:07:10.521 -03:00 [DBG] Start resource owner password token request validation
2019-06-09 19:07:10.524 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 19:07:10.528 -03:00 [DBG] Found ["api1"] API scopes in database
2019-06-09 19:07:10.529 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 19:07:10.534 -03:00 [DBG] Found ["api1"] API scopes in database
2019-06-09 19:07:10.544 -03:00 [INF] Credentials validated for username: alice
2019-06-09 19:07:10.544 -03:00 [INF] {"Username":"alice","Provider":null,"ProviderUserId":null,"SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","DisplayName":"alice","Endpoint":"Token","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HLND4GPCPFD7:00000003","TimeStamp":"2019-06-09T22:07:10.0000000Z","ProcessId":28108,"LocalIpAddress":"127.0.0.1:10630","RemoteIpAddress":"::1","$type":"UserLoginSuccessEvent"}
2019-06-09 19:07:10.544 -03:00 [INF] {"Username":"alice","Provider":null,"ProviderUserId":null,"SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","DisplayName":null,"Endpoint":"Token","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HLND4GPCPFD7:00000003","TimeStamp":"2019-06-09T22:07:10.0000000Z","ProcessId":28108,"LocalIpAddress":"127.0.0.1:10630","RemoteIpAddress":"::1","$type":"UserLoginSuccessEvent"}
2019-06-09 19:07:10.545 -03:00 [DBG] Resource owner password token request validation success.
2019-06-09 19:07:10.545 -03:00 [INF] Token request validation success
{"ClientId":"ro.client","ClientName":null,"GrantType":"password","Scopes":"api1 openid profile","AuthorizationCode":null,"RefreshToken":null,"UserName":"alice","AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"grant_type":"password","client_id":"ro.client","client_secret":"***REDACTED***","username":"alice","password":"***REDACTED***","scope":"openid profile api1"},"$type":"TokenRequestValidationLog"}
2019-06-09 19:07:10.545 -03:00 [DBG] Getting claims for access token for client: ro.client
2019-06-09 19:07:10.545 -03:00 [DBG] Getting claims for access token for subject: 4ba1c3a0-b786-421d-b88a-740f38d9cafa
2019-06-09 19:07:10.554 -03:00 [INF] {"ClientId":"ro.client","ClientName":null,"RedirectUri":null,"Endpoint":"Token","SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","Scopes":"openid profile api1","GrantType":"password","Tokens":[{"TokenType":"access_token","TokenValue":"****ioXQ","$type":"Token"}],"Category":"Token","Name":"Token Issued Success","EventType":"Success","Id":2000,"Message":null,"ActivityId":"0HLND4GPCPFD7:00000003","TimeStamp":"2019-06-09T22:07:10.0000000Z","ProcessId":28108,"LocalIpAddress":"127.0.0.1:10630","RemoteIpAddress":"::1","$type":"TokenIssuedSuccessEvent"}
2019-06-09 19:07:10.554 -03:00 [DBG] Token request success.
2019-06-09 19:07:10.581 -03:00 [DBG] Request path /connect/userinfo matched to endpoint type Userinfo
2019-06-09 19:07:10.581 -03:00 [DBG] Endpoint enabled: Userinfo, successfully created handler: IdentityServer4.Endpoints.UserInfoEndpoint
2019-06-09 19:07:10.581 -03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.UserInfoEndpoint for /connect/userinfo
2019-06-09 19:07:10.581 -03:00 [DBG] Start userinfo request
2019-06-09 19:07:10.581 -03:00 [DBG] Bearer token found in header
2019-06-09 19:07:10.588 -03:00 [DBG] ro.client found in database: true
2019-06-09 19:07:10.588 -03:00 [DBG] client configuration validation for client ro.client succeeded.
2019-06-09 19:07:10.591 -03:00 [DBG] ro.client found in database: true
2019-06-09 19:07:10.591 -03:00 [DBG] client configuration validation for client ro.client succeeded.
2019-06-09 19:07:10.599 -03:00 [DBG] Calling into custom token validator: IdentityServer4.Validation.DefaultCustomTokenValidator
2019-06-09 19:07:10.600 -03:00 [DBG] Token validation success
{"ClientId":null,"ClientName":null,"ValidateLifetime":true,"AccessTokenType":"Jwt","ExpectedScope":"openid","TokenHandle":null,"JwtId":null,"Claims":{"nbf":1560118030,"exp":1560121630,"iss":"http://localhost:5000","aud":["http://localhost:5000/resources","api1"],"client_id":"ro.client","sub":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","auth_time":1560118030,"idp":"local","scope":["openid","profile","api1"],"amr":"pwd"},"$type":"TokenValidationLog"}
2019-06-09 19:07:10.600 -03:00 [DBG] Creating userinfo response
2019-06-09 19:07:10.600 -03:00 [DBG] Scopes in access token: openid profile api1
2019-06-09 19:07:10.600 -03:00 [DBG] Scopes in access token: openid profile api1
2019-06-09 19:07:10.602 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 19:07:10.602 -03:00 [DBG] Requested claim types: sub name family_name given_name middle_name nickname preferred_username profile picture website gender birthdate zoneinfo locale updated_at
2019-06-09 19:07:10.602 -03:00 [DBG] Scopes in access token: openid profile api1
2019-06-09 19:07:10.603 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 19:07:10.607 -03:00 [INF] Profile service returned the following claim types: sub name given_name family_name website preferred_username
2019-06-09 19:07:10.607 -03:00 [DBG] End userinfo request
2019-06-09 19:12:16.503 -03:00 [DBG] CORS request made for path: /connect/token from origin: http://localhost:3000
2019-06-09 19:12:16.510 -03:00 [DBG] Origin http://localhost:3000 is allowed: false
2019-06-09 19:12:16.510 -03:00 [WRN] CorsPolicyService did not allow origin: http://localhost:3000
2019-06-09 19:12:16.510 -03:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-06-09 19:12:16.511 -03:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-06-09 19:12:16.511 -03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-06-09 19:12:16.511 -03:00 [DBG] Start token request.
2019-06-09 19:12:16.511 -03:00 [DBG] Start client validation
2019-06-09 19:12:16.511 -03:00 [DBG] Start parsing Basic Authentication secret
2019-06-09 19:12:16.511 -03:00 [DBG] Start parsing for secret in post body
2019-06-09 19:12:16.511 -03:00 [DBG] Parser found secret: PostBodySecretParser
2019-06-09 19:12:16.511 -03:00 [DBG] Secret id found: ro.client
2019-06-09 19:12:16.516 -03:00 [DBG] ro.client found in database: true
2019-06-09 19:12:16.516 -03:00 [DBG] client configuration validation for client ro.client succeeded.
2019-06-09 19:12:16.516 -03:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-06-09 19:12:16.516 -03:00 [DBG] Client validation success
2019-06-09 19:12:16.516 -03:00 [INF] {"ClientId":"ro.client","AuthenticationMethod":"SharedSecret","Category":"Authentication","Name":"Client Authentication Success","EventType":"Success","Id":1010,"Message":null,"ActivityId":"0HLND4GPCPFD8:00000001","TimeStamp":"2019-06-09T22:12:16.0000000Z","ProcessId":28108,"LocalIpAddress":"127.0.0.1:10630","RemoteIpAddress":"::1","$type":"ClientAuthenticationSuccessEvent"}
2019-06-09 19:12:16.516 -03:00 [DBG] Start token request validation
2019-06-09 19:12:16.516 -03:00 [DBG] Start resource owner password token request validation
2019-06-09 19:12:16.518 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 19:12:16.521 -03:00 [DBG] Found ["api1"] API scopes in database
2019-06-09 19:12:16.526 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 19:12:16.530 -03:00 [DBG] Found ["api1"] API scopes in database
2019-06-09 19:12:16.541 -03:00 [INF] Credentials validated for username: alice
2019-06-09 19:12:16.542 -03:00 [INF] {"Username":"alice","Provider":null,"ProviderUserId":null,"SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","DisplayName":"alice","Endpoint":"Token","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HLND4GPCPFD8:00000001","TimeStamp":"2019-06-09T22:12:16.0000000Z","ProcessId":28108,"LocalIpAddress":"127.0.0.1:10630","RemoteIpAddress":"::1","$type":"UserLoginSuccessEvent"}
2019-06-09 19:12:16.542 -03:00 [INF] {"Username":"alice","Provider":null,"ProviderUserId":null,"SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","DisplayName":null,"Endpoint":"Token","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HLND4GPCPFD8:00000001","TimeStamp":"2019-06-09T22:12:16.0000000Z","ProcessId":28108,"LocalIpAddress":"127.0.0.1:10630","RemoteIpAddress":"::1","$type":"UserLoginSuccessEvent"}
2019-06-09 19:12:16.542 -03:00 [DBG] Resource owner password token request validation success.
2019-06-09 19:12:16.542 -03:00 [INF] Token request validation success
{"ClientId":"ro.client","ClientName":null,"GrantType":"password","Scopes":"api1 openid profile","AuthorizationCode":null,"RefreshToken":null,"UserName":"alice","AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"grant_type":"password","client_id":"ro.client","client_secret":"***REDACTED***","username":"alice","password":"***REDACTED***","scope":"openid profile api1"},"$type":"TokenRequestValidationLog"}
2019-06-09 19:12:16.542 -03:00 [DBG] Getting claims for access token for client: ro.client
2019-06-09 19:12:16.542 -03:00 [DBG] Getting claims for access token for subject: 4ba1c3a0-b786-421d-b88a-740f38d9cafa
2019-06-09 19:12:16.557 -03:00 [INF] {"ClientId":"ro.client","ClientName":null,"RedirectUri":null,"Endpoint":"Token","SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","Scopes":"openid profile api1","GrantType":"password","Tokens":[{"TokenType":"access_token","TokenValue":"****dZqw","$type":"Token"}],"Category":"Token","Name":"Token Issued Success","EventType":"Success","Id":2000,"Message":null,"ActivityId":"0HLND4GPCPFD8:00000001","TimeStamp":"2019-06-09T22:12:16.0000000Z","ProcessId":28108,"LocalIpAddress":"127.0.0.1:10630","RemoteIpAddress":"::1","$type":"TokenIssuedSuccessEvent"}
2019-06-09 19:12:16.557 -03:00 [DBG] Token request success.
2019-06-09 19:12:18.596 -03:00 [DBG] Request path /connect/userinfo matched to endpoint type Userinfo
2019-06-09 19:12:18.596 -03:00 [DBG] Endpoint enabled: Userinfo, successfully created handler: IdentityServer4.Endpoints.UserInfoEndpoint
2019-06-09 19:12:18.596 -03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.UserInfoEndpoint for /connect/userinfo
2019-06-09 19:12:18.596 -03:00 [DBG] Start userinfo request
2019-06-09 19:12:18.596 -03:00 [DBG] Bearer token found in header
2019-06-09 19:12:18.603 -03:00 [DBG] ro.client found in database: true
2019-06-09 19:12:18.603 -03:00 [DBG] client configuration validation for client ro.client succeeded.
2019-06-09 19:12:18.607 -03:00 [DBG] ro.client found in database: true
2019-06-09 19:12:18.607 -03:00 [DBG] client configuration validation for client ro.client succeeded.
2019-06-09 19:12:18.610 -03:00 [DBG] Calling into custom token validator: IdentityServer4.Validation.DefaultCustomTokenValidator
2019-06-09 19:12:18.610 -03:00 [DBG] Token validation success
{"ClientId":null,"ClientName":null,"ValidateLifetime":true,"AccessTokenType":"Jwt","ExpectedScope":"openid","TokenHandle":null,"JwtId":null,"Claims":{"nbf":1560118336,"exp":1560121936,"iss":"http://localhost:5000","aud":["http://localhost:5000/resources","api1"],"client_id":"ro.client","sub":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","auth_time":1560118336,"idp":"local","scope":["openid","profile","api1"],"amr":"pwd"},"$type":"TokenValidationLog"}
2019-06-09 19:12:18.610 -03:00 [DBG] Creating userinfo response
2019-06-09 19:12:18.611 -03:00 [DBG] Scopes in access token: openid profile api1
2019-06-09 19:12:18.611 -03:00 [DBG] Scopes in access token: openid profile api1
2019-06-09 19:12:18.613 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 19:12:18.613 -03:00 [DBG] Requested claim types: sub name family_name given_name middle_name nickname preferred_username profile picture website gender birthdate zoneinfo locale updated_at
2019-06-09 19:12:18.613 -03:00 [DBG] Scopes in access token: openid profile api1
2019-06-09 19:12:18.614 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 19:12:18.619 -03:00 [INF] Profile service returned the following claim types: sub name given_name family_name website preferred_username
2019-06-09 19:12:18.622 -03:00 [DBG] End userinfo request
2019-06-09 19:13:56.457 -03:00 [DBG] CORS request made for path: /connect/token from origin: http://localhost:3000
2019-06-09 19:13:56.464 -03:00 [DBG] Origin http://localhost:3000 is allowed: false
2019-06-09 19:13:56.464 -03:00 [WRN] CorsPolicyService did not allow origin: http://localhost:3000
2019-06-09 19:13:56.464 -03:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-06-09 19:13:56.465 -03:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-06-09 19:13:56.465 -03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-06-09 19:13:56.465 -03:00 [DBG] Start token request.
2019-06-09 19:13:56.465 -03:00 [DBG] Start client validation
2019-06-09 19:13:56.465 -03:00 [DBG] Start parsing Basic Authentication secret
2019-06-09 19:13:56.465 -03:00 [DBG] Start parsing for secret in post body
2019-06-09 19:13:56.466 -03:00 [DBG] Parser found secret: PostBodySecretParser
2019-06-09 19:13:56.466 -03:00 [DBG] Secret id found: ro.client
2019-06-09 19:13:56.473 -03:00 [DBG] ro.client found in database: true
2019-06-09 19:13:56.473 -03:00 [DBG] client configuration validation for client ro.client succeeded.
2019-06-09 19:13:56.473 -03:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-06-09 19:13:56.473 -03:00 [DBG] Client validation success
2019-06-09 19:13:56.473 -03:00 [INF] {"ClientId":"ro.client","AuthenticationMethod":"SharedSecret","Category":"Authentication","Name":"Client Authentication Success","EventType":"Success","Id":1010,"Message":null,"ActivityId":"0HLND4GPCPFD9:00000001","TimeStamp":"2019-06-09T22:13:56.0000000Z","ProcessId":28108,"LocalIpAddress":"127.0.0.1:10630","RemoteIpAddress":"::1","$type":"ClientAuthenticationSuccessEvent"}
2019-06-09 19:13:56.473 -03:00 [DBG] Start token request validation
2019-06-09 19:13:56.473 -03:00 [DBG] Start resource owner password token request validation
2019-06-09 19:13:56.475 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 19:13:56.478 -03:00 [DBG] Found ["api1"] API scopes in database
2019-06-09 19:13:56.479 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 19:13:56.483 -03:00 [DBG] Found ["api1"] API scopes in database
2019-06-09 19:13:56.493 -03:00 [INF] Credentials validated for username: alice
2019-06-09 19:13:56.493 -03:00 [INF] {"Username":"alice","Provider":null,"ProviderUserId":null,"SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","DisplayName":"alice","Endpoint":"Token","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HLND4GPCPFD9:00000001","TimeStamp":"2019-06-09T22:13:56.0000000Z","ProcessId":28108,"LocalIpAddress":"127.0.0.1:10630","RemoteIpAddress":"::1","$type":"UserLoginSuccessEvent"}
2019-06-09 19:13:56.494 -03:00 [INF] {"Username":"alice","Provider":null,"ProviderUserId":null,"SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","DisplayName":null,"Endpoint":"Token","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HLND4GPCPFD9:00000001","TimeStamp":"2019-06-09T22:13:56.0000000Z","ProcessId":28108,"LocalIpAddress":"127.0.0.1:10630","RemoteIpAddress":"::1","$type":"UserLoginSuccessEvent"}
2019-06-09 19:13:56.494 -03:00 [DBG] Resource owner password token request validation success.
2019-06-09 19:13:56.494 -03:00 [INF] Token request validation success
{"ClientId":"ro.client","ClientName":null,"GrantType":"password","Scopes":"api1 openid profile","AuthorizationCode":null,"RefreshToken":null,"UserName":"alice","AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"grant_type":"password","client_id":"ro.client","client_secret":"***REDACTED***","username":"alice","password":"***REDACTED***","scope":"openid profile api1"},"$type":"TokenRequestValidationLog"}
2019-06-09 19:13:56.494 -03:00 [DBG] Getting claims for access token for client: ro.client
2019-06-09 19:13:56.494 -03:00 [DBG] Getting claims for access token for subject: 4ba1c3a0-b786-421d-b88a-740f38d9cafa
2019-06-09 19:13:56.505 -03:00 [INF] {"ClientId":"ro.client","ClientName":null,"RedirectUri":null,"Endpoint":"Token","SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","Scopes":"openid profile api1","GrantType":"password","Tokens":[{"TokenType":"access_token","TokenValue":"****h9tw","$type":"Token"}],"Category":"Token","Name":"Token Issued Success","EventType":"Success","Id":2000,"Message":null,"ActivityId":"0HLND4GPCPFD9:00000001","TimeStamp":"2019-06-09T22:13:56.0000000Z","ProcessId":28108,"LocalIpAddress":"127.0.0.1:10630","RemoteIpAddress":"::1","$type":"TokenIssuedSuccessEvent"}
2019-06-09 19:13:56.506 -03:00 [DBG] Token request success.
2019-06-09 19:13:58.544 -03:00 [DBG] Request path /connect/userinfo matched to endpoint type Userinfo
2019-06-09 19:13:58.545 -03:00 [DBG] Endpoint enabled: Userinfo, successfully created handler: IdentityServer4.Endpoints.UserInfoEndpoint
2019-06-09 19:13:58.545 -03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.UserInfoEndpoint for /connect/userinfo
2019-06-09 19:13:58.545 -03:00 [DBG] Start userinfo request
2019-06-09 19:13:58.545 -03:00 [DBG] Bearer token found in header
2019-06-09 19:13:58.550 -03:00 [DBG] ro.client found in database: true
2019-06-09 19:13:58.550 -03:00 [DBG] client configuration validation for client ro.client succeeded.
2019-06-09 19:13:58.553 -03:00 [DBG] ro.client found in database: true
2019-06-09 19:13:58.553 -03:00 [DBG] client configuration validation for client ro.client succeeded.
2019-06-09 19:13:58.557 -03:00 [DBG] Calling into custom token validator: IdentityServer4.Validation.DefaultCustomTokenValidator
2019-06-09 19:13:58.557 -03:00 [DBG] Token validation success
{"ClientId":null,"ClientName":null,"ValidateLifetime":true,"AccessTokenType":"Jwt","ExpectedScope":"openid","TokenHandle":null,"JwtId":null,"Claims":{"nbf":1560118436,"exp":1560122036,"iss":"http://localhost:5000","aud":["http://localhost:5000/resources","api1"],"client_id":"ro.client","sub":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","auth_time":1560118436,"idp":"local","scope":["openid","profile","api1"],"amr":"pwd"},"$type":"TokenValidationLog"}
2019-06-09 19:13:58.557 -03:00 [DBG] Creating userinfo response
2019-06-09 19:13:58.557 -03:00 [DBG] Scopes in access token: openid profile api1
2019-06-09 19:13:58.557 -03:00 [DBG] Scopes in access token: openid profile api1
2019-06-09 19:13:58.559 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 19:13:58.559 -03:00 [DBG] Requested claim types: sub name family_name given_name middle_name nickname preferred_username profile picture website gender birthdate zoneinfo locale updated_at
2019-06-09 19:13:58.559 -03:00 [DBG] Scopes in access token: openid profile api1
2019-06-09 19:13:58.560 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 19:13:58.568 -03:00 [INF] Profile service returned the following claim types: sub name given_name family_name website preferred_username
2019-06-09 19:13:58.568 -03:00 [DBG] End userinfo request
2019-06-09 19:14:23.687 -03:00 [DBG] CORS request made for path: /connect/token from origin: http://localhost:3000
2019-06-09 19:14:23.688 -03:00 [DBG] Origin http://localhost:3000 is allowed: false
2019-06-09 19:14:23.689 -03:00 [WRN] CorsPolicyService did not allow origin: http://localhost:3000
2019-06-09 19:14:23.689 -03:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-06-09 19:14:23.689 -03:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-06-09 19:14:23.689 -03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-06-09 19:14:23.689 -03:00 [DBG] Start token request.
2019-06-09 19:14:23.689 -03:00 [DBG] Start client validation
2019-06-09 19:14:23.689 -03:00 [DBG] Start parsing Basic Authentication secret
2019-06-09 19:14:23.689 -03:00 [DBG] Start parsing for secret in post body
2019-06-09 19:14:23.690 -03:00 [DBG] Parser found secret: PostBodySecretParser
2019-06-09 19:14:23.690 -03:00 [DBG] Secret id found: ro.client
2019-06-09 19:14:23.699 -03:00 [DBG] ro.client found in database: true
2019-06-09 19:14:23.700 -03:00 [DBG] client configuration validation for client ro.client succeeded.
2019-06-09 19:14:23.700 -03:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-06-09 19:14:23.700 -03:00 [DBG] Client validation success
2019-06-09 19:14:23.700 -03:00 [INF] {"ClientId":"ro.client","AuthenticationMethod":"SharedSecret","Category":"Authentication","Name":"Client Authentication Success","EventType":"Success","Id":1010,"Message":null,"ActivityId":"0HLND4GPCPFD9:00000003","TimeStamp":"2019-06-09T22:14:23.0000000Z","ProcessId":28108,"LocalIpAddress":"127.0.0.1:10630","RemoteIpAddress":"::1","$type":"ClientAuthenticationSuccessEvent"}
2019-06-09 19:14:23.700 -03:00 [DBG] Start token request validation
2019-06-09 19:14:23.700 -03:00 [DBG] Start resource owner password token request validation
2019-06-09 19:14:23.702 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 19:14:23.706 -03:00 [DBG] Found ["api1"] API scopes in database
2019-06-09 19:14:23.707 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 19:14:23.712 -03:00 [DBG] Found ["api1"] API scopes in database
2019-06-09 19:14:23.722 -03:00 [INF] Credentials validated for username: alice
2019-06-09 19:14:23.723 -03:00 [INF] {"Username":"alice","Provider":null,"ProviderUserId":null,"SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","DisplayName":"alice","Endpoint":"Token","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HLND4GPCPFD9:00000003","TimeStamp":"2019-06-09T22:14:23.0000000Z","ProcessId":28108,"LocalIpAddress":"127.0.0.1:10630","RemoteIpAddress":"::1","$type":"UserLoginSuccessEvent"}
2019-06-09 19:14:23.723 -03:00 [INF] {"Username":"alice","Provider":null,"ProviderUserId":null,"SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","DisplayName":null,"Endpoint":"Token","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HLND4GPCPFD9:00000003","TimeStamp":"2019-06-09T22:14:23.0000000Z","ProcessId":28108,"LocalIpAddress":"127.0.0.1:10630","RemoteIpAddress":"::1","$type":"UserLoginSuccessEvent"}
2019-06-09 19:14:23.723 -03:00 [DBG] Resource owner password token request validation success.
2019-06-09 19:14:23.723 -03:00 [INF] Token request validation success
{"ClientId":"ro.client","ClientName":null,"GrantType":"password","Scopes":"api1 openid profile","AuthorizationCode":null,"RefreshToken":null,"UserName":"alice","AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"grant_type":"password","client_id":"ro.client","client_secret":"***REDACTED***","username":"alice","password":"***REDACTED***","scope":"openid profile api1"},"$type":"TokenRequestValidationLog"}
2019-06-09 19:14:23.723 -03:00 [DBG] Getting claims for access token for client: ro.client
2019-06-09 19:14:23.723 -03:00 [DBG] Getting claims for access token for subject: 4ba1c3a0-b786-421d-b88a-740f38d9cafa
2019-06-09 19:14:23.739 -03:00 [INF] {"ClientId":"ro.client","ClientName":null,"RedirectUri":null,"Endpoint":"Token","SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","Scopes":"openid profile api1","GrantType":"password","Tokens":[{"TokenType":"access_token","TokenValue":"****-JtQ","$type":"Token"}],"Category":"Token","Name":"Token Issued Success","EventType":"Success","Id":2000,"Message":null,"ActivityId":"0HLND4GPCPFD9:00000003","TimeStamp":"2019-06-09T22:14:23.0000000Z","ProcessId":28108,"LocalIpAddress":"127.0.0.1:10630","RemoteIpAddress":"::1","$type":"TokenIssuedSuccessEvent"}
2019-06-09 19:14:23.739 -03:00 [DBG] Token request success.
2019-06-09 19:14:25.769 -03:00 [DBG] Request path /connect/userinfo matched to endpoint type Userinfo
2019-06-09 19:14:25.770 -03:00 [DBG] Endpoint enabled: Userinfo, successfully created handler: IdentityServer4.Endpoints.UserInfoEndpoint
2019-06-09 19:14:25.770 -03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.UserInfoEndpoint for /connect/userinfo
2019-06-09 19:14:25.770 -03:00 [DBG] Start userinfo request
2019-06-09 19:14:25.770 -03:00 [DBG] Bearer token found in header
2019-06-09 19:14:25.776 -03:00 [DBG] ro.client found in database: true
2019-06-09 19:14:25.776 -03:00 [DBG] client configuration validation for client ro.client succeeded.
2019-06-09 19:14:25.779 -03:00 [DBG] ro.client found in database: true
2019-06-09 19:14:25.779 -03:00 [DBG] client configuration validation for client ro.client succeeded.
2019-06-09 19:14:25.782 -03:00 [DBG] Calling into custom token validator: IdentityServer4.Validation.DefaultCustomTokenValidator
2019-06-09 19:14:25.782 -03:00 [DBG] Token validation success
{"ClientId":null,"ClientName":null,"ValidateLifetime":true,"AccessTokenType":"Jwt","ExpectedScope":"openid","TokenHandle":null,"JwtId":null,"Claims":{"nbf":1560118463,"exp":1560122063,"iss":"http://localhost:5000","aud":["http://localhost:5000/resources","api1"],"client_id":"ro.client","sub":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","auth_time":1560118463,"idp":"local","scope":["openid","profile","api1"],"amr":"pwd"},"$type":"TokenValidationLog"}
2019-06-09 19:14:25.782 -03:00 [DBG] Creating userinfo response
2019-06-09 19:14:25.782 -03:00 [DBG] Scopes in access token: openid profile api1
2019-06-09 19:14:25.782 -03:00 [DBG] Scopes in access token: openid profile api1
2019-06-09 19:14:25.784 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 19:14:25.784 -03:00 [DBG] Requested claim types: sub name family_name given_name middle_name nickname preferred_username profile picture website gender birthdate zoneinfo locale updated_at
2019-06-09 19:14:25.784 -03:00 [DBG] Scopes in access token: openid profile api1
2019-06-09 19:14:25.785 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 19:14:25.789 -03:00 [INF] Profile service returned the following claim types: sub name given_name family_name website preferred_username
2019-06-09 19:14:25.789 -03:00 [DBG] End userinfo request
2019-06-09 19:14:55.077 -03:00 [DBG] CORS request made for path: /connect/token from origin: http://localhost:3000
2019-06-09 19:14:55.079 -03:00 [DBG] Origin http://localhost:3000 is allowed: false
2019-06-09 19:14:55.079 -03:00 [WRN] CorsPolicyService did not allow origin: http://localhost:3000
2019-06-09 19:14:55.079 -03:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-06-09 19:14:55.079 -03:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-06-09 19:14:55.079 -03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-06-09 19:14:55.079 -03:00 [DBG] Start token request.
2019-06-09 19:14:55.079 -03:00 [DBG] Start client validation
2019-06-09 19:14:55.079 -03:00 [DBG] Start parsing Basic Authentication secret
2019-06-09 19:14:55.079 -03:00 [DBG] Start parsing for secret in post body
2019-06-09 19:14:55.079 -03:00 [DBG] Parser found secret: PostBodySecretParser
2019-06-09 19:14:55.080 -03:00 [DBG] Secret id found: ro.client
2019-06-09 19:14:55.087 -03:00 [DBG] ro.client found in database: true
2019-06-09 19:14:55.087 -03:00 [DBG] client configuration validation for client ro.client succeeded.
2019-06-09 19:14:55.087 -03:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-06-09 19:14:55.087 -03:00 [DBG] Client validation success
2019-06-09 19:14:55.087 -03:00 [INF] {"ClientId":"ro.client","AuthenticationMethod":"SharedSecret","Category":"Authentication","Name":"Client Authentication Success","EventType":"Success","Id":1010,"Message":null,"ActivityId":"0HLND4GPCPFD9:00000005","TimeStamp":"2019-06-09T22:14:55.0000000Z","ProcessId":28108,"LocalIpAddress":"127.0.0.1:10630","RemoteIpAddress":"::1","$type":"ClientAuthenticationSuccessEvent"}
2019-06-09 19:14:55.087 -03:00 [DBG] Start token request validation
2019-06-09 19:14:55.087 -03:00 [DBG] Start resource owner password token request validation
2019-06-09 19:14:55.090 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 19:14:55.097 -03:00 [DBG] Found ["api1"] API scopes in database
2019-06-09 19:14:55.098 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 19:14:55.101 -03:00 [DBG] Found ["api1"] API scopes in database
2019-06-09 19:14:55.112 -03:00 [INF] Credentials validated for username: alice
2019-06-09 19:14:55.112 -03:00 [INF] {"Username":"alice","Provider":null,"ProviderUserId":null,"SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","DisplayName":"alice","Endpoint":"Token","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HLND4GPCPFD9:00000005","TimeStamp":"2019-06-09T22:14:55.0000000Z","ProcessId":28108,"LocalIpAddress":"127.0.0.1:10630","RemoteIpAddress":"::1","$type":"UserLoginSuccessEvent"}
2019-06-09 19:14:55.112 -03:00 [INF] {"Username":"alice","Provider":null,"ProviderUserId":null,"SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","DisplayName":null,"Endpoint":"Token","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HLND4GPCPFD9:00000005","TimeStamp":"2019-06-09T22:14:55.0000000Z","ProcessId":28108,"LocalIpAddress":"127.0.0.1:10630","RemoteIpAddress":"::1","$type":"UserLoginSuccessEvent"}
2019-06-09 19:14:55.112 -03:00 [DBG] Resource owner password token request validation success.
2019-06-09 19:14:55.112 -03:00 [INF] Token request validation success
{"ClientId":"ro.client","ClientName":null,"GrantType":"password","Scopes":"api1 openid profile","AuthorizationCode":null,"RefreshToken":null,"UserName":"alice","AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"grant_type":"password","client_id":"ro.client","client_secret":"***REDACTED***","username":"alice","password":"***REDACTED***","scope":"openid profile api1"},"$type":"TokenRequestValidationLog"}
2019-06-09 19:14:55.112 -03:00 [DBG] Getting claims for access token for client: ro.client
2019-06-09 19:14:55.112 -03:00 [DBG] Getting claims for access token for subject: 4ba1c3a0-b786-421d-b88a-740f38d9cafa
2019-06-09 19:14:55.119 -03:00 [INF] {"ClientId":"ro.client","ClientName":null,"RedirectUri":null,"Endpoint":"Token","SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","Scopes":"openid profile api1","GrantType":"password","Tokens":[{"TokenType":"access_token","TokenValue":"****eV2w","$type":"Token"}],"Category":"Token","Name":"Token Issued Success","EventType":"Success","Id":2000,"Message":null,"ActivityId":"0HLND4GPCPFD9:00000005","TimeStamp":"2019-06-09T22:14:55.0000000Z","ProcessId":28108,"LocalIpAddress":"127.0.0.1:10630","RemoteIpAddress":"::1","$type":"TokenIssuedSuccessEvent"}
2019-06-09 19:14:55.120 -03:00 [DBG] Token request success.
2019-06-09 19:14:57.153 -03:00 [DBG] Request path /connect/userinfo matched to endpoint type Userinfo
2019-06-09 19:14:57.153 -03:00 [DBG] Endpoint enabled: Userinfo, successfully created handler: IdentityServer4.Endpoints.UserInfoEndpoint
2019-06-09 19:14:57.154 -03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.UserInfoEndpoint for /connect/userinfo
2019-06-09 19:14:57.154 -03:00 [DBG] Start userinfo request
2019-06-09 19:14:57.154 -03:00 [DBG] Bearer token found in header
2019-06-09 19:14:57.160 -03:00 [DBG] ro.client found in database: true
2019-06-09 19:14:57.160 -03:00 [DBG] client configuration validation for client ro.client succeeded.
2019-06-09 19:14:57.163 -03:00 [DBG] ro.client found in database: true
2019-06-09 19:14:57.163 -03:00 [DBG] client configuration validation for client ro.client succeeded.
2019-06-09 19:14:57.167 -03:00 [DBG] Calling into custom token validator: IdentityServer4.Validation.DefaultCustomTokenValidator
2019-06-09 19:14:57.167 -03:00 [DBG] Token validation success
{"ClientId":null,"ClientName":null,"ValidateLifetime":true,"AccessTokenType":"Jwt","ExpectedScope":"openid","TokenHandle":null,"JwtId":null,"Claims":{"nbf":1560118495,"exp":1560122095,"iss":"http://localhost:5000","aud":["http://localhost:5000/resources","api1"],"client_id":"ro.client","sub":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","auth_time":1560118495,"idp":"local","scope":["openid","profile","api1"],"amr":"pwd"},"$type":"TokenValidationLog"}
2019-06-09 19:14:57.167 -03:00 [DBG] Creating userinfo response
2019-06-09 19:14:57.167 -03:00 [DBG] Scopes in access token: openid profile api1
2019-06-09 19:14:57.167 -03:00 [DBG] Scopes in access token: openid profile api1
2019-06-09 19:14:57.169 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 19:14:57.169 -03:00 [DBG] Requested claim types: sub name family_name given_name middle_name nickname preferred_username profile picture website gender birthdate zoneinfo locale updated_at
2019-06-09 19:14:57.169 -03:00 [DBG] Scopes in access token: openid profile api1
2019-06-09 19:14:57.170 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 19:14:57.174 -03:00 [INF] Profile service returned the following claim types: sub name given_name family_name website preferred_username
2019-06-09 19:14:57.174 -03:00 [DBG] End userinfo request
2019-06-09 19:15:31.980 -03:00 [DBG] CORS request made for path: /connect/token from origin: http://localhost:3000
2019-06-09 19:15:31.981 -03:00 [DBG] Origin http://localhost:3000 is allowed: false
2019-06-09 19:15:31.981 -03:00 [WRN] CorsPolicyService did not allow origin: http://localhost:3000
2019-06-09 19:15:31.981 -03:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-06-09 19:15:31.982 -03:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-06-09 19:15:31.982 -03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-06-09 19:15:31.982 -03:00 [DBG] Start token request.
2019-06-09 19:15:31.982 -03:00 [DBG] Start client validation
2019-06-09 19:15:31.982 -03:00 [DBG] Start parsing Basic Authentication secret
2019-06-09 19:15:31.982 -03:00 [DBG] Start parsing for secret in post body
2019-06-09 19:15:31.982 -03:00 [DBG] Parser found secret: PostBodySecretParser
2019-06-09 19:15:31.982 -03:00 [DBG] Secret id found: ro.client
2019-06-09 19:15:31.987 -03:00 [DBG] ro.client found in database: true
2019-06-09 19:15:31.988 -03:00 [DBG] client configuration validation for client ro.client succeeded.
2019-06-09 19:15:31.988 -03:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-06-09 19:15:31.988 -03:00 [DBG] Client validation success
2019-06-09 19:15:31.988 -03:00 [INF] {"ClientId":"ro.client","AuthenticationMethod":"SharedSecret","Category":"Authentication","Name":"Client Authentication Success","EventType":"Success","Id":1010,"Message":null,"ActivityId":"0HLND4GPCPFD9:00000007","TimeStamp":"2019-06-09T22:15:31.0000000Z","ProcessId":28108,"LocalIpAddress":"127.0.0.1:10630","RemoteIpAddress":"::1","$type":"ClientAuthenticationSuccessEvent"}
2019-06-09 19:15:31.988 -03:00 [DBG] Start token request validation
2019-06-09 19:15:31.988 -03:00 [DBG] Start resource owner password token request validation
2019-06-09 19:15:31.991 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 19:15:31.999 -03:00 [DBG] Found ["api1"] API scopes in database
2019-06-09 19:15:32.001 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 19:15:32.004 -03:00 [DBG] Found ["api1"] API scopes in database
2019-06-09 19:15:32.014 -03:00 [INF] Credentials validated for username: alice
2019-06-09 19:15:32.014 -03:00 [INF] {"Username":"alice","Provider":null,"ProviderUserId":null,"SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","DisplayName":"alice","Endpoint":"Token","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HLND4GPCPFD9:00000007","TimeStamp":"2019-06-09T22:15:32.0000000Z","ProcessId":28108,"LocalIpAddress":"127.0.0.1:10630","RemoteIpAddress":"::1","$type":"UserLoginSuccessEvent"}
2019-06-09 19:15:32.014 -03:00 [INF] {"Username":"alice","Provider":null,"ProviderUserId":null,"SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","DisplayName":null,"Endpoint":"Token","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HLND4GPCPFD9:00000007","TimeStamp":"2019-06-09T22:15:32.0000000Z","ProcessId":28108,"LocalIpAddress":"127.0.0.1:10630","RemoteIpAddress":"::1","$type":"UserLoginSuccessEvent"}
2019-06-09 19:15:32.014 -03:00 [DBG] Resource owner password token request validation success.
2019-06-09 19:15:32.014 -03:00 [INF] Token request validation success
{"ClientId":"ro.client","ClientName":null,"GrantType":"password","Scopes":"api1 openid profile","AuthorizationCode":null,"RefreshToken":null,"UserName":"alice","AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"grant_type":"password","client_id":"ro.client","client_secret":"***REDACTED***","username":"alice","password":"***REDACTED***","scope":"openid profile api1"},"$type":"TokenRequestValidationLog"}
2019-06-09 19:15:32.014 -03:00 [DBG] Getting claims for access token for client: ro.client
2019-06-09 19:15:32.014 -03:00 [DBG] Getting claims for access token for subject: 4ba1c3a0-b786-421d-b88a-740f38d9cafa
2019-06-09 19:15:32.031 -03:00 [INF] {"ClientId":"ro.client","ClientName":null,"RedirectUri":null,"Endpoint":"Token","SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","Scopes":"openid profile api1","GrantType":"password","Tokens":[{"TokenType":"access_token","TokenValue":"****uV5g","$type":"Token"}],"Category":"Token","Name":"Token Issued Success","EventType":"Success","Id":2000,"Message":null,"ActivityId":"0HLND4GPCPFD9:00000007","TimeStamp":"2019-06-09T22:15:32.0000000Z","ProcessId":28108,"LocalIpAddress":"127.0.0.1:10630","RemoteIpAddress":"::1","$type":"TokenIssuedSuccessEvent"}
2019-06-09 19:15:32.031 -03:00 [DBG] Token request success.
2019-06-09 19:15:33.069 -03:00 [DBG] Request path /connect/userinfo matched to endpoint type Userinfo
2019-06-09 19:15:33.069 -03:00 [DBG] Endpoint enabled: Userinfo, successfully created handler: IdentityServer4.Endpoints.UserInfoEndpoint
2019-06-09 19:15:33.069 -03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.UserInfoEndpoint for /connect/userinfo
2019-06-09 19:15:33.069 -03:00 [DBG] Start userinfo request
2019-06-09 19:15:33.069 -03:00 [DBG] Bearer token found in header
2019-06-09 19:15:33.075 -03:00 [DBG] ro.client found in database: true
2019-06-09 19:15:33.076 -03:00 [DBG] client configuration validation for client ro.client succeeded.
2019-06-09 19:15:33.079 -03:00 [DBG] ro.client found in database: true
2019-06-09 19:15:33.079 -03:00 [DBG] client configuration validation for client ro.client succeeded.
2019-06-09 19:15:33.082 -03:00 [DBG] Calling into custom token validator: IdentityServer4.Validation.DefaultCustomTokenValidator
2019-06-09 19:15:33.083 -03:00 [DBG] Token validation success
{"ClientId":null,"ClientName":null,"ValidateLifetime":true,"AccessTokenType":"Jwt","ExpectedScope":"openid","TokenHandle":null,"JwtId":null,"Claims":{"nbf":1560118532,"exp":1560122132,"iss":"http://localhost:5000","aud":["http://localhost:5000/resources","api1"],"client_id":"ro.client","sub":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","auth_time":1560118532,"idp":"local","scope":["openid","profile","api1"],"amr":"pwd"},"$type":"TokenValidationLog"}
2019-06-09 19:15:33.083 -03:00 [DBG] Creating userinfo response
2019-06-09 19:15:33.083 -03:00 [DBG] Scopes in access token: openid profile api1
2019-06-09 19:15:33.083 -03:00 [DBG] Scopes in access token: openid profile api1
2019-06-09 19:15:33.085 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 19:15:33.085 -03:00 [DBG] Requested claim types: sub name family_name given_name middle_name nickname preferred_username profile picture website gender birthdate zoneinfo locale updated_at
2019-06-09 19:15:33.085 -03:00 [DBG] Scopes in access token: openid profile api1
2019-06-09 19:15:33.086 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 19:15:33.090 -03:00 [INF] Profile service returned the following claim types: sub name given_name family_name website preferred_username
2019-06-09 19:15:33.090 -03:00 [DBG] End userinfo request
2019-06-09 19:18:41.292 -03:00 [DBG] CORS request made for path: /connect/token from origin: http://localhost:3000
2019-06-09 19:18:41.294 -03:00 [DBG] Origin http://localhost:3000 is allowed: false
2019-06-09 19:18:41.294 -03:00 [WRN] CorsPolicyService did not allow origin: http://localhost:3000
2019-06-09 19:18:41.294 -03:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-06-09 19:18:41.295 -03:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-06-09 19:18:41.295 -03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-06-09 19:18:41.295 -03:00 [DBG] Start token request.
2019-06-09 19:18:41.295 -03:00 [DBG] Start client validation
2019-06-09 19:18:41.295 -03:00 [DBG] Start parsing Basic Authentication secret
2019-06-09 19:18:41.296 -03:00 [DBG] Start parsing for secret in post body
2019-06-09 19:18:41.298 -03:00 [DBG] Parser found secret: PostBodySecretParser
2019-06-09 19:18:41.298 -03:00 [DBG] Secret id found: ro.client
2019-06-09 19:18:41.310 -03:00 [DBG] ro.client found in database: true
2019-06-09 19:18:41.310 -03:00 [DBG] client configuration validation for client ro.client succeeded.
2019-06-09 19:18:41.310 -03:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-06-09 19:18:41.310 -03:00 [DBG] Client validation success
2019-06-09 19:18:41.310 -03:00 [INF] {"ClientId":"ro.client","AuthenticationMethod":"SharedSecret","Category":"Authentication","Name":"Client Authentication Success","EventType":"Success","Id":1010,"Message":null,"ActivityId":"0HLND4GPCPFDA:00000001","TimeStamp":"2019-06-09T22:18:41.0000000Z","ProcessId":28108,"LocalIpAddress":"127.0.0.1:10630","RemoteIpAddress":"::1","$type":"ClientAuthenticationSuccessEvent"}
2019-06-09 19:18:41.310 -03:00 [DBG] Start token request validation
2019-06-09 19:18:41.310 -03:00 [DBG] Start resource owner password token request validation
2019-06-09 19:18:41.312 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 19:18:41.317 -03:00 [DBG] Found ["api1"] API scopes in database
2019-06-09 19:18:41.318 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 19:18:41.321 -03:00 [DBG] Found ["api1"] API scopes in database
2019-06-09 19:18:41.333 -03:00 [INF] Credentials validated for username: alice
2019-06-09 19:18:41.333 -03:00 [INF] {"Username":"alice","Provider":null,"ProviderUserId":null,"SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","DisplayName":"alice","Endpoint":"Token","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HLND4GPCPFDA:00000001","TimeStamp":"2019-06-09T22:18:41.0000000Z","ProcessId":28108,"LocalIpAddress":"127.0.0.1:10630","RemoteIpAddress":"::1","$type":"UserLoginSuccessEvent"}
2019-06-09 19:18:41.333 -03:00 [INF] {"Username":"alice","Provider":null,"ProviderUserId":null,"SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","DisplayName":null,"Endpoint":"Token","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HLND4GPCPFDA:00000001","TimeStamp":"2019-06-09T22:18:41.0000000Z","ProcessId":28108,"LocalIpAddress":"127.0.0.1:10630","RemoteIpAddress":"::1","$type":"UserLoginSuccessEvent"}
2019-06-09 19:18:41.333 -03:00 [DBG] Resource owner password token request validation success.
2019-06-09 19:18:41.333 -03:00 [INF] Token request validation success
{"ClientId":"ro.client","ClientName":null,"GrantType":"password","Scopes":"api1 openid profile","AuthorizationCode":null,"RefreshToken":null,"UserName":"alice","AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"grant_type":"password","client_id":"ro.client","client_secret":"***REDACTED***","username":"alice","password":"***REDACTED***","scope":"openid profile api1"},"$type":"TokenRequestValidationLog"}
2019-06-09 19:18:41.334 -03:00 [DBG] Getting claims for access token for client: ro.client
2019-06-09 19:18:41.334 -03:00 [DBG] Getting claims for access token for subject: 4ba1c3a0-b786-421d-b88a-740f38d9cafa
2019-06-09 19:18:41.340 -03:00 [INF] {"ClientId":"ro.client","ClientName":null,"RedirectUri":null,"Endpoint":"Token","SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","Scopes":"openid profile api1","GrantType":"password","Tokens":[{"TokenType":"access_token","TokenValue":"****CkBA","$type":"Token"}],"Category":"Token","Name":"Token Issued Success","EventType":"Success","Id":2000,"Message":null,"ActivityId":"0HLND4GPCPFDA:00000001","TimeStamp":"2019-06-09T22:18:41.0000000Z","ProcessId":28108,"LocalIpAddress":"127.0.0.1:10630","RemoteIpAddress":"::1","$type":"TokenIssuedSuccessEvent"}
2019-06-09 19:18:41.341 -03:00 [DBG] Token request success.
2019-06-09 19:18:42.384 -03:00 [DBG] Request path /connect/userinfo matched to endpoint type Userinfo
2019-06-09 19:18:42.384 -03:00 [DBG] Endpoint enabled: Userinfo, successfully created handler: IdentityServer4.Endpoints.UserInfoEndpoint
2019-06-09 19:18:42.384 -03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.UserInfoEndpoint for /connect/userinfo
2019-06-09 19:18:42.384 -03:00 [DBG] Start userinfo request
2019-06-09 19:18:42.384 -03:00 [DBG] Bearer token found in header
2019-06-09 19:18:42.390 -03:00 [DBG] ro.client found in database: true
2019-06-09 19:18:42.390 -03:00 [DBG] client configuration validation for client ro.client succeeded.
2019-06-09 19:18:42.394 -03:00 [DBG] ro.client found in database: true
2019-06-09 19:18:42.394 -03:00 [DBG] client configuration validation for client ro.client succeeded.
2019-06-09 19:18:42.398 -03:00 [DBG] Calling into custom token validator: IdentityServer4.Validation.DefaultCustomTokenValidator
2019-06-09 19:18:42.398 -03:00 [DBG] Token validation success
{"ClientId":null,"ClientName":null,"ValidateLifetime":true,"AccessTokenType":"Jwt","ExpectedScope":"openid","TokenHandle":null,"JwtId":null,"Claims":{"nbf":1560118721,"exp":1560122321,"iss":"http://localhost:5000","aud":["http://localhost:5000/resources","api1"],"client_id":"ro.client","sub":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","auth_time":1560118721,"idp":"local","scope":["openid","profile","api1"],"amr":"pwd"},"$type":"TokenValidationLog"}
2019-06-09 19:18:42.398 -03:00 [DBG] Creating userinfo response
2019-06-09 19:18:42.398 -03:00 [DBG] Scopes in access token: openid profile api1
2019-06-09 19:18:42.398 -03:00 [DBG] Scopes in access token: openid profile api1
2019-06-09 19:18:42.399 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 19:18:42.400 -03:00 [DBG] Requested claim types: sub name family_name given_name middle_name nickname preferred_username profile picture website gender birthdate zoneinfo locale updated_at
2019-06-09 19:18:42.400 -03:00 [DBG] Scopes in access token: openid profile api1
2019-06-09 19:18:42.401 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 19:18:42.411 -03:00 [INF] Profile service returned the following claim types: sub name given_name family_name website preferred_username
2019-06-09 19:18:42.411 -03:00 [DBG] End userinfo request
2019-06-09 19:19:22.213 -03:00 [DBG] CORS request made for path: /connect/token from origin: http://localhost:3000
2019-06-09 19:19:22.253 -03:00 [DBG] Origin http://localhost:3000 is allowed: false
2019-06-09 19:19:22.253 -03:00 [WRN] CorsPolicyService did not allow origin: http://localhost:3000
2019-06-09 19:19:22.253 -03:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-06-09 19:19:22.253 -03:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-06-09 19:19:22.253 -03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-06-09 19:19:22.253 -03:00 [DBG] Start token request.
2019-06-09 19:19:22.253 -03:00 [DBG] Start client validation
2019-06-09 19:19:22.253 -03:00 [DBG] Start parsing Basic Authentication secret
2019-06-09 19:19:22.253 -03:00 [DBG] Start parsing for secret in post body
2019-06-09 19:19:22.254 -03:00 [DBG] Parser found secret: PostBodySecretParser
2019-06-09 19:19:22.254 -03:00 [DBG] Secret id found: ro.client
2019-06-09 19:19:22.275 -03:00 [DBG] ro.client found in database: true
2019-06-09 19:19:22.275 -03:00 [DBG] client configuration validation for client ro.client succeeded.
2019-06-09 19:19:22.276 -03:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-06-09 19:19:22.276 -03:00 [DBG] Client validation success
2019-06-09 19:19:22.276 -03:00 [INF] {"ClientId":"ro.client","AuthenticationMethod":"SharedSecret","Category":"Authentication","Name":"Client Authentication Success","EventType":"Success","Id":1010,"Message":null,"ActivityId":"0HLND4GPCPFDA:00000003","TimeStamp":"2019-06-09T22:19:22.0000000Z","ProcessId":28108,"LocalIpAddress":"127.0.0.1:10630","RemoteIpAddress":"::1","$type":"ClientAuthenticationSuccessEvent"}
2019-06-09 19:19:22.276 -03:00 [DBG] Start token request validation
2019-06-09 19:19:22.276 -03:00 [DBG] Start resource owner password token request validation
2019-06-09 19:19:22.284 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 19:19:22.360 -03:00 [DBG] Found ["api1"] API scopes in database
2019-06-09 19:19:22.368 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 19:19:22.455 -03:00 [DBG] Found ["api1"] API scopes in database
2019-06-09 19:19:22.471 -03:00 [INF] Credentials validated for username: alice
2019-06-09 19:19:22.471 -03:00 [INF] {"Username":"alice","Provider":null,"ProviderUserId":null,"SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","DisplayName":"alice","Endpoint":"Token","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HLND4GPCPFDA:00000003","TimeStamp":"2019-06-09T22:19:22.0000000Z","ProcessId":28108,"LocalIpAddress":"127.0.0.1:10630","RemoteIpAddress":"::1","$type":"UserLoginSuccessEvent"}
2019-06-09 19:19:22.472 -03:00 [INF] {"Username":"alice","Provider":null,"ProviderUserId":null,"SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","DisplayName":null,"Endpoint":"Token","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HLND4GPCPFDA:00000003","TimeStamp":"2019-06-09T22:19:22.0000000Z","ProcessId":28108,"LocalIpAddress":"127.0.0.1:10630","RemoteIpAddress":"::1","$type":"UserLoginSuccessEvent"}
2019-06-09 19:19:22.472 -03:00 [DBG] Resource owner password token request validation success.
2019-06-09 19:19:22.472 -03:00 [INF] Token request validation success
{"ClientId":"ro.client","ClientName":null,"GrantType":"password","Scopes":"api1 openid profile","AuthorizationCode":null,"RefreshToken":null,"UserName":"alice","AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"grant_type":"password","client_id":"ro.client","client_secret":"***REDACTED***","username":"alice","password":"***REDACTED***","scope":"openid profile api1"},"$type":"TokenRequestValidationLog"}
2019-06-09 19:19:22.472 -03:00 [DBG] Getting claims for access token for client: ro.client
2019-06-09 19:19:22.472 -03:00 [DBG] Getting claims for access token for subject: 4ba1c3a0-b786-421d-b88a-740f38d9cafa
2019-06-09 19:19:22.482 -03:00 [INF] {"ClientId":"ro.client","ClientName":null,"RedirectUri":null,"Endpoint":"Token","SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","Scopes":"openid profile api1","GrantType":"password","Tokens":[{"TokenType":"access_token","TokenValue":"****wO6Q","$type":"Token"}],"Category":"Token","Name":"Token Issued Success","EventType":"Success","Id":2000,"Message":null,"ActivityId":"0HLND4GPCPFDA:00000003","TimeStamp":"2019-06-09T22:19:22.0000000Z","ProcessId":28108,"LocalIpAddress":"127.0.0.1:10630","RemoteIpAddress":"::1","$type":"TokenIssuedSuccessEvent"}
2019-06-09 19:19:22.482 -03:00 [DBG] Token request success.
2019-06-09 19:19:23.528 -03:00 [DBG] Request path /connect/userinfo matched to endpoint type Userinfo
2019-06-09 19:19:23.528 -03:00 [DBG] Endpoint enabled: Userinfo, successfully created handler: IdentityServer4.Endpoints.UserInfoEndpoint
2019-06-09 19:19:23.528 -03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.UserInfoEndpoint for /connect/userinfo
2019-06-09 19:19:23.528 -03:00 [DBG] Start userinfo request
2019-06-09 19:19:23.528 -03:00 [DBG] Bearer token found in header
2019-06-09 19:19:23.547 -03:00 [DBG] ro.client found in database: true
2019-06-09 19:19:23.547 -03:00 [DBG] client configuration validation for client ro.client succeeded.
2019-06-09 19:19:23.550 -03:00 [DBG] ro.client found in database: true
2019-06-09 19:19:23.550 -03:00 [DBG] client configuration validation for client ro.client succeeded.
2019-06-09 19:19:23.554 -03:00 [DBG] Calling into custom token validator: IdentityServer4.Validation.DefaultCustomTokenValidator
2019-06-09 19:19:23.554 -03:00 [DBG] Token validation success
{"ClientId":null,"ClientName":null,"ValidateLifetime":true,"AccessTokenType":"Jwt","ExpectedScope":"openid","TokenHandle":null,"JwtId":null,"Claims":{"nbf":1560118762,"exp":1560122362,"iss":"http://localhost:5000","aud":["http://localhost:5000/resources","api1"],"client_id":"ro.client","sub":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","auth_time":1560118762,"idp":"local","scope":["openid","profile","api1"],"amr":"pwd"},"$type":"TokenValidationLog"}
2019-06-09 19:19:23.554 -03:00 [DBG] Creating userinfo response
2019-06-09 19:19:23.554 -03:00 [DBG] Scopes in access token: openid profile api1
2019-06-09 19:19:23.554 -03:00 [DBG] Scopes in access token: openid profile api1
2019-06-09 19:19:23.561 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 19:19:23.561 -03:00 [DBG] Requested claim types: sub name family_name given_name middle_name nickname preferred_username profile picture website gender birthdate zoneinfo locale updated_at
2019-06-09 19:19:23.561 -03:00 [DBG] Scopes in access token: openid profile api1
2019-06-09 19:19:23.562 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 19:19:23.567 -03:00 [INF] Profile service returned the following claim types: sub name given_name family_name website preferred_username
2019-06-09 19:19:23.567 -03:00 [DBG] End userinfo request
2019-06-09 19:21:55.916 -03:00 [DBG] CORS request made for path: /connect/token from origin: http://localhost:3000
2019-06-09 19:21:55.919 -03:00 [DBG] Origin http://localhost:3000 is allowed: false
2019-06-09 19:21:55.920 -03:00 [WRN] CorsPolicyService did not allow origin: http://localhost:3000
2019-06-09 19:21:55.920 -03:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-06-09 19:21:55.920 -03:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-06-09 19:21:55.920 -03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-06-09 19:21:55.920 -03:00 [DBG] Start token request.
2019-06-09 19:21:55.920 -03:00 [DBG] Start client validation
2019-06-09 19:21:55.920 -03:00 [DBG] Start parsing Basic Authentication secret
2019-06-09 19:21:55.920 -03:00 [DBG] Start parsing for secret in post body
2019-06-09 19:21:55.921 -03:00 [DBG] Parser found secret: PostBodySecretParser
2019-06-09 19:21:55.921 -03:00 [DBG] Secret id found: ro.client
2019-06-09 19:21:55.944 -03:00 [DBG] ro.client found in database: true
2019-06-09 19:21:55.945 -03:00 [DBG] client configuration validation for client ro.client succeeded.
2019-06-09 19:21:55.945 -03:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-06-09 19:21:55.945 -03:00 [DBG] Client validation success
2019-06-09 19:21:55.945 -03:00 [INF] {"ClientId":"ro.client","AuthenticationMethod":"SharedSecret","Category":"Authentication","Name":"Client Authentication Success","EventType":"Success","Id":1010,"Message":null,"ActivityId":"0HLND4GPCPFDB:00000001","TimeStamp":"2019-06-09T22:21:55.0000000Z","ProcessId":28108,"LocalIpAddress":"127.0.0.1:10630","RemoteIpAddress":"::1","$type":"ClientAuthenticationSuccessEvent"}
2019-06-09 19:21:55.945 -03:00 [DBG] Start token request validation
2019-06-09 19:21:55.945 -03:00 [DBG] Start resource owner password token request validation
2019-06-09 19:21:55.953 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 19:21:56.014 -03:00 [DBG] Found ["api1"] API scopes in database
2019-06-09 19:21:56.016 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 19:21:56.019 -03:00 [DBG] Found ["api1"] API scopes in database
2019-06-09 19:21:56.029 -03:00 [INF] Credentials validated for username: alice
2019-06-09 19:21:56.029 -03:00 [INF] {"Username":"alice","Provider":null,"ProviderUserId":null,"SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","DisplayName":"alice","Endpoint":"Token","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HLND4GPCPFDB:00000001","TimeStamp":"2019-06-09T22:21:56.0000000Z","ProcessId":28108,"LocalIpAddress":"127.0.0.1:10630","RemoteIpAddress":"::1","$type":"UserLoginSuccessEvent"}
2019-06-09 19:21:56.030 -03:00 [INF] {"Username":"alice","Provider":null,"ProviderUserId":null,"SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","DisplayName":null,"Endpoint":"Token","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HLND4GPCPFDB:00000001","TimeStamp":"2019-06-09T22:21:56.0000000Z","ProcessId":28108,"LocalIpAddress":"127.0.0.1:10630","RemoteIpAddress":"::1","$type":"UserLoginSuccessEvent"}
2019-06-09 19:21:56.030 -03:00 [DBG] Resource owner password token request validation success.
2019-06-09 19:21:56.030 -03:00 [INF] Token request validation success
{"ClientId":"ro.client","ClientName":null,"GrantType":"password","Scopes":"api1 openid profile","AuthorizationCode":null,"RefreshToken":null,"UserName":"alice","AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"grant_type":"password","client_id":"ro.client","client_secret":"***REDACTED***","username":"alice","password":"***REDACTED***","scope":"openid profile api1"},"$type":"TokenRequestValidationLog"}
2019-06-09 19:21:56.030 -03:00 [DBG] Getting claims for access token for client: ro.client
2019-06-09 19:21:56.030 -03:00 [DBG] Getting claims for access token for subject: 4ba1c3a0-b786-421d-b88a-740f38d9cafa
2019-06-09 19:21:56.040 -03:00 [INF] {"ClientId":"ro.client","ClientName":null,"RedirectUri":null,"Endpoint":"Token","SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","Scopes":"openid profile api1","GrantType":"password","Tokens":[{"TokenType":"access_token","TokenValue":"****N62A","$type":"Token"}],"Category":"Token","Name":"Token Issued Success","EventType":"Success","Id":2000,"Message":null,"ActivityId":"0HLND4GPCPFDB:00000001","TimeStamp":"2019-06-09T22:21:56.0000000Z","ProcessId":28108,"LocalIpAddress":"127.0.0.1:10630","RemoteIpAddress":"::1","$type":"TokenIssuedSuccessEvent"}
2019-06-09 19:21:56.040 -03:00 [DBG] Token request success.
2019-06-09 19:21:57.080 -03:00 [DBG] Request path /connect/userinfo matched to endpoint type Userinfo
2019-06-09 19:21:57.081 -03:00 [DBG] Endpoint enabled: Userinfo, successfully created handler: IdentityServer4.Endpoints.UserInfoEndpoint
2019-06-09 19:21:57.081 -03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.UserInfoEndpoint for /connect/userinfo
2019-06-09 19:21:57.081 -03:00 [DBG] Start userinfo request
2019-06-09 19:21:57.081 -03:00 [DBG] Bearer token found in header
2019-06-09 19:21:57.087 -03:00 [DBG] ro.client found in database: true
2019-06-09 19:21:57.087 -03:00 [DBG] client configuration validation for client ro.client succeeded.
2019-06-09 19:21:57.091 -03:00 [DBG] ro.client found in database: true
2019-06-09 19:21:57.091 -03:00 [DBG] client configuration validation for client ro.client succeeded.
2019-06-09 19:21:57.096 -03:00 [DBG] Calling into custom token validator: IdentityServer4.Validation.DefaultCustomTokenValidator
2019-06-09 19:21:57.097 -03:00 [DBG] Token validation success
{"ClientId":null,"ClientName":null,"ValidateLifetime":true,"AccessTokenType":"Jwt","ExpectedScope":"openid","TokenHandle":null,"JwtId":null,"Claims":{"nbf":1560118916,"exp":1560122516,"iss":"http://localhost:5000","aud":["http://localhost:5000/resources","api1"],"client_id":"ro.client","sub":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","auth_time":1560118916,"idp":"local","scope":["openid","profile","api1"],"amr":"pwd"},"$type":"TokenValidationLog"}
2019-06-09 19:21:57.097 -03:00 [DBG] Creating userinfo response
2019-06-09 19:21:57.097 -03:00 [DBG] Scopes in access token: openid profile api1
2019-06-09 19:21:57.097 -03:00 [DBG] Scopes in access token: openid profile api1
2019-06-09 19:21:57.103 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 19:21:57.104 -03:00 [DBG] Requested claim types: sub name family_name given_name middle_name nickname preferred_username profile picture website gender birthdate zoneinfo locale updated_at
2019-06-09 19:21:57.104 -03:00 [DBG] Scopes in access token: openid profile api1
2019-06-09 19:21:57.105 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 19:21:57.108 -03:00 [INF] Profile service returned the following claim types: sub name given_name family_name website preferred_username
2019-06-09 19:21:57.109 -03:00 [DBG] End userinfo request
2019-06-09 19:23:24.838 -03:00 [DBG] CORS request made for path: /connect/token from origin: http://localhost:3000
2019-06-09 19:23:24.843 -03:00 [DBG] Origin http://localhost:3000 is allowed: false
2019-06-09 19:23:24.844 -03:00 [WRN] CorsPolicyService did not allow origin: http://localhost:3000
2019-06-09 19:23:24.844 -03:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-06-09 19:23:24.844 -03:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-06-09 19:23:24.844 -03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-06-09 19:23:24.845 -03:00 [DBG] Start token request.
2019-06-09 19:23:24.845 -03:00 [DBG] Start client validation
2019-06-09 19:23:24.845 -03:00 [DBG] Start parsing Basic Authentication secret
2019-06-09 19:23:24.845 -03:00 [DBG] Start parsing for secret in post body
2019-06-09 19:23:24.846 -03:00 [DBG] Parser found secret: PostBodySecretParser
2019-06-09 19:23:24.847 -03:00 [DBG] Secret id found: ro.client
2019-06-09 19:23:24.868 -03:00 [DBG] ro.client found in database: true
2019-06-09 19:23:24.868 -03:00 [DBG] client configuration validation for client ro.client succeeded.
2019-06-09 19:23:24.868 -03:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-06-09 19:23:24.868 -03:00 [DBG] Client validation success
2019-06-09 19:23:24.868 -03:00 [INF] {"ClientId":"ro.client","AuthenticationMethod":"SharedSecret","Category":"Authentication","Name":"Client Authentication Success","EventType":"Success","Id":1010,"Message":null,"ActivityId":"0HLND4GPCPFDC:00000001","TimeStamp":"2019-06-09T22:23:24.0000000Z","ProcessId":28108,"LocalIpAddress":"127.0.0.1:10630","RemoteIpAddress":"::1","$type":"ClientAuthenticationSuccessEvent"}
2019-06-09 19:23:24.868 -03:00 [DBG] Start token request validation
2019-06-09 19:23:24.868 -03:00 [DBG] Start resource owner password token request validation
2019-06-09 19:23:24.876 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 19:23:24.938 -03:00 [DBG] Found ["api1"] API scopes in database
2019-06-09 19:23:24.940 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 19:23:24.943 -03:00 [DBG] Found ["api1"] API scopes in database
2019-06-09 19:23:24.955 -03:00 [INF] Credentials validated for username: alice
2019-06-09 19:23:24.955 -03:00 [INF] {"Username":"alice","Provider":null,"ProviderUserId":null,"SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","DisplayName":"alice","Endpoint":"Token","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HLND4GPCPFDC:00000001","TimeStamp":"2019-06-09T22:23:24.0000000Z","ProcessId":28108,"LocalIpAddress":"127.0.0.1:10630","RemoteIpAddress":"::1","$type":"UserLoginSuccessEvent"}
2019-06-09 19:23:24.955 -03:00 [INF] {"Username":"alice","Provider":null,"ProviderUserId":null,"SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","DisplayName":null,"Endpoint":"Token","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HLND4GPCPFDC:00000001","TimeStamp":"2019-06-09T22:23:24.0000000Z","ProcessId":28108,"LocalIpAddress":"127.0.0.1:10630","RemoteIpAddress":"::1","$type":"UserLoginSuccessEvent"}
2019-06-09 19:23:24.955 -03:00 [DBG] Resource owner password token request validation success.
2019-06-09 19:23:24.956 -03:00 [INF] Token request validation success
{"ClientId":"ro.client","ClientName":null,"GrantType":"password","Scopes":"api1 openid profile","AuthorizationCode":null,"RefreshToken":null,"UserName":"alice","AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"grant_type":"password","client_id":"ro.client","client_secret":"***REDACTED***","username":"alice","password":"***REDACTED***","scope":"openid profile api1"},"$type":"TokenRequestValidationLog"}
2019-06-09 19:23:24.956 -03:00 [DBG] Getting claims for access token for client: ro.client
2019-06-09 19:23:24.956 -03:00 [DBG] Getting claims for access token for subject: 4ba1c3a0-b786-421d-b88a-740f38d9cafa
2019-06-09 19:23:24.965 -03:00 [INF] {"ClientId":"ro.client","ClientName":null,"RedirectUri":null,"Endpoint":"Token","SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","Scopes":"openid profile api1","GrantType":"password","Tokens":[{"TokenType":"access_token","TokenValue":"****kWTw","$type":"Token"}],"Category":"Token","Name":"Token Issued Success","EventType":"Success","Id":2000,"Message":null,"ActivityId":"0HLND4GPCPFDC:00000001","TimeStamp":"2019-06-09T22:23:24.0000000Z","ProcessId":28108,"LocalIpAddress":"127.0.0.1:10630","RemoteIpAddress":"::1","$type":"TokenIssuedSuccessEvent"}
2019-06-09 19:23:24.965 -03:00 [DBG] Token request success.
2019-06-09 19:23:26.004 -03:00 [DBG] Request path /connect/userinfo matched to endpoint type Userinfo
2019-06-09 19:23:26.005 -03:00 [DBG] Endpoint enabled: Userinfo, successfully created handler: IdentityServer4.Endpoints.UserInfoEndpoint
2019-06-09 19:23:26.005 -03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.UserInfoEndpoint for /connect/userinfo
2019-06-09 19:23:26.005 -03:00 [DBG] Start userinfo request
2019-06-09 19:23:26.005 -03:00 [DBG] Bearer token found in header
2019-06-09 19:23:26.012 -03:00 [DBG] ro.client found in database: true
2019-06-09 19:23:26.012 -03:00 [DBG] client configuration validation for client ro.client succeeded.
2019-06-09 19:23:26.016 -03:00 [DBG] ro.client found in database: true
2019-06-09 19:23:26.016 -03:00 [DBG] client configuration validation for client ro.client succeeded.
2019-06-09 19:23:26.023 -03:00 [DBG] Calling into custom token validator: IdentityServer4.Validation.DefaultCustomTokenValidator
2019-06-09 19:23:26.023 -03:00 [DBG] Token validation success
{"ClientId":null,"ClientName":null,"ValidateLifetime":true,"AccessTokenType":"Jwt","ExpectedScope":"openid","TokenHandle":null,"JwtId":null,"Claims":{"nbf":1560119004,"exp":1560122604,"iss":"http://localhost:5000","aud":["http://localhost:5000/resources","api1"],"client_id":"ro.client","sub":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","auth_time":1560119004,"idp":"local","scope":["openid","profile","api1"],"amr":"pwd"},"$type":"TokenValidationLog"}
2019-06-09 19:23:26.024 -03:00 [DBG] Creating userinfo response
2019-06-09 19:23:26.024 -03:00 [DBG] Scopes in access token: openid profile api1
2019-06-09 19:23:26.024 -03:00 [DBG] Scopes in access token: openid profile api1
2019-06-09 19:23:26.030 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 19:23:26.030 -03:00 [DBG] Requested claim types: sub name family_name given_name middle_name nickname preferred_username profile picture website gender birthdate zoneinfo locale updated_at
2019-06-09 19:23:26.030 -03:00 [DBG] Scopes in access token: openid profile api1
2019-06-09 19:23:26.032 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 19:23:26.036 -03:00 [INF] Profile service returned the following claim types: sub name given_name family_name website preferred_username
2019-06-09 19:23:26.036 -03:00 [DBG] End userinfo request
2019-06-09 19:23:51.090 -03:00 [DBG] CORS request made for path: /connect/token from origin: http://localhost:3000
2019-06-09 19:23:51.093 -03:00 [DBG] Origin http://localhost:3000 is allowed: false
2019-06-09 19:23:51.093 -03:00 [WRN] CorsPolicyService did not allow origin: http://localhost:3000
2019-06-09 19:23:51.094 -03:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-06-09 19:23:51.094 -03:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-06-09 19:23:51.094 -03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-06-09 19:23:51.094 -03:00 [DBG] Start token request.
2019-06-09 19:23:51.094 -03:00 [DBG] Start client validation
2019-06-09 19:23:51.094 -03:00 [DBG] Start parsing Basic Authentication secret
2019-06-09 19:23:51.094 -03:00 [DBG] Start parsing for secret in post body
2019-06-09 19:23:51.095 -03:00 [DBG] Parser found secret: PostBodySecretParser
2019-06-09 19:23:51.095 -03:00 [DBG] Secret id found: ro.client
2019-06-09 19:23:51.130 -03:00 [DBG] ro.client found in database: true
2019-06-09 19:23:51.130 -03:00 [DBG] client configuration validation for client ro.client succeeded.
2019-06-09 19:23:51.130 -03:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-06-09 19:23:51.130 -03:00 [DBG] Client validation success
2019-06-09 19:23:51.130 -03:00 [INF] {"ClientId":"ro.client","AuthenticationMethod":"SharedSecret","Category":"Authentication","Name":"Client Authentication Success","EventType":"Success","Id":1010,"Message":null,"ActivityId":"0HLND4GPCPFDC:00000003","TimeStamp":"2019-06-09T22:23:51.0000000Z","ProcessId":28108,"LocalIpAddress":"127.0.0.1:10630","RemoteIpAddress":"::1","$type":"ClientAuthenticationSuccessEvent"}
2019-06-09 19:23:51.130 -03:00 [DBG] Start token request validation
2019-06-09 19:23:51.130 -03:00 [DBG] Start resource owner password token request validation
2019-06-09 19:23:51.141 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 19:23:51.227 -03:00 [DBG] Found ["api1"] API scopes in database
2019-06-09 19:23:51.228 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 19:23:51.231 -03:00 [DBG] Found ["api1"] API scopes in database
2019-06-09 19:23:51.243 -03:00 [INF] Credentials validated for username: alice
2019-06-09 19:23:51.243 -03:00 [INF] {"Username":"alice","Provider":null,"ProviderUserId":null,"SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","DisplayName":"alice","Endpoint":"Token","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HLND4GPCPFDC:00000003","TimeStamp":"2019-06-09T22:23:51.0000000Z","ProcessId":28108,"LocalIpAddress":"127.0.0.1:10630","RemoteIpAddress":"::1","$type":"UserLoginSuccessEvent"}
2019-06-09 19:23:51.243 -03:00 [INF] {"Username":"alice","Provider":null,"ProviderUserId":null,"SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","DisplayName":null,"Endpoint":"Token","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HLND4GPCPFDC:00000003","TimeStamp":"2019-06-09T22:23:51.0000000Z","ProcessId":28108,"LocalIpAddress":"127.0.0.1:10630","RemoteIpAddress":"::1","$type":"UserLoginSuccessEvent"}
2019-06-09 19:23:51.244 -03:00 [DBG] Resource owner password token request validation success.
2019-06-09 19:23:51.244 -03:00 [INF] Token request validation success
{"ClientId":"ro.client","ClientName":null,"GrantType":"password","Scopes":"api1 openid profile","AuthorizationCode":null,"RefreshToken":null,"UserName":"alice","AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"grant_type":"password","client_id":"ro.client","client_secret":"***REDACTED***","username":"alice","password":"***REDACTED***","scope":"openid profile api1"},"$type":"TokenRequestValidationLog"}
2019-06-09 19:23:51.244 -03:00 [DBG] Getting claims for access token for client: ro.client
2019-06-09 19:23:51.244 -03:00 [DBG] Getting claims for access token for subject: 4ba1c3a0-b786-421d-b88a-740f38d9cafa
2019-06-09 19:23:51.251 -03:00 [INF] {"ClientId":"ro.client","ClientName":null,"RedirectUri":null,"Endpoint":"Token","SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","Scopes":"openid profile api1","GrantType":"password","Tokens":[{"TokenType":"access_token","TokenValue":"****zN-w","$type":"Token"}],"Category":"Token","Name":"Token Issued Success","EventType":"Success","Id":2000,"Message":null,"ActivityId":"0HLND4GPCPFDC:00000003","TimeStamp":"2019-06-09T22:23:51.0000000Z","ProcessId":28108,"LocalIpAddress":"127.0.0.1:10630","RemoteIpAddress":"::1","$type":"TokenIssuedSuccessEvent"}
2019-06-09 19:23:51.252 -03:00 [DBG] Token request success.
2019-06-09 19:23:52.289 -03:00 [DBG] Request path /connect/userinfo matched to endpoint type Userinfo
2019-06-09 19:23:52.290 -03:00 [DBG] Endpoint enabled: Userinfo, successfully created handler: IdentityServer4.Endpoints.UserInfoEndpoint
2019-06-09 19:23:52.290 -03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.UserInfoEndpoint for /connect/userinfo
2019-06-09 19:23:52.290 -03:00 [DBG] Start userinfo request
2019-06-09 19:23:52.290 -03:00 [DBG] Bearer token found in header
2019-06-09 19:23:52.296 -03:00 [DBG] ro.client found in database: true
2019-06-09 19:23:52.296 -03:00 [DBG] client configuration validation for client ro.client succeeded.
2019-06-09 19:23:52.300 -03:00 [DBG] ro.client found in database: true
2019-06-09 19:23:52.300 -03:00 [DBG] client configuration validation for client ro.client succeeded.
2019-06-09 19:23:52.304 -03:00 [DBG] Calling into custom token validator: IdentityServer4.Validation.DefaultCustomTokenValidator
2019-06-09 19:23:52.304 -03:00 [DBG] Token validation success
{"ClientId":null,"ClientName":null,"ValidateLifetime":true,"AccessTokenType":"Jwt","ExpectedScope":"openid","TokenHandle":null,"JwtId":null,"Claims":{"nbf":1560119031,"exp":1560122631,"iss":"http://localhost:5000","aud":["http://localhost:5000/resources","api1"],"client_id":"ro.client","sub":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","auth_time":1560119031,"idp":"local","scope":["openid","profile","api1"],"amr":"pwd"},"$type":"TokenValidationLog"}
2019-06-09 19:23:52.305 -03:00 [DBG] Creating userinfo response
2019-06-09 19:23:52.305 -03:00 [DBG] Scopes in access token: openid profile api1
2019-06-09 19:23:52.305 -03:00 [DBG] Scopes in access token: openid profile api1
2019-06-09 19:23:52.311 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 19:23:52.311 -03:00 [DBG] Requested claim types: sub name family_name given_name middle_name nickname preferred_username profile picture website gender birthdate zoneinfo locale updated_at
2019-06-09 19:23:52.311 -03:00 [DBG] Scopes in access token: openid profile api1
2019-06-09 19:23:52.313 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 19:23:52.325 -03:00 [INF] Profile service returned the following claim types: sub name given_name family_name website preferred_username
2019-06-09 19:23:52.325 -03:00 [DBG] End userinfo request
2019-06-09 19:25:36.080 -03:00 [DBG] CORS request made for path: /connect/token from origin: http://localhost:3000
2019-06-09 19:25:36.084 -03:00 [DBG] Origin http://localhost:3000 is allowed: false
2019-06-09 19:25:36.084 -03:00 [WRN] CorsPolicyService did not allow origin: http://localhost:3000
2019-06-09 19:25:36.084 -03:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-06-09 19:25:36.084 -03:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-06-09 19:25:36.084 -03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-06-09 19:25:36.084 -03:00 [DBG] Start token request.
2019-06-09 19:25:36.084 -03:00 [DBG] Start client validation
2019-06-09 19:25:36.085 -03:00 [DBG] Start parsing Basic Authentication secret
2019-06-09 19:25:36.085 -03:00 [DBG] Start parsing for secret in post body
2019-06-09 19:25:36.085 -03:00 [DBG] Parser found secret: PostBodySecretParser
2019-06-09 19:25:36.085 -03:00 [DBG] Secret id found: ro.client
2019-06-09 19:25:36.107 -03:00 [DBG] ro.client found in database: true
2019-06-09 19:25:36.107 -03:00 [DBG] client configuration validation for client ro.client succeeded.
2019-06-09 19:25:36.107 -03:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-06-09 19:25:36.107 -03:00 [DBG] Client validation success
2019-06-09 19:25:36.107 -03:00 [INF] {"ClientId":"ro.client","AuthenticationMethod":"SharedSecret","Category":"Authentication","Name":"Client Authentication Success","EventType":"Success","Id":1010,"Message":null,"ActivityId":"0HLND4GPCPFDD:00000001","TimeStamp":"2019-06-09T22:25:36.0000000Z","ProcessId":28108,"LocalIpAddress":"127.0.0.1:10630","RemoteIpAddress":"::1","$type":"ClientAuthenticationSuccessEvent"}
2019-06-09 19:25:36.107 -03:00 [DBG] Start token request validation
2019-06-09 19:25:36.107 -03:00 [DBG] Start resource owner password token request validation
2019-06-09 19:25:36.115 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 19:25:36.180 -03:00 [DBG] Found ["api1"] API scopes in database
2019-06-09 19:25:36.181 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 19:25:36.184 -03:00 [DBG] Found ["api1"] API scopes in database
2019-06-09 19:25:36.195 -03:00 [INF] Credentials validated for username: alice
2019-06-09 19:25:36.195 -03:00 [INF] {"Username":"alice","Provider":null,"ProviderUserId":null,"SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","DisplayName":"alice","Endpoint":"Token","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HLND4GPCPFDD:00000001","TimeStamp":"2019-06-09T22:25:36.0000000Z","ProcessId":28108,"LocalIpAddress":"127.0.0.1:10630","RemoteIpAddress":"::1","$type":"UserLoginSuccessEvent"}
2019-06-09 19:25:36.195 -03:00 [INF] {"Username":"alice","Provider":null,"ProviderUserId":null,"SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","DisplayName":null,"Endpoint":"Token","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HLND4GPCPFDD:00000001","TimeStamp":"2019-06-09T22:25:36.0000000Z","ProcessId":28108,"LocalIpAddress":"127.0.0.1:10630","RemoteIpAddress":"::1","$type":"UserLoginSuccessEvent"}
2019-06-09 19:25:36.195 -03:00 [DBG] Resource owner password token request validation success.
2019-06-09 19:25:36.195 -03:00 [INF] Token request validation success
{"ClientId":"ro.client","ClientName":null,"GrantType":"password","Scopes":"api1 openid profile","AuthorizationCode":null,"RefreshToken":null,"UserName":"alice","AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"grant_type":"password","client_id":"ro.client","client_secret":"***REDACTED***","username":"alice","password":"***REDACTED***","scope":"openid profile api1"},"$type":"TokenRequestValidationLog"}
2019-06-09 19:25:36.195 -03:00 [DBG] Getting claims for access token for client: ro.client
2019-06-09 19:25:36.195 -03:00 [DBG] Getting claims for access token for subject: 4ba1c3a0-b786-421d-b88a-740f38d9cafa
2019-06-09 19:25:36.203 -03:00 [INF] {"ClientId":"ro.client","ClientName":null,"RedirectUri":null,"Endpoint":"Token","SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","Scopes":"openid profile api1","GrantType":"password","Tokens":[{"TokenType":"access_token","TokenValue":"****brFg","$type":"Token"}],"Category":"Token","Name":"Token Issued Success","EventType":"Success","Id":2000,"Message":null,"ActivityId":"0HLND4GPCPFDD:00000001","TimeStamp":"2019-06-09T22:25:36.0000000Z","ProcessId":28108,"LocalIpAddress":"127.0.0.1:10630","RemoteIpAddress":"::1","$type":"TokenIssuedSuccessEvent"}
2019-06-09 19:25:36.203 -03:00 [DBG] Token request success.
2019-06-09 19:25:37.263 -03:00 [DBG] Request path /connect/userinfo matched to endpoint type Userinfo
2019-06-09 19:25:37.264 -03:00 [DBG] Endpoint enabled: Userinfo, successfully created handler: IdentityServer4.Endpoints.UserInfoEndpoint
2019-06-09 19:25:37.264 -03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.UserInfoEndpoint for /connect/userinfo
2019-06-09 19:25:37.264 -03:00 [DBG] Start userinfo request
2019-06-09 19:25:37.264 -03:00 [DBG] Bearer token found in header
2019-06-09 19:25:37.269 -03:00 [DBG] ro.client found in database: true
2019-06-09 19:25:37.269 -03:00 [DBG] client configuration validation for client ro.client succeeded.
2019-06-09 19:25:37.273 -03:00 [DBG] ro.client found in database: true
2019-06-09 19:25:37.273 -03:00 [DBG] client configuration validation for client ro.client succeeded.
2019-06-09 19:25:37.277 -03:00 [DBG] Calling into custom token validator: IdentityServer4.Validation.DefaultCustomTokenValidator
2019-06-09 19:25:37.277 -03:00 [DBG] Token validation success
{"ClientId":null,"ClientName":null,"ValidateLifetime":true,"AccessTokenType":"Jwt","ExpectedScope":"openid","TokenHandle":null,"JwtId":null,"Claims":{"nbf":1560119136,"exp":1560122736,"iss":"http://localhost:5000","aud":["http://localhost:5000/resources","api1"],"client_id":"ro.client","sub":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","auth_time":1560119136,"idp":"local","scope":["openid","profile","api1"],"amr":"pwd"},"$type":"TokenValidationLog"}
2019-06-09 19:25:37.277 -03:00 [DBG] Creating userinfo response
2019-06-09 19:25:37.277 -03:00 [DBG] Scopes in access token: openid profile api1
2019-06-09 19:25:37.277 -03:00 [DBG] Scopes in access token: openid profile api1
2019-06-09 19:25:37.283 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 19:25:37.283 -03:00 [DBG] Requested claim types: sub name family_name given_name middle_name nickname preferred_username profile picture website gender birthdate zoneinfo locale updated_at
2019-06-09 19:25:37.283 -03:00 [DBG] Scopes in access token: openid profile api1
2019-06-09 19:25:37.284 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 19:25:37.288 -03:00 [INF] Profile service returned the following claim types: sub name given_name family_name website preferred_username
2019-06-09 19:25:37.288 -03:00 [DBG] End userinfo request
2019-06-09 19:26:12.764 -03:00 [DBG] CORS request made for path: /connect/token from origin: http://localhost:3000
2019-06-09 19:26:12.766 -03:00 [DBG] Origin http://localhost:3000 is allowed: false
2019-06-09 19:26:12.767 -03:00 [WRN] CorsPolicyService did not allow origin: http://localhost:3000
2019-06-09 19:26:12.767 -03:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-06-09 19:26:12.767 -03:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-06-09 19:26:12.767 -03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-06-09 19:26:12.767 -03:00 [DBG] Start token request.
2019-06-09 19:26:12.767 -03:00 [DBG] Start client validation
2019-06-09 19:26:12.767 -03:00 [DBG] Start parsing Basic Authentication secret
2019-06-09 19:26:12.767 -03:00 [DBG] Start parsing for secret in post body
2019-06-09 19:26:12.769 -03:00 [DBG] Parser found secret: PostBodySecretParser
2019-06-09 19:26:12.769 -03:00 [DBG] Secret id found: ro.client
2019-06-09 19:26:12.791 -03:00 [DBG] ro.client found in database: true
2019-06-09 19:26:12.791 -03:00 [DBG] client configuration validation for client ro.client succeeded.
2019-06-09 19:26:12.791 -03:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-06-09 19:26:12.791 -03:00 [DBG] Client validation success
2019-06-09 19:26:12.791 -03:00 [INF] {"ClientId":"ro.client","AuthenticationMethod":"SharedSecret","Category":"Authentication","Name":"Client Authentication Success","EventType":"Success","Id":1010,"Message":null,"ActivityId":"0HLND4GPCPFDD:00000003","TimeStamp":"2019-06-09T22:26:12.0000000Z","ProcessId":28108,"LocalIpAddress":"127.0.0.1:10630","RemoteIpAddress":"::1","$type":"ClientAuthenticationSuccessEvent"}
2019-06-09 19:26:12.791 -03:00 [DBG] Start token request validation
2019-06-09 19:26:12.791 -03:00 [DBG] Start resource owner password token request validation
2019-06-09 19:26:12.798 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 19:26:12.860 -03:00 [DBG] Found ["api1"] API scopes in database
2019-06-09 19:26:12.862 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 19:26:12.864 -03:00 [DBG] Found ["api1"] API scopes in database
2019-06-09 19:26:12.876 -03:00 [INF] Credentials validated for username: alice
2019-06-09 19:26:12.876 -03:00 [INF] {"Username":"alice","Provider":null,"ProviderUserId":null,"SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","DisplayName":"alice","Endpoint":"Token","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HLND4GPCPFDD:00000003","TimeStamp":"2019-06-09T22:26:12.0000000Z","ProcessId":28108,"LocalIpAddress":"127.0.0.1:10630","RemoteIpAddress":"::1","$type":"UserLoginSuccessEvent"}
2019-06-09 19:26:12.876 -03:00 [INF] {"Username":"alice","Provider":null,"ProviderUserId":null,"SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","DisplayName":null,"Endpoint":"Token","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HLND4GPCPFDD:00000003","TimeStamp":"2019-06-09T22:26:12.0000000Z","ProcessId":28108,"LocalIpAddress":"127.0.0.1:10630","RemoteIpAddress":"::1","$type":"UserLoginSuccessEvent"}
2019-06-09 19:26:12.877 -03:00 [DBG] Resource owner password token request validation success.
2019-06-09 19:26:12.877 -03:00 [INF] Token request validation success
{"ClientId":"ro.client","ClientName":null,"GrantType":"password","Scopes":"api1 openid profile","AuthorizationCode":null,"RefreshToken":null,"UserName":"alice","AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"grant_type":"password","client_id":"ro.client","client_secret":"***REDACTED***","username":"alice","password":"***REDACTED***","scope":"openid profile api1"},"$type":"TokenRequestValidationLog"}
2019-06-09 19:26:12.877 -03:00 [DBG] Getting claims for access token for client: ro.client
2019-06-09 19:26:12.877 -03:00 [DBG] Getting claims for access token for subject: 4ba1c3a0-b786-421d-b88a-740f38d9cafa
2019-06-09 19:26:12.888 -03:00 [INF] {"ClientId":"ro.client","ClientName":null,"RedirectUri":null,"Endpoint":"Token","SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","Scopes":"openid profile api1","GrantType":"password","Tokens":[{"TokenType":"access_token","TokenValue":"****-xRg","$type":"Token"}],"Category":"Token","Name":"Token Issued Success","EventType":"Success","Id":2000,"Message":null,"ActivityId":"0HLND4GPCPFDD:00000003","TimeStamp":"2019-06-09T22:26:12.0000000Z","ProcessId":28108,"LocalIpAddress":"127.0.0.1:10630","RemoteIpAddress":"::1","$type":"TokenIssuedSuccessEvent"}
2019-06-09 19:26:12.888 -03:00 [DBG] Token request success.
2019-06-09 19:26:13.930 -03:00 [DBG] Request path /connect/userinfo matched to endpoint type Userinfo
2019-06-09 19:26:13.930 -03:00 [DBG] Endpoint enabled: Userinfo, successfully created handler: IdentityServer4.Endpoints.UserInfoEndpoint
2019-06-09 19:26:13.930 -03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.UserInfoEndpoint for /connect/userinfo
2019-06-09 19:26:13.930 -03:00 [DBG] Start userinfo request
2019-06-09 19:26:13.930 -03:00 [DBG] Bearer token found in header
2019-06-09 19:26:13.936 -03:00 [DBG] ro.client found in database: true
2019-06-09 19:26:13.936 -03:00 [DBG] client configuration validation for client ro.client succeeded.
2019-06-09 19:26:13.939 -03:00 [DBG] ro.client found in database: true
2019-06-09 19:26:13.939 -03:00 [DBG] client configuration validation for client ro.client succeeded.
2019-06-09 19:26:13.943 -03:00 [DBG] Calling into custom token validator: IdentityServer4.Validation.DefaultCustomTokenValidator
2019-06-09 19:26:13.944 -03:00 [DBG] Token validation success
{"ClientId":null,"ClientName":null,"ValidateLifetime":true,"AccessTokenType":"Jwt","ExpectedScope":"openid","TokenHandle":null,"JwtId":null,"Claims":{"nbf":1560119172,"exp":1560122772,"iss":"http://localhost:5000","aud":["http://localhost:5000/resources","api1"],"client_id":"ro.client","sub":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","auth_time":1560119172,"idp":"local","scope":["openid","profile","api1"],"amr":"pwd"},"$type":"TokenValidationLog"}
2019-06-09 19:26:13.944 -03:00 [DBG] Creating userinfo response
2019-06-09 19:26:13.944 -03:00 [DBG] Scopes in access token: openid profile api1
2019-06-09 19:26:13.944 -03:00 [DBG] Scopes in access token: openid profile api1
2019-06-09 19:26:13.951 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 19:26:13.951 -03:00 [DBG] Requested claim types: sub name family_name given_name middle_name nickname preferred_username profile picture website gender birthdate zoneinfo locale updated_at
2019-06-09 19:26:13.951 -03:00 [DBG] Scopes in access token: openid profile api1
2019-06-09 19:26:13.953 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 19:26:13.956 -03:00 [INF] Profile service returned the following claim types: sub name given_name family_name website preferred_username
2019-06-09 19:26:13.956 -03:00 [DBG] End userinfo request
2019-06-09 19:35:15.277 -03:00 [DBG] CORS request made for path: /connect/token from origin: http://localhost:3000
2019-06-09 19:35:15.285 -03:00 [DBG] Origin http://localhost:3000 is allowed: false
2019-06-09 19:35:15.286 -03:00 [WRN] CorsPolicyService did not allow origin: http://localhost:3000
2019-06-09 19:35:15.286 -03:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-06-09 19:35:15.287 -03:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-06-09 19:35:15.287 -03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-06-09 19:35:15.287 -03:00 [DBG] Start token request.
2019-06-09 19:35:15.287 -03:00 [DBG] Start client validation
2019-06-09 19:35:15.287 -03:00 [DBG] Start parsing Basic Authentication secret
2019-06-09 19:35:15.287 -03:00 [DBG] Start parsing for secret in post body
2019-06-09 19:35:15.287 -03:00 [DBG] Parser found secret: PostBodySecretParser
2019-06-09 19:35:15.287 -03:00 [DBG] Secret id found: ro.client
2019-06-09 19:35:15.313 -03:00 [DBG] ro.client found in database: true
2019-06-09 19:35:15.313 -03:00 [DBG] client configuration validation for client ro.client succeeded.
2019-06-09 19:35:15.313 -03:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-06-09 19:35:15.313 -03:00 [DBG] Client validation success
2019-06-09 19:35:15.313 -03:00 [INF] {"ClientId":"ro.client","AuthenticationMethod":"SharedSecret","Category":"Authentication","Name":"Client Authentication Success","EventType":"Success","Id":1010,"Message":null,"ActivityId":"0HLND4GPCPFDE:00000001","TimeStamp":"2019-06-09T22:35:15.0000000Z","ProcessId":28108,"LocalIpAddress":"127.0.0.1:10630","RemoteIpAddress":"::1","$type":"ClientAuthenticationSuccessEvent"}
2019-06-09 19:35:15.313 -03:00 [DBG] Start token request validation
2019-06-09 19:35:15.313 -03:00 [DBG] Start resource owner password token request validation
2019-06-09 19:35:15.322 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 19:35:15.387 -03:00 [DBG] Found ["api1"] API scopes in database
2019-06-09 19:35:15.389 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 19:35:15.391 -03:00 [DBG] Found ["api1"] API scopes in database
2019-06-09 19:35:15.405 -03:00 [INF] Credentials validated for username: alice
2019-06-09 19:35:15.405 -03:00 [INF] {"Username":"alice","Provider":null,"ProviderUserId":null,"SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","DisplayName":"alice","Endpoint":"Token","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HLND4GPCPFDE:00000001","TimeStamp":"2019-06-09T22:35:15.0000000Z","ProcessId":28108,"LocalIpAddress":"127.0.0.1:10630","RemoteIpAddress":"::1","$type":"UserLoginSuccessEvent"}
2019-06-09 19:35:15.406 -03:00 [INF] {"Username":"alice","Provider":null,"ProviderUserId":null,"SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","DisplayName":null,"Endpoint":"Token","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HLND4GPCPFDE:00000001","TimeStamp":"2019-06-09T22:35:15.0000000Z","ProcessId":28108,"LocalIpAddress":"127.0.0.1:10630","RemoteIpAddress":"::1","$type":"UserLoginSuccessEvent"}
2019-06-09 19:35:15.406 -03:00 [DBG] Resource owner password token request validation success.
2019-06-09 19:35:15.406 -03:00 [INF] Token request validation success
{"ClientId":"ro.client","ClientName":null,"GrantType":"password","Scopes":"api1 openid profile","AuthorizationCode":null,"RefreshToken":null,"UserName":"alice","AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"grant_type":"password","client_id":"ro.client","client_secret":"***REDACTED***","username":"alice","password":"***REDACTED***","scope":"openid profile api1"},"$type":"TokenRequestValidationLog"}
2019-06-09 19:35:15.406 -03:00 [DBG] Getting claims for access token for client: ro.client
2019-06-09 19:35:15.406 -03:00 [DBG] Getting claims for access token for subject: 4ba1c3a0-b786-421d-b88a-740f38d9cafa
2019-06-09 19:35:15.414 -03:00 [INF] {"ClientId":"ro.client","ClientName":null,"RedirectUri":null,"Endpoint":"Token","SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","Scopes":"openid profile api1","GrantType":"password","Tokens":[{"TokenType":"access_token","TokenValue":"****KA2Q","$type":"Token"}],"Category":"Token","Name":"Token Issued Success","EventType":"Success","Id":2000,"Message":null,"ActivityId":"0HLND4GPCPFDE:00000001","TimeStamp":"2019-06-09T22:35:15.0000000Z","ProcessId":28108,"LocalIpAddress":"127.0.0.1:10630","RemoteIpAddress":"::1","$type":"TokenIssuedSuccessEvent"}
2019-06-09 19:35:15.415 -03:00 [DBG] Token request success.
2019-06-09 19:35:15.470 -03:00 [DBG] Request path /connect/userinfo matched to endpoint type Userinfo
2019-06-09 19:35:15.471 -03:00 [DBG] Endpoint enabled: Userinfo, successfully created handler: IdentityServer4.Endpoints.UserInfoEndpoint
2019-06-09 19:35:15.471 -03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.UserInfoEndpoint for /connect/userinfo
2019-06-09 19:35:15.471 -03:00 [DBG] Start userinfo request
2019-06-09 19:35:15.471 -03:00 [DBG] Bearer token found in header
2019-06-09 19:35:15.479 -03:00 [DBG] ro.client found in database: true
2019-06-09 19:35:15.479 -03:00 [DBG] client configuration validation for client ro.client succeeded.
2019-06-09 19:35:15.482 -03:00 [DBG] ro.client found in database: true
2019-06-09 19:35:15.482 -03:00 [DBG] client configuration validation for client ro.client succeeded.
2019-06-09 19:35:15.490 -03:00 [DBG] Calling into custom token validator: IdentityServer4.Validation.DefaultCustomTokenValidator
2019-06-09 19:35:15.490 -03:00 [DBG] Token validation success
{"ClientId":null,"ClientName":null,"ValidateLifetime":true,"AccessTokenType":"Jwt","ExpectedScope":"openid","TokenHandle":null,"JwtId":null,"Claims":{"nbf":1560119715,"exp":1560123315,"iss":"http://localhost:5000","aud":["http://localhost:5000/resources","api1"],"client_id":"ro.client","sub":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","auth_time":1560119715,"idp":"local","scope":["openid","profile","api1"],"amr":"pwd"},"$type":"TokenValidationLog"}
2019-06-09 19:35:15.490 -03:00 [DBG] Creating userinfo response
2019-06-09 19:35:15.491 -03:00 [DBG] Scopes in access token: openid profile api1
2019-06-09 19:35:15.491 -03:00 [DBG] Scopes in access token: openid profile api1
2019-06-09 19:35:15.496 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 19:35:15.496 -03:00 [DBG] Requested claim types: sub name family_name given_name middle_name nickname preferred_username profile picture website gender birthdate zoneinfo locale updated_at
2019-06-09 19:35:15.496 -03:00 [DBG] Scopes in access token: openid profile api1
2019-06-09 19:35:15.498 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 19:35:15.501 -03:00 [INF] Profile service returned the following claim types: sub name given_name family_name website preferred_username
2019-06-09 19:35:15.501 -03:00 [DBG] End userinfo request
2019-06-09 19:35:50.096 -03:00 [DBG] CORS request made for path: /connect/token from origin: http://localhost:3000
2019-06-09 19:35:50.101 -03:00 [DBG] Origin http://localhost:3000 is allowed: false
2019-06-09 19:35:50.101 -03:00 [WRN] CorsPolicyService did not allow origin: http://localhost:3000
2019-06-09 19:35:50.101 -03:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-06-09 19:35:50.101 -03:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-06-09 19:35:50.101 -03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-06-09 19:35:50.101 -03:00 [DBG] Start token request.
2019-06-09 19:35:50.101 -03:00 [DBG] Start client validation
2019-06-09 19:35:50.101 -03:00 [DBG] Start parsing Basic Authentication secret
2019-06-09 19:35:50.101 -03:00 [DBG] Start parsing for secret in post body
2019-06-09 19:35:50.102 -03:00 [DBG] Parser found secret: PostBodySecretParser
2019-06-09 19:35:50.102 -03:00 [DBG] Secret id found: ro.client
2019-06-09 19:35:50.125 -03:00 [DBG] ro.client found in database: true
2019-06-09 19:35:50.125 -03:00 [DBG] client configuration validation for client ro.client succeeded.
2019-06-09 19:35:50.125 -03:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-06-09 19:35:50.125 -03:00 [DBG] Client validation success
2019-06-09 19:35:50.125 -03:00 [INF] {"ClientId":"ro.client","AuthenticationMethod":"SharedSecret","Category":"Authentication","Name":"Client Authentication Success","EventType":"Success","Id":1010,"Message":null,"ActivityId":"0HLND4GPCPFDE:00000003","TimeStamp":"2019-06-09T22:35:50.0000000Z","ProcessId":28108,"LocalIpAddress":"127.0.0.1:10630","RemoteIpAddress":"::1","$type":"ClientAuthenticationSuccessEvent"}
2019-06-09 19:35:50.125 -03:00 [DBG] Start token request validation
2019-06-09 19:35:50.125 -03:00 [DBG] Start resource owner password token request validation
2019-06-09 19:35:50.134 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 19:35:50.198 -03:00 [DBG] Found ["api1"] API scopes in database
2019-06-09 19:35:50.199 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 19:35:50.202 -03:00 [DBG] Found ["api1"] API scopes in database
2019-06-09 19:35:50.211 -03:00 [INF] Credentials validated for username: alice
2019-06-09 19:35:50.211 -03:00 [INF] {"Username":"alice","Provider":null,"ProviderUserId":null,"SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","DisplayName":"alice","Endpoint":"Token","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HLND4GPCPFDE:00000003","TimeStamp":"2019-06-09T22:35:50.0000000Z","ProcessId":28108,"LocalIpAddress":"127.0.0.1:10630","RemoteIpAddress":"::1","$type":"UserLoginSuccessEvent"}
2019-06-09 19:35:50.212 -03:00 [INF] {"Username":"alice","Provider":null,"ProviderUserId":null,"SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","DisplayName":null,"Endpoint":"Token","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HLND4GPCPFDE:00000003","TimeStamp":"2019-06-09T22:35:50.0000000Z","ProcessId":28108,"LocalIpAddress":"127.0.0.1:10630","RemoteIpAddress":"::1","$type":"UserLoginSuccessEvent"}
2019-06-09 19:35:50.212 -03:00 [DBG] Resource owner password token request validation success.
2019-06-09 19:35:50.212 -03:00 [INF] Token request validation success
{"ClientId":"ro.client","ClientName":null,"GrantType":"password","Scopes":"api1 openid profile","AuthorizationCode":null,"RefreshToken":null,"UserName":"alice","AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"grant_type":"password","client_id":"ro.client","client_secret":"***REDACTED***","username":"alice","password":"***REDACTED***","scope":"openid profile api1"},"$type":"TokenRequestValidationLog"}
2019-06-09 19:35:50.212 -03:00 [DBG] Getting claims for access token for client: ro.client
2019-06-09 19:35:50.212 -03:00 [DBG] Getting claims for access token for subject: 4ba1c3a0-b786-421d-b88a-740f38d9cafa
2019-06-09 19:35:50.220 -03:00 [INF] {"ClientId":"ro.client","ClientName":null,"RedirectUri":null,"Endpoint":"Token","SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","Scopes":"openid profile api1","GrantType":"password","Tokens":[{"TokenType":"access_token","TokenValue":"****pU_A","$type":"Token"}],"Category":"Token","Name":"Token Issued Success","EventType":"Success","Id":2000,"Message":null,"ActivityId":"0HLND4GPCPFDE:00000003","TimeStamp":"2019-06-09T22:35:50.0000000Z","ProcessId":28108,"LocalIpAddress":"127.0.0.1:10630","RemoteIpAddress":"::1","$type":"TokenIssuedSuccessEvent"}
2019-06-09 19:35:50.220 -03:00 [DBG] Token request success.
2019-06-09 19:35:50.256 -03:00 [DBG] Request path /connect/userinfo matched to endpoint type Userinfo
2019-06-09 19:35:50.257 -03:00 [DBG] Endpoint enabled: Userinfo, successfully created handler: IdentityServer4.Endpoints.UserInfoEndpoint
2019-06-09 19:35:50.257 -03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.UserInfoEndpoint for /connect/userinfo
2019-06-09 19:35:50.258 -03:00 [DBG] Start userinfo request
2019-06-09 19:35:50.258 -03:00 [DBG] Bearer token found in header
2019-06-09 19:35:50.266 -03:00 [DBG] ro.client found in database: true
2019-06-09 19:35:50.266 -03:00 [DBG] client configuration validation for client ro.client succeeded.
2019-06-09 19:35:50.272 -03:00 [DBG] ro.client found in database: true
2019-06-09 19:35:50.272 -03:00 [DBG] client configuration validation for client ro.client succeeded.
2019-06-09 19:35:50.276 -03:00 [DBG] Calling into custom token validator: IdentityServer4.Validation.DefaultCustomTokenValidator
2019-06-09 19:35:50.276 -03:00 [DBG] Token validation success
{"ClientId":null,"ClientName":null,"ValidateLifetime":true,"AccessTokenType":"Jwt","ExpectedScope":"openid","TokenHandle":null,"JwtId":null,"Claims":{"nbf":1560119750,"exp":1560123350,"iss":"http://localhost:5000","aud":["http://localhost:5000/resources","api1"],"client_id":"ro.client","sub":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","auth_time":1560119750,"idp":"local","scope":["openid","profile","api1"],"amr":"pwd"},"$type":"TokenValidationLog"}
2019-06-09 19:35:50.277 -03:00 [DBG] Creating userinfo response
2019-06-09 19:35:50.277 -03:00 [DBG] Scopes in access token: openid profile api1
2019-06-09 19:35:50.277 -03:00 [DBG] Scopes in access token: openid profile api1
2019-06-09 19:35:50.290 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 19:35:50.290 -03:00 [DBG] Requested claim types: sub name family_name given_name middle_name nickname preferred_username profile picture website gender birthdate zoneinfo locale updated_at
2019-06-09 19:35:50.290 -03:00 [DBG] Scopes in access token: openid profile api1
2019-06-09 19:35:50.292 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 19:35:50.297 -03:00 [INF] Profile service returned the following claim types: sub name given_name family_name website preferred_username
2019-06-09 19:35:50.297 -03:00 [DBG] End userinfo request
2019-06-09 19:36:58.625 -03:00 [DBG] CORS request made for path: /connect/token from origin: http://localhost:3000
2019-06-09 19:36:58.638 -03:00 [DBG] Origin http://localhost:3000 is allowed: false
2019-06-09 19:36:58.638 -03:00 [WRN] CorsPolicyService did not allow origin: http://localhost:3000
2019-06-09 19:36:58.638 -03:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-06-09 19:36:58.639 -03:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-06-09 19:36:58.639 -03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-06-09 19:36:58.639 -03:00 [DBG] Start token request.
2019-06-09 19:36:58.639 -03:00 [DBG] Start client validation
2019-06-09 19:36:58.639 -03:00 [DBG] Start parsing Basic Authentication secret
2019-06-09 19:36:58.639 -03:00 [DBG] Start parsing for secret in post body
2019-06-09 19:36:58.639 -03:00 [DBG] Parser found secret: PostBodySecretParser
2019-06-09 19:36:58.639 -03:00 [DBG] Secret id found: ro.client
2019-06-09 19:36:58.661 -03:00 [DBG] ro.client found in database: true
2019-06-09 19:36:58.662 -03:00 [DBG] client configuration validation for client ro.client succeeded.
2019-06-09 19:36:58.662 -03:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-06-09 19:36:58.662 -03:00 [DBG] Client validation success
2019-06-09 19:36:58.662 -03:00 [INF] {"ClientId":"ro.client","AuthenticationMethod":"SharedSecret","Category":"Authentication","Name":"Client Authentication Success","EventType":"Success","Id":1010,"Message":null,"ActivityId":"0HLND4GPCPFDF:00000001","TimeStamp":"2019-06-09T22:36:58.0000000Z","ProcessId":28108,"LocalIpAddress":"127.0.0.1:10630","RemoteIpAddress":"::1","$type":"ClientAuthenticationSuccessEvent"}
2019-06-09 19:36:58.662 -03:00 [DBG] Start token request validation
2019-06-09 19:36:58.662 -03:00 [DBG] Start resource owner password token request validation
2019-06-09 19:36:58.669 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 19:36:58.731 -03:00 [DBG] Found ["api1"] API scopes in database
2019-06-09 19:36:58.732 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 19:36:58.735 -03:00 [DBG] Found ["api1"] API scopes in database
2019-06-09 19:36:58.745 -03:00 [INF] Credentials validated for username: alice
2019-06-09 19:36:58.746 -03:00 [INF] {"Username":"alice","Provider":null,"ProviderUserId":null,"SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","DisplayName":"alice","Endpoint":"Token","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HLND4GPCPFDF:00000001","TimeStamp":"2019-06-09T22:36:58.0000000Z","ProcessId":28108,"LocalIpAddress":"127.0.0.1:10630","RemoteIpAddress":"::1","$type":"UserLoginSuccessEvent"}
2019-06-09 19:36:58.746 -03:00 [INF] {"Username":"alice","Provider":null,"ProviderUserId":null,"SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","DisplayName":null,"Endpoint":"Token","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HLND4GPCPFDF:00000001","TimeStamp":"2019-06-09T22:36:58.0000000Z","ProcessId":28108,"LocalIpAddress":"127.0.0.1:10630","RemoteIpAddress":"::1","$type":"UserLoginSuccessEvent"}
2019-06-09 19:36:58.746 -03:00 [DBG] Resource owner password token request validation success.
2019-06-09 19:36:58.746 -03:00 [INF] Token request validation success
{"ClientId":"ro.client","ClientName":null,"GrantType":"password","Scopes":"api1 openid profile","AuthorizationCode":null,"RefreshToken":null,"UserName":"alice","AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"grant_type":"password","client_id":"ro.client","client_secret":"***REDACTED***","username":"alice","password":"***REDACTED***","scope":"openid profile api1"},"$type":"TokenRequestValidationLog"}
2019-06-09 19:36:58.746 -03:00 [DBG] Getting claims for access token for client: ro.client
2019-06-09 19:36:58.746 -03:00 [DBG] Getting claims for access token for subject: 4ba1c3a0-b786-421d-b88a-740f38d9cafa
2019-06-09 19:36:58.754 -03:00 [INF] {"ClientId":"ro.client","ClientName":null,"RedirectUri":null,"Endpoint":"Token","SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","Scopes":"openid profile api1","GrantType":"password","Tokens":[{"TokenType":"access_token","TokenValue":"****IKYw","$type":"Token"}],"Category":"Token","Name":"Token Issued Success","EventType":"Success","Id":2000,"Message":null,"ActivityId":"0HLND4GPCPFDF:00000001","TimeStamp":"2019-06-09T22:36:58.0000000Z","ProcessId":28108,"LocalIpAddress":"127.0.0.1:10630","RemoteIpAddress":"::1","$type":"TokenIssuedSuccessEvent"}
2019-06-09 19:36:58.754 -03:00 [DBG] Token request success.
2019-06-09 19:36:58.815 -03:00 [DBG] Request path /connect/userinfo matched to endpoint type Userinfo
2019-06-09 19:36:58.816 -03:00 [DBG] Endpoint enabled: Userinfo, successfully created handler: IdentityServer4.Endpoints.UserInfoEndpoint
2019-06-09 19:36:58.816 -03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.UserInfoEndpoint for /connect/userinfo
2019-06-09 19:36:58.816 -03:00 [DBG] Start userinfo request
2019-06-09 19:36:58.816 -03:00 [DBG] Bearer token found in header
2019-06-09 19:36:58.825 -03:00 [DBG] ro.client found in database: true
2019-06-09 19:36:58.825 -03:00 [DBG] client configuration validation for client ro.client succeeded.
2019-06-09 19:36:58.832 -03:00 [DBG] ro.client found in database: true
2019-06-09 19:36:58.832 -03:00 [DBG] client configuration validation for client ro.client succeeded.
2019-06-09 19:36:58.836 -03:00 [DBG] Calling into custom token validator: IdentityServer4.Validation.DefaultCustomTokenValidator
2019-06-09 19:36:58.836 -03:00 [DBG] Token validation success
{"ClientId":null,"ClientName":null,"ValidateLifetime":true,"AccessTokenType":"Jwt","ExpectedScope":"openid","TokenHandle":null,"JwtId":null,"Claims":{"nbf":1560119818,"exp":1560123418,"iss":"http://localhost:5000","aud":["http://localhost:5000/resources","api1"],"client_id":"ro.client","sub":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","auth_time":1560119818,"idp":"local","scope":["openid","profile","api1"],"amr":"pwd"},"$type":"TokenValidationLog"}
2019-06-09 19:36:58.837 -03:00 [DBG] Creating userinfo response
2019-06-09 19:36:58.837 -03:00 [DBG] Scopes in access token: openid profile api1
2019-06-09 19:36:58.837 -03:00 [DBG] Scopes in access token: openid profile api1
2019-06-09 19:36:58.847 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 19:36:58.847 -03:00 [DBG] Requested claim types: sub name family_name given_name middle_name nickname preferred_username profile picture website gender birthdate zoneinfo locale updated_at
2019-06-09 19:36:58.847 -03:00 [DBG] Scopes in access token: openid profile api1
2019-06-09 19:36:58.849 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 19:36:58.880 -03:00 [INF] Profile service returned the following claim types: sub name given_name family_name website preferred_username
2019-06-09 19:36:58.881 -03:00 [DBG] End userinfo request
2019-06-09 19:38:32.849 -03:00 [DBG] CORS request made for path: /connect/token from origin: http://localhost:3000
2019-06-09 19:38:32.861 -03:00 [DBG] Origin http://localhost:3000 is allowed: false
2019-06-09 19:38:32.861 -03:00 [WRN] CorsPolicyService did not allow origin: http://localhost:3000
2019-06-09 19:38:32.862 -03:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-06-09 19:38:32.863 -03:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-06-09 19:38:32.864 -03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-06-09 19:38:32.864 -03:00 [DBG] Start token request.
2019-06-09 19:38:32.864 -03:00 [DBG] Start client validation
2019-06-09 19:38:32.864 -03:00 [DBG] Start parsing Basic Authentication secret
2019-06-09 19:38:32.864 -03:00 [DBG] Start parsing for secret in post body
2019-06-09 19:38:32.864 -03:00 [DBG] Parser found secret: PostBodySecretParser
2019-06-09 19:38:32.864 -03:00 [DBG] Secret id found: ro.client
2019-06-09 19:38:32.886 -03:00 [DBG] ro.client found in database: true
2019-06-09 19:38:32.886 -03:00 [DBG] client configuration validation for client ro.client succeeded.
2019-06-09 19:38:32.886 -03:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-06-09 19:38:32.886 -03:00 [DBG] Client validation success
2019-06-09 19:38:32.886 -03:00 [INF] {"ClientId":"ro.client","AuthenticationMethod":"SharedSecret","Category":"Authentication","Name":"Client Authentication Success","EventType":"Success","Id":1010,"Message":null,"ActivityId":"0HLND4GPCPFDG:00000001","TimeStamp":"2019-06-09T22:38:32.0000000Z","ProcessId":28108,"LocalIpAddress":"127.0.0.1:10630","RemoteIpAddress":"::1","$type":"ClientAuthenticationSuccessEvent"}
2019-06-09 19:38:32.887 -03:00 [DBG] Start token request validation
2019-06-09 19:38:32.887 -03:00 [DBG] Start resource owner password token request validation
2019-06-09 19:38:32.895 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 19:38:32.956 -03:00 [DBG] Found ["api1"] API scopes in database
2019-06-09 19:38:32.957 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 19:38:32.960 -03:00 [DBG] Found ["api1"] API scopes in database
2019-06-09 19:38:32.974 -03:00 [INF] Credentials validated for username: alice
2019-06-09 19:38:32.974 -03:00 [INF] {"Username":"alice","Provider":null,"ProviderUserId":null,"SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","DisplayName":"alice","Endpoint":"Token","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HLND4GPCPFDG:00000001","TimeStamp":"2019-06-09T22:38:32.0000000Z","ProcessId":28108,"LocalIpAddress":"127.0.0.1:10630","RemoteIpAddress":"::1","$type":"UserLoginSuccessEvent"}
2019-06-09 19:38:32.975 -03:00 [INF] {"Username":"alice","Provider":null,"ProviderUserId":null,"SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","DisplayName":null,"Endpoint":"Token","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HLND4GPCPFDG:00000001","TimeStamp":"2019-06-09T22:38:32.0000000Z","ProcessId":28108,"LocalIpAddress":"127.0.0.1:10630","RemoteIpAddress":"::1","$type":"UserLoginSuccessEvent"}
2019-06-09 19:38:32.975 -03:00 [DBG] Resource owner password token request validation success.
2019-06-09 19:38:32.975 -03:00 [INF] Token request validation success
{"ClientId":"ro.client","ClientName":null,"GrantType":"password","Scopes":"api1 openid profile","AuthorizationCode":null,"RefreshToken":null,"UserName":"alice","AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"grant_type":"password","client_id":"ro.client","client_secret":"***REDACTED***","username":"alice","password":"***REDACTED***","scope":"openid profile api1"},"$type":"TokenRequestValidationLog"}
2019-06-09 19:38:32.975 -03:00 [DBG] Getting claims for access token for client: ro.client
2019-06-09 19:38:32.975 -03:00 [DBG] Getting claims for access token for subject: 4ba1c3a0-b786-421d-b88a-740f38d9cafa
2019-06-09 19:38:32.983 -03:00 [INF] {"ClientId":"ro.client","ClientName":null,"RedirectUri":null,"Endpoint":"Token","SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","Scopes":"openid profile api1","GrantType":"password","Tokens":[{"TokenType":"access_token","TokenValue":"****n0CQ","$type":"Token"}],"Category":"Token","Name":"Token Issued Success","EventType":"Success","Id":2000,"Message":null,"ActivityId":"0HLND4GPCPFDG:00000001","TimeStamp":"2019-06-09T22:38:32.0000000Z","ProcessId":28108,"LocalIpAddress":"127.0.0.1:10630","RemoteIpAddress":"::1","$type":"TokenIssuedSuccessEvent"}
2019-06-09 19:38:32.983 -03:00 [DBG] Token request success.
2019-06-09 19:38:33.025 -03:00 [DBG] Request path /connect/userinfo matched to endpoint type Userinfo
2019-06-09 19:38:33.025 -03:00 [DBG] Endpoint enabled: Userinfo, successfully created handler: IdentityServer4.Endpoints.UserInfoEndpoint
2019-06-09 19:38:33.025 -03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.UserInfoEndpoint for /connect/userinfo
2019-06-09 19:38:33.025 -03:00 [DBG] Start userinfo request
2019-06-09 19:38:33.025 -03:00 [DBG] Bearer token found in header
2019-06-09 19:38:33.033 -03:00 [DBG] ro.client found in database: true
2019-06-09 19:38:33.033 -03:00 [DBG] client configuration validation for client ro.client succeeded.
2019-06-09 19:38:33.038 -03:00 [DBG] ro.client found in database: true
2019-06-09 19:38:33.038 -03:00 [DBG] client configuration validation for client ro.client succeeded.
2019-06-09 19:38:33.046 -03:00 [DBG] Calling into custom token validator: IdentityServer4.Validation.DefaultCustomTokenValidator
2019-06-09 19:38:33.046 -03:00 [DBG] Token validation success
{"ClientId":null,"ClientName":null,"ValidateLifetime":true,"AccessTokenType":"Jwt","ExpectedScope":"openid","TokenHandle":null,"JwtId":null,"Claims":{"nbf":1560119912,"exp":1560123512,"iss":"http://localhost:5000","aud":["http://localhost:5000/resources","api1"],"client_id":"ro.client","sub":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","auth_time":1560119912,"idp":"local","scope":["openid","profile","api1"],"amr":"pwd"},"$type":"TokenValidationLog"}
2019-06-09 19:38:33.046 -03:00 [DBG] Creating userinfo response
2019-06-09 19:38:33.046 -03:00 [DBG] Scopes in access token: openid profile api1
2019-06-09 19:38:33.046 -03:00 [DBG] Scopes in access token: openid profile api1
2019-06-09 19:38:33.053 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 19:38:33.053 -03:00 [DBG] Requested claim types: sub name family_name given_name middle_name nickname preferred_username profile picture website gender birthdate zoneinfo locale updated_at
2019-06-09 19:38:33.053 -03:00 [DBG] Scopes in access token: openid profile api1
2019-06-09 19:38:33.055 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 19:38:33.059 -03:00 [INF] Profile service returned the following claim types: sub name given_name family_name website preferred_username
2019-06-09 19:38:33.059 -03:00 [DBG] End userinfo request
2019-06-09 19:38:57.891 -03:00 [DBG] CORS request made for path: /connect/token from origin: http://localhost:3000
2019-06-09 19:38:57.892 -03:00 [DBG] Origin http://localhost:3000 is allowed: false
2019-06-09 19:38:57.892 -03:00 [WRN] CorsPolicyService did not allow origin: http://localhost:3000
2019-06-09 19:38:57.893 -03:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-06-09 19:38:57.893 -03:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-06-09 19:38:57.893 -03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-06-09 19:38:57.893 -03:00 [DBG] Start token request.
2019-06-09 19:38:57.893 -03:00 [DBG] Start client validation
2019-06-09 19:38:57.893 -03:00 [DBG] Start parsing Basic Authentication secret
2019-06-09 19:38:57.893 -03:00 [DBG] Start parsing for secret in post body
2019-06-09 19:38:57.893 -03:00 [DBG] Parser found secret: PostBodySecretParser
2019-06-09 19:38:57.893 -03:00 [DBG] Secret id found: ro.client
2019-06-09 19:38:57.901 -03:00 [DBG] ro.client found in database: true
2019-06-09 19:38:57.901 -03:00 [DBG] client configuration validation for client ro.client succeeded.
2019-06-09 19:38:57.901 -03:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-06-09 19:38:57.901 -03:00 [DBG] Client validation success
2019-06-09 19:38:57.901 -03:00 [INF] {"ClientId":"ro.client","AuthenticationMethod":"SharedSecret","Category":"Authentication","Name":"Client Authentication Success","EventType":"Success","Id":1010,"Message":null,"ActivityId":"0HLND4GPCPFDG:00000003","TimeStamp":"2019-06-09T22:38:57.0000000Z","ProcessId":28108,"LocalIpAddress":"127.0.0.1:10630","RemoteIpAddress":"::1","$type":"ClientAuthenticationSuccessEvent"}
2019-06-09 19:38:57.901 -03:00 [DBG] Start token request validation
2019-06-09 19:38:57.902 -03:00 [DBG] Start resource owner password token request validation
2019-06-09 19:38:57.904 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 19:38:57.908 -03:00 [DBG] Found ["api1"] API scopes in database
2019-06-09 19:38:57.910 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 19:38:57.913 -03:00 [DBG] Found ["api1"] API scopes in database
2019-06-09 19:38:57.925 -03:00 [INF] Credentials validated for username: alice
2019-06-09 19:38:57.925 -03:00 [INF] {"Username":"alice","Provider":null,"ProviderUserId":null,"SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","DisplayName":"alice","Endpoint":"Token","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HLND4GPCPFDG:00000003","TimeStamp":"2019-06-09T22:38:57.0000000Z","ProcessId":28108,"LocalIpAddress":"127.0.0.1:10630","RemoteIpAddress":"::1","$type":"UserLoginSuccessEvent"}
2019-06-09 19:38:57.925 -03:00 [INF] {"Username":"alice","Provider":null,"ProviderUserId":null,"SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","DisplayName":null,"Endpoint":"Token","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HLND4GPCPFDG:00000003","TimeStamp":"2019-06-09T22:38:57.0000000Z","ProcessId":28108,"LocalIpAddress":"127.0.0.1:10630","RemoteIpAddress":"::1","$type":"UserLoginSuccessEvent"}
2019-06-09 19:38:57.926 -03:00 [DBG] Resource owner password token request validation success.
2019-06-09 19:38:57.926 -03:00 [INF] Token request validation success
{"ClientId":"ro.client","ClientName":null,"GrantType":"password","Scopes":"api1 openid profile","AuthorizationCode":null,"RefreshToken":null,"UserName":"alice","AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"grant_type":"password","client_id":"ro.client","client_secret":"***REDACTED***","username":"alice","password":"***REDACTED***","scope":"openid profile api1"},"$type":"TokenRequestValidationLog"}
2019-06-09 19:38:57.926 -03:00 [DBG] Getting claims for access token for client: ro.client
2019-06-09 19:38:57.926 -03:00 [DBG] Getting claims for access token for subject: 4ba1c3a0-b786-421d-b88a-740f38d9cafa
2019-06-09 19:38:57.933 -03:00 [INF] {"ClientId":"ro.client","ClientName":null,"RedirectUri":null,"Endpoint":"Token","SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","Scopes":"openid profile api1","GrantType":"password","Tokens":[{"TokenType":"access_token","TokenValue":"****JKjA","$type":"Token"}],"Category":"Token","Name":"Token Issued Success","EventType":"Success","Id":2000,"Message":null,"ActivityId":"0HLND4GPCPFDG:00000003","TimeStamp":"2019-06-09T22:38:57.0000000Z","ProcessId":28108,"LocalIpAddress":"127.0.0.1:10630","RemoteIpAddress":"::1","$type":"TokenIssuedSuccessEvent"}
2019-06-09 19:38:57.933 -03:00 [DBG] Token request success.
2019-06-09 19:38:57.976 -03:00 [DBG] Request path /connect/userinfo matched to endpoint type Userinfo
2019-06-09 19:38:57.977 -03:00 [DBG] Endpoint enabled: Userinfo, successfully created handler: IdentityServer4.Endpoints.UserInfoEndpoint
2019-06-09 19:38:57.978 -03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.UserInfoEndpoint for /connect/userinfo
2019-06-09 19:38:57.978 -03:00 [DBG] Start userinfo request
2019-06-09 19:38:57.978 -03:00 [DBG] Bearer token found in header
2019-06-09 19:38:57.988 -03:00 [DBG] ro.client found in database: true
2019-06-09 19:38:57.988 -03:00 [DBG] client configuration validation for client ro.client succeeded.
2019-06-09 19:38:57.992 -03:00 [DBG] ro.client found in database: true
2019-06-09 19:38:57.992 -03:00 [DBG] client configuration validation for client ro.client succeeded.
2019-06-09 19:38:57.996 -03:00 [DBG] Calling into custom token validator: IdentityServer4.Validation.DefaultCustomTokenValidator
2019-06-09 19:38:57.996 -03:00 [DBG] Token validation success
{"ClientId":null,"ClientName":null,"ValidateLifetime":true,"AccessTokenType":"Jwt","ExpectedScope":"openid","TokenHandle":null,"JwtId":null,"Claims":{"nbf":1560119937,"exp":1560123537,"iss":"http://localhost:5000","aud":["http://localhost:5000/resources","api1"],"client_id":"ro.client","sub":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","auth_time":1560119937,"idp":"local","scope":["openid","profile","api1"],"amr":"pwd"},"$type":"TokenValidationLog"}
2019-06-09 19:38:57.996 -03:00 [DBG] Creating userinfo response
2019-06-09 19:38:57.996 -03:00 [DBG] Scopes in access token: openid profile api1
2019-06-09 19:38:57.996 -03:00 [DBG] Scopes in access token: openid profile api1
2019-06-09 19:38:58.002 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 19:38:58.002 -03:00 [DBG] Requested claim types: sub name family_name given_name middle_name nickname preferred_username profile picture website gender birthdate zoneinfo locale updated_at
2019-06-09 19:38:58.002 -03:00 [DBG] Scopes in access token: openid profile api1
2019-06-09 19:38:58.005 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 19:38:58.009 -03:00 [INF] Profile service returned the following claim types: sub name given_name family_name website preferred_username
2019-06-09 19:38:58.009 -03:00 [DBG] End userinfo request
2019-06-09 19:39:35.203 -03:00 [DBG] CORS request made for path: /connect/token from origin: http://localhost:3000
2019-06-09 19:39:35.207 -03:00 [DBG] Origin http://localhost:3000 is allowed: false
2019-06-09 19:39:35.207 -03:00 [WRN] CorsPolicyService did not allow origin: http://localhost:3000
2019-06-09 19:39:35.207 -03:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-06-09 19:39:35.208 -03:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-06-09 19:39:35.208 -03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-06-09 19:39:35.208 -03:00 [DBG] Start token request.
2019-06-09 19:39:35.208 -03:00 [DBG] Start client validation
2019-06-09 19:39:35.208 -03:00 [DBG] Start parsing Basic Authentication secret
2019-06-09 19:39:35.208 -03:00 [DBG] Start parsing for secret in post body
2019-06-09 19:39:35.208 -03:00 [DBG] Parser found secret: PostBodySecretParser
2019-06-09 19:39:35.208 -03:00 [DBG] Secret id found: ro.client
2019-06-09 19:39:35.231 -03:00 [DBG] ro.client found in database: true
2019-06-09 19:39:35.231 -03:00 [DBG] client configuration validation for client ro.client succeeded.
2019-06-09 19:39:35.232 -03:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-06-09 19:39:35.232 -03:00 [DBG] Client validation success
2019-06-09 19:39:35.232 -03:00 [INF] {"ClientId":"ro.client","AuthenticationMethod":"SharedSecret","Category":"Authentication","Name":"Client Authentication Success","EventType":"Success","Id":1010,"Message":null,"ActivityId":"0HLND4GPCPFDG:00000005","TimeStamp":"2019-06-09T22:39:35.0000000Z","ProcessId":28108,"LocalIpAddress":"127.0.0.1:10630","RemoteIpAddress":"::1","$type":"ClientAuthenticationSuccessEvent"}
2019-06-09 19:39:35.232 -03:00 [DBG] Start token request validation
2019-06-09 19:39:35.232 -03:00 [DBG] Start resource owner password token request validation
2019-06-09 19:39:35.242 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 19:39:35.316 -03:00 [DBG] Found ["api1"] API scopes in database
2019-06-09 19:39:35.318 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 19:39:35.320 -03:00 [DBG] Found ["api1"] API scopes in database
2019-06-09 19:39:35.330 -03:00 [INF] Credentials validated for username: alice
2019-06-09 19:39:35.330 -03:00 [INF] {"Username":"alice","Provider":null,"ProviderUserId":null,"SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","DisplayName":"alice","Endpoint":"Token","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HLND4GPCPFDG:00000005","TimeStamp":"2019-06-09T22:39:35.0000000Z","ProcessId":28108,"LocalIpAddress":"127.0.0.1:10630","RemoteIpAddress":"::1","$type":"UserLoginSuccessEvent"}
2019-06-09 19:39:35.331 -03:00 [INF] {"Username":"alice","Provider":null,"ProviderUserId":null,"SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","DisplayName":null,"Endpoint":"Token","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HLND4GPCPFDG:00000005","TimeStamp":"2019-06-09T22:39:35.0000000Z","ProcessId":28108,"LocalIpAddress":"127.0.0.1:10630","RemoteIpAddress":"::1","$type":"UserLoginSuccessEvent"}
2019-06-09 19:39:35.331 -03:00 [DBG] Resource owner password token request validation success.
2019-06-09 19:39:35.331 -03:00 [INF] Token request validation success
{"ClientId":"ro.client","ClientName":null,"GrantType":"password","Scopes":"api1 openid profile","AuthorizationCode":null,"RefreshToken":null,"UserName":"alice","AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"grant_type":"password","client_id":"ro.client","client_secret":"***REDACTED***","username":"alice","password":"***REDACTED***","scope":"openid profile api1"},"$type":"TokenRequestValidationLog"}
2019-06-09 19:39:35.331 -03:00 [DBG] Getting claims for access token for client: ro.client
2019-06-09 19:39:35.331 -03:00 [DBG] Getting claims for access token for subject: 4ba1c3a0-b786-421d-b88a-740f38d9cafa
2019-06-09 19:39:35.339 -03:00 [INF] {"ClientId":"ro.client","ClientName":null,"RedirectUri":null,"Endpoint":"Token","SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","Scopes":"openid profile api1","GrantType":"password","Tokens":[{"TokenType":"access_token","TokenValue":"****MkKQ","$type":"Token"}],"Category":"Token","Name":"Token Issued Success","EventType":"Success","Id":2000,"Message":null,"ActivityId":"0HLND4GPCPFDG:00000005","TimeStamp":"2019-06-09T22:39:35.0000000Z","ProcessId":28108,"LocalIpAddress":"127.0.0.1:10630","RemoteIpAddress":"::1","$type":"TokenIssuedSuccessEvent"}
2019-06-09 19:39:35.339 -03:00 [DBG] Token request success.
2019-06-09 19:39:35.377 -03:00 [DBG] Request path /connect/userinfo matched to endpoint type Userinfo
2019-06-09 19:39:35.378 -03:00 [DBG] Endpoint enabled: Userinfo, successfully created handler: IdentityServer4.Endpoints.UserInfoEndpoint
2019-06-09 19:39:35.378 -03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.UserInfoEndpoint for /connect/userinfo
2019-06-09 19:39:35.378 -03:00 [DBG] Start userinfo request
2019-06-09 19:39:35.378 -03:00 [DBG] Bearer token found in header
2019-06-09 19:39:35.385 -03:00 [DBG] ro.client found in database: true
2019-06-09 19:39:35.385 -03:00 [DBG] client configuration validation for client ro.client succeeded.
2019-06-09 19:39:35.388 -03:00 [DBG] ro.client found in database: true
2019-06-09 19:39:35.388 -03:00 [DBG] client configuration validation for client ro.client succeeded.
2019-06-09 19:39:35.393 -03:00 [DBG] Calling into custom token validator: IdentityServer4.Validation.DefaultCustomTokenValidator
2019-06-09 19:39:35.393 -03:00 [DBG] Token validation success
{"ClientId":null,"ClientName":null,"ValidateLifetime":true,"AccessTokenType":"Jwt","ExpectedScope":"openid","TokenHandle":null,"JwtId":null,"Claims":{"nbf":1560119975,"exp":1560123575,"iss":"http://localhost:5000","aud":["http://localhost:5000/resources","api1"],"client_id":"ro.client","sub":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","auth_time":1560119975,"idp":"local","scope":["openid","profile","api1"],"amr":"pwd"},"$type":"TokenValidationLog"}
2019-06-09 19:39:35.393 -03:00 [DBG] Creating userinfo response
2019-06-09 19:39:35.393 -03:00 [DBG] Scopes in access token: openid profile api1
2019-06-09 19:39:35.393 -03:00 [DBG] Scopes in access token: openid profile api1
2019-06-09 19:39:35.400 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 19:39:35.400 -03:00 [DBG] Requested claim types: sub name family_name given_name middle_name nickname preferred_username profile picture website gender birthdate zoneinfo locale updated_at
2019-06-09 19:39:35.400 -03:00 [DBG] Scopes in access token: openid profile api1
2019-06-09 19:39:35.402 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 19:39:35.408 -03:00 [INF] Profile service returned the following claim types: sub name given_name family_name website preferred_username
2019-06-09 19:39:35.408 -03:00 [DBG] End userinfo request
2019-06-09 19:40:01.547 -03:00 [DBG] CORS request made for path: /connect/token from origin: http://localhost:3000
2019-06-09 19:40:01.549 -03:00 [DBG] Origin http://localhost:3000 is allowed: false
2019-06-09 19:40:01.549 -03:00 [WRN] CorsPolicyService did not allow origin: http://localhost:3000
2019-06-09 19:40:01.550 -03:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-06-09 19:40:01.550 -03:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-06-09 19:40:01.550 -03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-06-09 19:40:01.550 -03:00 [DBG] Start token request.
2019-06-09 19:40:01.550 -03:00 [DBG] Start client validation
2019-06-09 19:40:01.550 -03:00 [DBG] Start parsing Basic Authentication secret
2019-06-09 19:40:01.550 -03:00 [DBG] Start parsing for secret in post body
2019-06-09 19:40:01.551 -03:00 [DBG] Parser found secret: PostBodySecretParser
2019-06-09 19:40:01.551 -03:00 [DBG] Secret id found: ro.client
2019-06-09 19:40:01.555 -03:00 [DBG] ro.client found in database: true
2019-06-09 19:40:01.555 -03:00 [DBG] client configuration validation for client ro.client succeeded.
2019-06-09 19:40:01.555 -03:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-06-09 19:40:01.555 -03:00 [DBG] Client validation success
2019-06-09 19:40:01.555 -03:00 [INF] {"ClientId":"ro.client","AuthenticationMethod":"SharedSecret","Category":"Authentication","Name":"Client Authentication Success","EventType":"Success","Id":1010,"Message":null,"ActivityId":"0HLND4GPCPFDG:00000007","TimeStamp":"2019-06-09T22:40:01.0000000Z","ProcessId":28108,"LocalIpAddress":"127.0.0.1:10630","RemoteIpAddress":"::1","$type":"ClientAuthenticationSuccessEvent"}
2019-06-09 19:40:01.555 -03:00 [DBG] Start token request validation
2019-06-09 19:40:01.556 -03:00 [DBG] Start resource owner password token request validation
2019-06-09 19:40:01.557 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 19:40:01.560 -03:00 [DBG] Found ["api1"] API scopes in database
2019-06-09 19:40:01.562 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 19:40:01.564 -03:00 [DBG] Found ["api1"] API scopes in database
2019-06-09 19:40:01.575 -03:00 [INF] Credentials validated for username: alice
2019-06-09 19:40:01.575 -03:00 [INF] {"Username":"alice","Provider":null,"ProviderUserId":null,"SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","DisplayName":"alice","Endpoint":"Token","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HLND4GPCPFDG:00000007","TimeStamp":"2019-06-09T22:40:01.0000000Z","ProcessId":28108,"LocalIpAddress":"127.0.0.1:10630","RemoteIpAddress":"::1","$type":"UserLoginSuccessEvent"}
2019-06-09 19:40:01.575 -03:00 [INF] {"Username":"alice","Provider":null,"ProviderUserId":null,"SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","DisplayName":null,"Endpoint":"Token","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HLND4GPCPFDG:00000007","TimeStamp":"2019-06-09T22:40:01.0000000Z","ProcessId":28108,"LocalIpAddress":"127.0.0.1:10630","RemoteIpAddress":"::1","$type":"UserLoginSuccessEvent"}
2019-06-09 19:40:01.575 -03:00 [DBG] Resource owner password token request validation success.
2019-06-09 19:40:01.575 -03:00 [INF] Token request validation success
{"ClientId":"ro.client","ClientName":null,"GrantType":"password","Scopes":"api1 openid profile","AuthorizationCode":null,"RefreshToken":null,"UserName":"alice","AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"grant_type":"password","client_id":"ro.client","client_secret":"***REDACTED***","username":"alice","password":"***REDACTED***","scope":"openid profile api1"},"$type":"TokenRequestValidationLog"}
2019-06-09 19:40:01.576 -03:00 [DBG] Getting claims for access token for client: ro.client
2019-06-09 19:40:01.576 -03:00 [DBG] Getting claims for access token for subject: 4ba1c3a0-b786-421d-b88a-740f38d9cafa
2019-06-09 19:40:01.582 -03:00 [INF] {"ClientId":"ro.client","ClientName":null,"RedirectUri":null,"Endpoint":"Token","SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","Scopes":"openid profile api1","GrantType":"password","Tokens":[{"TokenType":"access_token","TokenValue":"****g9yg","$type":"Token"}],"Category":"Token","Name":"Token Issued Success","EventType":"Success","Id":2000,"Message":null,"ActivityId":"0HLND4GPCPFDG:00000007","TimeStamp":"2019-06-09T22:40:01.0000000Z","ProcessId":28108,"LocalIpAddress":"127.0.0.1:10630","RemoteIpAddress":"::1","$type":"TokenIssuedSuccessEvent"}
2019-06-09 19:40:01.583 -03:00 [DBG] Token request success.
2019-06-09 19:40:01.623 -03:00 [DBG] Request path /connect/userinfo matched to endpoint type Userinfo
2019-06-09 19:40:01.623 -03:00 [DBG] Endpoint enabled: Userinfo, successfully created handler: IdentityServer4.Endpoints.UserInfoEndpoint
2019-06-09 19:40:01.623 -03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.UserInfoEndpoint for /connect/userinfo
2019-06-09 19:40:01.623 -03:00 [DBG] Start userinfo request
2019-06-09 19:40:01.623 -03:00 [DBG] Bearer token found in header
2019-06-09 19:40:01.629 -03:00 [DBG] ro.client found in database: true
2019-06-09 19:40:01.629 -03:00 [DBG] client configuration validation for client ro.client succeeded.
2019-06-09 19:40:01.634 -03:00 [DBG] ro.client found in database: true
2019-06-09 19:40:01.634 -03:00 [DBG] client configuration validation for client ro.client succeeded.
2019-06-09 19:40:01.639 -03:00 [DBG] Calling into custom token validator: IdentityServer4.Validation.DefaultCustomTokenValidator
2019-06-09 19:40:01.639 -03:00 [DBG] Token validation success
{"ClientId":null,"ClientName":null,"ValidateLifetime":true,"AccessTokenType":"Jwt","ExpectedScope":"openid","TokenHandle":null,"JwtId":null,"Claims":{"nbf":1560120001,"exp":1560123601,"iss":"http://localhost:5000","aud":["http://localhost:5000/resources","api1"],"client_id":"ro.client","sub":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","auth_time":1560120001,"idp":"local","scope":["openid","profile","api1"],"amr":"pwd"},"$type":"TokenValidationLog"}
2019-06-09 19:40:01.639 -03:00 [DBG] Creating userinfo response
2019-06-09 19:40:01.639 -03:00 [DBG] Scopes in access token: openid profile api1
2019-06-09 19:40:01.639 -03:00 [DBG] Scopes in access token: openid profile api1
2019-06-09 19:40:01.641 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 19:40:01.642 -03:00 [DBG] Requested claim types: sub name family_name given_name middle_name nickname preferred_username profile picture website gender birthdate zoneinfo locale updated_at
2019-06-09 19:40:01.642 -03:00 [DBG] Scopes in access token: openid profile api1
2019-06-09 19:40:01.643 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 19:40:01.647 -03:00 [INF] Profile service returned the following claim types: sub name given_name family_name website preferred_username
2019-06-09 19:40:01.647 -03:00 [DBG] End userinfo request
2019-06-09 19:40:30.073 -03:00 [DBG] CORS request made for path: /connect/token from origin: http://localhost:3000
2019-06-09 19:40:30.077 -03:00 [DBG] Origin http://localhost:3000 is allowed: false
2019-06-09 19:40:30.077 -03:00 [WRN] CorsPolicyService did not allow origin: http://localhost:3000
2019-06-09 19:40:30.077 -03:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-06-09 19:40:30.078 -03:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-06-09 19:40:30.078 -03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-06-09 19:40:30.078 -03:00 [DBG] Start token request.
2019-06-09 19:40:30.078 -03:00 [DBG] Start client validation
2019-06-09 19:40:30.078 -03:00 [DBG] Start parsing Basic Authentication secret
2019-06-09 19:40:30.078 -03:00 [DBG] Start parsing for secret in post body
2019-06-09 19:40:30.078 -03:00 [DBG] Parser found secret: PostBodySecretParser
2019-06-09 19:40:30.078 -03:00 [DBG] Secret id found: ro.client
2019-06-09 19:40:30.099 -03:00 [DBG] ro.client found in database: true
2019-06-09 19:40:30.099 -03:00 [DBG] client configuration validation for client ro.client succeeded.
2019-06-09 19:40:30.099 -03:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-06-09 19:40:30.099 -03:00 [DBG] Client validation success
2019-06-09 19:40:30.099 -03:00 [INF] {"ClientId":"ro.client","AuthenticationMethod":"SharedSecret","Category":"Authentication","Name":"Client Authentication Success","EventType":"Success","Id":1010,"Message":null,"ActivityId":"0HLND4GPCPFDG:00000009","TimeStamp":"2019-06-09T22:40:30.0000000Z","ProcessId":28108,"LocalIpAddress":"127.0.0.1:10630","RemoteIpAddress":"::1","$type":"ClientAuthenticationSuccessEvent"}
2019-06-09 19:40:30.099 -03:00 [DBG] Start token request validation
2019-06-09 19:40:30.099 -03:00 [DBG] Start resource owner password token request validation
2019-06-09 19:40:30.107 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 19:40:30.169 -03:00 [DBG] Found ["api1"] API scopes in database
2019-06-09 19:40:30.170 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 19:40:30.173 -03:00 [DBG] Found ["api1"] API scopes in database
2019-06-09 19:40:30.183 -03:00 [INF] Credentials validated for username: alice
2019-06-09 19:40:30.183 -03:00 [INF] {"Username":"alice","Provider":null,"ProviderUserId":null,"SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","DisplayName":"alice","Endpoint":"Token","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HLND4GPCPFDG:00000009","TimeStamp":"2019-06-09T22:40:30.0000000Z","ProcessId":28108,"LocalIpAddress":"127.0.0.1:10630","RemoteIpAddress":"::1","$type":"UserLoginSuccessEvent"}
2019-06-09 19:40:30.184 -03:00 [INF] {"Username":"alice","Provider":null,"ProviderUserId":null,"SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","DisplayName":null,"Endpoint":"Token","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HLND4GPCPFDG:00000009","TimeStamp":"2019-06-09T22:40:30.0000000Z","ProcessId":28108,"LocalIpAddress":"127.0.0.1:10630","RemoteIpAddress":"::1","$type":"UserLoginSuccessEvent"}
2019-06-09 19:40:30.184 -03:00 [DBG] Resource owner password token request validation success.
2019-06-09 19:40:30.184 -03:00 [INF] Token request validation success
{"ClientId":"ro.client","ClientName":null,"GrantType":"password","Scopes":"api1 openid profile","AuthorizationCode":null,"RefreshToken":null,"UserName":"alice","AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"grant_type":"password","client_id":"ro.client","client_secret":"***REDACTED***","username":"alice","password":"***REDACTED***","scope":"openid profile api1"},"$type":"TokenRequestValidationLog"}
2019-06-09 19:40:30.184 -03:00 [DBG] Getting claims for access token for client: ro.client
2019-06-09 19:40:30.184 -03:00 [DBG] Getting claims for access token for subject: 4ba1c3a0-b786-421d-b88a-740f38d9cafa
2019-06-09 19:40:30.197 -03:00 [INF] {"ClientId":"ro.client","ClientName":null,"RedirectUri":null,"Endpoint":"Token","SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","Scopes":"openid profile api1","GrantType":"password","Tokens":[{"TokenType":"access_token","TokenValue":"****a4lw","$type":"Token"}],"Category":"Token","Name":"Token Issued Success","EventType":"Success","Id":2000,"Message":null,"ActivityId":"0HLND4GPCPFDG:00000009","TimeStamp":"2019-06-09T22:40:30.0000000Z","ProcessId":28108,"LocalIpAddress":"127.0.0.1:10630","RemoteIpAddress":"::1","$type":"TokenIssuedSuccessEvent"}
2019-06-09 19:40:30.197 -03:00 [DBG] Token request success.
2019-06-09 19:40:30.231 -03:00 [DBG] Request path /connect/userinfo matched to endpoint type Userinfo
2019-06-09 19:40:30.231 -03:00 [DBG] Endpoint enabled: Userinfo, successfully created handler: IdentityServer4.Endpoints.UserInfoEndpoint
2019-06-09 19:40:30.231 -03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.UserInfoEndpoint for /connect/userinfo
2019-06-09 19:40:30.231 -03:00 [DBG] Start userinfo request
2019-06-09 19:40:30.231 -03:00 [DBG] Bearer token found in header
2019-06-09 19:40:30.238 -03:00 [DBG] ro.client found in database: true
2019-06-09 19:40:30.238 -03:00 [DBG] client configuration validation for client ro.client succeeded.
2019-06-09 19:40:30.241 -03:00 [DBG] ro.client found in database: true
2019-06-09 19:40:30.241 -03:00 [DBG] client configuration validation for client ro.client succeeded.
2019-06-09 19:40:30.246 -03:00 [DBG] Calling into custom token validator: IdentityServer4.Validation.DefaultCustomTokenValidator
2019-06-09 19:40:30.246 -03:00 [DBG] Token validation success
{"ClientId":null,"ClientName":null,"ValidateLifetime":true,"AccessTokenType":"Jwt","ExpectedScope":"openid","TokenHandle":null,"JwtId":null,"Claims":{"nbf":1560120030,"exp":1560123630,"iss":"http://localhost:5000","aud":["http://localhost:5000/resources","api1"],"client_id":"ro.client","sub":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","auth_time":1560120030,"idp":"local","scope":["openid","profile","api1"],"amr":"pwd"},"$type":"TokenValidationLog"}
2019-06-09 19:40:30.246 -03:00 [DBG] Creating userinfo response
2019-06-09 19:40:30.246 -03:00 [DBG] Scopes in access token: openid profile api1
2019-06-09 19:40:30.246 -03:00 [DBG] Scopes in access token: openid profile api1
2019-06-09 19:40:30.253 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 19:40:30.253 -03:00 [DBG] Requested claim types: sub name family_name given_name middle_name nickname preferred_username profile picture website gender birthdate zoneinfo locale updated_at
2019-06-09 19:40:30.253 -03:00 [DBG] Scopes in access token: openid profile api1
2019-06-09 19:40:30.255 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 19:40:30.260 -03:00 [INF] Profile service returned the following claim types: sub name given_name family_name website preferred_username
2019-06-09 19:40:30.260 -03:00 [DBG] End userinfo request
2019-06-09 19:41:57.133 -03:00 [DBG] CORS request made for path: /connect/token from origin: http://localhost:3000
2019-06-09 19:41:57.136 -03:00 [DBG] Origin http://localhost:3000 is allowed: false
2019-06-09 19:41:57.137 -03:00 [WRN] CorsPolicyService did not allow origin: http://localhost:3000
2019-06-09 19:41:57.137 -03:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-06-09 19:41:57.137 -03:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-06-09 19:41:57.137 -03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-06-09 19:41:57.138 -03:00 [DBG] Start token request.
2019-06-09 19:41:57.138 -03:00 [DBG] Start client validation
2019-06-09 19:41:57.138 -03:00 [DBG] Start parsing Basic Authentication secret
2019-06-09 19:41:57.138 -03:00 [DBG] Start parsing for secret in post body
2019-06-09 19:41:57.138 -03:00 [DBG] Parser found secret: PostBodySecretParser
2019-06-09 19:41:57.139 -03:00 [DBG] Secret id found: ro.client
2019-06-09 19:41:57.175 -03:00 [DBG] ro.client found in database: true
2019-06-09 19:41:57.175 -03:00 [DBG] client configuration validation for client ro.client succeeded.
2019-06-09 19:41:57.175 -03:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-06-09 19:41:57.175 -03:00 [DBG] Client validation success
2019-06-09 19:41:57.175 -03:00 [INF] {"ClientId":"ro.client","AuthenticationMethod":"SharedSecret","Category":"Authentication","Name":"Client Authentication Success","EventType":"Success","Id":1010,"Message":null,"ActivityId":"0HLND4GPCPFDH:00000001","TimeStamp":"2019-06-09T22:41:57.0000000Z","ProcessId":28108,"LocalIpAddress":"127.0.0.1:10630","RemoteIpAddress":"::1","$type":"ClientAuthenticationSuccessEvent"}
2019-06-09 19:41:57.175 -03:00 [DBG] Start token request validation
2019-06-09 19:41:57.175 -03:00 [DBG] Start resource owner password token request validation
2019-06-09 19:41:57.186 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 19:41:57.259 -03:00 [DBG] Found ["api1"] API scopes in database
2019-06-09 19:41:57.260 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 19:41:57.263 -03:00 [DBG] Found ["api1"] API scopes in database
2019-06-09 19:41:57.273 -03:00 [INF] Credentials validated for username: alice
2019-06-09 19:41:57.273 -03:00 [INF] {"Username":"alice","Provider":null,"ProviderUserId":null,"SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","DisplayName":"alice","Endpoint":"Token","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HLND4GPCPFDH:00000001","TimeStamp":"2019-06-09T22:41:57.0000000Z","ProcessId":28108,"LocalIpAddress":"127.0.0.1:10630","RemoteIpAddress":"::1","$type":"UserLoginSuccessEvent"}
2019-06-09 19:41:57.274 -03:00 [INF] {"Username":"alice","Provider":null,"ProviderUserId":null,"SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","DisplayName":null,"Endpoint":"Token","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HLND4GPCPFDH:00000001","TimeStamp":"2019-06-09T22:41:57.0000000Z","ProcessId":28108,"LocalIpAddress":"127.0.0.1:10630","RemoteIpAddress":"::1","$type":"UserLoginSuccessEvent"}
2019-06-09 19:41:57.274 -03:00 [DBG] Resource owner password token request validation success.
2019-06-09 19:41:57.274 -03:00 [INF] Token request validation success
{"ClientId":"ro.client","ClientName":null,"GrantType":"password","Scopes":"api1 openid profile","AuthorizationCode":null,"RefreshToken":null,"UserName":"alice","AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"grant_type":"password","client_id":"ro.client","client_secret":"***REDACTED***","username":"alice","password":"***REDACTED***","scope":"openid profile api1"},"$type":"TokenRequestValidationLog"}
2019-06-09 19:41:57.274 -03:00 [DBG] Getting claims for access token for client: ro.client
2019-06-09 19:41:57.274 -03:00 [DBG] Getting claims for access token for subject: 4ba1c3a0-b786-421d-b88a-740f38d9cafa
2019-06-09 19:41:57.281 -03:00 [INF] {"ClientId":"ro.client","ClientName":null,"RedirectUri":null,"Endpoint":"Token","SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","Scopes":"openid profile api1","GrantType":"password","Tokens":[{"TokenType":"access_token","TokenValue":"****0wDA","$type":"Token"}],"Category":"Token","Name":"Token Issued Success","EventType":"Success","Id":2000,"Message":null,"ActivityId":"0HLND4GPCPFDH:00000001","TimeStamp":"2019-06-09T22:41:57.0000000Z","ProcessId":28108,"LocalIpAddress":"127.0.0.1:10630","RemoteIpAddress":"::1","$type":"TokenIssuedSuccessEvent"}
2019-06-09 19:41:57.281 -03:00 [DBG] Token request success.
2019-06-09 19:41:57.334 -03:00 [DBG] Request path /connect/userinfo matched to endpoint type Userinfo
2019-06-09 19:41:57.334 -03:00 [DBG] Endpoint enabled: Userinfo, successfully created handler: IdentityServer4.Endpoints.UserInfoEndpoint
2019-06-09 19:41:57.334 -03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.UserInfoEndpoint for /connect/userinfo
2019-06-09 19:41:57.334 -03:00 [DBG] Start userinfo request
2019-06-09 19:41:57.334 -03:00 [DBG] Bearer token found in header
2019-06-09 19:41:57.344 -03:00 [DBG] ro.client found in database: true
2019-06-09 19:41:57.344 -03:00 [DBG] client configuration validation for client ro.client succeeded.
2019-06-09 19:41:57.349 -03:00 [DBG] ro.client found in database: true
2019-06-09 19:41:57.349 -03:00 [DBG] client configuration validation for client ro.client succeeded.
2019-06-09 19:41:57.353 -03:00 [DBG] Calling into custom token validator: IdentityServer4.Validation.DefaultCustomTokenValidator
2019-06-09 19:41:57.353 -03:00 [DBG] Token validation success
{"ClientId":null,"ClientName":null,"ValidateLifetime":true,"AccessTokenType":"Jwt","ExpectedScope":"openid","TokenHandle":null,"JwtId":null,"Claims":{"nbf":1560120117,"exp":1560123717,"iss":"http://localhost:5000","aud":["http://localhost:5000/resources","api1"],"client_id":"ro.client","sub":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","auth_time":1560120117,"idp":"local","scope":["openid","profile","api1"],"amr":"pwd"},"$type":"TokenValidationLog"}
2019-06-09 19:41:57.353 -03:00 [DBG] Creating userinfo response
2019-06-09 19:41:57.353 -03:00 [DBG] Scopes in access token: openid profile api1
2019-06-09 19:41:57.353 -03:00 [DBG] Scopes in access token: openid profile api1
2019-06-09 19:41:57.363 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 19:41:57.363 -03:00 [DBG] Requested claim types: sub name family_name given_name middle_name nickname preferred_username profile picture website gender birthdate zoneinfo locale updated_at
2019-06-09 19:41:57.363 -03:00 [DBG] Scopes in access token: openid profile api1
2019-06-09 19:41:57.365 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 19:41:57.368 -03:00 [INF] Profile service returned the following claim types: sub name given_name family_name website preferred_username
2019-06-09 19:41:57.368 -03:00 [DBG] End userinfo request
2019-06-09 19:42:52.497 -03:00 [DBG] CORS request made for path: /connect/token from origin: http://localhost:3000
2019-06-09 19:42:52.503 -03:00 [DBG] Origin http://localhost:3000 is allowed: false
2019-06-09 19:42:52.503 -03:00 [WRN] CorsPolicyService did not allow origin: http://localhost:3000
2019-06-09 19:42:52.503 -03:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-06-09 19:42:52.504 -03:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-06-09 19:42:52.504 -03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-06-09 19:42:52.504 -03:00 [DBG] Start token request.
2019-06-09 19:42:52.505 -03:00 [DBG] Start client validation
2019-06-09 19:42:52.505 -03:00 [DBG] Start parsing Basic Authentication secret
2019-06-09 19:42:52.505 -03:00 [DBG] Start parsing for secret in post body
2019-06-09 19:42:52.507 -03:00 [DBG] Parser found secret: PostBodySecretParser
2019-06-09 19:42:52.507 -03:00 [DBG] Secret id found: ro.client
2019-06-09 19:42:52.536 -03:00 [DBG] ro.client found in database: true
2019-06-09 19:42:52.536 -03:00 [DBG] client configuration validation for client ro.client succeeded.
2019-06-09 19:42:52.536 -03:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-06-09 19:42:52.536 -03:00 [DBG] Client validation success
2019-06-09 19:42:52.536 -03:00 [INF] {"ClientId":"ro.client","AuthenticationMethod":"SharedSecret","Category":"Authentication","Name":"Client Authentication Success","EventType":"Success","Id":1010,"Message":null,"ActivityId":"0HLND4GPCPFDH:00000003","TimeStamp":"2019-06-09T22:42:52.0000000Z","ProcessId":28108,"LocalIpAddress":"127.0.0.1:10630","RemoteIpAddress":"::1","$type":"ClientAuthenticationSuccessEvent"}
2019-06-09 19:42:52.537 -03:00 [DBG] Start token request validation
2019-06-09 19:42:52.537 -03:00 [DBG] Start resource owner password token request validation
2019-06-09 19:42:52.546 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 19:42:52.617 -03:00 [DBG] Found ["api1"] API scopes in database
2019-06-09 19:42:52.619 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 19:42:52.621 -03:00 [DBG] Found ["api1"] API scopes in database
2019-06-09 19:42:52.633 -03:00 [INF] Credentials validated for username: alice
2019-06-09 19:42:52.634 -03:00 [INF] {"Username":"alice","Provider":null,"ProviderUserId":null,"SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","DisplayName":"alice","Endpoint":"Token","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HLND4GPCPFDH:00000003","TimeStamp":"2019-06-09T22:42:52.0000000Z","ProcessId":28108,"LocalIpAddress":"127.0.0.1:10630","RemoteIpAddress":"::1","$type":"UserLoginSuccessEvent"}
2019-06-09 19:42:52.634 -03:00 [INF] {"Username":"alice","Provider":null,"ProviderUserId":null,"SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","DisplayName":null,"Endpoint":"Token","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HLND4GPCPFDH:00000003","TimeStamp":"2019-06-09T22:42:52.0000000Z","ProcessId":28108,"LocalIpAddress":"127.0.0.1:10630","RemoteIpAddress":"::1","$type":"UserLoginSuccessEvent"}
2019-06-09 19:42:52.634 -03:00 [DBG] Resource owner password token request validation success.
2019-06-09 19:42:52.634 -03:00 [INF] Token request validation success
{"ClientId":"ro.client","ClientName":null,"GrantType":"password","Scopes":"api1 openid profile","AuthorizationCode":null,"RefreshToken":null,"UserName":"alice","AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"grant_type":"password","client_id":"ro.client","client_secret":"***REDACTED***","username":"alice","password":"***REDACTED***","scope":"openid profile api1"},"$type":"TokenRequestValidationLog"}
2019-06-09 19:42:52.634 -03:00 [DBG] Getting claims for access token for client: ro.client
2019-06-09 19:42:52.634 -03:00 [DBG] Getting claims for access token for subject: 4ba1c3a0-b786-421d-b88a-740f38d9cafa
2019-06-09 19:42:52.645 -03:00 [INF] {"ClientId":"ro.client","ClientName":null,"RedirectUri":null,"Endpoint":"Token","SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","Scopes":"openid profile api1","GrantType":"password","Tokens":[{"TokenType":"access_token","TokenValue":"****QBgA","$type":"Token"}],"Category":"Token","Name":"Token Issued Success","EventType":"Success","Id":2000,"Message":null,"ActivityId":"0HLND4GPCPFDH:00000003","TimeStamp":"2019-06-09T22:42:52.0000000Z","ProcessId":28108,"LocalIpAddress":"127.0.0.1:10630","RemoteIpAddress":"::1","$type":"TokenIssuedSuccessEvent"}
2019-06-09 19:42:52.645 -03:00 [DBG] Token request success.
2019-06-09 19:42:52.700 -03:00 [DBG] Request path /connect/userinfo matched to endpoint type Userinfo
2019-06-09 19:42:52.700 -03:00 [DBG] Endpoint enabled: Userinfo, successfully created handler: IdentityServer4.Endpoints.UserInfoEndpoint
2019-06-09 19:42:52.700 -03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.UserInfoEndpoint for /connect/userinfo
2019-06-09 19:42:52.700 -03:00 [DBG] Start userinfo request
2019-06-09 19:42:52.700 -03:00 [DBG] Bearer token found in header
2019-06-09 19:42:52.706 -03:00 [DBG] ro.client found in database: true
2019-06-09 19:42:52.706 -03:00 [DBG] client configuration validation for client ro.client succeeded.
2019-06-09 19:42:52.713 -03:00 [DBG] ro.client found in database: true
2019-06-09 19:42:52.713 -03:00 [DBG] client configuration validation for client ro.client succeeded.
2019-06-09 19:42:52.719 -03:00 [DBG] Calling into custom token validator: IdentityServer4.Validation.DefaultCustomTokenValidator
2019-06-09 19:42:52.719 -03:00 [DBG] Token validation success
{"ClientId":null,"ClientName":null,"ValidateLifetime":true,"AccessTokenType":"Jwt","ExpectedScope":"openid","TokenHandle":null,"JwtId":null,"Claims":{"nbf":1560120172,"exp":1560123772,"iss":"http://localhost:5000","aud":["http://localhost:5000/resources","api1"],"client_id":"ro.client","sub":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","auth_time":1560120172,"idp":"local","scope":["openid","profile","api1"],"amr":"pwd"},"$type":"TokenValidationLog"}
2019-06-09 19:42:52.719 -03:00 [DBG] Creating userinfo response
2019-06-09 19:42:52.719 -03:00 [DBG] Scopes in access token: openid profile api1
2019-06-09 19:42:52.719 -03:00 [DBG] Scopes in access token: openid profile api1
2019-06-09 19:42:52.733 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 19:42:52.733 -03:00 [DBG] Requested claim types: sub name family_name given_name middle_name nickname preferred_username profile picture website gender birthdate zoneinfo locale updated_at
2019-06-09 19:42:52.733 -03:00 [DBG] Scopes in access token: openid profile api1
2019-06-09 19:42:52.735 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 19:42:52.741 -03:00 [INF] Profile service returned the following claim types: sub name given_name family_name website preferred_username
2019-06-09 19:42:52.742 -03:00 [DBG] End userinfo request
2019-06-09 19:44:08.211 -03:00 [DBG] CORS request made for path: /connect/token from origin: http://localhost:3000
2019-06-09 19:44:08.216 -03:00 [DBG] Origin http://localhost:3000 is allowed: false
2019-06-09 19:44:08.216 -03:00 [WRN] CorsPolicyService did not allow origin: http://localhost:3000
2019-06-09 19:44:08.216 -03:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-06-09 19:44:08.216 -03:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-06-09 19:44:08.217 -03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-06-09 19:44:08.217 -03:00 [DBG] Start token request.
2019-06-09 19:44:08.217 -03:00 [DBG] Start client validation
2019-06-09 19:44:08.217 -03:00 [DBG] Start parsing Basic Authentication secret
2019-06-09 19:44:08.217 -03:00 [DBG] Start parsing for secret in post body
2019-06-09 19:44:08.217 -03:00 [DBG] Parser found secret: PostBodySecretParser
2019-06-09 19:44:08.217 -03:00 [DBG] Secret id found: ro.client
2019-06-09 19:44:08.236 -03:00 [DBG] ro.client found in database: true
2019-06-09 19:44:08.236 -03:00 [DBG] client configuration validation for client ro.client succeeded.
2019-06-09 19:44:08.236 -03:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-06-09 19:44:08.236 -03:00 [DBG] Client validation success
2019-06-09 19:44:08.236 -03:00 [INF] {"ClientId":"ro.client","AuthenticationMethod":"SharedSecret","Category":"Authentication","Name":"Client Authentication Success","EventType":"Success","Id":1010,"Message":null,"ActivityId":"0HLND4GPCPFDI:00000001","TimeStamp":"2019-06-09T22:44:08.0000000Z","ProcessId":28108,"LocalIpAddress":"127.0.0.1:10630","RemoteIpAddress":"::1","$type":"ClientAuthenticationSuccessEvent"}
2019-06-09 19:44:08.236 -03:00 [DBG] Start token request validation
2019-06-09 19:44:08.236 -03:00 [DBG] Start resource owner password token request validation
2019-06-09 19:44:08.245 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 19:44:08.305 -03:00 [DBG] Found ["api1"] API scopes in database
2019-06-09 19:44:08.307 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 19:44:08.310 -03:00 [DBG] Found ["api1"] API scopes in database
2019-06-09 19:44:08.322 -03:00 [INF] Credentials validated for username: alice
2019-06-09 19:44:08.323 -03:00 [INF] {"Username":"alice","Provider":null,"ProviderUserId":null,"SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","DisplayName":"alice","Endpoint":"Token","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HLND4GPCPFDI:00000001","TimeStamp":"2019-06-09T22:44:08.0000000Z","ProcessId":28108,"LocalIpAddress":"127.0.0.1:10630","RemoteIpAddress":"::1","$type":"UserLoginSuccessEvent"}
2019-06-09 19:44:08.323 -03:00 [INF] {"Username":"alice","Provider":null,"ProviderUserId":null,"SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","DisplayName":null,"Endpoint":"Token","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HLND4GPCPFDI:00000001","TimeStamp":"2019-06-09T22:44:08.0000000Z","ProcessId":28108,"LocalIpAddress":"127.0.0.1:10630","RemoteIpAddress":"::1","$type":"UserLoginSuccessEvent"}
2019-06-09 19:44:08.323 -03:00 [DBG] Resource owner password token request validation success.
2019-06-09 19:44:08.323 -03:00 [INF] Token request validation success
{"ClientId":"ro.client","ClientName":null,"GrantType":"password","Scopes":"api1 openid profile","AuthorizationCode":null,"RefreshToken":null,"UserName":"alice","AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"grant_type":"password","client_id":"ro.client","client_secret":"***REDACTED***","username":"alice","password":"***REDACTED***","scope":"openid profile api1"},"$type":"TokenRequestValidationLog"}
2019-06-09 19:44:08.323 -03:00 [DBG] Getting claims for access token for client: ro.client
2019-06-09 19:44:08.323 -03:00 [DBG] Getting claims for access token for subject: 4ba1c3a0-b786-421d-b88a-740f38d9cafa
2019-06-09 19:44:08.331 -03:00 [INF] {"ClientId":"ro.client","ClientName":null,"RedirectUri":null,"Endpoint":"Token","SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","Scopes":"openid profile api1","GrantType":"password","Tokens":[{"TokenType":"access_token","TokenValue":"****Q3wQ","$type":"Token"}],"Category":"Token","Name":"Token Issued Success","EventType":"Success","Id":2000,"Message":null,"ActivityId":"0HLND4GPCPFDI:00000001","TimeStamp":"2019-06-09T22:44:08.0000000Z","ProcessId":28108,"LocalIpAddress":"127.0.0.1:10630","RemoteIpAddress":"::1","$type":"TokenIssuedSuccessEvent"}
2019-06-09 19:44:08.332 -03:00 [DBG] Token request success.
2019-06-09 19:44:08.377 -03:00 [DBG] Request path /connect/userinfo matched to endpoint type Userinfo
2019-06-09 19:44:08.378 -03:00 [DBG] Endpoint enabled: Userinfo, successfully created handler: IdentityServer4.Endpoints.UserInfoEndpoint
2019-06-09 19:44:08.378 -03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.UserInfoEndpoint for /connect/userinfo
2019-06-09 19:44:08.378 -03:00 [DBG] Start userinfo request
2019-06-09 19:44:08.378 -03:00 [DBG] Bearer token found in header
2019-06-09 19:44:08.385 -03:00 [DBG] ro.client found in database: true
2019-06-09 19:44:08.385 -03:00 [DBG] client configuration validation for client ro.client succeeded.
2019-06-09 19:44:08.391 -03:00 [DBG] ro.client found in database: true
2019-06-09 19:44:08.391 -03:00 [DBG] client configuration validation for client ro.client succeeded.
2019-06-09 19:44:08.402 -03:00 [DBG] Calling into custom token validator: IdentityServer4.Validation.DefaultCustomTokenValidator
2019-06-09 19:44:08.403 -03:00 [DBG] Token validation success
{"ClientId":null,"ClientName":null,"ValidateLifetime":true,"AccessTokenType":"Jwt","ExpectedScope":"openid","TokenHandle":null,"JwtId":null,"Claims":{"nbf":1560120248,"exp":1560123848,"iss":"http://localhost:5000","aud":["http://localhost:5000/resources","api1"],"client_id":"ro.client","sub":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","auth_time":1560120248,"idp":"local","scope":["openid","profile","api1"],"amr":"pwd"},"$type":"TokenValidationLog"}
2019-06-09 19:44:08.403 -03:00 [DBG] Creating userinfo response
2019-06-09 19:44:08.403 -03:00 [DBG] Scopes in access token: openid profile api1
2019-06-09 19:44:08.403 -03:00 [DBG] Scopes in access token: openid profile api1
2019-06-09 19:44:08.411 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 19:44:08.411 -03:00 [DBG] Requested claim types: sub name family_name given_name middle_name nickname preferred_username profile picture website gender birthdate zoneinfo locale updated_at
2019-06-09 19:44:08.411 -03:00 [DBG] Scopes in access token: openid profile api1
2019-06-09 19:44:08.413 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 19:44:08.416 -03:00 [INF] Profile service returned the following claim types: sub name given_name family_name website preferred_username
2019-06-09 19:44:08.416 -03:00 [DBG] End userinfo request
2019-06-09 19:48:24.676 -03:00 [INF] Removing 0 grants
2019-06-09 20:19:43.044 -03:00 [INF] Starting IdentityServer4 version 2.3.2.0
2019-06-09 20:19:43.134 -03:00 [INF] Using the default authentication scheme Identity.Application for IdentityServer
2019-06-09 20:19:43.134 -03:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for authentication
2019-06-09 20:19:43.134 -03:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-in
2019-06-09 20:19:43.134 -03:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-out
2019-06-09 20:19:43.135 -03:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for challenge
2019-06-09 20:19:43.135 -03:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for forbid
2019-06-09 20:19:43.211 -03:00 [WRN] Unable to bind to http://localhost:5000 on the IPv4 loopback interface: 'An attempt was made to access a socket in a way forbidden by its access permissions'.
2019-06-09 20:19:43.211 -03:00 [WRN] Unable to bind to http://localhost:5000 on the IPv6 loopback interface: 'An attempt was made to access a socket in a way forbidden by its access permissions'.
2019-06-09 20:19:43.212 -03:00 [FTL] Unable to start Kestrel.
System.IO.IOException: Failed to bind to address http://localhost:5000. ---> System.AggregateException: One or more errors occurred. (An attempt was made to access a socket in a way forbidden by its access permissions) (An attempt was made to access a socket in a way forbidden by its access permissions) ---> System.Net.Sockets.SocketException: An attempt was made to access a socket in a way forbidden by its access permissions
   at System.Net.Sockets.Socket.UpdateStatusAfterSocketErrorAndThrowException(SocketError error, String callerName)
   at System.Net.Sockets.Socket.DoBind(EndPoint endPointSnapshot, SocketAddress socketAddress)
   at System.Net.Sockets.Socket.Bind(EndPoint localEP)
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketTransport.BindAsync()
   at Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServer.<>c__DisplayClass22_0`1.<<StartAsync>g__OnBind|0>d.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.BindEndpointAsync(ListenOptions endpoint, AddressBindContext context)
   at Microsoft.AspNetCore.Server.Kestrel.Core.LocalhostListenOptions.BindAsync(AddressBindContext context)
   --- End of inner exception stack trace ---
   --- End of inner exception stack trace ---
   at Microsoft.AspNetCore.Server.Kestrel.Core.LocalhostListenOptions.BindAsync(AddressBindContext context)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.AddressesStrategy.BindAsync(AddressBindContext context)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.BindAsync(IServerAddressesFeature addresses, KestrelServerOptions serverOptions, ILogger logger, Func`2 createBinding)
   at Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServer.StartAsync[TContext](IHttpApplication`1 application, CancellationToken cancellationToken)
2019-06-09 20:19:43.242 -03:00 [FTL] An error occurred stopping the application
System.AggregateException: One or more errors occurred. (Not started. Call Start first.) ---> System.InvalidOperationException: Not started. Call Start first.
   at IdentityServer4.EntityFramework.TokenCleanup.Stop() in C:\local\identity\server4\EntityFramework.Storage\src\TokenCleanup\TokenCleanup.cs:line 77
   at Microsoft.Extensions.DependencyInjection.TokenCleanupHost.StopAsync(CancellationToken cancellationToken) in C:\local\identity\server4\EntityFramework\src\TokenCleanupHost.cs:line 37
   at Microsoft.AspNetCore.Hosting.Internal.HostedServiceExecutor.<>c__DisplayClass4_0.<StopAsync>b__0(IHostedService service)
   at Microsoft.AspNetCore.Hosting.Internal.HostedServiceExecutor.ExecuteAsync(Func`2 callback)
   --- End of inner exception stack trace ---
   at Microsoft.AspNetCore.Hosting.Internal.HostedServiceExecutor.ExecuteAsync(Func`2 callback)
   at Microsoft.AspNetCore.Hosting.Internal.HostedServiceExecutor.StopAsync(CancellationToken token)
---> (Inner Exception #0) System.InvalidOperationException: Not started. Call Start first.
   at IdentityServer4.EntityFramework.TokenCleanup.Stop() in C:\local\identity\server4\EntityFramework.Storage\src\TokenCleanup\TokenCleanup.cs:line 77
   at Microsoft.Extensions.DependencyInjection.TokenCleanupHost.StopAsync(CancellationToken cancellationToken) in C:\local\identity\server4\EntityFramework\src\TokenCleanupHost.cs:line 37
   at Microsoft.AspNetCore.Hosting.Internal.HostedServiceExecutor.<>c__DisplayClass4_0.<StopAsync>b__0(IHostedService service)
   at Microsoft.AspNetCore.Hosting.Internal.HostedServiceExecutor.ExecuteAsync(Func`2 callback)<---

2019-06-09 20:19:52.563 -03:00 [INF] Starting IdentityServer4 version 2.3.2.0
2019-06-09 20:19:52.656 -03:00 [INF] Using the default authentication scheme Identity.Application for IdentityServer
2019-06-09 20:19:52.657 -03:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for authentication
2019-06-09 20:19:52.657 -03:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-in
2019-06-09 20:19:52.657 -03:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-out
2019-06-09 20:19:52.657 -03:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for challenge
2019-06-09 20:19:52.657 -03:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for forbid
2019-06-09 20:19:52.738 -03:00 [DBG] Starting grant removal
2019-06-09 20:19:53.071 -03:00 [DBG] CORS request made for path: /connect/token from origin: http://localhost:3000
2019-06-09 20:19:53.408 -03:00 [DBG] Origin http://localhost:3000 is allowed: false
2019-06-09 20:19:53.411 -03:00 [WRN] CorsPolicyService did not allow origin: http://localhost:3000
2019-06-09 20:19:53.424 -03:00 [DBG] Login Url: /Account/Login
2019-06-09 20:19:53.424 -03:00 [DBG] Login Return Url Parameter: ReturnUrl
2019-06-09 20:19:53.424 -03:00 [DBG] Logout Url: /Account/Logout
2019-06-09 20:19:53.424 -03:00 [DBG] ConsentUrl Url: /consent
2019-06-09 20:19:53.424 -03:00 [DBG] Consent Return Url Parameter: returnUrl
2019-06-09 20:19:53.424 -03:00 [DBG] Error Url: /home/error
2019-06-09 20:19:53.424 -03:00 [DBG] Error Id Parameter: errorId
2019-06-09 20:19:53.441 -03:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-06-09 20:19:53.457 -03:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-06-09 20:19:53.457 -03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-06-09 20:19:53.460 -03:00 [WRN] Invalid HTTP request for token endpoint
2019-06-09 20:20:22.516 -03:00 [DBG] CORS request made for path: /connect/token from origin: http://localhost:3000
2019-06-09 20:20:22.521 -03:00 [DBG] Origin http://localhost:3000 is allowed: false
2019-06-09 20:20:22.521 -03:00 [WRN] CorsPolicyService did not allow origin: http://localhost:3000
2019-06-09 20:20:22.521 -03:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-06-09 20:20:22.522 -03:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-06-09 20:20:22.522 -03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-06-09 20:20:22.522 -03:00 [WRN] Invalid HTTP request for token endpoint
2019-06-09 20:33:24.767 -03:00 [DBG] CORS request made for path: /connect/token from origin: http://localhost:3000
2019-06-09 20:33:24.778 -03:00 [DBG] Origin http://localhost:3000 is allowed: false
2019-06-09 20:33:24.778 -03:00 [WRN] CorsPolicyService did not allow origin: http://localhost:3000
2019-06-09 20:33:24.778 -03:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-06-09 20:33:24.778 -03:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-06-09 20:33:24.778 -03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-06-09 20:33:24.778 -03:00 [WRN] Invalid HTTP request for token endpoint
2019-06-09 20:35:13.345 -03:00 [DBG] CORS request made for path: /connect/token from origin: http://localhost:3000
2019-06-09 20:35:13.348 -03:00 [DBG] Origin http://localhost:3000 is allowed: false
2019-06-09 20:35:13.348 -03:00 [WRN] CorsPolicyService did not allow origin: http://localhost:3000
2019-06-09 20:35:13.349 -03:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-06-09 20:35:13.349 -03:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-06-09 20:35:13.349 -03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-06-09 20:35:13.349 -03:00 [WRN] Invalid HTTP request for token endpoint
2019-06-09 20:35:26.853 -03:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-06-09 20:35:26.854 -03:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-06-09 20:35:26.854 -03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-06-09 20:35:26.860 -03:00 [DBG] Start token request.
2019-06-09 20:35:26.868 -03:00 [DBG] Start client validation
2019-06-09 20:35:26.873 -03:00 [DBG] Start parsing Basic Authentication secret
2019-06-09 20:35:26.878 -03:00 [DBG] Start parsing for secret in post body
2019-06-09 20:35:26.887 -03:00 [DBG] Parser found secret: PostBodySecretParser
2019-06-09 20:35:26.887 -03:00 [DBG] Secret id found: ro.client
2019-06-09 20:35:27.427 -03:00 [DBG] ro.client found in database: true
2019-06-09 20:35:27.432 -03:00 [DBG] client configuration validation for client ro.client succeeded.
2019-06-09 20:35:27.439 -03:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-06-09 20:35:27.439 -03:00 [DBG] Client validation success
2019-06-09 20:35:27.457 -03:00 [INF] {"ClientId":"ro.client","AuthenticationMethod":"SharedSecret","Category":"Authentication","Name":"Client Authentication Success","EventType":"Success","Id":1010,"Message":null,"ActivityId":"0HLND63T1LU28:00000004","TimeStamp":"2019-06-09T23:35:27.0000000Z","ProcessId":26336,"LocalIpAddress":"127.0.0.1:30253","RemoteIpAddress":"::1","$type":"ClientAuthenticationSuccessEvent"}
2019-06-09 20:35:27.468 -03:00 [DBG] Start token request validation
2019-06-09 20:35:27.478 -03:00 [DBG] Start resource owner password token request validation
2019-06-09 20:35:27.532 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 20:35:27.733 -03:00 [DBG] Found ["api1"] API scopes in database
2019-06-09 20:35:27.744 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 20:35:27.747 -03:00 [DBG] Found ["api1"] API scopes in database
2019-06-09 20:35:27.887 -03:00 [INF] Credentials validated for username: alice
2019-06-09 20:35:27.887 -03:00 [INF] {"Username":"alice","Provider":null,"ProviderUserId":null,"SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","DisplayName":"alice","Endpoint":"Token","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HLND63T1LU28:00000004","TimeStamp":"2019-06-09T23:35:27.0000000Z","ProcessId":26336,"LocalIpAddress":"127.0.0.1:30253","RemoteIpAddress":"::1","$type":"UserLoginSuccessEvent"}
2019-06-09 20:35:27.894 -03:00 [INF] {"Username":"alice","Provider":null,"ProviderUserId":null,"SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","DisplayName":null,"Endpoint":"Token","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HLND63T1LU28:00000004","TimeStamp":"2019-06-09T23:35:27.0000000Z","ProcessId":26336,"LocalIpAddress":"127.0.0.1:30253","RemoteIpAddress":"::1","$type":"UserLoginSuccessEvent"}
2019-06-09 20:35:27.894 -03:00 [DBG] Resource owner password token request validation success.
2019-06-09 20:35:27.902 -03:00 [INF] Token request validation success
{"ClientId":"ro.client","ClientName":null,"GrantType":"password","Scopes":"api1 openid profile","AuthorizationCode":null,"RefreshToken":null,"UserName":"alice","AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"grant_type":"password","client_id":"ro.client","client_secret":"***REDACTED***","scope":"openid profile api1","username":"alice","password":"***REDACTED***"},"$type":"TokenRequestValidationLog"}
2019-06-09 20:35:27.924 -03:00 [DBG] Getting claims for access token for client: ro.client
2019-06-09 20:35:27.924 -03:00 [DBG] Getting claims for access token for subject: 4ba1c3a0-b786-421d-b88a-740f38d9cafa
2019-06-09 20:35:28.079 -03:00 [INF] {"ClientId":"ro.client","ClientName":null,"RedirectUri":null,"Endpoint":"Token","SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","Scopes":"openid profile api1","GrantType":"password","Tokens":[{"TokenType":"access_token","TokenValue":"****g-SA","$type":"Token"}],"Category":"Token","Name":"Token Issued Success","EventType":"Success","Id":2000,"Message":null,"ActivityId":"0HLND63T1LU28:00000004","TimeStamp":"2019-06-09T23:35:28.0000000Z","ProcessId":26336,"LocalIpAddress":"127.0.0.1:30253","RemoteIpAddress":"::1","$type":"TokenIssuedSuccessEvent"}
2019-06-09 20:35:28.080 -03:00 [DBG] Token request success.
2019-06-09 20:36:13.338 -03:00 [DBG] CORS request made for path: /connect/token from origin: http://localhost:3000
2019-06-09 20:36:13.342 -03:00 [DBG] Origin http://localhost:3000 is allowed: false
2019-06-09 20:36:13.342 -03:00 [WRN] CorsPolicyService did not allow origin: http://localhost:3000
2019-06-09 20:36:13.342 -03:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-06-09 20:36:13.343 -03:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-06-09 20:36:13.343 -03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-06-09 20:36:13.343 -03:00 [WRN] Invalid HTTP request for token endpoint
2019-06-09 20:37:40.373 -03:00 [DBG] CORS request made for path: /connect/token from origin: http://localhost:3000
2019-06-09 20:37:40.395 -03:00 [DBG] Origin http://localhost:3000 is allowed: false
2019-06-09 20:37:40.396 -03:00 [WRN] CorsPolicyService did not allow origin: http://localhost:3000
2019-06-09 20:37:40.396 -03:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-06-09 20:37:40.396 -03:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-06-09 20:37:40.396 -03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-06-09 20:37:40.396 -03:00 [DBG] Start token request.
2019-06-09 20:37:40.396 -03:00 [DBG] Start client validation
2019-06-09 20:37:40.396 -03:00 [DBG] Start parsing Basic Authentication secret
2019-06-09 20:37:40.396 -03:00 [DBG] Start parsing for secret in post body
2019-06-09 20:37:40.397 -03:00 [DBG] Parser found secret: PostBodySecretParser
2019-06-09 20:37:40.397 -03:00 [DBG] Secret id found: ro.client
2019-06-09 20:37:40.418 -03:00 [DBG] ro.client found in database: true
2019-06-09 20:37:40.418 -03:00 [DBG] client configuration validation for client ro.client succeeded.
2019-06-09 20:37:40.418 -03:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-06-09 20:37:40.418 -03:00 [DBG] Client validation success
2019-06-09 20:37:40.418 -03:00 [INF] {"ClientId":"ro.client","AuthenticationMethod":"SharedSecret","Category":"Authentication","Name":"Client Authentication Success","EventType":"Success","Id":1010,"Message":null,"ActivityId":"0HLND63T1LU29:00000001","TimeStamp":"2019-06-09T23:37:40.0000000Z","ProcessId":26336,"LocalIpAddress":"127.0.0.1:30253","RemoteIpAddress":"::1","$type":"ClientAuthenticationSuccessEvent"}
2019-06-09 20:37:40.418 -03:00 [DBG] Start token request validation
2019-06-09 20:37:40.418 -03:00 [DBG] Start resource owner password token request validation
2019-06-09 20:37:40.427 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 20:37:40.489 -03:00 [DBG] Found ["api1"] API scopes in database
2019-06-09 20:37:40.491 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 20:37:40.494 -03:00 [DBG] Found ["api1"] API scopes in database
2019-06-09 20:37:40.506 -03:00 [INF] Credentials validated for username: alice
2019-06-09 20:37:40.506 -03:00 [INF] {"Username":"alice","Provider":null,"ProviderUserId":null,"SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","DisplayName":"alice","Endpoint":"Token","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HLND63T1LU29:00000001","TimeStamp":"2019-06-09T23:37:40.0000000Z","ProcessId":26336,"LocalIpAddress":"127.0.0.1:30253","RemoteIpAddress":"::1","$type":"UserLoginSuccessEvent"}
2019-06-09 20:37:40.506 -03:00 [INF] {"Username":"alice","Provider":null,"ProviderUserId":null,"SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","DisplayName":null,"Endpoint":"Token","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HLND63T1LU29:00000001","TimeStamp":"2019-06-09T23:37:40.0000000Z","ProcessId":26336,"LocalIpAddress":"127.0.0.1:30253","RemoteIpAddress":"::1","$type":"UserLoginSuccessEvent"}
2019-06-09 20:37:40.506 -03:00 [DBG] Resource owner password token request validation success.
2019-06-09 20:37:40.506 -03:00 [INF] Token request validation success
{"ClientId":"ro.client","ClientName":null,"GrantType":"password","Scopes":"api1 openid profile","AuthorizationCode":null,"RefreshToken":null,"UserName":"alice","AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"grant_type":"password","client_id":"ro.client","client_secret":"***REDACTED***","scope":"openid profile api1","username":"alice","password":"***REDACTED***"},"$type":"TokenRequestValidationLog"}
2019-06-09 20:37:40.506 -03:00 [DBG] Getting claims for access token for client: ro.client
2019-06-09 20:37:40.506 -03:00 [DBG] Getting claims for access token for subject: 4ba1c3a0-b786-421d-b88a-740f38d9cafa
2019-06-09 20:37:40.515 -03:00 [INF] {"ClientId":"ro.client","ClientName":null,"RedirectUri":null,"Endpoint":"Token","SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","Scopes":"openid profile api1","GrantType":"password","Tokens":[{"TokenType":"access_token","TokenValue":"****1HNw","$type":"Token"}],"Category":"Token","Name":"Token Issued Success","EventType":"Success","Id":2000,"Message":null,"ActivityId":"0HLND63T1LU29:00000001","TimeStamp":"2019-06-09T23:37:40.0000000Z","ProcessId":26336,"LocalIpAddress":"127.0.0.1:30253","RemoteIpAddress":"::1","$type":"TokenIssuedSuccessEvent"}
2019-06-09 20:37:40.515 -03:00 [DBG] Token request success.
2019-06-09 20:38:50.566 -03:00 [DBG] CORS request made for path: /connect/token from origin: http://localhost:3000
2019-06-09 20:38:50.582 -03:00 [DBG] Origin http://localhost:3000 is allowed: false
2019-06-09 20:38:50.582 -03:00 [WRN] CorsPolicyService did not allow origin: http://localhost:3000
2019-06-09 20:38:50.582 -03:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-06-09 20:38:50.583 -03:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-06-09 20:38:50.583 -03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-06-09 20:38:50.583 -03:00 [DBG] Start token request.
2019-06-09 20:38:50.583 -03:00 [DBG] Start client validation
2019-06-09 20:38:50.583 -03:00 [DBG] Start parsing Basic Authentication secret
2019-06-09 20:38:50.583 -03:00 [DBG] Start parsing for secret in post body
2019-06-09 20:38:50.583 -03:00 [DBG] Parser found secret: PostBodySecretParser
2019-06-09 20:38:50.583 -03:00 [DBG] Secret id found: ro.client
2019-06-09 20:38:50.603 -03:00 [DBG] ro.client found in database: true
2019-06-09 20:38:50.603 -03:00 [DBG] client configuration validation for client ro.client succeeded.
2019-06-09 20:38:50.603 -03:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-06-09 20:38:50.603 -03:00 [DBG] Client validation success
2019-06-09 20:38:50.603 -03:00 [INF] {"ClientId":"ro.client","AuthenticationMethod":"SharedSecret","Category":"Authentication","Name":"Client Authentication Success","EventType":"Success","Id":1010,"Message":null,"ActivityId":"0HLND63T1LU2A:00000001","TimeStamp":"2019-06-09T23:38:50.0000000Z","ProcessId":26336,"LocalIpAddress":"127.0.0.1:30253","RemoteIpAddress":"::1","$type":"ClientAuthenticationSuccessEvent"}
2019-06-09 20:38:50.603 -03:00 [DBG] Start token request validation
2019-06-09 20:38:50.603 -03:00 [DBG] Start resource owner password token request validation
2019-06-09 20:38:50.611 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 20:38:50.674 -03:00 [DBG] Found ["api1"] API scopes in database
2019-06-09 20:38:50.676 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 20:38:50.679 -03:00 [DBG] Found ["api1"] API scopes in database
2019-06-09 20:38:50.695 -03:00 [INF] Credentials validated for username: alice
2019-06-09 20:38:50.695 -03:00 [INF] {"Username":"alice","Provider":null,"ProviderUserId":null,"SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","DisplayName":"alice","Endpoint":"Token","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HLND63T1LU2A:00000001","TimeStamp":"2019-06-09T23:38:50.0000000Z","ProcessId":26336,"LocalIpAddress":"127.0.0.1:30253","RemoteIpAddress":"::1","$type":"UserLoginSuccessEvent"}
2019-06-09 20:38:50.695 -03:00 [INF] {"Username":"alice","Provider":null,"ProviderUserId":null,"SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","DisplayName":null,"Endpoint":"Token","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HLND63T1LU2A:00000001","TimeStamp":"2019-06-09T23:38:50.0000000Z","ProcessId":26336,"LocalIpAddress":"127.0.0.1:30253","RemoteIpAddress":"::1","$type":"UserLoginSuccessEvent"}
2019-06-09 20:38:50.695 -03:00 [DBG] Resource owner password token request validation success.
2019-06-09 20:38:50.695 -03:00 [INF] Token request validation success
{"ClientId":"ro.client","ClientName":null,"GrantType":"password","Scopes":"api1 openid profile","AuthorizationCode":null,"RefreshToken":null,"UserName":"alice","AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"grant_type":"password","client_id":"ro.client","client_secret":"***REDACTED***","scope":"openid profile api1","username":"alice","password":"***REDACTED***"},"$type":"TokenRequestValidationLog"}
2019-06-09 20:38:50.695 -03:00 [DBG] Getting claims for access token for client: ro.client
2019-06-09 20:38:50.695 -03:00 [DBG] Getting claims for access token for subject: 4ba1c3a0-b786-421d-b88a-740f38d9cafa
2019-06-09 20:38:50.703 -03:00 [INF] {"ClientId":"ro.client","ClientName":null,"RedirectUri":null,"Endpoint":"Token","SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","Scopes":"openid profile api1","GrantType":"password","Tokens":[{"TokenType":"access_token","TokenValue":"****8cnA","$type":"Token"}],"Category":"Token","Name":"Token Issued Success","EventType":"Success","Id":2000,"Message":null,"ActivityId":"0HLND63T1LU2A:00000001","TimeStamp":"2019-06-09T23:38:50.0000000Z","ProcessId":26336,"LocalIpAddress":"127.0.0.1:30253","RemoteIpAddress":"::1","$type":"TokenIssuedSuccessEvent"}
2019-06-09 20:38:50.704 -03:00 [DBG] Token request success.
2019-06-09 20:39:14.325 -03:00 [DBG] CORS request made for path: /connect/token from origin: http://localhost:3000
2019-06-09 20:39:14.329 -03:00 [DBG] Origin http://localhost:3000 is allowed: false
2019-06-09 20:39:14.329 -03:00 [WRN] CorsPolicyService did not allow origin: http://localhost:3000
2019-06-09 20:39:14.329 -03:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-06-09 20:39:14.330 -03:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-06-09 20:39:14.330 -03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-06-09 20:39:14.330 -03:00 [DBG] Start token request.
2019-06-09 20:39:14.330 -03:00 [DBG] Start client validation
2019-06-09 20:39:14.330 -03:00 [DBG] Start parsing Basic Authentication secret
2019-06-09 20:39:14.330 -03:00 [DBG] Start parsing for secret in post body
2019-06-09 20:39:14.331 -03:00 [DBG] Parser found secret: PostBodySecretParser
2019-06-09 20:39:14.331 -03:00 [DBG] Secret id found: ro.client
2019-06-09 20:39:14.366 -03:00 [DBG] ro.client found in database: true
2019-06-09 20:39:14.366 -03:00 [DBG] client configuration validation for client ro.client succeeded.
2019-06-09 20:39:14.366 -03:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-06-09 20:39:14.366 -03:00 [DBG] Client validation success
2019-06-09 20:39:14.366 -03:00 [INF] {"ClientId":"ro.client","AuthenticationMethod":"SharedSecret","Category":"Authentication","Name":"Client Authentication Success","EventType":"Success","Id":1010,"Message":null,"ActivityId":"0HLND63T1LU2A:00000002","TimeStamp":"2019-06-09T23:39:14.0000000Z","ProcessId":26336,"LocalIpAddress":"127.0.0.1:30253","RemoteIpAddress":"::1","$type":"ClientAuthenticationSuccessEvent"}
2019-06-09 20:39:14.366 -03:00 [DBG] Start token request validation
2019-06-09 20:39:14.366 -03:00 [DBG] Start resource owner password token request validation
2019-06-09 20:39:14.375 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 20:39:14.449 -03:00 [DBG] Found ["api1"] API scopes in database
2019-06-09 20:39:14.455 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 20:39:14.480 -03:00 [DBG] Found ["api1"] API scopes in database
2019-06-09 20:39:14.484 -03:00 [INF] No user found matching username: alicee
2019-06-09 20:39:14.485 -03:00 [INF] {"Username":"alicee","Endpoint":"Token","Category":"Authentication","Name":"User Login Failure","EventType":"Failure","Id":1001,"Message":"invalid username","ActivityId":"0HLND63T1LU2A:00000002","TimeStamp":"2019-06-09T23:39:14.0000000Z","ProcessId":26336,"LocalIpAddress":"127.0.0.1:30253","RemoteIpAddress":"::1","$type":"UserLoginFailureEvent"}
2019-06-09 20:39:14.486 -03:00 [INF] User authentication failed: ["invalid_username_or_password"], request details: {"ClientId":"ro.client","ClientName":null,"GrantType":"password","Scopes":"api1 openid profile","AuthorizationCode":null,"RefreshToken":null,"UserName":"alicee","AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"grant_type":"password","client_id":"ro.client","client_secret":"***REDACTED***","scope":"openid profile api1","username":"alicee","password":"***REDACTED***"},"$type":"TokenRequestValidationLog"}
2019-06-09 20:39:14.486 -03:00 [INF] {"Username":"alicee","Endpoint":"UI","Category":"Authentication","Name":"User Login Failure","EventType":"Failure","Id":1001,"Message":"invalid_username_or_password","ActivityId":"0HLND63T1LU2A:00000002","TimeStamp":"2019-06-09T23:39:14.0000000Z","ProcessId":26336,"LocalIpAddress":"127.0.0.1:30253","RemoteIpAddress":"::1","$type":"UserLoginFailureEvent"}
2019-06-09 20:39:14.487 -03:00 [INF] {"ClientId":"ro.client","ClientName":null,"RedirectUri":null,"Endpoint":"Token","SubjectId":null,"Scopes":"api1 openid profile","GrantType":"password","Error":"invalid_grant","ErrorDescription":"invalid_username_or_password","Category":"Token","Name":"Token Issued Failure","EventType":"Failure","Id":2001,"Message":null,"ActivityId":"0HLND63T1LU2A:00000002","TimeStamp":"2019-06-09T23:39:14.0000000Z","ProcessId":26336,"LocalIpAddress":"127.0.0.1:30253","RemoteIpAddress":"::1","$type":"TokenIssuedFailureEvent"}
2019-06-09 20:39:20.716 -03:00 [DBG] CORS request made for path: /connect/token from origin: http://localhost:3000
2019-06-09 20:39:20.719 -03:00 [DBG] Origin http://localhost:3000 is allowed: false
2019-06-09 20:39:20.719 -03:00 [WRN] CorsPolicyService did not allow origin: http://localhost:3000
2019-06-09 20:39:20.720 -03:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-06-09 20:39:20.720 -03:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-06-09 20:39:20.720 -03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-06-09 20:39:20.720 -03:00 [DBG] Start token request.
2019-06-09 20:39:20.720 -03:00 [DBG] Start client validation
2019-06-09 20:39:20.721 -03:00 [DBG] Start parsing Basic Authentication secret
2019-06-09 20:39:20.721 -03:00 [DBG] Start parsing for secret in post body
2019-06-09 20:39:20.721 -03:00 [DBG] Parser found secret: PostBodySecretParser
2019-06-09 20:39:20.721 -03:00 [DBG] Secret id found: ro.client
2019-06-09 20:39:20.741 -03:00 [DBG] ro.client found in database: true
2019-06-09 20:39:20.741 -03:00 [DBG] client configuration validation for client ro.client succeeded.
2019-06-09 20:39:20.741 -03:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-06-09 20:39:20.741 -03:00 [DBG] Client validation success
2019-06-09 20:39:20.741 -03:00 [INF] {"ClientId":"ro.client","AuthenticationMethod":"SharedSecret","Category":"Authentication","Name":"Client Authentication Success","EventType":"Success","Id":1010,"Message":null,"ActivityId":"0HLND63T1LU2A:00000003","TimeStamp":"2019-06-09T23:39:20.0000000Z","ProcessId":26336,"LocalIpAddress":"127.0.0.1:30253","RemoteIpAddress":"::1","$type":"ClientAuthenticationSuccessEvent"}
2019-06-09 20:39:20.742 -03:00 [DBG] Start token request validation
2019-06-09 20:39:20.742 -03:00 [DBG] Start resource owner password token request validation
2019-06-09 20:39:20.751 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 20:39:20.815 -03:00 [DBG] Found ["api1"] API scopes in database
2019-06-09 20:39:20.817 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 20:39:20.820 -03:00 [DBG] Found ["api1"] API scopes in database
2019-06-09 20:39:20.822 -03:00 [INF] No user found matching username: alicee
2019-06-09 20:39:20.823 -03:00 [INF] {"Username":"alicee","Endpoint":"Token","Category":"Authentication","Name":"User Login Failure","EventType":"Failure","Id":1001,"Message":"invalid username","ActivityId":"0HLND63T1LU2A:00000003","TimeStamp":"2019-06-09T23:39:20.0000000Z","ProcessId":26336,"LocalIpAddress":"127.0.0.1:30253","RemoteIpAddress":"::1","$type":"UserLoginFailureEvent"}
2019-06-09 20:39:20.823 -03:00 [INF] User authentication failed: ["invalid_username_or_password"], request details: {"ClientId":"ro.client","ClientName":null,"GrantType":"password","Scopes":"api1 openid profile","AuthorizationCode":null,"RefreshToken":null,"UserName":"alicee","AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"grant_type":"password","client_id":"ro.client","client_secret":"***REDACTED***","scope":"openid profile api1","username":"alicee","password":"***REDACTED***"},"$type":"TokenRequestValidationLog"}
2019-06-09 20:39:20.823 -03:00 [INF] {"Username":"alicee","Endpoint":"UI","Category":"Authentication","Name":"User Login Failure","EventType":"Failure","Id":1001,"Message":"invalid_username_or_password","ActivityId":"0HLND63T1LU2A:00000003","TimeStamp":"2019-06-09T23:39:20.0000000Z","ProcessId":26336,"LocalIpAddress":"127.0.0.1:30253","RemoteIpAddress":"::1","$type":"UserLoginFailureEvent"}
2019-06-09 20:39:20.823 -03:00 [INF] {"ClientId":"ro.client","ClientName":null,"RedirectUri":null,"Endpoint":"Token","SubjectId":null,"Scopes":"api1 openid profile","GrantType":"password","Error":"invalid_grant","ErrorDescription":"invalid_username_or_password","Category":"Token","Name":"Token Issued Failure","EventType":"Failure","Id":2001,"Message":null,"ActivityId":"0HLND63T1LU2A:00000003","TimeStamp":"2019-06-09T23:39:20.0000000Z","ProcessId":26336,"LocalIpAddress":"127.0.0.1:30253","RemoteIpAddress":"::1","$type":"TokenIssuedFailureEvent"}
2019-06-09 20:42:08.153 -03:00 [DBG] CORS request made for path: /connect/token from origin: http://localhost:3000
2019-06-09 20:42:08.161 -03:00 [DBG] Origin http://localhost:3000 is allowed: false
2019-06-09 20:42:08.161 -03:00 [WRN] CorsPolicyService did not allow origin: http://localhost:3000
2019-06-09 20:42:08.162 -03:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-06-09 20:42:08.162 -03:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-06-09 20:42:08.162 -03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-06-09 20:42:08.162 -03:00 [DBG] Start token request.
2019-06-09 20:42:08.162 -03:00 [DBG] Start client validation
2019-06-09 20:42:08.162 -03:00 [DBG] Start parsing Basic Authentication secret
2019-06-09 20:42:08.162 -03:00 [DBG] Start parsing for secret in post body
2019-06-09 20:42:08.162 -03:00 [DBG] Parser found secret: PostBodySecretParser
2019-06-09 20:42:08.162 -03:00 [DBG] Secret id found: ro.client
2019-06-09 20:42:08.181 -03:00 [DBG] ro.client found in database: true
2019-06-09 20:42:08.181 -03:00 [DBG] client configuration validation for client ro.client succeeded.
2019-06-09 20:42:08.181 -03:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-06-09 20:42:08.181 -03:00 [DBG] Client validation success
2019-06-09 20:42:08.181 -03:00 [INF] {"ClientId":"ro.client","AuthenticationMethod":"SharedSecret","Category":"Authentication","Name":"Client Authentication Success","EventType":"Success","Id":1010,"Message":null,"ActivityId":"0HLND63T1LU2B:00000001","TimeStamp":"2019-06-09T23:42:08.0000000Z","ProcessId":26336,"LocalIpAddress":"127.0.0.1:30253","RemoteIpAddress":"::1","$type":"ClientAuthenticationSuccessEvent"}
2019-06-09 20:42:08.181 -03:00 [DBG] Start token request validation
2019-06-09 20:42:08.181 -03:00 [DBG] Start resource owner password token request validation
2019-06-09 20:42:08.190 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 20:42:08.250 -03:00 [DBG] Found ["api1"] API scopes in database
2019-06-09 20:42:08.252 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 20:42:08.255 -03:00 [DBG] Found ["api1"] API scopes in database
2019-06-09 20:42:08.263 -03:00 [INF] No user found matching username: alicee
2019-06-09 20:42:08.263 -03:00 [INF] {"Username":"alicee","Endpoint":"Token","Category":"Authentication","Name":"User Login Failure","EventType":"Failure","Id":1001,"Message":"invalid username","ActivityId":"0HLND63T1LU2B:00000001","TimeStamp":"2019-06-09T23:42:08.0000000Z","ProcessId":26336,"LocalIpAddress":"127.0.0.1:30253","RemoteIpAddress":"::1","$type":"UserLoginFailureEvent"}
2019-06-09 20:42:08.263 -03:00 [INF] User authentication failed: ["invalid_username_or_password"], request details: {"ClientId":"ro.client","ClientName":null,"GrantType":"password","Scopes":"api1 openid profile","AuthorizationCode":null,"RefreshToken":null,"UserName":"alicee","AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"grant_type":"password","client_id":"ro.client","client_secret":"***REDACTED***","scope":"openid profile api1","username":"alicee","password":"***REDACTED***"},"$type":"TokenRequestValidationLog"}
2019-06-09 20:42:08.263 -03:00 [INF] {"Username":"alicee","Endpoint":"UI","Category":"Authentication","Name":"User Login Failure","EventType":"Failure","Id":1001,"Message":"invalid_username_or_password","ActivityId":"0HLND63T1LU2B:00000001","TimeStamp":"2019-06-09T23:42:08.0000000Z","ProcessId":26336,"LocalIpAddress":"127.0.0.1:30253","RemoteIpAddress":"::1","$type":"UserLoginFailureEvent"}
2019-06-09 20:42:08.263 -03:00 [INF] {"ClientId":"ro.client","ClientName":null,"RedirectUri":null,"Endpoint":"Token","SubjectId":null,"Scopes":"api1 openid profile","GrantType":"password","Error":"invalid_grant","ErrorDescription":"invalid_username_or_password","Category":"Token","Name":"Token Issued Failure","EventType":"Failure","Id":2001,"Message":null,"ActivityId":"0HLND63T1LU2B:00000001","TimeStamp":"2019-06-09T23:42:08.0000000Z","ProcessId":26336,"LocalIpAddress":"127.0.0.1:30253","RemoteIpAddress":"::1","$type":"TokenIssuedFailureEvent"}
2019-06-09 20:42:13.267 -03:00 [DBG] CORS request made for path: /connect/token from origin: http://localhost:3000
2019-06-09 20:42:13.269 -03:00 [DBG] Origin http://localhost:3000 is allowed: false
2019-06-09 20:42:13.269 -03:00 [WRN] CorsPolicyService did not allow origin: http://localhost:3000
2019-06-09 20:42:13.269 -03:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-06-09 20:42:13.269 -03:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-06-09 20:42:13.270 -03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-06-09 20:42:13.270 -03:00 [DBG] Start token request.
2019-06-09 20:42:13.270 -03:00 [DBG] Start client validation
2019-06-09 20:42:13.270 -03:00 [DBG] Start parsing Basic Authentication secret
2019-06-09 20:42:13.270 -03:00 [DBG] Start parsing for secret in post body
2019-06-09 20:42:13.270 -03:00 [DBG] Parser found secret: PostBodySecretParser
2019-06-09 20:42:13.270 -03:00 [DBG] Secret id found: ro.client
2019-06-09 20:42:13.277 -03:00 [DBG] ro.client found in database: true
2019-06-09 20:42:13.277 -03:00 [DBG] client configuration validation for client ro.client succeeded.
2019-06-09 20:42:13.277 -03:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-06-09 20:42:13.277 -03:00 [DBG] Client validation success
2019-06-09 20:42:13.277 -03:00 [INF] {"ClientId":"ro.client","AuthenticationMethod":"SharedSecret","Category":"Authentication","Name":"Client Authentication Success","EventType":"Success","Id":1010,"Message":null,"ActivityId":"0HLND63T1LU2B:00000002","TimeStamp":"2019-06-09T23:42:13.0000000Z","ProcessId":26336,"LocalIpAddress":"127.0.0.1:30253","RemoteIpAddress":"::1","$type":"ClientAuthenticationSuccessEvent"}
2019-06-09 20:42:13.277 -03:00 [DBG] Start token request validation
2019-06-09 20:42:13.277 -03:00 [DBG] Start resource owner password token request validation
2019-06-09 20:42:13.279 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 20:42:13.284 -03:00 [DBG] Found ["api1"] API scopes in database
2019-06-09 20:42:13.287 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 20:42:13.292 -03:00 [DBG] Found ["api1"] API scopes in database
2019-06-09 20:42:13.304 -03:00 [INF] Credentials validated for username: alice
2019-06-09 20:42:13.305 -03:00 [INF] {"Username":"alice","Provider":null,"ProviderUserId":null,"SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","DisplayName":"alice","Endpoint":"Token","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HLND63T1LU2B:00000002","TimeStamp":"2019-06-09T23:42:13.0000000Z","ProcessId":26336,"LocalIpAddress":"127.0.0.1:30253","RemoteIpAddress":"::1","$type":"UserLoginSuccessEvent"}
2019-06-09 20:42:13.305 -03:00 [INF] {"Username":"alice","Provider":null,"ProviderUserId":null,"SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","DisplayName":null,"Endpoint":"Token","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HLND63T1LU2B:00000002","TimeStamp":"2019-06-09T23:42:13.0000000Z","ProcessId":26336,"LocalIpAddress":"127.0.0.1:30253","RemoteIpAddress":"::1","$type":"UserLoginSuccessEvent"}
2019-06-09 20:42:13.305 -03:00 [DBG] Resource owner password token request validation success.
2019-06-09 20:42:13.305 -03:00 [INF] Token request validation success
{"ClientId":"ro.client","ClientName":null,"GrantType":"password","Scopes":"api1 openid profile","AuthorizationCode":null,"RefreshToken":null,"UserName":"alice","AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"grant_type":"password","client_id":"ro.client","client_secret":"***REDACTED***","scope":"openid profile api1","username":"alice","password":"***REDACTED***"},"$type":"TokenRequestValidationLog"}
2019-06-09 20:42:13.305 -03:00 [DBG] Getting claims for access token for client: ro.client
2019-06-09 20:42:13.305 -03:00 [DBG] Getting claims for access token for subject: 4ba1c3a0-b786-421d-b88a-740f38d9cafa
2019-06-09 20:42:13.313 -03:00 [INF] {"ClientId":"ro.client","ClientName":null,"RedirectUri":null,"Endpoint":"Token","SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","Scopes":"openid profile api1","GrantType":"password","Tokens":[{"TokenType":"access_token","TokenValue":"****l-ew","$type":"Token"}],"Category":"Token","Name":"Token Issued Success","EventType":"Success","Id":2000,"Message":null,"ActivityId":"0HLND63T1LU2B:00000002","TimeStamp":"2019-06-09T23:42:13.0000000Z","ProcessId":26336,"LocalIpAddress":"127.0.0.1:30253","RemoteIpAddress":"::1","$type":"TokenIssuedSuccessEvent"}
2019-06-09 20:42:13.313 -03:00 [DBG] Token request success.
2019-06-09 20:45:14.985 -03:00 [DBG] CORS request made for path: /connect/token from origin: http://localhost:3000
2019-06-09 20:45:14.990 -03:00 [DBG] Origin http://localhost:3000 is allowed: false
2019-06-09 20:45:14.990 -03:00 [WRN] CorsPolicyService did not allow origin: http://localhost:3000
2019-06-09 20:45:14.990 -03:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-06-09 20:45:14.991 -03:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-06-09 20:45:14.991 -03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-06-09 20:45:14.991 -03:00 [DBG] Start token request.
2019-06-09 20:45:14.991 -03:00 [DBG] Start client validation
2019-06-09 20:45:14.991 -03:00 [DBG] Start parsing Basic Authentication secret
2019-06-09 20:45:14.991 -03:00 [DBG] Start parsing for secret in post body
2019-06-09 20:45:14.991 -03:00 [DBG] Parser found secret: PostBodySecretParser
2019-06-09 20:45:14.991 -03:00 [DBG] Secret id found: ro.client
2019-06-09 20:45:15.012 -03:00 [DBG] ro.client found in database: true
2019-06-09 20:45:15.012 -03:00 [DBG] client configuration validation for client ro.client succeeded.
2019-06-09 20:45:15.012 -03:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-06-09 20:45:15.012 -03:00 [DBG] Client validation success
2019-06-09 20:45:15.012 -03:00 [INF] {"ClientId":"ro.client","AuthenticationMethod":"SharedSecret","Category":"Authentication","Name":"Client Authentication Success","EventType":"Success","Id":1010,"Message":null,"ActivityId":"0HLND63T1LU2C:00000001","TimeStamp":"2019-06-09T23:45:15.0000000Z","ProcessId":26336,"LocalIpAddress":"127.0.0.1:30253","RemoteIpAddress":"::1","$type":"ClientAuthenticationSuccessEvent"}
2019-06-09 20:45:15.013 -03:00 [DBG] Start token request validation
2019-06-09 20:45:15.013 -03:00 [DBG] Start resource owner password token request validation
2019-06-09 20:45:15.019 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 20:45:15.082 -03:00 [DBG] Found ["api1"] API scopes in database
2019-06-09 20:45:15.084 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 20:45:15.087 -03:00 [DBG] Found ["api1"] API scopes in database
2019-06-09 20:45:15.106 -03:00 [INF] Credentials validated for username: alice
2019-06-09 20:45:15.106 -03:00 [INF] {"Username":"alice","Provider":null,"ProviderUserId":null,"SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","DisplayName":"alice","Endpoint":"Token","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HLND63T1LU2C:00000001","TimeStamp":"2019-06-09T23:45:15.0000000Z","ProcessId":26336,"LocalIpAddress":"127.0.0.1:30253","RemoteIpAddress":"::1","$type":"UserLoginSuccessEvent"}
2019-06-09 20:45:15.107 -03:00 [INF] {"Username":"alice","Provider":null,"ProviderUserId":null,"SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","DisplayName":null,"Endpoint":"Token","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HLND63T1LU2C:00000001","TimeStamp":"2019-06-09T23:45:15.0000000Z","ProcessId":26336,"LocalIpAddress":"127.0.0.1:30253","RemoteIpAddress":"::1","$type":"UserLoginSuccessEvent"}
2019-06-09 20:45:15.107 -03:00 [DBG] Resource owner password token request validation success.
2019-06-09 20:45:15.107 -03:00 [INF] Token request validation success
{"ClientId":"ro.client","ClientName":null,"GrantType":"password","Scopes":"api1 openid profile","AuthorizationCode":null,"RefreshToken":null,"UserName":"alice","AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"grant_type":"password","client_id":"ro.client","client_secret":"***REDACTED***","scope":"openid profile api1","username":"alice","password":"***REDACTED***"},"$type":"TokenRequestValidationLog"}
2019-06-09 20:45:15.107 -03:00 [DBG] Getting claims for access token for client: ro.client
2019-06-09 20:45:15.107 -03:00 [DBG] Getting claims for access token for subject: 4ba1c3a0-b786-421d-b88a-740f38d9cafa
2019-06-09 20:45:15.116 -03:00 [INF] {"ClientId":"ro.client","ClientName":null,"RedirectUri":null,"Endpoint":"Token","SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","Scopes":"openid profile api1","GrantType":"password","Tokens":[{"TokenType":"access_token","TokenValue":"****ic8A","$type":"Token"}],"Category":"Token","Name":"Token Issued Success","EventType":"Success","Id":2000,"Message":null,"ActivityId":"0HLND63T1LU2C:00000001","TimeStamp":"2019-06-09T23:45:15.0000000Z","ProcessId":26336,"LocalIpAddress":"127.0.0.1:30253","RemoteIpAddress":"::1","$type":"TokenIssuedSuccessEvent"}
2019-06-09 20:45:15.116 -03:00 [DBG] Token request success.
2019-06-09 20:48:41.134 -03:00 [DBG] CORS request made for path: /connect/token from origin: http://localhost:3000
2019-06-09 20:48:41.137 -03:00 [DBG] Origin http://localhost:3000 is allowed: false
2019-06-09 20:48:41.137 -03:00 [WRN] CorsPolicyService did not allow origin: http://localhost:3000
2019-06-09 20:48:41.138 -03:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-06-09 20:48:41.138 -03:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-06-09 20:48:41.138 -03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-06-09 20:48:41.138 -03:00 [DBG] Start token request.
2019-06-09 20:48:41.138 -03:00 [DBG] Start client validation
2019-06-09 20:48:41.138 -03:00 [DBG] Start parsing Basic Authentication secret
2019-06-09 20:48:41.138 -03:00 [DBG] Start parsing for secret in post body
2019-06-09 20:48:41.138 -03:00 [DBG] Parser found secret: PostBodySecretParser
2019-06-09 20:48:41.138 -03:00 [DBG] Secret id found: ro.client
2019-06-09 20:48:41.161 -03:00 [DBG] ro.client found in database: true
2019-06-09 20:48:41.161 -03:00 [DBG] client configuration validation for client ro.client succeeded.
2019-06-09 20:48:41.161 -03:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-06-09 20:48:41.161 -03:00 [DBG] Client validation success
2019-06-09 20:48:41.162 -03:00 [INF] {"ClientId":"ro.client","AuthenticationMethod":"SharedSecret","Category":"Authentication","Name":"Client Authentication Success","EventType":"Success","Id":1010,"Message":null,"ActivityId":"0HLND63T1LU2D:00000001","TimeStamp":"2019-06-09T23:48:41.0000000Z","ProcessId":26336,"LocalIpAddress":"127.0.0.1:30253","RemoteIpAddress":"::1","$type":"ClientAuthenticationSuccessEvent"}
2019-06-09 20:48:41.162 -03:00 [DBG] Start token request validation
2019-06-09 20:48:41.162 -03:00 [DBG] Start resource owner password token request validation
2019-06-09 20:48:41.169 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 20:48:41.231 -03:00 [DBG] Found ["api1"] API scopes in database
2019-06-09 20:48:41.233 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 20:48:41.236 -03:00 [DBG] Found ["api1"] API scopes in database
2019-06-09 20:48:41.246 -03:00 [INF] Credentials validated for username: alice
2019-06-09 20:48:41.246 -03:00 [INF] {"Username":"alice","Provider":null,"ProviderUserId":null,"SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","DisplayName":"alice","Endpoint":"Token","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HLND63T1LU2D:00000001","TimeStamp":"2019-06-09T23:48:41.0000000Z","ProcessId":26336,"LocalIpAddress":"127.0.0.1:30253","RemoteIpAddress":"::1","$type":"UserLoginSuccessEvent"}
2019-06-09 20:48:41.247 -03:00 [INF] {"Username":"alice","Provider":null,"ProviderUserId":null,"SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","DisplayName":null,"Endpoint":"Token","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HLND63T1LU2D:00000001","TimeStamp":"2019-06-09T23:48:41.0000000Z","ProcessId":26336,"LocalIpAddress":"127.0.0.1:30253","RemoteIpAddress":"::1","$type":"UserLoginSuccessEvent"}
2019-06-09 20:48:41.247 -03:00 [DBG] Resource owner password token request validation success.
2019-06-09 20:48:41.247 -03:00 [INF] Token request validation success
{"ClientId":"ro.client","ClientName":null,"GrantType":"password","Scopes":"api1 openid profile","AuthorizationCode":null,"RefreshToken":null,"UserName":"alice","AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"grant_type":"password","client_id":"ro.client","client_secret":"***REDACTED***","scope":"openid profile api1","username":"alice","password":"***REDACTED***"},"$type":"TokenRequestValidationLog"}
2019-06-09 20:48:41.247 -03:00 [DBG] Getting claims for access token for client: ro.client
2019-06-09 20:48:41.247 -03:00 [DBG] Getting claims for access token for subject: 4ba1c3a0-b786-421d-b88a-740f38d9cafa
2019-06-09 20:48:41.255 -03:00 [INF] {"ClientId":"ro.client","ClientName":null,"RedirectUri":null,"Endpoint":"Token","SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","Scopes":"openid profile api1","GrantType":"password","Tokens":[{"TokenType":"access_token","TokenValue":"****QVaw","$type":"Token"}],"Category":"Token","Name":"Token Issued Success","EventType":"Success","Id":2000,"Message":null,"ActivityId":"0HLND63T1LU2D:00000001","TimeStamp":"2019-06-09T23:48:41.0000000Z","ProcessId":26336,"LocalIpAddress":"127.0.0.1:30253","RemoteIpAddress":"::1","$type":"TokenIssuedSuccessEvent"}
2019-06-09 20:48:41.255 -03:00 [DBG] Token request success.
2019-06-09 20:49:03.181 -03:00 [DBG] CORS request made for path: /connect/token from origin: http://localhost:3000
2019-06-09 20:49:03.183 -03:00 [DBG] Origin http://localhost:3000 is allowed: false
2019-06-09 20:49:03.183 -03:00 [WRN] CorsPolicyService did not allow origin: http://localhost:3000
2019-06-09 20:49:03.184 -03:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-06-09 20:49:03.184 -03:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-06-09 20:49:03.184 -03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-06-09 20:49:03.184 -03:00 [DBG] Start token request.
2019-06-09 20:49:03.184 -03:00 [DBG] Start client validation
2019-06-09 20:49:03.184 -03:00 [DBG] Start parsing Basic Authentication secret
2019-06-09 20:49:03.184 -03:00 [DBG] Start parsing for secret in post body
2019-06-09 20:49:03.184 -03:00 [DBG] Parser found secret: PostBodySecretParser
2019-06-09 20:49:03.184 -03:00 [DBG] Secret id found: ro.client
2019-06-09 20:49:03.208 -03:00 [DBG] ro.client found in database: true
2019-06-09 20:49:03.208 -03:00 [DBG] client configuration validation for client ro.client succeeded.
2019-06-09 20:49:03.208 -03:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-06-09 20:49:03.208 -03:00 [DBG] Client validation success
2019-06-09 20:49:03.208 -03:00 [INF] {"ClientId":"ro.client","AuthenticationMethod":"SharedSecret","Category":"Authentication","Name":"Client Authentication Success","EventType":"Success","Id":1010,"Message":null,"ActivityId":"0HLND63T1LU2D:00000002","TimeStamp":"2019-06-09T23:49:03.0000000Z","ProcessId":26336,"LocalIpAddress":"127.0.0.1:30253","RemoteIpAddress":"::1","$type":"ClientAuthenticationSuccessEvent"}
2019-06-09 20:49:03.208 -03:00 [DBG] Start token request validation
2019-06-09 20:49:03.208 -03:00 [DBG] Start resource owner password token request validation
2019-06-09 20:49:03.215 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 20:49:03.280 -03:00 [DBG] Found ["api1"] API scopes in database
2019-06-09 20:49:03.282 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 20:49:03.284 -03:00 [DBG] Found ["api1"] API scopes in database
2019-06-09 20:49:03.294 -03:00 [INF] Credentials validated for username: alice
2019-06-09 20:49:03.294 -03:00 [INF] {"Username":"alice","Provider":null,"ProviderUserId":null,"SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","DisplayName":"alice","Endpoint":"Token","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HLND63T1LU2D:00000002","TimeStamp":"2019-06-09T23:49:03.0000000Z","ProcessId":26336,"LocalIpAddress":"127.0.0.1:30253","RemoteIpAddress":"::1","$type":"UserLoginSuccessEvent"}
2019-06-09 20:49:03.294 -03:00 [INF] {"Username":"alice","Provider":null,"ProviderUserId":null,"SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","DisplayName":null,"Endpoint":"Token","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HLND63T1LU2D:00000002","TimeStamp":"2019-06-09T23:49:03.0000000Z","ProcessId":26336,"LocalIpAddress":"127.0.0.1:30253","RemoteIpAddress":"::1","$type":"UserLoginSuccessEvent"}
2019-06-09 20:49:03.294 -03:00 [DBG] Resource owner password token request validation success.
2019-06-09 20:49:03.294 -03:00 [INF] Token request validation success
{"ClientId":"ro.client","ClientName":null,"GrantType":"password","Scopes":"api1 openid profile","AuthorizationCode":null,"RefreshToken":null,"UserName":"alice","AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"grant_type":"password","client_id":"ro.client","client_secret":"***REDACTED***","scope":"openid profile api1","username":"alice","password":"***REDACTED***"},"$type":"TokenRequestValidationLog"}
2019-06-09 20:49:03.294 -03:00 [DBG] Getting claims for access token for client: ro.client
2019-06-09 20:49:03.295 -03:00 [DBG] Getting claims for access token for subject: 4ba1c3a0-b786-421d-b88a-740f38d9cafa
2019-06-09 20:49:03.303 -03:00 [INF] {"ClientId":"ro.client","ClientName":null,"RedirectUri":null,"Endpoint":"Token","SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","Scopes":"openid profile api1","GrantType":"password","Tokens":[{"TokenType":"access_token","TokenValue":"****ERJg","$type":"Token"}],"Category":"Token","Name":"Token Issued Success","EventType":"Success","Id":2000,"Message":null,"ActivityId":"0HLND63T1LU2D:00000002","TimeStamp":"2019-06-09T23:49:03.0000000Z","ProcessId":26336,"LocalIpAddress":"127.0.0.1:30253","RemoteIpAddress":"::1","$type":"TokenIssuedSuccessEvent"}
2019-06-09 20:49:03.303 -03:00 [DBG] Token request success.
2019-06-09 20:49:06.273 -03:00 [DBG] CORS request made for path: /connect/token from origin: http://localhost:3000
2019-06-09 20:49:06.276 -03:00 [DBG] Origin http://localhost:3000 is allowed: false
2019-06-09 20:49:06.276 -03:00 [WRN] CorsPolicyService did not allow origin: http://localhost:3000
2019-06-09 20:49:06.276 -03:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-06-09 20:49:06.276 -03:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-06-09 20:49:06.277 -03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-06-09 20:49:06.277 -03:00 [DBG] Start token request.
2019-06-09 20:49:06.277 -03:00 [DBG] Start client validation
2019-06-09 20:49:06.277 -03:00 [DBG] Start parsing Basic Authentication secret
2019-06-09 20:49:06.277 -03:00 [DBG] Start parsing for secret in post body
2019-06-09 20:49:06.277 -03:00 [DBG] Parser found secret: PostBodySecretParser
2019-06-09 20:49:06.277 -03:00 [DBG] Secret id found: ro.client
2019-06-09 20:49:06.299 -03:00 [DBG] ro.client found in database: true
2019-06-09 20:49:06.299 -03:00 [DBG] client configuration validation for client ro.client succeeded.
2019-06-09 20:49:06.299 -03:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-06-09 20:49:06.299 -03:00 [DBG] Client validation success
2019-06-09 20:49:06.299 -03:00 [INF] {"ClientId":"ro.client","AuthenticationMethod":"SharedSecret","Category":"Authentication","Name":"Client Authentication Success","EventType":"Success","Id":1010,"Message":null,"ActivityId":"0HLND63T1LU2D:00000003","TimeStamp":"2019-06-09T23:49:06.0000000Z","ProcessId":26336,"LocalIpAddress":"127.0.0.1:30253","RemoteIpAddress":"::1","$type":"ClientAuthenticationSuccessEvent"}
2019-06-09 20:49:06.299 -03:00 [DBG] Start token request validation
2019-06-09 20:49:06.299 -03:00 [DBG] Start resource owner password token request validation
2019-06-09 20:49:06.309 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 20:49:06.373 -03:00 [DBG] Found ["api1"] API scopes in database
2019-06-09 20:49:06.375 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 20:49:06.377 -03:00 [DBG] Found ["api1"] API scopes in database
2019-06-09 20:49:06.387 -03:00 [INF] Credentials validated for username: alice
2019-06-09 20:49:06.387 -03:00 [INF] {"Username":"alice","Provider":null,"ProviderUserId":null,"SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","DisplayName":"alice","Endpoint":"Token","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HLND63T1LU2D:00000003","TimeStamp":"2019-06-09T23:49:06.0000000Z","ProcessId":26336,"LocalIpAddress":"127.0.0.1:30253","RemoteIpAddress":"::1","$type":"UserLoginSuccessEvent"}
2019-06-09 20:49:06.388 -03:00 [INF] {"Username":"alice","Provider":null,"ProviderUserId":null,"SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","DisplayName":null,"Endpoint":"Token","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HLND63T1LU2D:00000003","TimeStamp":"2019-06-09T23:49:06.0000000Z","ProcessId":26336,"LocalIpAddress":"127.0.0.1:30253","RemoteIpAddress":"::1","$type":"UserLoginSuccessEvent"}
2019-06-09 20:49:06.388 -03:00 [DBG] Resource owner password token request validation success.
2019-06-09 20:49:06.388 -03:00 [INF] Token request validation success
{"ClientId":"ro.client","ClientName":null,"GrantType":"password","Scopes":"api1 openid profile","AuthorizationCode":null,"RefreshToken":null,"UserName":"alice","AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"grant_type":"password","client_id":"ro.client","client_secret":"***REDACTED***","scope":"openid profile api1","username":"alice","password":"***REDACTED***"},"$type":"TokenRequestValidationLog"}
2019-06-09 20:49:06.388 -03:00 [DBG] Getting claims for access token for client: ro.client
2019-06-09 20:49:06.388 -03:00 [DBG] Getting claims for access token for subject: 4ba1c3a0-b786-421d-b88a-740f38d9cafa
2019-06-09 20:49:06.396 -03:00 [INF] {"ClientId":"ro.client","ClientName":null,"RedirectUri":null,"Endpoint":"Token","SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","Scopes":"openid profile api1","GrantType":"password","Tokens":[{"TokenType":"access_token","TokenValue":"****RTEw","$type":"Token"}],"Category":"Token","Name":"Token Issued Success","EventType":"Success","Id":2000,"Message":null,"ActivityId":"0HLND63T1LU2D:00000003","TimeStamp":"2019-06-09T23:49:06.0000000Z","ProcessId":26336,"LocalIpAddress":"127.0.0.1:30253","RemoteIpAddress":"::1","$type":"TokenIssuedSuccessEvent"}
2019-06-09 20:49:06.396 -03:00 [DBG] Token request success.
2019-06-09 20:51:14.058 -03:00 [DBG] CORS request made for path: /connect/token from origin: http://localhost:3000
2019-06-09 20:51:14.073 -03:00 [DBG] Origin http://localhost:3000 is allowed: false
2019-06-09 20:51:14.073 -03:00 [WRN] CorsPolicyService did not allow origin: http://localhost:3000
2019-06-09 20:51:14.073 -03:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-06-09 20:51:14.074 -03:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-06-09 20:51:14.074 -03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-06-09 20:51:14.074 -03:00 [DBG] Start token request.
2019-06-09 20:51:14.074 -03:00 [DBG] Start client validation
2019-06-09 20:51:14.074 -03:00 [DBG] Start parsing Basic Authentication secret
2019-06-09 20:51:14.074 -03:00 [DBG] Start parsing for secret in post body
2019-06-09 20:51:14.074 -03:00 [DBG] Parser found secret: PostBodySecretParser
2019-06-09 20:51:14.074 -03:00 [DBG] Secret id found: ro.client
2019-06-09 20:51:14.095 -03:00 [DBG] ro.client found in database: true
2019-06-09 20:51:14.095 -03:00 [DBG] client configuration validation for client ro.client succeeded.
2019-06-09 20:51:14.095 -03:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-06-09 20:51:14.095 -03:00 [DBG] Client validation success
2019-06-09 20:51:14.095 -03:00 [INF] {"ClientId":"ro.client","AuthenticationMethod":"SharedSecret","Category":"Authentication","Name":"Client Authentication Success","EventType":"Success","Id":1010,"Message":null,"ActivityId":"0HLND63T1LU2E:00000001","TimeStamp":"2019-06-09T23:51:14.0000000Z","ProcessId":26336,"LocalIpAddress":"127.0.0.1:30253","RemoteIpAddress":"::1","$type":"ClientAuthenticationSuccessEvent"}
2019-06-09 20:51:14.095 -03:00 [DBG] Start token request validation
2019-06-09 20:51:14.095 -03:00 [DBG] Start resource owner password token request validation
2019-06-09 20:51:14.102 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 20:51:14.164 -03:00 [DBG] Found ["api1"] API scopes in database
2019-06-09 20:51:14.166 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 20:51:14.168 -03:00 [DBG] Found ["api1"] API scopes in database
2019-06-09 20:51:14.182 -03:00 [INF] Credentials validated for username: alice
2019-06-09 20:51:14.182 -03:00 [INF] {"Username":"alice","Provider":null,"ProviderUserId":null,"SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","DisplayName":"alice","Endpoint":"Token","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HLND63T1LU2E:00000001","TimeStamp":"2019-06-09T23:51:14.0000000Z","ProcessId":26336,"LocalIpAddress":"127.0.0.1:30253","RemoteIpAddress":"::1","$type":"UserLoginSuccessEvent"}
2019-06-09 20:51:14.182 -03:00 [INF] {"Username":"alice","Provider":null,"ProviderUserId":null,"SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","DisplayName":null,"Endpoint":"Token","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HLND63T1LU2E:00000001","TimeStamp":"2019-06-09T23:51:14.0000000Z","ProcessId":26336,"LocalIpAddress":"127.0.0.1:30253","RemoteIpAddress":"::1","$type":"UserLoginSuccessEvent"}
2019-06-09 20:51:14.182 -03:00 [DBG] Resource owner password token request validation success.
2019-06-09 20:51:14.182 -03:00 [INF] Token request validation success
{"ClientId":"ro.client","ClientName":null,"GrantType":"password","Scopes":"api1 openid profile","AuthorizationCode":null,"RefreshToken":null,"UserName":"alice","AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"grant_type":"password","client_id":"ro.client","client_secret":"***REDACTED***","scope":"openid profile api1","username":"alice","password":"***REDACTED***"},"$type":"TokenRequestValidationLog"}
2019-06-09 20:51:14.182 -03:00 [DBG] Getting claims for access token for client: ro.client
2019-06-09 20:51:14.182 -03:00 [DBG] Getting claims for access token for subject: 4ba1c3a0-b786-421d-b88a-740f38d9cafa
2019-06-09 20:51:14.196 -03:00 [INF] {"ClientId":"ro.client","ClientName":null,"RedirectUri":null,"Endpoint":"Token","SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","Scopes":"openid profile api1","GrantType":"password","Tokens":[{"TokenType":"access_token","TokenValue":"****R0bQ","$type":"Token"}],"Category":"Token","Name":"Token Issued Success","EventType":"Success","Id":2000,"Message":null,"ActivityId":"0HLND63T1LU2E:00000001","TimeStamp":"2019-06-09T23:51:14.0000000Z","ProcessId":26336,"LocalIpAddress":"127.0.0.1:30253","RemoteIpAddress":"::1","$type":"TokenIssuedSuccessEvent"}
2019-06-09 20:51:14.196 -03:00 [DBG] Token request success.
2019-06-09 20:54:31.650 -03:00 [DBG] CORS request made for path: /connect/token from origin: http://localhost:3000
2019-06-09 20:54:31.661 -03:00 [DBG] Origin http://localhost:3000 is allowed: false
2019-06-09 20:54:31.661 -03:00 [WRN] CorsPolicyService did not allow origin: http://localhost:3000
2019-06-09 20:54:31.661 -03:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-06-09 20:54:31.662 -03:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-06-09 20:54:31.662 -03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-06-09 20:54:31.662 -03:00 [DBG] Start token request.
2019-06-09 20:54:31.662 -03:00 [DBG] Start client validation
2019-06-09 20:54:31.662 -03:00 [DBG] Start parsing Basic Authentication secret
2019-06-09 20:54:31.662 -03:00 [DBG] Start parsing for secret in post body
2019-06-09 20:54:31.663 -03:00 [DBG] Parser found secret: PostBodySecretParser
2019-06-09 20:54:31.663 -03:00 [DBG] Secret id found: ro.client
2019-06-09 20:54:31.697 -03:00 [DBG] ro.client found in database: true
2019-06-09 20:54:31.697 -03:00 [DBG] client configuration validation for client ro.client succeeded.
2019-06-09 20:54:31.697 -03:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-06-09 20:54:31.698 -03:00 [DBG] Client validation success
2019-06-09 20:54:31.698 -03:00 [INF] {"ClientId":"ro.client","AuthenticationMethod":"SharedSecret","Category":"Authentication","Name":"Client Authentication Success","EventType":"Success","Id":1010,"Message":null,"ActivityId":"0HLND63T1LU2F:00000001","TimeStamp":"2019-06-09T23:54:31.0000000Z","ProcessId":26336,"LocalIpAddress":"127.0.0.1:30253","RemoteIpAddress":"::1","$type":"ClientAuthenticationSuccessEvent"}
2019-06-09 20:54:31.698 -03:00 [DBG] Start token request validation
2019-06-09 20:54:31.698 -03:00 [DBG] Start resource owner password token request validation
2019-06-09 20:54:31.706 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 20:54:31.770 -03:00 [DBG] Found ["api1"] API scopes in database
2019-06-09 20:54:31.772 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 20:54:31.775 -03:00 [DBG] Found ["api1"] API scopes in database
2019-06-09 20:54:31.784 -03:00 [INF] Credentials validated for username: alice
2019-06-09 20:54:31.785 -03:00 [INF] {"Username":"alice","Provider":null,"ProviderUserId":null,"SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","DisplayName":"alice","Endpoint":"Token","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HLND63T1LU2F:00000001","TimeStamp":"2019-06-09T23:54:31.0000000Z","ProcessId":26336,"LocalIpAddress":"127.0.0.1:30253","RemoteIpAddress":"::1","$type":"UserLoginSuccessEvent"}
2019-06-09 20:54:31.785 -03:00 [INF] {"Username":"alice","Provider":null,"ProviderUserId":null,"SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","DisplayName":null,"Endpoint":"Token","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HLND63T1LU2F:00000001","TimeStamp":"2019-06-09T23:54:31.0000000Z","ProcessId":26336,"LocalIpAddress":"127.0.0.1:30253","RemoteIpAddress":"::1","$type":"UserLoginSuccessEvent"}
2019-06-09 20:54:31.785 -03:00 [DBG] Resource owner password token request validation success.
2019-06-09 20:54:31.785 -03:00 [INF] Token request validation success
{"ClientId":"ro.client","ClientName":null,"GrantType":"password","Scopes":"api1 openid profile","AuthorizationCode":null,"RefreshToken":null,"UserName":"alice","AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"grant_type":"password","client_id":"ro.client","client_secret":"***REDACTED***","scope":"openid profile api1","username":"alice","password":"***REDACTED***"},"$type":"TokenRequestValidationLog"}
2019-06-09 20:54:31.785 -03:00 [DBG] Getting claims for access token for client: ro.client
2019-06-09 20:54:31.785 -03:00 [DBG] Getting claims for access token for subject: 4ba1c3a0-b786-421d-b88a-740f38d9cafa
2019-06-09 20:54:31.794 -03:00 [INF] {"ClientId":"ro.client","ClientName":null,"RedirectUri":null,"Endpoint":"Token","SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","Scopes":"openid profile api1","GrantType":"password","Tokens":[{"TokenType":"access_token","TokenValue":"****Kk3Q","$type":"Token"}],"Category":"Token","Name":"Token Issued Success","EventType":"Success","Id":2000,"Message":null,"ActivityId":"0HLND63T1LU2F:00000001","TimeStamp":"2019-06-09T23:54:31.0000000Z","ProcessId":26336,"LocalIpAddress":"127.0.0.1:30253","RemoteIpAddress":"::1","$type":"TokenIssuedSuccessEvent"}
2019-06-09 20:54:31.794 -03:00 [DBG] Token request success.
2019-06-09 21:00:18.035 -03:00 [DBG] CORS request made for path: /connect/token from origin: http://localhost:3000
2019-06-09 21:00:18.043 -03:00 [DBG] Origin http://localhost:3000 is allowed: false
2019-06-09 21:00:18.043 -03:00 [WRN] CorsPolicyService did not allow origin: http://localhost:3000
2019-06-09 21:00:18.043 -03:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-06-09 21:00:18.044 -03:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-06-09 21:00:18.044 -03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-06-09 21:00:18.044 -03:00 [DBG] Start token request.
2019-06-09 21:00:18.044 -03:00 [DBG] Start client validation
2019-06-09 21:00:18.044 -03:00 [DBG] Start parsing Basic Authentication secret
2019-06-09 21:00:18.044 -03:00 [DBG] Start parsing for secret in post body
2019-06-09 21:00:18.044 -03:00 [DBG] Parser found secret: PostBodySecretParser
2019-06-09 21:00:18.044 -03:00 [DBG] Secret id found: ro.client
2019-06-09 21:00:18.064 -03:00 [DBG] ro.client found in database: true
2019-06-09 21:00:18.064 -03:00 [DBG] client configuration validation for client ro.client succeeded.
2019-06-09 21:00:18.064 -03:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-06-09 21:00:18.064 -03:00 [DBG] Client validation success
2019-06-09 21:00:18.065 -03:00 [INF] {"ClientId":"ro.client","AuthenticationMethod":"SharedSecret","Category":"Authentication","Name":"Client Authentication Success","EventType":"Success","Id":1010,"Message":null,"ActivityId":"0HLND63T1LU2G:00000001","TimeStamp":"2019-06-10T00:00:18.0000000Z","ProcessId":26336,"LocalIpAddress":"127.0.0.1:30253","RemoteIpAddress":"::1","$type":"ClientAuthenticationSuccessEvent"}
2019-06-09 21:00:18.065 -03:00 [DBG] Start token request validation
2019-06-09 21:00:18.065 -03:00 [DBG] Start resource owner password token request validation
2019-06-09 21:00:18.072 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 21:00:18.133 -03:00 [DBG] Found ["api1"] API scopes in database
2019-06-09 21:00:18.135 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 21:00:18.138 -03:00 [DBG] Found ["api1"] API scopes in database
2019-06-09 21:00:18.148 -03:00 [INF] Credentials validated for username: alice
2019-06-09 21:00:18.148 -03:00 [INF] {"Username":"alice","Provider":null,"ProviderUserId":null,"SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","DisplayName":"alice","Endpoint":"Token","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HLND63T1LU2G:00000001","TimeStamp":"2019-06-10T00:00:18.0000000Z","ProcessId":26336,"LocalIpAddress":"127.0.0.1:30253","RemoteIpAddress":"::1","$type":"UserLoginSuccessEvent"}
2019-06-09 21:00:18.148 -03:00 [INF] {"Username":"alice","Provider":null,"ProviderUserId":null,"SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","DisplayName":null,"Endpoint":"Token","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HLND63T1LU2G:00000001","TimeStamp":"2019-06-10T00:00:18.0000000Z","ProcessId":26336,"LocalIpAddress":"127.0.0.1:30253","RemoteIpAddress":"::1","$type":"UserLoginSuccessEvent"}
2019-06-09 21:00:18.148 -03:00 [DBG] Resource owner password token request validation success.
2019-06-09 21:00:18.148 -03:00 [INF] Token request validation success
{"ClientId":"ro.client","ClientName":null,"GrantType":"password","Scopes":"api1 openid profile","AuthorizationCode":null,"RefreshToken":null,"UserName":"alice","AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"grant_type":"password","client_id":"ro.client","client_secret":"***REDACTED***","scope":"openid profile api1","username":"alice","password":"***REDACTED***"},"$type":"TokenRequestValidationLog"}
2019-06-09 21:00:18.148 -03:00 [DBG] Getting claims for access token for client: ro.client
2019-06-09 21:00:18.148 -03:00 [DBG] Getting claims for access token for subject: 4ba1c3a0-b786-421d-b88a-740f38d9cafa
2019-06-09 21:00:18.164 -03:00 [INF] {"ClientId":"ro.client","ClientName":null,"RedirectUri":null,"Endpoint":"Token","SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","Scopes":"openid profile api1","GrantType":"password","Tokens":[{"TokenType":"access_token","TokenValue":"****v2SA","$type":"Token"}],"Category":"Token","Name":"Token Issued Success","EventType":"Success","Id":2000,"Message":null,"ActivityId":"0HLND63T1LU2G:00000001","TimeStamp":"2019-06-10T00:00:18.0000000Z","ProcessId":26336,"LocalIpAddress":"127.0.0.1:30253","RemoteIpAddress":"::1","$type":"TokenIssuedSuccessEvent"}
2019-06-09 21:00:18.164 -03:00 [DBG] Token request success.
2019-06-09 21:00:54.565 -03:00 [DBG] CORS request made for path: /connect/token from origin: http://localhost:3000
2019-06-09 21:00:54.567 -03:00 [DBG] Origin http://localhost:3000 is allowed: false
2019-06-09 21:00:54.567 -03:00 [WRN] CorsPolicyService did not allow origin: http://localhost:3000
2019-06-09 21:00:54.567 -03:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-06-09 21:00:54.568 -03:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-06-09 21:00:54.568 -03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-06-09 21:00:54.568 -03:00 [DBG] Start token request.
2019-06-09 21:00:54.568 -03:00 [DBG] Start client validation
2019-06-09 21:00:54.568 -03:00 [DBG] Start parsing Basic Authentication secret
2019-06-09 21:00:54.568 -03:00 [DBG] Start parsing for secret in post body
2019-06-09 21:00:54.568 -03:00 [DBG] Parser found secret: PostBodySecretParser
2019-06-09 21:00:54.568 -03:00 [DBG] Secret id found: ro.client
2019-06-09 21:00:54.572 -03:00 [DBG] ro.client found in database: true
2019-06-09 21:00:54.572 -03:00 [DBG] client configuration validation for client ro.client succeeded.
2019-06-09 21:00:54.572 -03:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-06-09 21:00:54.572 -03:00 [DBG] Client validation success
2019-06-09 21:00:54.572 -03:00 [INF] {"ClientId":"ro.client","AuthenticationMethod":"SharedSecret","Category":"Authentication","Name":"Client Authentication Success","EventType":"Success","Id":1010,"Message":null,"ActivityId":"0HLND63T1LU2G:00000002","TimeStamp":"2019-06-10T00:00:54.0000000Z","ProcessId":26336,"LocalIpAddress":"127.0.0.1:30253","RemoteIpAddress":"::1","$type":"ClientAuthenticationSuccessEvent"}
2019-06-09 21:00:54.572 -03:00 [DBG] Start token request validation
2019-06-09 21:00:54.573 -03:00 [DBG] Start resource owner password token request validation
2019-06-09 21:00:54.575 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 21:00:54.581 -03:00 [DBG] Found ["api1"] API scopes in database
2019-06-09 21:00:54.583 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 21:00:54.586 -03:00 [DBG] Found ["api1"] API scopes in database
2019-06-09 21:00:54.595 -03:00 [INF] Credentials validated for username: alice
2019-06-09 21:00:54.595 -03:00 [INF] {"Username":"alice","Provider":null,"ProviderUserId":null,"SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","DisplayName":"alice","Endpoint":"Token","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HLND63T1LU2G:00000002","TimeStamp":"2019-06-10T00:00:54.0000000Z","ProcessId":26336,"LocalIpAddress":"127.0.0.1:30253","RemoteIpAddress":"::1","$type":"UserLoginSuccessEvent"}
2019-06-09 21:00:54.596 -03:00 [INF] {"Username":"alice","Provider":null,"ProviderUserId":null,"SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","DisplayName":null,"Endpoint":"Token","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HLND63T1LU2G:00000002","TimeStamp":"2019-06-10T00:00:54.0000000Z","ProcessId":26336,"LocalIpAddress":"127.0.0.1:30253","RemoteIpAddress":"::1","$type":"UserLoginSuccessEvent"}
2019-06-09 21:00:54.596 -03:00 [DBG] Resource owner password token request validation success.
2019-06-09 21:00:54.596 -03:00 [INF] Token request validation success
{"ClientId":"ro.client","ClientName":null,"GrantType":"password","Scopes":"api1 openid profile","AuthorizationCode":null,"RefreshToken":null,"UserName":"alice","AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"grant_type":"password","client_id":"ro.client","client_secret":"***REDACTED***","scope":"openid profile api1","username":"alice","password":"***REDACTED***"},"$type":"TokenRequestValidationLog"}
2019-06-09 21:00:54.596 -03:00 [DBG] Getting claims for access token for client: ro.client
2019-06-09 21:00:54.596 -03:00 [DBG] Getting claims for access token for subject: 4ba1c3a0-b786-421d-b88a-740f38d9cafa
2019-06-09 21:00:54.603 -03:00 [INF] {"ClientId":"ro.client","ClientName":null,"RedirectUri":null,"Endpoint":"Token","SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","Scopes":"openid profile api1","GrantType":"password","Tokens":[{"TokenType":"access_token","TokenValue":"****oFsQ","$type":"Token"}],"Category":"Token","Name":"Token Issued Success","EventType":"Success","Id":2000,"Message":null,"ActivityId":"0HLND63T1LU2G:00000002","TimeStamp":"2019-06-10T00:00:54.0000000Z","ProcessId":26336,"LocalIpAddress":"127.0.0.1:30253","RemoteIpAddress":"::1","$type":"TokenIssuedSuccessEvent"}
2019-06-09 21:00:54.604 -03:00 [DBG] Token request success.
2019-06-09 21:01:11.242 -03:00 [DBG] CORS request made for path: /connect/token from origin: http://localhost:3000
2019-06-09 21:01:11.246 -03:00 [DBG] Origin http://localhost:3000 is allowed: false
2019-06-09 21:01:11.246 -03:00 [WRN] CorsPolicyService did not allow origin: http://localhost:3000
2019-06-09 21:01:11.246 -03:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-06-09 21:01:11.246 -03:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-06-09 21:01:11.246 -03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-06-09 21:01:11.246 -03:00 [DBG] Start token request.
2019-06-09 21:01:11.246 -03:00 [DBG] Start client validation
2019-06-09 21:01:11.246 -03:00 [DBG] Start parsing Basic Authentication secret
2019-06-09 21:01:11.246 -03:00 [DBG] Start parsing for secret in post body
2019-06-09 21:01:11.247 -03:00 [DBG] Parser found secret: PostBodySecretParser
2019-06-09 21:01:11.247 -03:00 [DBG] Secret id found: ro.client
2019-06-09 21:01:11.268 -03:00 [DBG] ro.client found in database: true
2019-06-09 21:01:11.268 -03:00 [DBG] client configuration validation for client ro.client succeeded.
2019-06-09 21:01:11.268 -03:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-06-09 21:01:11.268 -03:00 [DBG] Client validation success
2019-06-09 21:01:11.268 -03:00 [INF] {"ClientId":"ro.client","AuthenticationMethod":"SharedSecret","Category":"Authentication","Name":"Client Authentication Success","EventType":"Success","Id":1010,"Message":null,"ActivityId":"0HLND63T1LU2G:00000003","TimeStamp":"2019-06-10T00:01:11.0000000Z","ProcessId":26336,"LocalIpAddress":"127.0.0.1:30253","RemoteIpAddress":"::1","$type":"ClientAuthenticationSuccessEvent"}
2019-06-09 21:01:11.268 -03:00 [DBG] Start token request validation
2019-06-09 21:01:11.268 -03:00 [DBG] Start resource owner password token request validation
2019-06-09 21:01:11.276 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 21:01:11.338 -03:00 [DBG] Found ["api1"] API scopes in database
2019-06-09 21:01:11.340 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 21:01:11.343 -03:00 [DBG] Found ["api1"] API scopes in database
2019-06-09 21:01:11.355 -03:00 [INF] Credentials validated for username: alice
2019-06-09 21:01:11.355 -03:00 [INF] {"Username":"alice","Provider":null,"ProviderUserId":null,"SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","DisplayName":"alice","Endpoint":"Token","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HLND63T1LU2G:00000003","TimeStamp":"2019-06-10T00:01:11.0000000Z","ProcessId":26336,"LocalIpAddress":"127.0.0.1:30253","RemoteIpAddress":"::1","$type":"UserLoginSuccessEvent"}
2019-06-09 21:01:11.355 -03:00 [INF] {"Username":"alice","Provider":null,"ProviderUserId":null,"SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","DisplayName":null,"Endpoint":"Token","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HLND63T1LU2G:00000003","TimeStamp":"2019-06-10T00:01:11.0000000Z","ProcessId":26336,"LocalIpAddress":"127.0.0.1:30253","RemoteIpAddress":"::1","$type":"UserLoginSuccessEvent"}
2019-06-09 21:01:11.355 -03:00 [DBG] Resource owner password token request validation success.
2019-06-09 21:01:11.355 -03:00 [INF] Token request validation success
{"ClientId":"ro.client","ClientName":null,"GrantType":"password","Scopes":"api1 openid profile","AuthorizationCode":null,"RefreshToken":null,"UserName":"alice","AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"grant_type":"password","client_id":"ro.client","client_secret":"***REDACTED***","scope":"openid profile api1","username":"alice","password":"***REDACTED***"},"$type":"TokenRequestValidationLog"}
2019-06-09 21:01:11.355 -03:00 [DBG] Getting claims for access token for client: ro.client
2019-06-09 21:01:11.355 -03:00 [DBG] Getting claims for access token for subject: 4ba1c3a0-b786-421d-b88a-740f38d9cafa
2019-06-09 21:01:11.364 -03:00 [INF] {"ClientId":"ro.client","ClientName":null,"RedirectUri":null,"Endpoint":"Token","SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","Scopes":"openid profile api1","GrantType":"password","Tokens":[{"TokenType":"access_token","TokenValue":"****72LA","$type":"Token"}],"Category":"Token","Name":"Token Issued Success","EventType":"Success","Id":2000,"Message":null,"ActivityId":"0HLND63T1LU2G:00000003","TimeStamp":"2019-06-10T00:01:11.0000000Z","ProcessId":26336,"LocalIpAddress":"127.0.0.1:30253","RemoteIpAddress":"::1","$type":"TokenIssuedSuccessEvent"}
2019-06-09 21:01:11.364 -03:00 [DBG] Token request success.
2019-06-09 21:01:25.440 -03:00 [DBG] CORS request made for path: /connect/token from origin: http://localhost:3000
2019-06-09 21:01:25.442 -03:00 [DBG] Origin http://localhost:3000 is allowed: false
2019-06-09 21:01:25.442 -03:00 [WRN] CorsPolicyService did not allow origin: http://localhost:3000
2019-06-09 21:01:25.443 -03:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-06-09 21:01:25.443 -03:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-06-09 21:01:25.443 -03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-06-09 21:01:25.443 -03:00 [DBG] Start token request.
2019-06-09 21:01:25.443 -03:00 [DBG] Start client validation
2019-06-09 21:01:25.443 -03:00 [DBG] Start parsing Basic Authentication secret
2019-06-09 21:01:25.443 -03:00 [DBG] Start parsing for secret in post body
2019-06-09 21:01:25.443 -03:00 [DBG] Parser found secret: PostBodySecretParser
2019-06-09 21:01:25.444 -03:00 [DBG] Secret id found: ro.client
2019-06-09 21:01:25.457 -03:00 [DBG] ro.client found in database: true
2019-06-09 21:01:25.457 -03:00 [DBG] client configuration validation for client ro.client succeeded.
2019-06-09 21:01:25.457 -03:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-06-09 21:01:25.457 -03:00 [DBG] Client validation success
2019-06-09 21:01:25.457 -03:00 [INF] {"ClientId":"ro.client","AuthenticationMethod":"SharedSecret","Category":"Authentication","Name":"Client Authentication Success","EventType":"Success","Id":1010,"Message":null,"ActivityId":"0HLND63T1LU2G:00000004","TimeStamp":"2019-06-10T00:01:25.0000000Z","ProcessId":26336,"LocalIpAddress":"127.0.0.1:30253","RemoteIpAddress":"::1","$type":"ClientAuthenticationSuccessEvent"}
2019-06-09 21:01:25.457 -03:00 [DBG] Start token request validation
2019-06-09 21:01:25.457 -03:00 [DBG] Start resource owner password token request validation
2019-06-09 21:01:25.459 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 21:01:25.462 -03:00 [DBG] Found ["api1"] API scopes in database
2019-06-09 21:01:25.464 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 21:01:25.467 -03:00 [DBG] Found ["api1"] API scopes in database
2019-06-09 21:01:25.477 -03:00 [INF] Credentials validated for username: alice
2019-06-09 21:01:25.478 -03:00 [INF] {"Username":"alice","Provider":null,"ProviderUserId":null,"SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","DisplayName":"alice","Endpoint":"Token","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HLND63T1LU2G:00000004","TimeStamp":"2019-06-10T00:01:25.0000000Z","ProcessId":26336,"LocalIpAddress":"127.0.0.1:30253","RemoteIpAddress":"::1","$type":"UserLoginSuccessEvent"}
2019-06-09 21:01:25.478 -03:00 [INF] {"Username":"alice","Provider":null,"ProviderUserId":null,"SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","DisplayName":null,"Endpoint":"Token","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HLND63T1LU2G:00000004","TimeStamp":"2019-06-10T00:01:25.0000000Z","ProcessId":26336,"LocalIpAddress":"127.0.0.1:30253","RemoteIpAddress":"::1","$type":"UserLoginSuccessEvent"}
2019-06-09 21:01:25.478 -03:00 [DBG] Resource owner password token request validation success.
2019-06-09 21:01:25.478 -03:00 [INF] Token request validation success
{"ClientId":"ro.client","ClientName":null,"GrantType":"password","Scopes":"api1 openid profile","AuthorizationCode":null,"RefreshToken":null,"UserName":"alice","AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"grant_type":"password","client_id":"ro.client","client_secret":"***REDACTED***","scope":"openid profile api1","username":"alice","password":"***REDACTED***"},"$type":"TokenRequestValidationLog"}
2019-06-09 21:01:25.478 -03:00 [DBG] Getting claims for access token for client: ro.client
2019-06-09 21:01:25.478 -03:00 [DBG] Getting claims for access token for subject: 4ba1c3a0-b786-421d-b88a-740f38d9cafa
2019-06-09 21:01:25.484 -03:00 [INF] {"ClientId":"ro.client","ClientName":null,"RedirectUri":null,"Endpoint":"Token","SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","Scopes":"openid profile api1","GrantType":"password","Tokens":[{"TokenType":"access_token","TokenValue":"****Ufjw","$type":"Token"}],"Category":"Token","Name":"Token Issued Success","EventType":"Success","Id":2000,"Message":null,"ActivityId":"0HLND63T1LU2G:00000004","TimeStamp":"2019-06-10T00:01:25.0000000Z","ProcessId":26336,"LocalIpAddress":"127.0.0.1:30253","RemoteIpAddress":"::1","$type":"TokenIssuedSuccessEvent"}
2019-06-09 21:01:25.484 -03:00 [DBG] Token request success.
2019-06-09 21:01:44.819 -03:00 [DBG] CORS request made for path: /connect/token from origin: http://localhost:3000
2019-06-09 21:01:44.821 -03:00 [DBG] Origin http://localhost:3000 is allowed: false
2019-06-09 21:01:44.821 -03:00 [WRN] CorsPolicyService did not allow origin: http://localhost:3000
2019-06-09 21:01:44.821 -03:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-06-09 21:01:44.821 -03:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-06-09 21:01:44.821 -03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-06-09 21:01:44.821 -03:00 [DBG] Start token request.
2019-06-09 21:01:44.821 -03:00 [DBG] Start client validation
2019-06-09 21:01:44.821 -03:00 [DBG] Start parsing Basic Authentication secret
2019-06-09 21:01:44.821 -03:00 [DBG] Start parsing for secret in post body
2019-06-09 21:01:44.821 -03:00 [DBG] Parser found secret: PostBodySecretParser
2019-06-09 21:01:44.822 -03:00 [DBG] Secret id found: ro.client
2019-06-09 21:01:44.825 -03:00 [DBG] ro.client found in database: true
2019-06-09 21:01:44.825 -03:00 [DBG] client configuration validation for client ro.client succeeded.
2019-06-09 21:01:44.826 -03:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-06-09 21:01:44.826 -03:00 [DBG] Client validation success
2019-06-09 21:01:44.826 -03:00 [INF] {"ClientId":"ro.client","AuthenticationMethod":"SharedSecret","Category":"Authentication","Name":"Client Authentication Success","EventType":"Success","Id":1010,"Message":null,"ActivityId":"0HLND63T1LU2G:00000005","TimeStamp":"2019-06-10T00:01:44.0000000Z","ProcessId":26336,"LocalIpAddress":"127.0.0.1:30253","RemoteIpAddress":"::1","$type":"ClientAuthenticationSuccessEvent"}
2019-06-09 21:01:44.826 -03:00 [DBG] Start token request validation
2019-06-09 21:01:44.826 -03:00 [DBG] Start resource owner password token request validation
2019-06-09 21:01:44.830 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 21:01:44.834 -03:00 [DBG] Found ["api1"] API scopes in database
2019-06-09 21:01:44.836 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 21:01:44.839 -03:00 [DBG] Found ["api1"] API scopes in database
2019-06-09 21:01:44.849 -03:00 [INF] Credentials validated for username: alice
2019-06-09 21:01:44.849 -03:00 [INF] {"Username":"alice","Provider":null,"ProviderUserId":null,"SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","DisplayName":"alice","Endpoint":"Token","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HLND63T1LU2G:00000005","TimeStamp":"2019-06-10T00:01:44.0000000Z","ProcessId":26336,"LocalIpAddress":"127.0.0.1:30253","RemoteIpAddress":"::1","$type":"UserLoginSuccessEvent"}
2019-06-09 21:01:44.849 -03:00 [INF] {"Username":"alice","Provider":null,"ProviderUserId":null,"SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","DisplayName":null,"Endpoint":"Token","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HLND63T1LU2G:00000005","TimeStamp":"2019-06-10T00:01:44.0000000Z","ProcessId":26336,"LocalIpAddress":"127.0.0.1:30253","RemoteIpAddress":"::1","$type":"UserLoginSuccessEvent"}
2019-06-09 21:01:44.850 -03:00 [DBG] Resource owner password token request validation success.
2019-06-09 21:01:44.850 -03:00 [INF] Token request validation success
{"ClientId":"ro.client","ClientName":null,"GrantType":"password","Scopes":"api1 openid profile","AuthorizationCode":null,"RefreshToken":null,"UserName":"alice","AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"grant_type":"password","client_id":"ro.client","client_secret":"***REDACTED***","scope":"openid profile api1","username":"alice","password":"***REDACTED***"},"$type":"TokenRequestValidationLog"}
2019-06-09 21:01:44.850 -03:00 [DBG] Getting claims for access token for client: ro.client
2019-06-09 21:01:44.850 -03:00 [DBG] Getting claims for access token for subject: 4ba1c3a0-b786-421d-b88a-740f38d9cafa
2019-06-09 21:01:44.858 -03:00 [INF] {"ClientId":"ro.client","ClientName":null,"RedirectUri":null,"Endpoint":"Token","SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","Scopes":"openid profile api1","GrantType":"password","Tokens":[{"TokenType":"access_token","TokenValue":"****Wosw","$type":"Token"}],"Category":"Token","Name":"Token Issued Success","EventType":"Success","Id":2000,"Message":null,"ActivityId":"0HLND63T1LU2G:00000005","TimeStamp":"2019-06-10T00:01:44.0000000Z","ProcessId":26336,"LocalIpAddress":"127.0.0.1:30253","RemoteIpAddress":"::1","$type":"TokenIssuedSuccessEvent"}
2019-06-09 21:01:44.858 -03:00 [DBG] Token request success.
2019-06-09 21:02:22.753 -03:00 [DBG] CORS request made for path: /connect/token from origin: http://localhost:3000
2019-06-09 21:02:22.756 -03:00 [DBG] Origin http://localhost:3000 is allowed: false
2019-06-09 21:02:22.756 -03:00 [WRN] CorsPolicyService did not allow origin: http://localhost:3000
2019-06-09 21:02:22.756 -03:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-06-09 21:02:22.756 -03:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-06-09 21:02:22.756 -03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-06-09 21:02:22.756 -03:00 [DBG] Start token request.
2019-06-09 21:02:22.756 -03:00 [DBG] Start client validation
2019-06-09 21:02:22.756 -03:00 [DBG] Start parsing Basic Authentication secret
2019-06-09 21:02:22.757 -03:00 [DBG] Start parsing for secret in post body
2019-06-09 21:02:22.758 -03:00 [DBG] Parser found secret: PostBodySecretParser
2019-06-09 21:02:22.758 -03:00 [DBG] Secret id found: ro.client
2019-06-09 21:02:22.784 -03:00 [DBG] ro.client found in database: true
2019-06-09 21:02:22.784 -03:00 [DBG] client configuration validation for client ro.client succeeded.
2019-06-09 21:02:22.784 -03:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-06-09 21:02:22.784 -03:00 [DBG] Client validation success
2019-06-09 21:02:22.784 -03:00 [INF] {"ClientId":"ro.client","AuthenticationMethod":"SharedSecret","Category":"Authentication","Name":"Client Authentication Success","EventType":"Success","Id":1010,"Message":null,"ActivityId":"0HLND63T1LU2G:00000006","TimeStamp":"2019-06-10T00:02:22.0000000Z","ProcessId":26336,"LocalIpAddress":"127.0.0.1:30253","RemoteIpAddress":"::1","$type":"ClientAuthenticationSuccessEvent"}
2019-06-09 21:02:22.784 -03:00 [DBG] Start token request validation
2019-06-09 21:02:22.784 -03:00 [DBG] Start resource owner password token request validation
2019-06-09 21:02:22.792 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 21:02:22.857 -03:00 [DBG] Found ["api1"] API scopes in database
2019-06-09 21:02:22.860 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 21:02:22.863 -03:00 [DBG] Found ["api1"] API scopes in database
2019-06-09 21:02:22.873 -03:00 [INF] Credentials validated for username: alice
2019-06-09 21:02:22.873 -03:00 [INF] {"Username":"alice","Provider":null,"ProviderUserId":null,"SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","DisplayName":"alice","Endpoint":"Token","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HLND63T1LU2G:00000006","TimeStamp":"2019-06-10T00:02:22.0000000Z","ProcessId":26336,"LocalIpAddress":"127.0.0.1:30253","RemoteIpAddress":"::1","$type":"UserLoginSuccessEvent"}
2019-06-09 21:02:22.874 -03:00 [INF] {"Username":"alice","Provider":null,"ProviderUserId":null,"SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","DisplayName":null,"Endpoint":"Token","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HLND63T1LU2G:00000006","TimeStamp":"2019-06-10T00:02:22.0000000Z","ProcessId":26336,"LocalIpAddress":"127.0.0.1:30253","RemoteIpAddress":"::1","$type":"UserLoginSuccessEvent"}
2019-06-09 21:02:22.874 -03:00 [DBG] Resource owner password token request validation success.
2019-06-09 21:02:22.875 -03:00 [INF] Token request validation success
{"ClientId":"ro.client","ClientName":null,"GrantType":"password","Scopes":"api1 openid profile","AuthorizationCode":null,"RefreshToken":null,"UserName":"alice","AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"grant_type":"password","client_id":"ro.client","client_secret":"***REDACTED***","scope":"openid profile api1","username":"alice","password":"***REDACTED***"},"$type":"TokenRequestValidationLog"}
2019-06-09 21:02:22.875 -03:00 [DBG] Getting claims for access token for client: ro.client
2019-06-09 21:02:22.875 -03:00 [DBG] Getting claims for access token for subject: 4ba1c3a0-b786-421d-b88a-740f38d9cafa
2019-06-09 21:02:22.889 -03:00 [INF] {"ClientId":"ro.client","ClientName":null,"RedirectUri":null,"Endpoint":"Token","SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","Scopes":"openid profile api1","GrantType":"password","Tokens":[{"TokenType":"access_token","TokenValue":"****u_0w","$type":"Token"}],"Category":"Token","Name":"Token Issued Success","EventType":"Success","Id":2000,"Message":null,"ActivityId":"0HLND63T1LU2G:00000006","TimeStamp":"2019-06-10T00:02:22.0000000Z","ProcessId":26336,"LocalIpAddress":"127.0.0.1:30253","RemoteIpAddress":"::1","$type":"TokenIssuedSuccessEvent"}
2019-06-09 21:02:22.889 -03:00 [DBG] Token request success.
2019-06-09 21:02:22.927 -03:00 [DBG] CORS request made for path: /connect/userinfo from origin: http://localhost:3000
2019-06-09 21:02:22.929 -03:00 [DBG] Origin http://localhost:3000 is allowed: false
2019-06-09 21:02:22.929 -03:00 [WRN] CorsPolicyService did not allow origin: http://localhost:3000
2019-06-09 21:02:22.929 -03:00 [DBG] Request path /connect/userinfo matched to endpoint type Userinfo
2019-06-09 21:02:22.931 -03:00 [DBG] Endpoint enabled: Userinfo, successfully created handler: IdentityServer4.Endpoints.UserInfoEndpoint
2019-06-09 21:02:22.931 -03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.UserInfoEndpoint for /connect/userinfo
2019-06-09 21:02:22.937 -03:00 [DBG] Start userinfo request
2019-06-09 21:02:22.942 -03:00 [DBG] Bearer token found in header
2019-06-09 21:02:22.996 -03:00 [DBG] ro.client found in database: true
2019-06-09 21:02:22.996 -03:00 [DBG] client configuration validation for client ro.client succeeded.
2019-06-09 21:02:23.003 -03:00 [DBG] ro.client found in database: true
2019-06-09 21:02:23.004 -03:00 [DBG] client configuration validation for client ro.client succeeded.
2019-06-09 21:02:23.020 -03:00 [DBG] Calling into custom token validator: IdentityServer4.Validation.DefaultCustomTokenValidator
2019-06-09 21:02:23.021 -03:00 [DBG] Token validation success
{"ClientId":null,"ClientName":null,"ValidateLifetime":true,"AccessTokenType":"Jwt","ExpectedScope":"openid","TokenHandle":null,"JwtId":null,"Claims":{"nbf":1560124942,"exp":1560128542,"iss":"http://localhost:5000","aud":["http://localhost:5000/resources","api1"],"client_id":"ro.client","sub":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","auth_time":1560124942,"idp":"local","scope":["openid","profile","api1"],"amr":"pwd"},"$type":"TokenValidationLog"}
2019-06-09 21:02:23.032 -03:00 [DBG] Creating userinfo response
2019-06-09 21:02:23.035 -03:00 [DBG] Scopes in access token: openid profile api1
2019-06-09 21:02:23.037 -03:00 [DBG] Scopes in access token: openid profile api1
2019-06-09 21:02:23.044 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 21:02:23.045 -03:00 [DBG] Requested claim types: sub name family_name given_name middle_name nickname preferred_username profile picture website gender birthdate zoneinfo locale updated_at
2019-06-09 21:02:23.045 -03:00 [DBG] Scopes in access token: openid profile api1
2019-06-09 21:02:23.047 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 21:02:23.077 -03:00 [INF] Profile service returned the following claim types: sub name given_name family_name website preferred_username
2019-06-09 21:02:23.077 -03:00 [DBG] End userinfo request
2019-06-09 21:03:53.432 -03:00 [DBG] CORS request made for path: /connect/token from origin: http://localhost:3000
2019-06-09 21:03:53.437 -03:00 [DBG] Origin http://localhost:3000 is allowed: false
2019-06-09 21:03:53.437 -03:00 [WRN] CorsPolicyService did not allow origin: http://localhost:3000
2019-06-09 21:03:53.438 -03:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-06-09 21:03:53.439 -03:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-06-09 21:03:53.439 -03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-06-09 21:03:53.439 -03:00 [DBG] Start token request.
2019-06-09 21:03:53.439 -03:00 [DBG] Start client validation
2019-06-09 21:03:53.439 -03:00 [DBG] Start parsing Basic Authentication secret
2019-06-09 21:03:53.439 -03:00 [DBG] Start parsing for secret in post body
2019-06-09 21:03:53.439 -03:00 [DBG] Parser found secret: PostBodySecretParser
2019-06-09 21:03:53.439 -03:00 [DBG] Secret id found: ro.client
2019-06-09 21:03:53.459 -03:00 [DBG] ro.client found in database: true
2019-06-09 21:03:53.460 -03:00 [DBG] client configuration validation for client ro.client succeeded.
2019-06-09 21:03:53.460 -03:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-06-09 21:03:53.460 -03:00 [DBG] Client validation success
2019-06-09 21:03:53.460 -03:00 [INF] {"ClientId":"ro.client","AuthenticationMethod":"SharedSecret","Category":"Authentication","Name":"Client Authentication Success","EventType":"Success","Id":1010,"Message":null,"ActivityId":"0HLND63T1LU2H:00000001","TimeStamp":"2019-06-10T00:03:53.0000000Z","ProcessId":26336,"LocalIpAddress":"127.0.0.1:30253","RemoteIpAddress":"::1","$type":"ClientAuthenticationSuccessEvent"}
2019-06-09 21:03:53.460 -03:00 [DBG] Start token request validation
2019-06-09 21:03:53.460 -03:00 [DBG] Start resource owner password token request validation
2019-06-09 21:03:53.466 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 21:03:53.530 -03:00 [DBG] Found ["api1"] API scopes in database
2019-06-09 21:03:53.531 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 21:03:53.534 -03:00 [DBG] Found ["api1"] API scopes in database
2019-06-09 21:03:53.544 -03:00 [INF] Credentials validated for username: alice
2019-06-09 21:03:53.544 -03:00 [INF] {"Username":"alice","Provider":null,"ProviderUserId":null,"SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","DisplayName":"alice","Endpoint":"Token","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HLND63T1LU2H:00000001","TimeStamp":"2019-06-10T00:03:53.0000000Z","ProcessId":26336,"LocalIpAddress":"127.0.0.1:30253","RemoteIpAddress":"::1","$type":"UserLoginSuccessEvent"}
2019-06-09 21:03:53.544 -03:00 [INF] {"Username":"alice","Provider":null,"ProviderUserId":null,"SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","DisplayName":null,"Endpoint":"Token","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HLND63T1LU2H:00000001","TimeStamp":"2019-06-10T00:03:53.0000000Z","ProcessId":26336,"LocalIpAddress":"127.0.0.1:30253","RemoteIpAddress":"::1","$type":"UserLoginSuccessEvent"}
2019-06-09 21:03:53.544 -03:00 [DBG] Resource owner password token request validation success.
2019-06-09 21:03:53.545 -03:00 [INF] Token request validation success
{"ClientId":"ro.client","ClientName":null,"GrantType":"password","Scopes":"api1 openid profile","AuthorizationCode":null,"RefreshToken":null,"UserName":"alice","AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"grant_type":"password","client_id":"ro.client","client_secret":"***REDACTED***","scope":"openid profile api1","username":"alice","password":"***REDACTED***"},"$type":"TokenRequestValidationLog"}
2019-06-09 21:03:53.545 -03:00 [DBG] Getting claims for access token for client: ro.client
2019-06-09 21:03:53.545 -03:00 [DBG] Getting claims for access token for subject: 4ba1c3a0-b786-421d-b88a-740f38d9cafa
2019-06-09 21:03:53.552 -03:00 [INF] {"ClientId":"ro.client","ClientName":null,"RedirectUri":null,"Endpoint":"Token","SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","Scopes":"openid profile api1","GrantType":"password","Tokens":[{"TokenType":"access_token","TokenValue":"****ZMWQ","$type":"Token"}],"Category":"Token","Name":"Token Issued Success","EventType":"Success","Id":2000,"Message":null,"ActivityId":"0HLND63T1LU2H:00000001","TimeStamp":"2019-06-10T00:03:53.0000000Z","ProcessId":26336,"LocalIpAddress":"127.0.0.1:30253","RemoteIpAddress":"::1","$type":"TokenIssuedSuccessEvent"}
2019-06-09 21:03:53.552 -03:00 [DBG] Token request success.
2019-06-09 21:03:53.593 -03:00 [DBG] CORS request made for path: /connect/userinfo from origin: http://localhost:3000
2019-06-09 21:03:53.594 -03:00 [DBG] Origin http://localhost:3000 is allowed: false
2019-06-09 21:03:53.595 -03:00 [WRN] CorsPolicyService did not allow origin: http://localhost:3000
2019-06-09 21:03:53.595 -03:00 [DBG] Request path /connect/userinfo matched to endpoint type Userinfo
2019-06-09 21:03:53.595 -03:00 [DBG] Endpoint enabled: Userinfo, successfully created handler: IdentityServer4.Endpoints.UserInfoEndpoint
2019-06-09 21:03:53.595 -03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.UserInfoEndpoint for /connect/userinfo
2019-06-09 21:03:53.595 -03:00 [DBG] Start userinfo request
2019-06-09 21:03:53.595 -03:00 [DBG] Bearer token found in header
2019-06-09 21:03:53.604 -03:00 [DBG] ro.client found in database: true
2019-06-09 21:03:53.604 -03:00 [DBG] client configuration validation for client ro.client succeeded.
2019-06-09 21:03:53.608 -03:00 [DBG] ro.client found in database: true
2019-06-09 21:03:53.608 -03:00 [DBG] client configuration validation for client ro.client succeeded.
2019-06-09 21:03:53.621 -03:00 [DBG] Calling into custom token validator: IdentityServer4.Validation.DefaultCustomTokenValidator
2019-06-09 21:03:53.621 -03:00 [DBG] Token validation success
{"ClientId":null,"ClientName":null,"ValidateLifetime":true,"AccessTokenType":"Jwt","ExpectedScope":"openid","TokenHandle":null,"JwtId":null,"Claims":{"nbf":1560125033,"exp":1560128633,"iss":"http://localhost:5000","aud":["http://localhost:5000/resources","api1"],"client_id":"ro.client","sub":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","auth_time":1560125033,"idp":"local","scope":["openid","profile","api1"],"amr":"pwd"},"$type":"TokenValidationLog"}
2019-06-09 21:03:53.622 -03:00 [DBG] Creating userinfo response
2019-06-09 21:03:53.622 -03:00 [DBG] Scopes in access token: openid profile api1
2019-06-09 21:03:53.622 -03:00 [DBG] Scopes in access token: openid profile api1
2019-06-09 21:03:53.628 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 21:03:53.628 -03:00 [DBG] Requested claim types: sub name family_name given_name middle_name nickname preferred_username profile picture website gender birthdate zoneinfo locale updated_at
2019-06-09 21:03:53.628 -03:00 [DBG] Scopes in access token: openid profile api1
2019-06-09 21:03:53.630 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 21:03:53.634 -03:00 [INF] Profile service returned the following claim types: sub name given_name family_name website preferred_username
2019-06-09 21:03:53.634 -03:00 [DBG] End userinfo request
2019-06-09 21:04:27.325 -03:00 [DBG] CORS request made for path: /connect/token from origin: http://localhost:3000
2019-06-09 21:04:27.331 -03:00 [DBG] Origin http://localhost:3000 is allowed: false
2019-06-09 21:04:27.331 -03:00 [WRN] CorsPolicyService did not allow origin: http://localhost:3000
2019-06-09 21:04:27.331 -03:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-06-09 21:04:27.331 -03:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-06-09 21:04:27.331 -03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-06-09 21:04:27.331 -03:00 [DBG] Start token request.
2019-06-09 21:04:27.331 -03:00 [DBG] Start client validation
2019-06-09 21:04:27.331 -03:00 [DBG] Start parsing Basic Authentication secret
2019-06-09 21:04:27.331 -03:00 [DBG] Start parsing for secret in post body
2019-06-09 21:04:27.331 -03:00 [DBG] Parser found secret: PostBodySecretParser
2019-06-09 21:04:27.332 -03:00 [DBG] Secret id found: ro.client
2019-06-09 21:04:27.355 -03:00 [DBG] ro.client found in database: true
2019-06-09 21:04:27.355 -03:00 [DBG] client configuration validation for client ro.client succeeded.
2019-06-09 21:04:27.355 -03:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-06-09 21:04:27.355 -03:00 [DBG] Client validation success
2019-06-09 21:04:27.355 -03:00 [INF] {"ClientId":"ro.client","AuthenticationMethod":"SharedSecret","Category":"Authentication","Name":"Client Authentication Success","EventType":"Success","Id":1010,"Message":null,"ActivityId":"0HLND63T1LU2H:00000004","TimeStamp":"2019-06-10T00:04:27.0000000Z","ProcessId":26336,"LocalIpAddress":"127.0.0.1:30253","RemoteIpAddress":"::1","$type":"ClientAuthenticationSuccessEvent"}
2019-06-09 21:04:27.355 -03:00 [DBG] Start token request validation
2019-06-09 21:04:27.355 -03:00 [DBG] Start resource owner password token request validation
2019-06-09 21:04:27.365 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 21:04:27.427 -03:00 [DBG] Found ["api1"] API scopes in database
2019-06-09 21:04:27.429 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 21:04:27.432 -03:00 [DBG] Found ["api1"] API scopes in database
2019-06-09 21:04:27.442 -03:00 [INF] Credentials validated for username: alice
2019-06-09 21:04:27.442 -03:00 [INF] {"Username":"alice","Provider":null,"ProviderUserId":null,"SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","DisplayName":"alice","Endpoint":"Token","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HLND63T1LU2H:00000004","TimeStamp":"2019-06-10T00:04:27.0000000Z","ProcessId":26336,"LocalIpAddress":"127.0.0.1:30253","RemoteIpAddress":"::1","$type":"UserLoginSuccessEvent"}
2019-06-09 21:04:27.442 -03:00 [INF] {"Username":"alice","Provider":null,"ProviderUserId":null,"SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","DisplayName":null,"Endpoint":"Token","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HLND63T1LU2H:00000004","TimeStamp":"2019-06-10T00:04:27.0000000Z","ProcessId":26336,"LocalIpAddress":"127.0.0.1:30253","RemoteIpAddress":"::1","$type":"UserLoginSuccessEvent"}
2019-06-09 21:04:27.442 -03:00 [DBG] Resource owner password token request validation success.
2019-06-09 21:04:27.442 -03:00 [INF] Token request validation success
{"ClientId":"ro.client","ClientName":null,"GrantType":"password","Scopes":"api1 openid profile","AuthorizationCode":null,"RefreshToken":null,"UserName":"alice","AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"grant_type":"password","client_id":"ro.client","client_secret":"***REDACTED***","scope":"openid profile api1","username":"alice","password":"***REDACTED***"},"$type":"TokenRequestValidationLog"}
2019-06-09 21:04:27.443 -03:00 [DBG] Getting claims for access token for client: ro.client
2019-06-09 21:04:27.443 -03:00 [DBG] Getting claims for access token for subject: 4ba1c3a0-b786-421d-b88a-740f38d9cafa
2019-06-09 21:04:27.451 -03:00 [INF] {"ClientId":"ro.client","ClientName":null,"RedirectUri":null,"Endpoint":"Token","SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","Scopes":"openid profile api1","GrantType":"password","Tokens":[{"TokenType":"access_token","TokenValue":"****4uHg","$type":"Token"}],"Category":"Token","Name":"Token Issued Success","EventType":"Success","Id":2000,"Message":null,"ActivityId":"0HLND63T1LU2H:00000004","TimeStamp":"2019-06-10T00:04:27.0000000Z","ProcessId":26336,"LocalIpAddress":"127.0.0.1:30253","RemoteIpAddress":"::1","$type":"TokenIssuedSuccessEvent"}
2019-06-09 21:04:27.451 -03:00 [DBG] Token request success.
2019-06-09 21:04:27.487 -03:00 [DBG] CORS request made for path: /connect/userinfo from origin: http://localhost:3000
2019-06-09 21:04:27.489 -03:00 [DBG] Origin http://localhost:3000 is allowed: false
2019-06-09 21:04:27.489 -03:00 [WRN] CorsPolicyService did not allow origin: http://localhost:3000
2019-06-09 21:04:27.490 -03:00 [DBG] Request path /connect/userinfo matched to endpoint type Userinfo
2019-06-09 21:04:27.490 -03:00 [DBG] Endpoint enabled: Userinfo, successfully created handler: IdentityServer4.Endpoints.UserInfoEndpoint
2019-06-09 21:04:27.490 -03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.UserInfoEndpoint for /connect/userinfo
2019-06-09 21:04:27.490 -03:00 [DBG] Start userinfo request
2019-06-09 21:04:27.490 -03:00 [DBG] Bearer token found in header
2019-06-09 21:04:27.497 -03:00 [DBG] ro.client found in database: true
2019-06-09 21:04:27.497 -03:00 [DBG] client configuration validation for client ro.client succeeded.
2019-06-09 21:04:27.502 -03:00 [DBG] ro.client found in database: true
2019-06-09 21:04:27.502 -03:00 [DBG] client configuration validation for client ro.client succeeded.
2019-06-09 21:04:27.507 -03:00 [DBG] Calling into custom token validator: IdentityServer4.Validation.DefaultCustomTokenValidator
2019-06-09 21:04:27.507 -03:00 [DBG] Token validation success
{"ClientId":null,"ClientName":null,"ValidateLifetime":true,"AccessTokenType":"Jwt","ExpectedScope":"openid","TokenHandle":null,"JwtId":null,"Claims":{"nbf":1560125067,"exp":1560128667,"iss":"http://localhost:5000","aud":["http://localhost:5000/resources","api1"],"client_id":"ro.client","sub":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","auth_time":1560125067,"idp":"local","scope":["openid","profile","api1"],"amr":"pwd"},"$type":"TokenValidationLog"}
2019-06-09 21:04:27.507 -03:00 [DBG] Creating userinfo response
2019-06-09 21:04:27.507 -03:00 [DBG] Scopes in access token: openid profile api1
2019-06-09 21:04:27.507 -03:00 [DBG] Scopes in access token: openid profile api1
2019-06-09 21:04:27.516 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 21:04:27.516 -03:00 [DBG] Requested claim types: sub name family_name given_name middle_name nickname preferred_username profile picture website gender birthdate zoneinfo locale updated_at
2019-06-09 21:04:27.516 -03:00 [DBG] Scopes in access token: openid profile api1
2019-06-09 21:04:27.518 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 21:04:27.522 -03:00 [INF] Profile service returned the following claim types: sub name given_name family_name website preferred_username
2019-06-09 21:04:27.522 -03:00 [DBG] End userinfo request
2019-06-09 21:19:52.787 -03:00 [INF] Removing 0 grants
2019-06-09 21:54:26.654 -03:00 [DBG] CORS request made for path: /connect/token from origin: http://localhost:3000
2019-06-09 21:54:26.673 -03:00 [DBG] Origin http://localhost:3000 is allowed: false
2019-06-09 21:54:26.674 -03:00 [WRN] CorsPolicyService did not allow origin: http://localhost:3000
2019-06-09 21:54:26.674 -03:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-06-09 21:54:26.674 -03:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-06-09 21:54:26.675 -03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-06-09 21:54:26.675 -03:00 [DBG] Start token request.
2019-06-09 21:54:26.675 -03:00 [DBG] Start client validation
2019-06-09 21:54:26.675 -03:00 [DBG] Start parsing Basic Authentication secret
2019-06-09 21:54:26.675 -03:00 [DBG] Start parsing for secret in post body
2019-06-09 21:54:26.675 -03:00 [DBG] Parser found secret: PostBodySecretParser
2019-06-09 21:54:26.676 -03:00 [DBG] Secret id found: ro.client
2019-06-09 21:54:26.716 -03:00 [DBG] ro.client found in database: true
2019-06-09 21:54:26.716 -03:00 [DBG] client configuration validation for client ro.client succeeded.
2019-06-09 21:54:26.717 -03:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-06-09 21:54:26.717 -03:00 [DBG] Client validation success
2019-06-09 21:54:26.717 -03:00 [INF] {"ClientId":"ro.client","AuthenticationMethod":"SharedSecret","Category":"Authentication","Name":"Client Authentication Success","EventType":"Success","Id":1010,"Message":null,"ActivityId":"0HLND63T1LU2I:00000001","TimeStamp":"2019-06-10T00:54:26.0000000Z","ProcessId":26336,"LocalIpAddress":"127.0.0.1:30253","RemoteIpAddress":"::1","$type":"ClientAuthenticationSuccessEvent"}
2019-06-09 21:54:26.717 -03:00 [DBG] Start token request validation
2019-06-09 21:54:26.717 -03:00 [DBG] Start resource owner password token request validation
2019-06-09 21:54:26.731 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 21:54:26.912 -03:00 [DBG] Found ["api1"] API scopes in database
2019-06-09 21:54:26.917 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 21:54:26.926 -03:00 [DBG] Found ["api1"] API scopes in database
2019-06-09 21:54:26.949 -03:00 [INF] Credentials validated for username: alice
2019-06-09 21:54:26.949 -03:00 [INF] {"Username":"alice","Provider":null,"ProviderUserId":null,"SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","DisplayName":"alice","Endpoint":"Token","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HLND63T1LU2I:00000001","TimeStamp":"2019-06-10T00:54:26.0000000Z","ProcessId":26336,"LocalIpAddress":"127.0.0.1:30253","RemoteIpAddress":"::1","$type":"UserLoginSuccessEvent"}
2019-06-09 21:54:26.949 -03:00 [INF] {"Username":"alice","Provider":null,"ProviderUserId":null,"SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","DisplayName":null,"Endpoint":"Token","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HLND63T1LU2I:00000001","TimeStamp":"2019-06-10T00:54:26.0000000Z","ProcessId":26336,"LocalIpAddress":"127.0.0.1:30253","RemoteIpAddress":"::1","$type":"UserLoginSuccessEvent"}
2019-06-09 21:54:26.950 -03:00 [DBG] Resource owner password token request validation success.
2019-06-09 21:54:26.950 -03:00 [INF] Token request validation success
{"ClientId":"ro.client","ClientName":null,"GrantType":"password","Scopes":"api1 openid profile","AuthorizationCode":null,"RefreshToken":null,"UserName":"alice","AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"grant_type":"password","client_id":"ro.client","client_secret":"***REDACTED***","scope":"openid profile api1","username":"alice","password":"***REDACTED***"},"$type":"TokenRequestValidationLog"}
2019-06-09 21:54:26.950 -03:00 [DBG] Getting claims for access token for client: ro.client
2019-06-09 21:54:26.950 -03:00 [DBG] Getting claims for access token for subject: 4ba1c3a0-b786-421d-b88a-740f38d9cafa
2019-06-09 21:54:26.990 -03:00 [INF] {"ClientId":"ro.client","ClientName":null,"RedirectUri":null,"Endpoint":"Token","SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","Scopes":"openid profile api1","GrantType":"password","Tokens":[{"TokenType":"access_token","TokenValue":"****9WxQ","$type":"Token"}],"Category":"Token","Name":"Token Issued Success","EventType":"Success","Id":2000,"Message":null,"ActivityId":"0HLND63T1LU2I:00000001","TimeStamp":"2019-06-10T00:54:26.0000000Z","ProcessId":26336,"LocalIpAddress":"127.0.0.1:30253","RemoteIpAddress":"::1","$type":"TokenIssuedSuccessEvent"}
2019-06-09 21:54:26.991 -03:00 [DBG] Token request success.
2019-06-09 21:54:27.082 -03:00 [DBG] CORS request made for path: /connect/userinfo from origin: http://localhost:3000
2019-06-09 21:54:27.126 -03:00 [DBG] Origin http://localhost:3000 is allowed: false
2019-06-09 21:54:27.126 -03:00 [WRN] CorsPolicyService did not allow origin: http://localhost:3000
2019-06-09 21:54:27.127 -03:00 [DBG] Request path /connect/userinfo matched to endpoint type Userinfo
2019-06-09 21:54:27.128 -03:00 [DBG] Endpoint enabled: Userinfo, successfully created handler: IdentityServer4.Endpoints.UserInfoEndpoint
2019-06-09 21:54:27.128 -03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.UserInfoEndpoint for /connect/userinfo
2019-06-09 21:54:27.128 -03:00 [DBG] Start userinfo request
2019-06-09 21:54:27.128 -03:00 [DBG] Bearer token found in header
2019-06-09 21:54:27.158 -03:00 [DBG] ro.client found in database: true
2019-06-09 21:54:27.158 -03:00 [DBG] client configuration validation for client ro.client succeeded.
2019-06-09 21:54:27.170 -03:00 [DBG] ro.client found in database: true
2019-06-09 21:54:27.170 -03:00 [DBG] client configuration validation for client ro.client succeeded.
2019-06-09 21:54:27.178 -03:00 [DBG] Calling into custom token validator: IdentityServer4.Validation.DefaultCustomTokenValidator
2019-06-09 21:54:27.178 -03:00 [DBG] Token validation success
{"ClientId":null,"ClientName":null,"ValidateLifetime":true,"AccessTokenType":"Jwt","ExpectedScope":"openid","TokenHandle":null,"JwtId":null,"Claims":{"nbf":1560128066,"exp":1560131666,"iss":"http://localhost:5000","aud":["http://localhost:5000/resources","api1"],"client_id":"ro.client","sub":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","auth_time":1560128066,"idp":"local","scope":["openid","profile","api1"],"amr":"pwd"},"$type":"TokenValidationLog"}
2019-06-09 21:54:27.179 -03:00 [DBG] Creating userinfo response
2019-06-09 21:54:27.179 -03:00 [DBG] Scopes in access token: openid profile api1
2019-06-09 21:54:27.179 -03:00 [DBG] Scopes in access token: openid profile api1
2019-06-09 21:54:27.196 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 21:54:27.196 -03:00 [DBG] Requested claim types: sub name family_name given_name middle_name nickname preferred_username profile picture website gender birthdate zoneinfo locale updated_at
2019-06-09 21:54:27.196 -03:00 [DBG] Scopes in access token: openid profile api1
2019-06-09 21:54:27.200 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 21:54:27.218 -03:00 [INF] Profile service returned the following claim types: sub name given_name family_name website preferred_username
2019-06-09 21:54:27.218 -03:00 [DBG] End userinfo request
2019-06-09 21:54:44.397 -03:00 [DBG] CORS request made for path: /connect/token from origin: http://localhost:3000
2019-06-09 21:54:44.406 -03:00 [DBG] Origin http://localhost:3000 is allowed: false
2019-06-09 21:54:44.407 -03:00 [WRN] CorsPolicyService did not allow origin: http://localhost:3000
2019-06-09 21:54:44.407 -03:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-06-09 21:54:44.408 -03:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-06-09 21:54:44.408 -03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-06-09 21:54:44.408 -03:00 [DBG] Start token request.
2019-06-09 21:54:44.408 -03:00 [DBG] Start client validation
2019-06-09 21:54:44.408 -03:00 [DBG] Start parsing Basic Authentication secret
2019-06-09 21:54:44.408 -03:00 [DBG] Start parsing for secret in post body
2019-06-09 21:54:44.409 -03:00 [DBG] Parser found secret: PostBodySecretParser
2019-06-09 21:54:44.409 -03:00 [DBG] Secret id found: ro.client
2019-06-09 21:54:44.453 -03:00 [DBG] ro.client found in database: true
2019-06-09 21:54:44.453 -03:00 [DBG] client configuration validation for client ro.client succeeded.
2019-06-09 21:54:44.453 -03:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-06-09 21:54:44.453 -03:00 [DBG] Client validation success
2019-06-09 21:54:44.454 -03:00 [INF] {"ClientId":"ro.client","AuthenticationMethod":"SharedSecret","Category":"Authentication","Name":"Client Authentication Success","EventType":"Success","Id":1010,"Message":null,"ActivityId":"0HLND63T1LU2I:00000004","TimeStamp":"2019-06-10T00:54:44.0000000Z","ProcessId":26336,"LocalIpAddress":"127.0.0.1:30253","RemoteIpAddress":"::1","$type":"ClientAuthenticationSuccessEvent"}
2019-06-09 21:54:44.454 -03:00 [DBG] Start token request validation
2019-06-09 21:54:44.454 -03:00 [DBG] Start resource owner password token request validation
2019-06-09 21:54:44.468 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 21:54:44.581 -03:00 [DBG] Found ["api1"] API scopes in database
2019-06-09 21:54:44.585 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 21:54:44.589 -03:00 [DBG] Found ["api1"] API scopes in database
2019-06-09 21:54:44.607 -03:00 [INF] Credentials validated for username: alice
2019-06-09 21:54:44.607 -03:00 [INF] {"Username":"alice","Provider":null,"ProviderUserId":null,"SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","DisplayName":"alice","Endpoint":"Token","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HLND63T1LU2I:00000004","TimeStamp":"2019-06-10T00:54:44.0000000Z","ProcessId":26336,"LocalIpAddress":"127.0.0.1:30253","RemoteIpAddress":"::1","$type":"UserLoginSuccessEvent"}
2019-06-09 21:54:44.608 -03:00 [INF] {"Username":"alice","Provider":null,"ProviderUserId":null,"SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","DisplayName":null,"Endpoint":"Token","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HLND63T1LU2I:00000004","TimeStamp":"2019-06-10T00:54:44.0000000Z","ProcessId":26336,"LocalIpAddress":"127.0.0.1:30253","RemoteIpAddress":"::1","$type":"UserLoginSuccessEvent"}
2019-06-09 21:54:44.608 -03:00 [DBG] Resource owner password token request validation success.
2019-06-09 21:54:44.608 -03:00 [INF] Token request validation success
{"ClientId":"ro.client","ClientName":null,"GrantType":"password","Scopes":"api1 openid profile","AuthorizationCode":null,"RefreshToken":null,"UserName":"alice","AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"grant_type":"password","client_id":"ro.client","client_secret":"***REDACTED***","scope":"openid profile api1","username":"alice","password":"***REDACTED***"},"$type":"TokenRequestValidationLog"}
2019-06-09 21:54:44.608 -03:00 [DBG] Getting claims for access token for client: ro.client
2019-06-09 21:54:44.608 -03:00 [DBG] Getting claims for access token for subject: 4ba1c3a0-b786-421d-b88a-740f38d9cafa
2019-06-09 21:54:44.623 -03:00 [INF] {"ClientId":"ro.client","ClientName":null,"RedirectUri":null,"Endpoint":"Token","SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","Scopes":"openid profile api1","GrantType":"password","Tokens":[{"TokenType":"access_token","TokenValue":"****0syg","$type":"Token"}],"Category":"Token","Name":"Token Issued Success","EventType":"Success","Id":2000,"Message":null,"ActivityId":"0HLND63T1LU2I:00000004","TimeStamp":"2019-06-10T00:54:44.0000000Z","ProcessId":26336,"LocalIpAddress":"127.0.0.1:30253","RemoteIpAddress":"::1","$type":"TokenIssuedSuccessEvent"}
2019-06-09 21:54:44.623 -03:00 [DBG] Token request success.
2019-06-09 21:54:44.684 -03:00 [DBG] CORS request made for path: /connect/userinfo from origin: http://localhost:3000
2019-06-09 21:54:44.686 -03:00 [DBG] Origin http://localhost:3000 is allowed: false
2019-06-09 21:54:44.686 -03:00 [WRN] CorsPolicyService did not allow origin: http://localhost:3000
2019-06-09 21:54:44.687 -03:00 [DBG] Request path /connect/userinfo matched to endpoint type Userinfo
2019-06-09 21:54:44.687 -03:00 [DBG] Endpoint enabled: Userinfo, successfully created handler: IdentityServer4.Endpoints.UserInfoEndpoint
2019-06-09 21:54:44.687 -03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.UserInfoEndpoint for /connect/userinfo
2019-06-09 21:54:44.687 -03:00 [DBG] Start userinfo request
2019-06-09 21:54:44.687 -03:00 [DBG] Bearer token found in header
2019-06-09 21:54:44.703 -03:00 [DBG] ro.client found in database: true
2019-06-09 21:54:44.703 -03:00 [DBG] client configuration validation for client ro.client succeeded.
2019-06-09 21:54:44.710 -03:00 [DBG] ro.client found in database: true
2019-06-09 21:54:44.710 -03:00 [DBG] client configuration validation for client ro.client succeeded.
2019-06-09 21:54:44.718 -03:00 [DBG] Calling into custom token validator: IdentityServer4.Validation.DefaultCustomTokenValidator
2019-06-09 21:54:44.719 -03:00 [DBG] Token validation success
{"ClientId":null,"ClientName":null,"ValidateLifetime":true,"AccessTokenType":"Jwt","ExpectedScope":"openid","TokenHandle":null,"JwtId":null,"Claims":{"nbf":1560128084,"exp":1560131684,"iss":"http://localhost:5000","aud":["http://localhost:5000/resources","api1"],"client_id":"ro.client","sub":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","auth_time":1560128084,"idp":"local","scope":["openid","profile","api1"],"amr":"pwd"},"$type":"TokenValidationLog"}
2019-06-09 21:54:44.719 -03:00 [DBG] Creating userinfo response
2019-06-09 21:54:44.719 -03:00 [DBG] Scopes in access token: openid profile api1
2019-06-09 21:54:44.719 -03:00 [DBG] Scopes in access token: openid profile api1
2019-06-09 21:54:44.732 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 21:54:44.733 -03:00 [DBG] Requested claim types: sub name family_name given_name middle_name nickname preferred_username profile picture website gender birthdate zoneinfo locale updated_at
2019-06-09 21:54:44.733 -03:00 [DBG] Scopes in access token: openid profile api1
2019-06-09 21:54:44.736 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 21:54:44.744 -03:00 [INF] Profile service returned the following claim types: sub name given_name family_name website preferred_username
2019-06-09 21:54:44.744 -03:00 [DBG] End userinfo request
2019-06-09 21:56:20.646 -03:00 [DBG] CORS request made for path: /connect/token from origin: http://localhost:3000
2019-06-09 21:56:20.656 -03:00 [DBG] Origin http://localhost:3000 is allowed: false
2019-06-09 21:56:20.656 -03:00 [WRN] CorsPolicyService did not allow origin: http://localhost:3000
2019-06-09 21:56:20.656 -03:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-06-09 21:56:20.657 -03:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-06-09 21:56:20.657 -03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-06-09 21:56:20.657 -03:00 [DBG] Start token request.
2019-06-09 21:56:20.657 -03:00 [DBG] Start client validation
2019-06-09 21:56:20.657 -03:00 [DBG] Start parsing Basic Authentication secret
2019-06-09 21:56:20.657 -03:00 [DBG] Start parsing for secret in post body
2019-06-09 21:56:20.658 -03:00 [DBG] Parser found secret: PostBodySecretParser
2019-06-09 21:56:20.658 -03:00 [DBG] Secret id found: ro.client
2019-06-09 21:56:20.717 -03:00 [DBG] ro.client found in database: true
2019-06-09 21:56:20.717 -03:00 [DBG] client configuration validation for client ro.client succeeded.
2019-06-09 21:56:20.717 -03:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-06-09 21:56:20.717 -03:00 [DBG] Client validation success
2019-06-09 21:56:20.717 -03:00 [INF] {"ClientId":"ro.client","AuthenticationMethod":"SharedSecret","Category":"Authentication","Name":"Client Authentication Success","EventType":"Success","Id":1010,"Message":null,"ActivityId":"0HLND63T1LU2J:00000001","TimeStamp":"2019-06-10T00:56:20.0000000Z","ProcessId":26336,"LocalIpAddress":"127.0.0.1:30253","RemoteIpAddress":"::1","$type":"ClientAuthenticationSuccessEvent"}
2019-06-09 21:56:20.717 -03:00 [DBG] Start token request validation
2019-06-09 21:56:20.718 -03:00 [DBG] Start resource owner password token request validation
2019-06-09 21:56:20.732 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 21:56:20.856 -03:00 [DBG] Found ["api1"] API scopes in database
2019-06-09 21:56:20.860 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 21:56:20.865 -03:00 [DBG] Found ["api1"] API scopes in database
2019-06-09 21:56:20.891 -03:00 [INF] Credentials validated for username: alice
2019-06-09 21:56:20.892 -03:00 [INF] {"Username":"alice","Provider":null,"ProviderUserId":null,"SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","DisplayName":"alice","Endpoint":"Token","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HLND63T1LU2J:00000001","TimeStamp":"2019-06-10T00:56:20.0000000Z","ProcessId":26336,"LocalIpAddress":"127.0.0.1:30253","RemoteIpAddress":"::1","$type":"UserLoginSuccessEvent"}
2019-06-09 21:56:20.892 -03:00 [INF] {"Username":"alice","Provider":null,"ProviderUserId":null,"SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","DisplayName":null,"Endpoint":"Token","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HLND63T1LU2J:00000001","TimeStamp":"2019-06-10T00:56:20.0000000Z","ProcessId":26336,"LocalIpAddress":"127.0.0.1:30253","RemoteIpAddress":"::1","$type":"UserLoginSuccessEvent"}
2019-06-09 21:56:20.892 -03:00 [DBG] Resource owner password token request validation success.
2019-06-09 21:56:20.893 -03:00 [INF] Token request validation success
{"ClientId":"ro.client","ClientName":null,"GrantType":"password","Scopes":"api1 openid profile","AuthorizationCode":null,"RefreshToken":null,"UserName":"alice","AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"grant_type":"password","client_id":"ro.client","client_secret":"***REDACTED***","scope":"openid profile api1","username":"alice","password":"***REDACTED***"},"$type":"TokenRequestValidationLog"}
2019-06-09 21:56:20.893 -03:00 [DBG] Getting claims for access token for client: ro.client
2019-06-09 21:56:20.893 -03:00 [DBG] Getting claims for access token for subject: 4ba1c3a0-b786-421d-b88a-740f38d9cafa
2019-06-09 21:56:20.908 -03:00 [INF] {"ClientId":"ro.client","ClientName":null,"RedirectUri":null,"Endpoint":"Token","SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","Scopes":"openid profile api1","GrantType":"password","Tokens":[{"TokenType":"access_token","TokenValue":"****EWCA","$type":"Token"}],"Category":"Token","Name":"Token Issued Success","EventType":"Success","Id":2000,"Message":null,"ActivityId":"0HLND63T1LU2J:00000001","TimeStamp":"2019-06-10T00:56:20.0000000Z","ProcessId":26336,"LocalIpAddress":"127.0.0.1:30253","RemoteIpAddress":"::1","$type":"TokenIssuedSuccessEvent"}
2019-06-09 21:56:20.908 -03:00 [DBG] Token request success.
2019-06-09 21:56:20.974 -03:00 [DBG] CORS request made for path: /connect/userinfo from origin: http://localhost:3000
2019-06-09 21:56:20.977 -03:00 [DBG] Origin http://localhost:3000 is allowed: false
2019-06-09 21:56:20.977 -03:00 [WRN] CorsPolicyService did not allow origin: http://localhost:3000
2019-06-09 21:56:20.978 -03:00 [DBG] Request path /connect/userinfo matched to endpoint type Userinfo
2019-06-09 21:56:20.978 -03:00 [DBG] Endpoint enabled: Userinfo, successfully created handler: IdentityServer4.Endpoints.UserInfoEndpoint
2019-06-09 21:56:20.978 -03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.UserInfoEndpoint for /connect/userinfo
2019-06-09 21:56:20.978 -03:00 [DBG] Start userinfo request
2019-06-09 21:56:20.978 -03:00 [DBG] Bearer token found in header
2019-06-09 21:56:20.994 -03:00 [DBG] ro.client found in database: true
2019-06-09 21:56:20.995 -03:00 [DBG] client configuration validation for client ro.client succeeded.
2019-06-09 21:56:21.001 -03:00 [DBG] ro.client found in database: true
2019-06-09 21:56:21.001 -03:00 [DBG] client configuration validation for client ro.client succeeded.
2019-06-09 21:56:21.016 -03:00 [DBG] Calling into custom token validator: IdentityServer4.Validation.DefaultCustomTokenValidator
2019-06-09 21:56:21.017 -03:00 [DBG] Token validation success
{"ClientId":null,"ClientName":null,"ValidateLifetime":true,"AccessTokenType":"Jwt","ExpectedScope":"openid","TokenHandle":null,"JwtId":null,"Claims":{"nbf":1560128180,"exp":1560131780,"iss":"http://localhost:5000","aud":["http://localhost:5000/resources","api1"],"client_id":"ro.client","sub":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","auth_time":1560128180,"idp":"local","scope":["openid","profile","api1"],"amr":"pwd"},"$type":"TokenValidationLog"}
2019-06-09 21:56:21.017 -03:00 [DBG] Creating userinfo response
2019-06-09 21:56:21.017 -03:00 [DBG] Scopes in access token: openid profile api1
2019-06-09 21:56:21.017 -03:00 [DBG] Scopes in access token: openid profile api1
2019-06-09 21:56:21.032 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 21:56:21.032 -03:00 [DBG] Requested claim types: sub name family_name given_name middle_name nickname preferred_username profile picture website gender birthdate zoneinfo locale updated_at
2019-06-09 21:56:21.032 -03:00 [DBG] Scopes in access token: openid profile api1
2019-06-09 21:56:21.035 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 21:56:21.041 -03:00 [INF] Profile service returned the following claim types: sub name given_name family_name website preferred_username
2019-06-09 21:56:21.042 -03:00 [DBG] End userinfo request
2019-06-09 21:59:42.749 -03:00 [DBG] CORS request made for path: /connect/token from origin: http://localhost:3000
2019-06-09 21:59:42.766 -03:00 [DBG] Origin http://localhost:3000 is allowed: false
2019-06-09 21:59:42.766 -03:00 [WRN] CorsPolicyService did not allow origin: http://localhost:3000
2019-06-09 21:59:42.767 -03:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-06-09 21:59:42.768 -03:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-06-09 21:59:42.768 -03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-06-09 21:59:42.768 -03:00 [DBG] Start token request.
2019-06-09 21:59:42.769 -03:00 [DBG] Start client validation
2019-06-09 21:59:42.769 -03:00 [DBG] Start parsing Basic Authentication secret
2019-06-09 21:59:42.769 -03:00 [DBG] Start parsing for secret in post body
2019-06-09 21:59:42.770 -03:00 [DBG] Parser found secret: PostBodySecretParser
2019-06-09 21:59:42.770 -03:00 [DBG] Secret id found: ro.client
2019-06-09 21:59:42.819 -03:00 [DBG] ro.client found in database: true
2019-06-09 21:59:42.819 -03:00 [DBG] client configuration validation for client ro.client succeeded.
2019-06-09 21:59:42.819 -03:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-06-09 21:59:42.819 -03:00 [DBG] Client validation success
2019-06-09 21:59:42.819 -03:00 [INF] {"ClientId":"ro.client","AuthenticationMethod":"SharedSecret","Category":"Authentication","Name":"Client Authentication Success","EventType":"Success","Id":1010,"Message":null,"ActivityId":"0HLND63T1LU2K:00000001","TimeStamp":"2019-06-10T00:59:42.0000000Z","ProcessId":26336,"LocalIpAddress":"127.0.0.1:30253","RemoteIpAddress":"::1","$type":"ClientAuthenticationSuccessEvent"}
2019-06-09 21:59:42.819 -03:00 [DBG] Start token request validation
2019-06-09 21:59:42.819 -03:00 [DBG] Start resource owner password token request validation
2019-06-09 21:59:42.833 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 21:59:42.954 -03:00 [DBG] Found ["api1"] API scopes in database
2019-06-09 21:59:42.957 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 21:59:42.963 -03:00 [DBG] Found ["api1"] API scopes in database
2019-06-09 21:59:43.013 -03:00 [INF] Credentials validated for username: alice
2019-06-09 21:59:43.014 -03:00 [INF] {"Username":"alice","Provider":null,"ProviderUserId":null,"SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","DisplayName":"alice","Endpoint":"Token","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HLND63T1LU2K:00000001","TimeStamp":"2019-06-10T00:59:43.0000000Z","ProcessId":26336,"LocalIpAddress":"127.0.0.1:30253","RemoteIpAddress":"::1","$type":"UserLoginSuccessEvent"}
2019-06-09 21:59:43.014 -03:00 [INF] {"Username":"alice","Provider":null,"ProviderUserId":null,"SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","DisplayName":null,"Endpoint":"Token","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HLND63T1LU2K:00000001","TimeStamp":"2019-06-10T00:59:43.0000000Z","ProcessId":26336,"LocalIpAddress":"127.0.0.1:30253","RemoteIpAddress":"::1","$type":"UserLoginSuccessEvent"}
2019-06-09 21:59:43.014 -03:00 [DBG] Resource owner password token request validation success.
2019-06-09 21:59:43.014 -03:00 [INF] Token request validation success
{"ClientId":"ro.client","ClientName":null,"GrantType":"password","Scopes":"api1 openid profile","AuthorizationCode":null,"RefreshToken":null,"UserName":"alice","AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"grant_type":"password","client_id":"ro.client","client_secret":"***REDACTED***","scope":"openid profile api1","username":"alice","password":"***REDACTED***"},"$type":"TokenRequestValidationLog"}
2019-06-09 21:59:43.015 -03:00 [DBG] Getting claims for access token for client: ro.client
2019-06-09 21:59:43.015 -03:00 [DBG] Getting claims for access token for subject: 4ba1c3a0-b786-421d-b88a-740f38d9cafa
2019-06-09 21:59:43.037 -03:00 [INF] {"ClientId":"ro.client","ClientName":null,"RedirectUri":null,"Endpoint":"Token","SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","Scopes":"openid profile api1","GrantType":"password","Tokens":[{"TokenType":"access_token","TokenValue":"****2D4g","$type":"Token"}],"Category":"Token","Name":"Token Issued Success","EventType":"Success","Id":2000,"Message":null,"ActivityId":"0HLND63T1LU2K:00000001","TimeStamp":"2019-06-10T00:59:43.0000000Z","ProcessId":26336,"LocalIpAddress":"127.0.0.1:30253","RemoteIpAddress":"::1","$type":"TokenIssuedSuccessEvent"}
2019-06-09 21:59:43.037 -03:00 [DBG] Token request success.
2019-06-09 21:59:43.097 -03:00 [DBG] CORS request made for path: /connect/userinfo from origin: http://localhost:3000
2019-06-09 21:59:43.099 -03:00 [DBG] Origin http://localhost:3000 is allowed: false
2019-06-09 21:59:43.099 -03:00 [WRN] CorsPolicyService did not allow origin: http://localhost:3000
2019-06-09 21:59:43.099 -03:00 [DBG] Request path /connect/userinfo matched to endpoint type Userinfo
2019-06-09 21:59:43.100 -03:00 [DBG] Endpoint enabled: Userinfo, successfully created handler: IdentityServer4.Endpoints.UserInfoEndpoint
2019-06-09 21:59:43.100 -03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.UserInfoEndpoint for /connect/userinfo
2019-06-09 21:59:43.100 -03:00 [DBG] Start userinfo request
2019-06-09 21:59:43.100 -03:00 [DBG] Bearer token found in header
2019-06-09 21:59:43.114 -03:00 [DBG] ro.client found in database: true
2019-06-09 21:59:43.114 -03:00 [DBG] client configuration validation for client ro.client succeeded.
2019-06-09 21:59:43.121 -03:00 [DBG] ro.client found in database: true
2019-06-09 21:59:43.122 -03:00 [DBG] client configuration validation for client ro.client succeeded.
2019-06-09 21:59:43.131 -03:00 [DBG] Calling into custom token validator: IdentityServer4.Validation.DefaultCustomTokenValidator
2019-06-09 21:59:43.131 -03:00 [DBG] Token validation success
{"ClientId":null,"ClientName":null,"ValidateLifetime":true,"AccessTokenType":"Jwt","ExpectedScope":"openid","TokenHandle":null,"JwtId":null,"Claims":{"nbf":1560128383,"exp":1560131983,"iss":"http://localhost:5000","aud":["http://localhost:5000/resources","api1"],"client_id":"ro.client","sub":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","auth_time":1560128383,"idp":"local","scope":["openid","profile","api1"],"amr":"pwd"},"$type":"TokenValidationLog"}
2019-06-09 21:59:43.131 -03:00 [DBG] Creating userinfo response
2019-06-09 21:59:43.131 -03:00 [DBG] Scopes in access token: openid profile api1
2019-06-09 21:59:43.132 -03:00 [DBG] Scopes in access token: openid profile api1
2019-06-09 21:59:43.146 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 21:59:43.146 -03:00 [DBG] Requested claim types: sub name family_name given_name middle_name nickname preferred_username profile picture website gender birthdate zoneinfo locale updated_at
2019-06-09 21:59:43.146 -03:00 [DBG] Scopes in access token: openid profile api1
2019-06-09 21:59:43.149 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 21:59:43.158 -03:00 [INF] Profile service returned the following claim types: sub name given_name family_name website preferred_username
2019-06-09 21:59:43.158 -03:00 [DBG] End userinfo request
2019-06-09 22:00:21.347 -03:00 [DBG] CORS request made for path: /connect/token from origin: http://localhost:3000
2019-06-09 22:00:21.372 -03:00 [DBG] Origin http://localhost:3000 is allowed: false
2019-06-09 22:00:21.372 -03:00 [WRN] CorsPolicyService did not allow origin: http://localhost:3000
2019-06-09 22:00:21.373 -03:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-06-09 22:00:21.374 -03:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-06-09 22:00:21.374 -03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-06-09 22:00:21.374 -03:00 [DBG] Start token request.
2019-06-09 22:00:21.374 -03:00 [DBG] Start client validation
2019-06-09 22:00:21.374 -03:00 [DBG] Start parsing Basic Authentication secret
2019-06-09 22:00:21.374 -03:00 [DBG] Start parsing for secret in post body
2019-06-09 22:00:21.376 -03:00 [DBG] Parser found secret: PostBodySecretParser
2019-06-09 22:00:21.376 -03:00 [DBG] Secret id found: ro.client
2019-06-09 22:00:21.430 -03:00 [DBG] ro.client found in database: true
2019-06-09 22:00:21.431 -03:00 [DBG] client configuration validation for client ro.client succeeded.
2019-06-09 22:00:21.431 -03:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-06-09 22:00:21.431 -03:00 [DBG] Client validation success
2019-06-09 22:00:21.431 -03:00 [INF] {"ClientId":"ro.client","AuthenticationMethod":"SharedSecret","Category":"Authentication","Name":"Client Authentication Success","EventType":"Success","Id":1010,"Message":null,"ActivityId":"0HLND63T1LU2K:00000004","TimeStamp":"2019-06-10T01:00:21.0000000Z","ProcessId":26336,"LocalIpAddress":"127.0.0.1:30253","RemoteIpAddress":"::1","$type":"ClientAuthenticationSuccessEvent"}
2019-06-09 22:00:21.431 -03:00 [DBG] Start token request validation
2019-06-09 22:00:21.431 -03:00 [DBG] Start resource owner password token request validation
2019-06-09 22:00:21.447 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 22:00:21.569 -03:00 [DBG] Found ["api1"] API scopes in database
2019-06-09 22:00:21.572 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 22:00:21.576 -03:00 [DBG] Found ["api1"] API scopes in database
2019-06-09 22:00:21.596 -03:00 [INF] Credentials validated for username: alice
2019-06-09 22:00:21.596 -03:00 [INF] {"Username":"alice","Provider":null,"ProviderUserId":null,"SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","DisplayName":"alice","Endpoint":"Token","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HLND63T1LU2K:00000004","TimeStamp":"2019-06-10T01:00:21.0000000Z","ProcessId":26336,"LocalIpAddress":"127.0.0.1:30253","RemoteIpAddress":"::1","$type":"UserLoginSuccessEvent"}
2019-06-09 22:00:21.596 -03:00 [INF] {"Username":"alice","Provider":null,"ProviderUserId":null,"SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","DisplayName":null,"Endpoint":"Token","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HLND63T1LU2K:00000004","TimeStamp":"2019-06-10T01:00:21.0000000Z","ProcessId":26336,"LocalIpAddress":"127.0.0.1:30253","RemoteIpAddress":"::1","$type":"UserLoginSuccessEvent"}
2019-06-09 22:00:21.596 -03:00 [DBG] Resource owner password token request validation success.
2019-06-09 22:00:21.597 -03:00 [INF] Token request validation success
{"ClientId":"ro.client","ClientName":null,"GrantType":"password","Scopes":"api1 openid profile","AuthorizationCode":null,"RefreshToken":null,"UserName":"alice","AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"grant_type":"password","client_id":"ro.client","client_secret":"***REDACTED***","scope":"openid profile api1","username":"alice","password":"***REDACTED***"},"$type":"TokenRequestValidationLog"}
2019-06-09 22:00:21.597 -03:00 [DBG] Getting claims for access token for client: ro.client
2019-06-09 22:00:21.597 -03:00 [DBG] Getting claims for access token for subject: 4ba1c3a0-b786-421d-b88a-740f38d9cafa
2019-06-09 22:00:21.619 -03:00 [INF] {"ClientId":"ro.client","ClientName":null,"RedirectUri":null,"Endpoint":"Token","SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","Scopes":"openid profile api1","GrantType":"password","Tokens":[{"TokenType":"access_token","TokenValue":"****t1RA","$type":"Token"}],"Category":"Token","Name":"Token Issued Success","EventType":"Success","Id":2000,"Message":null,"ActivityId":"0HLND63T1LU2K:00000004","TimeStamp":"2019-06-10T01:00:21.0000000Z","ProcessId":26336,"LocalIpAddress":"127.0.0.1:30253","RemoteIpAddress":"::1","$type":"TokenIssuedSuccessEvent"}
2019-06-09 22:00:21.619 -03:00 [DBG] Token request success.
2019-06-09 22:00:21.672 -03:00 [DBG] CORS request made for path: /connect/userinfo from origin: http://localhost:3000
2019-06-09 22:00:21.676 -03:00 [DBG] Origin http://localhost:3000 is allowed: false
2019-06-09 22:00:21.676 -03:00 [WRN] CorsPolicyService did not allow origin: http://localhost:3000
2019-06-09 22:00:21.676 -03:00 [DBG] Request path /connect/userinfo matched to endpoint type Userinfo
2019-06-09 22:00:21.677 -03:00 [DBG] Endpoint enabled: Userinfo, successfully created handler: IdentityServer4.Endpoints.UserInfoEndpoint
2019-06-09 22:00:21.677 -03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.UserInfoEndpoint for /connect/userinfo
2019-06-09 22:00:21.677 -03:00 [DBG] Start userinfo request
2019-06-09 22:00:21.677 -03:00 [DBG] Bearer token found in header
2019-06-09 22:00:21.692 -03:00 [DBG] ro.client found in database: true
2019-06-09 22:00:21.692 -03:00 [DBG] client configuration validation for client ro.client succeeded.
2019-06-09 22:00:21.699 -03:00 [DBG] ro.client found in database: true
2019-06-09 22:00:21.700 -03:00 [DBG] client configuration validation for client ro.client succeeded.
2019-06-09 22:00:21.708 -03:00 [DBG] Calling into custom token validator: IdentityServer4.Validation.DefaultCustomTokenValidator
2019-06-09 22:00:21.708 -03:00 [DBG] Token validation success
{"ClientId":null,"ClientName":null,"ValidateLifetime":true,"AccessTokenType":"Jwt","ExpectedScope":"openid","TokenHandle":null,"JwtId":null,"Claims":{"nbf":1560128421,"exp":1560132021,"iss":"http://localhost:5000","aud":["http://localhost:5000/resources","api1"],"client_id":"ro.client","sub":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","auth_time":1560128421,"idp":"local","scope":["openid","profile","api1"],"amr":"pwd"},"$type":"TokenValidationLog"}
2019-06-09 22:00:21.709 -03:00 [DBG] Creating userinfo response
2019-06-09 22:00:21.709 -03:00 [DBG] Scopes in access token: openid profile api1
2019-06-09 22:00:21.709 -03:00 [DBG] Scopes in access token: openid profile api1
2019-06-09 22:00:21.722 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 22:00:21.723 -03:00 [DBG] Requested claim types: sub name family_name given_name middle_name nickname preferred_username profile picture website gender birthdate zoneinfo locale updated_at
2019-06-09 22:00:21.723 -03:00 [DBG] Scopes in access token: openid profile api1
2019-06-09 22:00:21.727 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 22:00:21.740 -03:00 [INF] Profile service returned the following claim types: sub name given_name family_name website preferred_username
2019-06-09 22:00:21.741 -03:00 [DBG] End userinfo request
2019-06-09 22:17:51.311 -03:00 [DBG] CORS request made for path: /connect/token from origin: http://localhost:3000
2019-06-09 22:17:51.323 -03:00 [DBG] Origin http://localhost:3000 is allowed: false
2019-06-09 22:17:51.324 -03:00 [WRN] CorsPolicyService did not allow origin: http://localhost:3000
2019-06-09 22:17:51.324 -03:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-06-09 22:17:51.324 -03:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-06-09 22:17:51.325 -03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-06-09 22:17:51.325 -03:00 [DBG] Start token request.
2019-06-09 22:17:51.325 -03:00 [DBG] Start client validation
2019-06-09 22:17:51.325 -03:00 [DBG] Start parsing Basic Authentication secret
2019-06-09 22:17:51.325 -03:00 [DBG] Start parsing for secret in post body
2019-06-09 22:17:51.326 -03:00 [DBG] Parser found secret: PostBodySecretParser
2019-06-09 22:17:51.326 -03:00 [DBG] Secret id found: ro.client
2019-06-09 22:17:51.364 -03:00 [DBG] ro.client found in database: true
2019-06-09 22:17:51.364 -03:00 [DBG] client configuration validation for client ro.client succeeded.
2019-06-09 22:17:51.364 -03:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-06-09 22:17:51.364 -03:00 [DBG] Client validation success
2019-06-09 22:17:51.365 -03:00 [INF] {"ClientId":"ro.client","AuthenticationMethod":"SharedSecret","Category":"Authentication","Name":"Client Authentication Success","EventType":"Success","Id":1010,"Message":null,"ActivityId":"0HLND63T1LU2L:00000001","TimeStamp":"2019-06-10T01:17:51.0000000Z","ProcessId":26336,"LocalIpAddress":"127.0.0.1:30253","RemoteIpAddress":"::1","$type":"ClientAuthenticationSuccessEvent"}
2019-06-09 22:17:51.365 -03:00 [DBG] Start token request validation
2019-06-09 22:17:51.365 -03:00 [DBG] Start resource owner password token request validation
2019-06-09 22:17:51.379 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 22:17:51.506 -03:00 [DBG] Found ["api1"] API scopes in database
2019-06-09 22:17:51.509 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 22:17:51.515 -03:00 [DBG] Found ["api1"] API scopes in database
2019-06-09 22:17:51.541 -03:00 [INF] Credentials validated for username: alice
2019-06-09 22:17:51.542 -03:00 [INF] {"Username":"alice","Provider":null,"ProviderUserId":null,"SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","DisplayName":"alice","Endpoint":"Token","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HLND63T1LU2L:00000001","TimeStamp":"2019-06-10T01:17:51.0000000Z","ProcessId":26336,"LocalIpAddress":"127.0.0.1:30253","RemoteIpAddress":"::1","$type":"UserLoginSuccessEvent"}
2019-06-09 22:17:51.542 -03:00 [INF] {"Username":"alice","Provider":null,"ProviderUserId":null,"SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","DisplayName":null,"Endpoint":"Token","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HLND63T1LU2L:00000001","TimeStamp":"2019-06-10T01:17:51.0000000Z","ProcessId":26336,"LocalIpAddress":"127.0.0.1:30253","RemoteIpAddress":"::1","$type":"UserLoginSuccessEvent"}
2019-06-09 22:17:51.542 -03:00 [DBG] Resource owner password token request validation success.
2019-06-09 22:17:51.543 -03:00 [INF] Token request validation success
{"ClientId":"ro.client","ClientName":null,"GrantType":"password","Scopes":"api1 openid profile","AuthorizationCode":null,"RefreshToken":null,"UserName":"alice","AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"grant_type":"password","client_id":"ro.client","client_secret":"***REDACTED***","scope":"openid profile api1","username":"alice","password":"***REDACTED***"},"$type":"TokenRequestValidationLog"}
2019-06-09 22:17:51.543 -03:00 [DBG] Getting claims for access token for client: ro.client
2019-06-09 22:17:51.543 -03:00 [DBG] Getting claims for access token for subject: 4ba1c3a0-b786-421d-b88a-740f38d9cafa
2019-06-09 22:17:51.567 -03:00 [INF] {"ClientId":"ro.client","ClientName":null,"RedirectUri":null,"Endpoint":"Token","SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","Scopes":"openid profile api1","GrantType":"password","Tokens":[{"TokenType":"access_token","TokenValue":"****qpqA","$type":"Token"}],"Category":"Token","Name":"Token Issued Success","EventType":"Success","Id":2000,"Message":null,"ActivityId":"0HLND63T1LU2L:00000001","TimeStamp":"2019-06-10T01:17:51.0000000Z","ProcessId":26336,"LocalIpAddress":"127.0.0.1:30253","RemoteIpAddress":"::1","$type":"TokenIssuedSuccessEvent"}
2019-06-09 22:17:51.567 -03:00 [DBG] Token request success.
2019-06-09 22:17:51.640 -03:00 [DBG] CORS request made for path: /connect/userinfo from origin: http://localhost:3000
2019-06-09 22:17:51.643 -03:00 [DBG] Origin http://localhost:3000 is allowed: false
2019-06-09 22:17:51.643 -03:00 [WRN] CorsPolicyService did not allow origin: http://localhost:3000
2019-06-09 22:17:51.643 -03:00 [DBG] Request path /connect/userinfo matched to endpoint type Userinfo
2019-06-09 22:17:51.644 -03:00 [DBG] Endpoint enabled: Userinfo, successfully created handler: IdentityServer4.Endpoints.UserInfoEndpoint
2019-06-09 22:17:51.644 -03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.UserInfoEndpoint for /connect/userinfo
2019-06-09 22:17:51.645 -03:00 [DBG] Start userinfo request
2019-06-09 22:17:51.645 -03:00 [DBG] Bearer token found in header
2019-06-09 22:17:51.658 -03:00 [DBG] ro.client found in database: true
2019-06-09 22:17:51.658 -03:00 [DBG] client configuration validation for client ro.client succeeded.
2019-06-09 22:17:51.668 -03:00 [DBG] ro.client found in database: true
2019-06-09 22:17:51.669 -03:00 [DBG] client configuration validation for client ro.client succeeded.
2019-06-09 22:17:51.678 -03:00 [DBG] Calling into custom token validator: IdentityServer4.Validation.DefaultCustomTokenValidator
2019-06-09 22:17:51.678 -03:00 [DBG] Token validation success
{"ClientId":null,"ClientName":null,"ValidateLifetime":true,"AccessTokenType":"Jwt","ExpectedScope":"openid","TokenHandle":null,"JwtId":null,"Claims":{"nbf":1560129471,"exp":1560133071,"iss":"http://localhost:5000","aud":["http://localhost:5000/resources","api1"],"client_id":"ro.client","sub":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","auth_time":1560129471,"idp":"local","scope":["openid","profile","api1"],"amr":"pwd"},"$type":"TokenValidationLog"}
2019-06-09 22:17:51.679 -03:00 [DBG] Creating userinfo response
2019-06-09 22:17:51.679 -03:00 [DBG] Scopes in access token: openid profile api1
2019-06-09 22:17:51.679 -03:00 [DBG] Scopes in access token: openid profile api1
2019-06-09 22:17:51.693 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 22:17:51.694 -03:00 [DBG] Requested claim types: sub name family_name given_name middle_name nickname preferred_username profile picture website gender birthdate zoneinfo locale updated_at
2019-06-09 22:17:51.694 -03:00 [DBG] Scopes in access token: openid profile api1
2019-06-09 22:17:51.697 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 22:17:51.704 -03:00 [INF] Profile service returned the following claim types: sub name given_name family_name website preferred_username
2019-06-09 22:17:51.709 -03:00 [DBG] End userinfo request
2019-06-09 22:18:27.397 -03:00 [DBG] CORS request made for path: /connect/token from origin: http://localhost:3000
2019-06-09 22:18:27.401 -03:00 [DBG] Origin http://localhost:3000 is allowed: false
2019-06-09 22:18:27.401 -03:00 [WRN] CorsPolicyService did not allow origin: http://localhost:3000
2019-06-09 22:18:27.402 -03:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-06-09 22:18:27.403 -03:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-06-09 22:18:27.403 -03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-06-09 22:18:27.403 -03:00 [DBG] Start token request.
2019-06-09 22:18:27.404 -03:00 [DBG] Start client validation
2019-06-09 22:18:27.404 -03:00 [DBG] Start parsing Basic Authentication secret
2019-06-09 22:18:27.404 -03:00 [DBG] Start parsing for secret in post body
2019-06-09 22:18:27.404 -03:00 [DBG] Parser found secret: PostBodySecretParser
2019-06-09 22:18:27.404 -03:00 [DBG] Secret id found: ro.client
2019-06-09 22:18:27.416 -03:00 [DBG] ro.client found in database: true
2019-06-09 22:18:27.416 -03:00 [DBG] client configuration validation for client ro.client succeeded.
2019-06-09 22:18:27.416 -03:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-06-09 22:18:27.417 -03:00 [DBG] Client validation success
2019-06-09 22:18:27.417 -03:00 [INF] {"ClientId":"ro.client","AuthenticationMethod":"SharedSecret","Category":"Authentication","Name":"Client Authentication Success","EventType":"Success","Id":1010,"Message":null,"ActivityId":"0HLND63T1LU2L:00000004","TimeStamp":"2019-06-10T01:18:27.0000000Z","ProcessId":26336,"LocalIpAddress":"127.0.0.1:30253","RemoteIpAddress":"::1","$type":"ClientAuthenticationSuccessEvent"}
2019-06-09 22:18:27.417 -03:00 [DBG] Start token request validation
2019-06-09 22:18:27.418 -03:00 [DBG] Start resource owner password token request validation
2019-06-09 22:18:27.426 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 22:18:27.431 -03:00 [DBG] Found ["api1"] API scopes in database
2019-06-09 22:18:27.434 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 22:18:27.441 -03:00 [DBG] Found ["api1"] API scopes in database
2019-06-09 22:18:27.463 -03:00 [INF] Credentials validated for username: alice
2019-06-09 22:18:27.463 -03:00 [INF] {"Username":"alice","Provider":null,"ProviderUserId":null,"SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","DisplayName":"alice","Endpoint":"Token","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HLND63T1LU2L:00000004","TimeStamp":"2019-06-10T01:18:27.0000000Z","ProcessId":26336,"LocalIpAddress":"127.0.0.1:30253","RemoteIpAddress":"::1","$type":"UserLoginSuccessEvent"}
2019-06-09 22:18:27.464 -03:00 [INF] {"Username":"alice","Provider":null,"ProviderUserId":null,"SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","DisplayName":null,"Endpoint":"Token","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HLND63T1LU2L:00000004","TimeStamp":"2019-06-10T01:18:27.0000000Z","ProcessId":26336,"LocalIpAddress":"127.0.0.1:30253","RemoteIpAddress":"::1","$type":"UserLoginSuccessEvent"}
2019-06-09 22:18:27.464 -03:00 [DBG] Resource owner password token request validation success.
2019-06-09 22:18:27.464 -03:00 [INF] Token request validation success
{"ClientId":"ro.client","ClientName":null,"GrantType":"password","Scopes":"api1 openid profile","AuthorizationCode":null,"RefreshToken":null,"UserName":"alice","AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"grant_type":"password","client_id":"ro.client","client_secret":"***REDACTED***","scope":"openid profile api1","username":"alice","password":"***REDACTED***"},"$type":"TokenRequestValidationLog"}
2019-06-09 22:18:27.464 -03:00 [DBG] Getting claims for access token for client: ro.client
2019-06-09 22:18:27.465 -03:00 [DBG] Getting claims for access token for subject: 4ba1c3a0-b786-421d-b88a-740f38d9cafa
2019-06-09 22:18:27.479 -03:00 [INF] {"ClientId":"ro.client","ClientName":null,"RedirectUri":null,"Endpoint":"Token","SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","Scopes":"openid profile api1","GrantType":"password","Tokens":[{"TokenType":"access_token","TokenValue":"****hNIA","$type":"Token"}],"Category":"Token","Name":"Token Issued Success","EventType":"Success","Id":2000,"Message":null,"ActivityId":"0HLND63T1LU2L:00000004","TimeStamp":"2019-06-10T01:18:27.0000000Z","ProcessId":26336,"LocalIpAddress":"127.0.0.1:30253","RemoteIpAddress":"::1","$type":"TokenIssuedSuccessEvent"}
2019-06-09 22:18:27.480 -03:00 [DBG] Token request success.
2019-06-09 22:18:27.531 -03:00 [DBG] CORS request made for path: /connect/userinfo from origin: http://localhost:3000
2019-06-09 22:18:27.536 -03:00 [DBG] Origin http://localhost:3000 is allowed: false
2019-06-09 22:18:27.537 -03:00 [WRN] CorsPolicyService did not allow origin: http://localhost:3000
2019-06-09 22:18:27.537 -03:00 [DBG] Request path /connect/userinfo matched to endpoint type Userinfo
2019-06-09 22:18:27.537 -03:00 [DBG] Endpoint enabled: Userinfo, successfully created handler: IdentityServer4.Endpoints.UserInfoEndpoint
2019-06-09 22:18:27.538 -03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.UserInfoEndpoint for /connect/userinfo
2019-06-09 22:18:27.538 -03:00 [DBG] Start userinfo request
2019-06-09 22:18:27.538 -03:00 [DBG] Bearer token found in header
2019-06-09 22:18:27.550 -03:00 [DBG] ro.client found in database: true
2019-06-09 22:18:27.551 -03:00 [DBG] client configuration validation for client ro.client succeeded.
2019-06-09 22:18:27.558 -03:00 [DBG] ro.client found in database: true
2019-06-09 22:18:27.559 -03:00 [DBG] client configuration validation for client ro.client succeeded.
2019-06-09 22:18:27.564 -03:00 [DBG] Calling into custom token validator: IdentityServer4.Validation.DefaultCustomTokenValidator
2019-06-09 22:18:27.564 -03:00 [DBG] Token validation success
{"ClientId":null,"ClientName":null,"ValidateLifetime":true,"AccessTokenType":"Jwt","ExpectedScope":"openid","TokenHandle":null,"JwtId":null,"Claims":{"nbf":1560129507,"exp":1560133107,"iss":"http://localhost:5000","aud":["http://localhost:5000/resources","api1"],"client_id":"ro.client","sub":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","auth_time":1560129507,"idp":"local","scope":["openid","profile","api1"],"amr":"pwd"},"$type":"TokenValidationLog"}
2019-06-09 22:18:27.565 -03:00 [DBG] Creating userinfo response
2019-06-09 22:18:27.565 -03:00 [DBG] Scopes in access token: openid profile api1
2019-06-09 22:18:27.565 -03:00 [DBG] Scopes in access token: openid profile api1
2019-06-09 22:18:27.570 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 22:18:27.570 -03:00 [DBG] Requested claim types: sub name family_name given_name middle_name nickname preferred_username profile picture website gender birthdate zoneinfo locale updated_at
2019-06-09 22:18:27.570 -03:00 [DBG] Scopes in access token: openid profile api1
2019-06-09 22:18:27.573 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 22:18:27.595 -03:00 [INF] Profile service returned the following claim types: sub name given_name family_name website preferred_username
2019-06-09 22:18:27.595 -03:00 [DBG] End userinfo request
2019-06-09 22:18:43.003 -03:00 [DBG] CORS request made for path: /connect/token from origin: http://localhost:3000
2019-06-09 22:18:43.009 -03:00 [DBG] Origin http://localhost:3000 is allowed: false
2019-06-09 22:18:43.009 -03:00 [WRN] CorsPolicyService did not allow origin: http://localhost:3000
2019-06-09 22:18:43.010 -03:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-06-09 22:18:43.010 -03:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-06-09 22:18:43.010 -03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-06-09 22:18:43.010 -03:00 [DBG] Start token request.
2019-06-09 22:18:43.010 -03:00 [DBG] Start client validation
2019-06-09 22:18:43.010 -03:00 [DBG] Start parsing Basic Authentication secret
2019-06-09 22:18:43.010 -03:00 [DBG] Start parsing for secret in post body
2019-06-09 22:18:43.011 -03:00 [DBG] Parser found secret: PostBodySecretParser
2019-06-09 22:18:43.011 -03:00 [DBG] Secret id found: ro.client
2019-06-09 22:18:43.059 -03:00 [DBG] ro.client found in database: true
2019-06-09 22:18:43.059 -03:00 [DBG] client configuration validation for client ro.client succeeded.
2019-06-09 22:18:43.059 -03:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-06-09 22:18:43.059 -03:00 [DBG] Client validation success
2019-06-09 22:18:43.059 -03:00 [INF] {"ClientId":"ro.client","AuthenticationMethod":"SharedSecret","Category":"Authentication","Name":"Client Authentication Success","EventType":"Success","Id":1010,"Message":null,"ActivityId":"0HLND63T1LU2L:00000007","TimeStamp":"2019-06-10T01:18:43.0000000Z","ProcessId":26336,"LocalIpAddress":"127.0.0.1:30253","RemoteIpAddress":"::1","$type":"ClientAuthenticationSuccessEvent"}
2019-06-09 22:18:43.059 -03:00 [DBG] Start token request validation
2019-06-09 22:18:43.059 -03:00 [DBG] Start resource owner password token request validation
2019-06-09 22:18:43.073 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 22:18:43.245 -03:00 [DBG] Found ["api1"] API scopes in database
2019-06-09 22:18:43.257 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 22:18:43.381 -03:00 [DBG] Found ["api1"] API scopes in database
2019-06-09 22:18:43.401 -03:00 [INF] Credentials validated for username: alice
2019-06-09 22:18:43.401 -03:00 [INF] {"Username":"alice","Provider":null,"ProviderUserId":null,"SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","DisplayName":"alice","Endpoint":"Token","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HLND63T1LU2L:00000007","TimeStamp":"2019-06-10T01:18:43.0000000Z","ProcessId":26336,"LocalIpAddress":"127.0.0.1:30253","RemoteIpAddress":"::1","$type":"UserLoginSuccessEvent"}
2019-06-09 22:18:43.402 -03:00 [INF] {"Username":"alice","Provider":null,"ProviderUserId":null,"SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","DisplayName":null,"Endpoint":"Token","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HLND63T1LU2L:00000007","TimeStamp":"2019-06-10T01:18:43.0000000Z","ProcessId":26336,"LocalIpAddress":"127.0.0.1:30253","RemoteIpAddress":"::1","$type":"UserLoginSuccessEvent"}
2019-06-09 22:18:43.402 -03:00 [DBG] Resource owner password token request validation success.
2019-06-09 22:18:43.402 -03:00 [INF] Token request validation success
{"ClientId":"ro.client","ClientName":null,"GrantType":"password","Scopes":"api1 openid profile","AuthorizationCode":null,"RefreshToken":null,"UserName":"alice","AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"grant_type":"password","client_id":"ro.client","client_secret":"***REDACTED***","scope":"openid profile api1","username":"alice","password":"***REDACTED***"},"$type":"TokenRequestValidationLog"}
2019-06-09 22:18:43.402 -03:00 [DBG] Getting claims for access token for client: ro.client
2019-06-09 22:18:43.402 -03:00 [DBG] Getting claims for access token for subject: 4ba1c3a0-b786-421d-b88a-740f38d9cafa
2019-06-09 22:18:43.420 -03:00 [INF] {"ClientId":"ro.client","ClientName":null,"RedirectUri":null,"Endpoint":"Token","SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","Scopes":"openid profile api1","GrantType":"password","Tokens":[{"TokenType":"access_token","TokenValue":"****nP_A","$type":"Token"}],"Category":"Token","Name":"Token Issued Success","EventType":"Success","Id":2000,"Message":null,"ActivityId":"0HLND63T1LU2L:00000007","TimeStamp":"2019-06-10T01:18:43.0000000Z","ProcessId":26336,"LocalIpAddress":"127.0.0.1:30253","RemoteIpAddress":"::1","$type":"TokenIssuedSuccessEvent"}
2019-06-09 22:18:43.420 -03:00 [DBG] Token request success.
2019-06-09 22:18:43.481 -03:00 [DBG] CORS request made for path: /connect/userinfo from origin: http://localhost:3000
2019-06-09 22:18:43.487 -03:00 [DBG] Origin http://localhost:3000 is allowed: false
2019-06-09 22:18:43.487 -03:00 [WRN] CorsPolicyService did not allow origin: http://localhost:3000
2019-06-09 22:18:43.487 -03:00 [DBG] Request path /connect/userinfo matched to endpoint type Userinfo
2019-06-09 22:18:43.487 -03:00 [DBG] Endpoint enabled: Userinfo, successfully created handler: IdentityServer4.Endpoints.UserInfoEndpoint
2019-06-09 22:18:43.488 -03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.UserInfoEndpoint for /connect/userinfo
2019-06-09 22:18:43.488 -03:00 [DBG] Start userinfo request
2019-06-09 22:18:43.488 -03:00 [DBG] Bearer token found in header
2019-06-09 22:18:43.532 -03:00 [DBG] ro.client found in database: true
2019-06-09 22:18:43.532 -03:00 [DBG] client configuration validation for client ro.client succeeded.
2019-06-09 22:18:43.538 -03:00 [DBG] ro.client found in database: true
2019-06-09 22:18:43.538 -03:00 [DBG] client configuration validation for client ro.client succeeded.
2019-06-09 22:18:43.544 -03:00 [DBG] Calling into custom token validator: IdentityServer4.Validation.DefaultCustomTokenValidator
2019-06-09 22:18:43.544 -03:00 [DBG] Token validation success
{"ClientId":null,"ClientName":null,"ValidateLifetime":true,"AccessTokenType":"Jwt","ExpectedScope":"openid","TokenHandle":null,"JwtId":null,"Claims":{"nbf":1560129523,"exp":1560133123,"iss":"http://localhost:5000","aud":["http://localhost:5000/resources","api1"],"client_id":"ro.client","sub":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","auth_time":1560129523,"idp":"local","scope":["openid","profile","api1"],"amr":"pwd"},"$type":"TokenValidationLog"}
2019-06-09 22:18:43.544 -03:00 [DBG] Creating userinfo response
2019-06-09 22:18:43.545 -03:00 [DBG] Scopes in access token: openid profile api1
2019-06-09 22:18:43.545 -03:00 [DBG] Scopes in access token: openid profile api1
2019-06-09 22:18:43.560 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 22:18:43.561 -03:00 [DBG] Requested claim types: sub name family_name given_name middle_name nickname preferred_username profile picture website gender birthdate zoneinfo locale updated_at
2019-06-09 22:18:43.561 -03:00 [DBG] Scopes in access token: openid profile api1
2019-06-09 22:18:43.564 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 22:18:43.575 -03:00 [INF] Profile service returned the following claim types: sub name given_name family_name website preferred_username
2019-06-09 22:18:43.575 -03:00 [DBG] End userinfo request
2019-06-09 22:19:52.806 -03:00 [INF] Removing 0 grants
2019-06-09 22:33:33.123 -03:00 [DBG] CORS request made for path: /connect/token from origin: http://localhost:3000
2019-06-09 22:33:33.144 -03:00 [DBG] Origin http://localhost:3000 is allowed: false
2019-06-09 22:33:33.144 -03:00 [WRN] CorsPolicyService did not allow origin: http://localhost:3000
2019-06-09 22:33:33.144 -03:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-06-09 22:33:33.145 -03:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-06-09 22:33:33.145 -03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-06-09 22:33:33.145 -03:00 [DBG] Start token request.
2019-06-09 22:33:33.145 -03:00 [DBG] Start client validation
2019-06-09 22:33:33.145 -03:00 [DBG] Start parsing Basic Authentication secret
2019-06-09 22:33:33.145 -03:00 [DBG] Start parsing for secret in post body
2019-06-09 22:33:33.147 -03:00 [DBG] Parser found secret: PostBodySecretParser
2019-06-09 22:33:33.147 -03:00 [DBG] Secret id found: ro.client
2019-06-09 22:33:33.185 -03:00 [DBG] ro.client found in database: true
2019-06-09 22:33:33.185 -03:00 [DBG] client configuration validation for client ro.client succeeded.
2019-06-09 22:33:33.185 -03:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-06-09 22:33:33.186 -03:00 [DBG] Client validation success
2019-06-09 22:33:33.186 -03:00 [INF] {"ClientId":"ro.client","AuthenticationMethod":"SharedSecret","Category":"Authentication","Name":"Client Authentication Success","EventType":"Success","Id":1010,"Message":null,"ActivityId":"0HLND63T1LU2M:00000001","TimeStamp":"2019-06-10T01:33:33.0000000Z","ProcessId":26336,"LocalIpAddress":"127.0.0.1:30253","RemoteIpAddress":"::1","$type":"ClientAuthenticationSuccessEvent"}
2019-06-09 22:33:33.186 -03:00 [DBG] Start token request validation
2019-06-09 22:33:33.186 -03:00 [DBG] Start resource owner password token request validation
2019-06-09 22:33:33.200 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 22:33:33.320 -03:00 [DBG] Found ["api1"] API scopes in database
2019-06-09 22:33:33.323 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 22:33:33.327 -03:00 [DBG] Found ["api1"] API scopes in database
2019-06-09 22:33:33.348 -03:00 [INF] Credentials validated for username: alice
2019-06-09 22:33:33.349 -03:00 [INF] {"Username":"alice","Provider":null,"ProviderUserId":null,"SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","DisplayName":"alice","Endpoint":"Token","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HLND63T1LU2M:00000001","TimeStamp":"2019-06-10T01:33:33.0000000Z","ProcessId":26336,"LocalIpAddress":"127.0.0.1:30253","RemoteIpAddress":"::1","$type":"UserLoginSuccessEvent"}
2019-06-09 22:33:33.349 -03:00 [INF] {"Username":"alice","Provider":null,"ProviderUserId":null,"SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","DisplayName":null,"Endpoint":"Token","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HLND63T1LU2M:00000001","TimeStamp":"2019-06-10T01:33:33.0000000Z","ProcessId":26336,"LocalIpAddress":"127.0.0.1:30253","RemoteIpAddress":"::1","$type":"UserLoginSuccessEvent"}
2019-06-09 22:33:33.349 -03:00 [DBG] Resource owner password token request validation success.
2019-06-09 22:33:33.350 -03:00 [INF] Token request validation success
{"ClientId":"ro.client","ClientName":null,"GrantType":"password","Scopes":"api1 openid profile","AuthorizationCode":null,"RefreshToken":null,"UserName":"alice","AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"grant_type":"password","client_id":"ro.client","client_secret":"***REDACTED***","scope":"openid profile api1","username":"alice","password":"***REDACTED***"},"$type":"TokenRequestValidationLog"}
2019-06-09 22:33:33.350 -03:00 [DBG] Getting claims for access token for client: ro.client
2019-06-09 22:33:33.350 -03:00 [DBG] Getting claims for access token for subject: 4ba1c3a0-b786-421d-b88a-740f38d9cafa
2019-06-09 22:33:33.374 -03:00 [INF] {"ClientId":"ro.client","ClientName":null,"RedirectUri":null,"Endpoint":"Token","SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","Scopes":"openid profile api1","GrantType":"password","Tokens":[{"TokenType":"access_token","TokenValue":"****1Skg","$type":"Token"}],"Category":"Token","Name":"Token Issued Success","EventType":"Success","Id":2000,"Message":null,"ActivityId":"0HLND63T1LU2M:00000001","TimeStamp":"2019-06-10T01:33:33.0000000Z","ProcessId":26336,"LocalIpAddress":"127.0.0.1:30253","RemoteIpAddress":"::1","$type":"TokenIssuedSuccessEvent"}
2019-06-09 22:33:33.374 -03:00 [DBG] Token request success.
2019-06-09 22:33:33.452 -03:00 [DBG] CORS request made for path: /connect/userinfo from origin: http://localhost:3000
2019-06-09 22:33:33.454 -03:00 [DBG] Origin http://localhost:3000 is allowed: false
2019-06-09 22:33:33.454 -03:00 [WRN] CorsPolicyService did not allow origin: http://localhost:3000
2019-06-09 22:33:33.455 -03:00 [DBG] Request path /connect/userinfo matched to endpoint type Userinfo
2019-06-09 22:33:33.455 -03:00 [DBG] Endpoint enabled: Userinfo, successfully created handler: IdentityServer4.Endpoints.UserInfoEndpoint
2019-06-09 22:33:33.455 -03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.UserInfoEndpoint for /connect/userinfo
2019-06-09 22:33:33.455 -03:00 [DBG] Start userinfo request
2019-06-09 22:33:33.455 -03:00 [DBG] Bearer token found in header
2019-06-09 22:33:33.509 -03:00 [DBG] ro.client found in database: true
2019-06-09 22:33:33.509 -03:00 [DBG] client configuration validation for client ro.client succeeded.
2019-06-09 22:33:33.517 -03:00 [DBG] ro.client found in database: true
2019-06-09 22:33:33.518 -03:00 [DBG] client configuration validation for client ro.client succeeded.
2019-06-09 22:33:33.524 -03:00 [DBG] Calling into custom token validator: IdentityServer4.Validation.DefaultCustomTokenValidator
2019-06-09 22:33:33.524 -03:00 [DBG] Token validation success
{"ClientId":null,"ClientName":null,"ValidateLifetime":true,"AccessTokenType":"Jwt","ExpectedScope":"openid","TokenHandle":null,"JwtId":null,"Claims":{"nbf":1560130413,"exp":1560134013,"iss":"http://localhost:5000","aud":["http://localhost:5000/resources","api1"],"client_id":"ro.client","sub":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","auth_time":1560130413,"idp":"local","scope":["openid","profile","api1"],"amr":"pwd"},"$type":"TokenValidationLog"}
2019-06-09 22:33:33.524 -03:00 [DBG] Creating userinfo response
2019-06-09 22:33:33.524 -03:00 [DBG] Scopes in access token: openid profile api1
2019-06-09 22:33:33.524 -03:00 [DBG] Scopes in access token: openid profile api1
2019-06-09 22:33:33.537 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 22:33:33.538 -03:00 [DBG] Requested claim types: sub name family_name given_name middle_name nickname preferred_username profile picture website gender birthdate zoneinfo locale updated_at
2019-06-09 22:33:33.538 -03:00 [DBG] Scopes in access token: openid profile api1
2019-06-09 22:33:33.552 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 22:33:33.559 -03:00 [INF] Profile service returned the following claim types: sub name given_name family_name website preferred_username
2019-06-09 22:33:33.560 -03:00 [DBG] End userinfo request
2019-06-09 22:34:04.460 -03:00 [DBG] CORS request made for path: /connect/token from origin: http://localhost:3000
2019-06-09 22:34:04.469 -03:00 [DBG] Origin http://localhost:3000 is allowed: false
2019-06-09 22:34:04.469 -03:00 [WRN] CorsPolicyService did not allow origin: http://localhost:3000
2019-06-09 22:34:04.470 -03:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-06-09 22:34:04.470 -03:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-06-09 22:34:04.471 -03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-06-09 22:34:04.471 -03:00 [DBG] Start token request.
2019-06-09 22:34:04.471 -03:00 [DBG] Start client validation
2019-06-09 22:34:04.471 -03:00 [DBG] Start parsing Basic Authentication secret
2019-06-09 22:34:04.471 -03:00 [DBG] Start parsing for secret in post body
2019-06-09 22:34:04.485 -03:00 [DBG] Parser found secret: PostBodySecretParser
2019-06-09 22:34:04.485 -03:00 [DBG] Secret id found: ro.client
2019-06-09 22:34:04.536 -03:00 [DBG] ro.client found in database: true
2019-06-09 22:34:04.536 -03:00 [DBG] client configuration validation for client ro.client succeeded.
2019-06-09 22:34:04.536 -03:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-06-09 22:34:04.536 -03:00 [DBG] Client validation success
2019-06-09 22:34:04.536 -03:00 [INF] {"ClientId":"ro.client","AuthenticationMethod":"SharedSecret","Category":"Authentication","Name":"Client Authentication Success","EventType":"Success","Id":1010,"Message":null,"ActivityId":"0HLND63T1LU2M:00000004","TimeStamp":"2019-06-10T01:34:04.0000000Z","ProcessId":26336,"LocalIpAddress":"127.0.0.1:30253","RemoteIpAddress":"::1","$type":"ClientAuthenticationSuccessEvent"}
2019-06-09 22:34:04.537 -03:00 [DBG] Start token request validation
2019-06-09 22:34:04.537 -03:00 [DBG] Start resource owner password token request validation
2019-06-09 22:34:04.552 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 22:34:04.694 -03:00 [DBG] Found ["api1"] API scopes in database
2019-06-09 22:34:04.697 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 22:34:04.702 -03:00 [DBG] Found ["api1"] API scopes in database
2019-06-09 22:34:04.728 -03:00 [INF] Credentials validated for username: alice
2019-06-09 22:34:04.728 -03:00 [INF] {"Username":"alice","Provider":null,"ProviderUserId":null,"SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","DisplayName":"alice","Endpoint":"Token","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HLND63T1LU2M:00000004","TimeStamp":"2019-06-10T01:34:04.0000000Z","ProcessId":26336,"LocalIpAddress":"127.0.0.1:30253","RemoteIpAddress":"::1","$type":"UserLoginSuccessEvent"}
2019-06-09 22:34:04.728 -03:00 [INF] {"Username":"alice","Provider":null,"ProviderUserId":null,"SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","DisplayName":null,"Endpoint":"Token","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HLND63T1LU2M:00000004","TimeStamp":"2019-06-10T01:34:04.0000000Z","ProcessId":26336,"LocalIpAddress":"127.0.0.1:30253","RemoteIpAddress":"::1","$type":"UserLoginSuccessEvent"}
2019-06-09 22:34:04.728 -03:00 [DBG] Resource owner password token request validation success.
2019-06-09 22:34:04.729 -03:00 [INF] Token request validation success
{"ClientId":"ro.client","ClientName":null,"GrantType":"password","Scopes":"api1 openid profile","AuthorizationCode":null,"RefreshToken":null,"UserName":"alice","AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"grant_type":"password","client_id":"ro.client","client_secret":"***REDACTED***","scope":"openid profile api1","username":"alice","password":"***REDACTED***"},"$type":"TokenRequestValidationLog"}
2019-06-09 22:34:04.729 -03:00 [DBG] Getting claims for access token for client: ro.client
2019-06-09 22:34:04.729 -03:00 [DBG] Getting claims for access token for subject: 4ba1c3a0-b786-421d-b88a-740f38d9cafa
2019-06-09 22:34:04.754 -03:00 [INF] {"ClientId":"ro.client","ClientName":null,"RedirectUri":null,"Endpoint":"Token","SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","Scopes":"openid profile api1","GrantType":"password","Tokens":[{"TokenType":"access_token","TokenValue":"****tz0g","$type":"Token"}],"Category":"Token","Name":"Token Issued Success","EventType":"Success","Id":2000,"Message":null,"ActivityId":"0HLND63T1LU2M:00000004","TimeStamp":"2019-06-10T01:34:04.0000000Z","ProcessId":26336,"LocalIpAddress":"127.0.0.1:30253","RemoteIpAddress":"::1","$type":"TokenIssuedSuccessEvent"}
2019-06-09 22:34:04.754 -03:00 [DBG] Token request success.
2019-06-09 22:34:04.813 -03:00 [DBG] CORS request made for path: /connect/userinfo from origin: http://localhost:3000
2019-06-09 22:34:04.815 -03:00 [DBG] Origin http://localhost:3000 is allowed: false
2019-06-09 22:34:04.815 -03:00 [WRN] CorsPolicyService did not allow origin: http://localhost:3000
2019-06-09 22:34:04.816 -03:00 [DBG] Request path /connect/userinfo matched to endpoint type Userinfo
2019-06-09 22:34:04.816 -03:00 [DBG] Endpoint enabled: Userinfo, successfully created handler: IdentityServer4.Endpoints.UserInfoEndpoint
2019-06-09 22:34:04.816 -03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.UserInfoEndpoint for /connect/userinfo
2019-06-09 22:34:04.816 -03:00 [DBG] Start userinfo request
2019-06-09 22:34:04.816 -03:00 [DBG] Bearer token found in header
2019-06-09 22:34:04.831 -03:00 [DBG] ro.client found in database: true
2019-06-09 22:34:04.831 -03:00 [DBG] client configuration validation for client ro.client succeeded.
2019-06-09 22:34:04.837 -03:00 [DBG] ro.client found in database: true
2019-06-09 22:34:04.837 -03:00 [DBG] client configuration validation for client ro.client succeeded.
2019-06-09 22:34:04.847 -03:00 [DBG] Calling into custom token validator: IdentityServer4.Validation.DefaultCustomTokenValidator
2019-06-09 22:34:04.847 -03:00 [DBG] Token validation success
{"ClientId":null,"ClientName":null,"ValidateLifetime":true,"AccessTokenType":"Jwt","ExpectedScope":"openid","TokenHandle":null,"JwtId":null,"Claims":{"nbf":1560130444,"exp":1560134044,"iss":"http://localhost:5000","aud":["http://localhost:5000/resources","api1"],"client_id":"ro.client","sub":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","auth_time":1560130444,"idp":"local","scope":["openid","profile","api1"],"amr":"pwd"},"$type":"TokenValidationLog"}
2019-06-09 22:34:04.848 -03:00 [DBG] Creating userinfo response
2019-06-09 22:34:04.848 -03:00 [DBG] Scopes in access token: openid profile api1
2019-06-09 22:34:04.848 -03:00 [DBG] Scopes in access token: openid profile api1
2019-06-09 22:34:04.860 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 22:34:04.860 -03:00 [DBG] Requested claim types: sub name family_name given_name middle_name nickname preferred_username profile picture website gender birthdate zoneinfo locale updated_at
2019-06-09 22:34:04.860 -03:00 [DBG] Scopes in access token: openid profile api1
2019-06-09 22:34:04.863 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 22:34:04.869 -03:00 [INF] Profile service returned the following claim types: sub name given_name family_name website preferred_username
2019-06-09 22:34:04.869 -03:00 [DBG] End userinfo request
2019-06-09 22:34:21.971 -03:00 [DBG] CORS request made for path: /connect/token from origin: http://localhost:3000
2019-06-09 22:34:21.974 -03:00 [DBG] Origin http://localhost:3000 is allowed: false
2019-06-09 22:34:21.974 -03:00 [WRN] CorsPolicyService did not allow origin: http://localhost:3000
2019-06-09 22:34:21.975 -03:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-06-09 22:34:21.975 -03:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-06-09 22:34:21.975 -03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-06-09 22:34:21.975 -03:00 [DBG] Start token request.
2019-06-09 22:34:21.975 -03:00 [DBG] Start client validation
2019-06-09 22:34:21.975 -03:00 [DBG] Start parsing Basic Authentication secret
2019-06-09 22:34:21.976 -03:00 [DBG] Start parsing for secret in post body
2019-06-09 22:34:21.976 -03:00 [DBG] Parser found secret: PostBodySecretParser
2019-06-09 22:34:21.976 -03:00 [DBG] Secret id found: ro.client
2019-06-09 22:34:21.986 -03:00 [DBG] ro.client found in database: true
2019-06-09 22:34:21.987 -03:00 [DBG] client configuration validation for client ro.client succeeded.
2019-06-09 22:34:21.987 -03:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-06-09 22:34:21.987 -03:00 [DBG] Client validation success
2019-06-09 22:34:21.987 -03:00 [INF] {"ClientId":"ro.client","AuthenticationMethod":"SharedSecret","Category":"Authentication","Name":"Client Authentication Success","EventType":"Success","Id":1010,"Message":null,"ActivityId":"0HLND63T1LU2M:00000007","TimeStamp":"2019-06-10T01:34:21.0000000Z","ProcessId":26336,"LocalIpAddress":"127.0.0.1:30253","RemoteIpAddress":"::1","$type":"ClientAuthenticationSuccessEvent"}
2019-06-09 22:34:21.987 -03:00 [DBG] Start token request validation
2019-06-09 22:34:21.988 -03:00 [DBG] Start resource owner password token request validation
2019-06-09 22:34:21.991 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 22:34:21.997 -03:00 [DBG] Found ["api1"] API scopes in database
2019-06-09 22:34:22.000 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 22:34:22.007 -03:00 [DBG] Found ["api1"] API scopes in database
2019-06-09 22:34:22.026 -03:00 [INF] Credentials validated for username: alice
2019-06-09 22:34:22.027 -03:00 [INF] {"Username":"alice","Provider":null,"ProviderUserId":null,"SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","DisplayName":"alice","Endpoint":"Token","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HLND63T1LU2M:00000007","TimeStamp":"2019-06-10T01:34:22.0000000Z","ProcessId":26336,"LocalIpAddress":"127.0.0.1:30253","RemoteIpAddress":"::1","$type":"UserLoginSuccessEvent"}
2019-06-09 22:34:22.027 -03:00 [INF] {"Username":"alice","Provider":null,"ProviderUserId":null,"SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","DisplayName":null,"Endpoint":"Token","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HLND63T1LU2M:00000007","TimeStamp":"2019-06-10T01:34:22.0000000Z","ProcessId":26336,"LocalIpAddress":"127.0.0.1:30253","RemoteIpAddress":"::1","$type":"UserLoginSuccessEvent"}
2019-06-09 22:34:22.027 -03:00 [DBG] Resource owner password token request validation success.
2019-06-09 22:34:22.027 -03:00 [INF] Token request validation success
{"ClientId":"ro.client","ClientName":null,"GrantType":"password","Scopes":"api1 openid profile","AuthorizationCode":null,"RefreshToken":null,"UserName":"alice","AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"grant_type":"password","client_id":"ro.client","client_secret":"***REDACTED***","scope":"openid profile api1","username":"alice","password":"***REDACTED***"},"$type":"TokenRequestValidationLog"}
2019-06-09 22:34:22.027 -03:00 [DBG] Getting claims for access token for client: ro.client
2019-06-09 22:34:22.028 -03:00 [DBG] Getting claims for access token for subject: 4ba1c3a0-b786-421d-b88a-740f38d9cafa
2019-06-09 22:34:22.045 -03:00 [INF] {"ClientId":"ro.client","ClientName":null,"RedirectUri":null,"Endpoint":"Token","SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","Scopes":"openid profile api1","GrantType":"password","Tokens":[{"TokenType":"access_token","TokenValue":"****wXhw","$type":"Token"}],"Category":"Token","Name":"Token Issued Success","EventType":"Success","Id":2000,"Message":null,"ActivityId":"0HLND63T1LU2M:00000007","TimeStamp":"2019-06-10T01:34:22.0000000Z","ProcessId":26336,"LocalIpAddress":"127.0.0.1:30253","RemoteIpAddress":"::1","$type":"TokenIssuedSuccessEvent"}
2019-06-09 22:34:22.046 -03:00 [DBG] Token request success.
2019-06-09 22:34:22.104 -03:00 [DBG] CORS request made for path: /connect/userinfo from origin: http://localhost:3000
2019-06-09 22:34:22.106 -03:00 [DBG] Origin http://localhost:3000 is allowed: false
2019-06-09 22:34:22.107 -03:00 [WRN] CorsPolicyService did not allow origin: http://localhost:3000
2019-06-09 22:34:22.107 -03:00 [DBG] Request path /connect/userinfo matched to endpoint type Userinfo
2019-06-09 22:34:22.107 -03:00 [DBG] Endpoint enabled: Userinfo, successfully created handler: IdentityServer4.Endpoints.UserInfoEndpoint
2019-06-09 22:34:22.107 -03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.UserInfoEndpoint for /connect/userinfo
2019-06-09 22:34:22.107 -03:00 [DBG] Start userinfo request
2019-06-09 22:34:22.107 -03:00 [DBG] Bearer token found in header
2019-06-09 22:34:22.122 -03:00 [DBG] ro.client found in database: true
2019-06-09 22:34:22.123 -03:00 [DBG] client configuration validation for client ro.client succeeded.
2019-06-09 22:34:22.129 -03:00 [DBG] ro.client found in database: true
2019-06-09 22:34:22.129 -03:00 [DBG] client configuration validation for client ro.client succeeded.
2019-06-09 22:34:22.138 -03:00 [DBG] Calling into custom token validator: IdentityServer4.Validation.DefaultCustomTokenValidator
2019-06-09 22:34:22.138 -03:00 [DBG] Token validation success
{"ClientId":null,"ClientName":null,"ValidateLifetime":true,"AccessTokenType":"Jwt","ExpectedScope":"openid","TokenHandle":null,"JwtId":null,"Claims":{"nbf":1560130462,"exp":1560134062,"iss":"http://localhost:5000","aud":["http://localhost:5000/resources","api1"],"client_id":"ro.client","sub":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","auth_time":1560130462,"idp":"local","scope":["openid","profile","api1"],"amr":"pwd"},"$type":"TokenValidationLog"}
2019-06-09 22:34:22.138 -03:00 [DBG] Creating userinfo response
2019-06-09 22:34:22.138 -03:00 [DBG] Scopes in access token: openid profile api1
2019-06-09 22:34:22.138 -03:00 [DBG] Scopes in access token: openid profile api1
2019-06-09 22:34:22.141 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 22:34:22.142 -03:00 [DBG] Requested claim types: sub name family_name given_name middle_name nickname preferred_username profile picture website gender birthdate zoneinfo locale updated_at
2019-06-09 22:34:22.142 -03:00 [DBG] Scopes in access token: openid profile api1
2019-06-09 22:34:22.145 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 22:34:22.157 -03:00 [INF] Profile service returned the following claim types: sub name given_name family_name website preferred_username
2019-06-09 22:34:22.158 -03:00 [DBG] End userinfo request
2019-06-09 22:34:44.822 -03:00 [DBG] CORS request made for path: /connect/token from origin: http://localhost:3000
2019-06-09 22:34:44.826 -03:00 [DBG] Origin http://localhost:3000 is allowed: false
2019-06-09 22:34:44.826 -03:00 [WRN] CorsPolicyService did not allow origin: http://localhost:3000
2019-06-09 22:34:44.827 -03:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-06-09 22:34:44.827 -03:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-06-09 22:34:44.827 -03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-06-09 22:34:44.828 -03:00 [DBG] Start token request.
2019-06-09 22:34:44.828 -03:00 [DBG] Start client validation
2019-06-09 22:34:44.828 -03:00 [DBG] Start parsing Basic Authentication secret
2019-06-09 22:34:44.828 -03:00 [DBG] Start parsing for secret in post body
2019-06-09 22:34:44.829 -03:00 [DBG] Parser found secret: PostBodySecretParser
2019-06-09 22:34:44.829 -03:00 [DBG] Secret id found: ro.client
2019-06-09 22:34:44.840 -03:00 [DBG] ro.client found in database: true
2019-06-09 22:34:44.840 -03:00 [DBG] client configuration validation for client ro.client succeeded.
2019-06-09 22:34:44.840 -03:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-06-09 22:34:44.840 -03:00 [DBG] Client validation success
2019-06-09 22:34:44.840 -03:00 [INF] {"ClientId":"ro.client","AuthenticationMethod":"SharedSecret","Category":"Authentication","Name":"Client Authentication Success","EventType":"Success","Id":1010,"Message":null,"ActivityId":"0HLND63T1LU2M:0000000A","TimeStamp":"2019-06-10T01:34:44.0000000Z","ProcessId":26336,"LocalIpAddress":"127.0.0.1:30253","RemoteIpAddress":"::1","$type":"ClientAuthenticationSuccessEvent"}
2019-06-09 22:34:44.840 -03:00 [DBG] Start token request validation
2019-06-09 22:34:44.841 -03:00 [DBG] Start resource owner password token request validation
2019-06-09 22:34:44.855 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 22:34:44.866 -03:00 [DBG] Found ["api1"] API scopes in database
2019-06-09 22:34:44.871 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 22:34:44.881 -03:00 [DBG] Found ["api1"] API scopes in database
2019-06-09 22:34:44.904 -03:00 [INF] Credentials validated for username: alice
2019-06-09 22:34:44.904 -03:00 [INF] {"Username":"alice","Provider":null,"ProviderUserId":null,"SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","DisplayName":"alice","Endpoint":"Token","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HLND63T1LU2M:0000000A","TimeStamp":"2019-06-10T01:34:44.0000000Z","ProcessId":26336,"LocalIpAddress":"127.0.0.1:30253","RemoteIpAddress":"::1","$type":"UserLoginSuccessEvent"}
2019-06-09 22:34:44.904 -03:00 [INF] {"Username":"alice","Provider":null,"ProviderUserId":null,"SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","DisplayName":null,"Endpoint":"Token","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HLND63T1LU2M:0000000A","TimeStamp":"2019-06-10T01:34:44.0000000Z","ProcessId":26336,"LocalIpAddress":"127.0.0.1:30253","RemoteIpAddress":"::1","$type":"UserLoginSuccessEvent"}
2019-06-09 22:34:44.904 -03:00 [DBG] Resource owner password token request validation success.
2019-06-09 22:34:44.905 -03:00 [INF] Token request validation success
{"ClientId":"ro.client","ClientName":null,"GrantType":"password","Scopes":"api1 openid profile","AuthorizationCode":null,"RefreshToken":null,"UserName":"alice","AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"grant_type":"password","client_id":"ro.client","client_secret":"***REDACTED***","scope":"openid profile api1","username":"alice","password":"***REDACTED***"},"$type":"TokenRequestValidationLog"}
2019-06-09 22:34:44.905 -03:00 [DBG] Getting claims for access token for client: ro.client
2019-06-09 22:34:44.905 -03:00 [DBG] Getting claims for access token for subject: 4ba1c3a0-b786-421d-b88a-740f38d9cafa
2019-06-09 22:34:44.922 -03:00 [INF] {"ClientId":"ro.client","ClientName":null,"RedirectUri":null,"Endpoint":"Token","SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","Scopes":"openid profile api1","GrantType":"password","Tokens":[{"TokenType":"access_token","TokenValue":"****wHXQ","$type":"Token"}],"Category":"Token","Name":"Token Issued Success","EventType":"Success","Id":2000,"Message":null,"ActivityId":"0HLND63T1LU2M:0000000A","TimeStamp":"2019-06-10T01:34:44.0000000Z","ProcessId":26336,"LocalIpAddress":"127.0.0.1:30253","RemoteIpAddress":"::1","$type":"TokenIssuedSuccessEvent"}
2019-06-09 22:34:44.922 -03:00 [DBG] Token request success.
2019-06-09 22:34:44.979 -03:00 [DBG] CORS request made for path: /connect/userinfo from origin: http://localhost:3000
2019-06-09 22:34:44.983 -03:00 [DBG] Origin http://localhost:3000 is allowed: false
2019-06-09 22:34:44.983 -03:00 [WRN] CorsPolicyService did not allow origin: http://localhost:3000
2019-06-09 22:34:44.983 -03:00 [DBG] Request path /connect/userinfo matched to endpoint type Userinfo
2019-06-09 22:34:44.984 -03:00 [DBG] Endpoint enabled: Userinfo, successfully created handler: IdentityServer4.Endpoints.UserInfoEndpoint
2019-06-09 22:34:44.984 -03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.UserInfoEndpoint for /connect/userinfo
2019-06-09 22:34:44.984 -03:00 [DBG] Start userinfo request
2019-06-09 22:34:44.984 -03:00 [DBG] Bearer token found in header
2019-06-09 22:34:45.000 -03:00 [DBG] ro.client found in database: true
2019-06-09 22:34:45.001 -03:00 [DBG] client configuration validation for client ro.client succeeded.
2019-06-09 22:34:45.008 -03:00 [DBG] ro.client found in database: true
2019-06-09 22:34:45.008 -03:00 [DBG] client configuration validation for client ro.client succeeded.
2019-06-09 22:34:45.016 -03:00 [DBG] Calling into custom token validator: IdentityServer4.Validation.DefaultCustomTokenValidator
2019-06-09 22:34:45.016 -03:00 [DBG] Token validation success
{"ClientId":null,"ClientName":null,"ValidateLifetime":true,"AccessTokenType":"Jwt","ExpectedScope":"openid","TokenHandle":null,"JwtId":null,"Claims":{"nbf":1560130484,"exp":1560134084,"iss":"http://localhost:5000","aud":["http://localhost:5000/resources","api1"],"client_id":"ro.client","sub":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","auth_time":1560130484,"idp":"local","scope":["openid","profile","api1"],"amr":"pwd"},"$type":"TokenValidationLog"}
2019-06-09 22:34:45.017 -03:00 [DBG] Creating userinfo response
2019-06-09 22:34:45.017 -03:00 [DBG] Scopes in access token: openid profile api1
2019-06-09 22:34:45.017 -03:00 [DBG] Scopes in access token: openid profile api1
2019-06-09 22:34:45.020 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 22:34:45.021 -03:00 [DBG] Requested claim types: sub name family_name given_name middle_name nickname preferred_username profile picture website gender birthdate zoneinfo locale updated_at
2019-06-09 22:34:45.021 -03:00 [DBG] Scopes in access token: openid profile api1
2019-06-09 22:34:45.024 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 22:34:45.032 -03:00 [INF] Profile service returned the following claim types: sub name given_name family_name website preferred_username
2019-06-09 22:34:45.032 -03:00 [DBG] End userinfo request
2019-06-09 22:36:17.758 -03:00 [DBG] CORS request made for path: /connect/token from origin: http://localhost:3000
2019-06-09 22:36:17.796 -03:00 [DBG] Origin http://localhost:3000 is allowed: false
2019-06-09 22:36:17.796 -03:00 [WRN] CorsPolicyService did not allow origin: http://localhost:3000
2019-06-09 22:36:17.796 -03:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-06-09 22:36:17.797 -03:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-06-09 22:36:17.797 -03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-06-09 22:36:17.797 -03:00 [DBG] Start token request.
2019-06-09 22:36:17.797 -03:00 [DBG] Start client validation
2019-06-09 22:36:17.797 -03:00 [DBG] Start parsing Basic Authentication secret
2019-06-09 22:36:17.797 -03:00 [DBG] Start parsing for secret in post body
2019-06-09 22:36:17.798 -03:00 [DBG] Parser found secret: PostBodySecretParser
2019-06-09 22:36:17.798 -03:00 [DBG] Secret id found: ro.client
2019-06-09 22:36:17.835 -03:00 [DBG] ro.client found in database: true
2019-06-09 22:36:17.835 -03:00 [DBG] client configuration validation for client ro.client succeeded.
2019-06-09 22:36:17.835 -03:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-06-09 22:36:17.835 -03:00 [DBG] Client validation success
2019-06-09 22:36:17.835 -03:00 [INF] {"ClientId":"ro.client","AuthenticationMethod":"SharedSecret","Category":"Authentication","Name":"Client Authentication Success","EventType":"Success","Id":1010,"Message":null,"ActivityId":"0HLND63T1LU2N:00000001","TimeStamp":"2019-06-10T01:36:17.0000000Z","ProcessId":26336,"LocalIpAddress":"127.0.0.1:30253","RemoteIpAddress":"::1","$type":"ClientAuthenticationSuccessEvent"}
2019-06-09 22:36:17.836 -03:00 [DBG] Start token request validation
2019-06-09 22:36:17.836 -03:00 [DBG] Start resource owner password token request validation
2019-06-09 22:36:17.848 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 22:36:17.972 -03:00 [DBG] Found ["api1"] API scopes in database
2019-06-09 22:36:17.976 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 22:36:17.980 -03:00 [DBG] Found ["api1"] API scopes in database
2019-06-09 22:36:17.998 -03:00 [INF] Credentials validated for username: alice
2019-06-09 22:36:17.998 -03:00 [INF] {"Username":"alice","Provider":null,"ProviderUserId":null,"SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","DisplayName":"alice","Endpoint":"Token","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HLND63T1LU2N:00000001","TimeStamp":"2019-06-10T01:36:17.0000000Z","ProcessId":26336,"LocalIpAddress":"127.0.0.1:30253","RemoteIpAddress":"::1","$type":"UserLoginSuccessEvent"}
2019-06-09 22:36:17.999 -03:00 [INF] {"Username":"alice","Provider":null,"ProviderUserId":null,"SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","DisplayName":null,"Endpoint":"Token","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HLND63T1LU2N:00000001","TimeStamp":"2019-06-10T01:36:17.0000000Z","ProcessId":26336,"LocalIpAddress":"127.0.0.1:30253","RemoteIpAddress":"::1","$type":"UserLoginSuccessEvent"}
2019-06-09 22:36:17.999 -03:00 [DBG] Resource owner password token request validation success.
2019-06-09 22:36:17.999 -03:00 [INF] Token request validation success
{"ClientId":"ro.client","ClientName":null,"GrantType":"password","Scopes":"api1 openid profile","AuthorizationCode":null,"RefreshToken":null,"UserName":"alice","AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"grant_type":"password","client_id":"ro.client","client_secret":"***REDACTED***","scope":"openid profile api1","username":"alice","password":"***REDACTED***"},"$type":"TokenRequestValidationLog"}
2019-06-09 22:36:17.999 -03:00 [DBG] Getting claims for access token for client: ro.client
2019-06-09 22:36:17.999 -03:00 [DBG] Getting claims for access token for subject: 4ba1c3a0-b786-421d-b88a-740f38d9cafa
2019-06-09 22:36:18.015 -03:00 [INF] {"ClientId":"ro.client","ClientName":null,"RedirectUri":null,"Endpoint":"Token","SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","Scopes":"openid profile api1","GrantType":"password","Tokens":[{"TokenType":"access_token","TokenValue":"****ZcVw","$type":"Token"}],"Category":"Token","Name":"Token Issued Success","EventType":"Success","Id":2000,"Message":null,"ActivityId":"0HLND63T1LU2N:00000001","TimeStamp":"2019-06-10T01:36:18.0000000Z","ProcessId":26336,"LocalIpAddress":"127.0.0.1:30253","RemoteIpAddress":"::1","$type":"TokenIssuedSuccessEvent"}
2019-06-09 22:36:18.015 -03:00 [DBG] Token request success.
2019-06-09 22:36:18.103 -03:00 [DBG] CORS request made for path: /connect/userinfo from origin: http://localhost:3000
2019-06-09 22:36:18.110 -03:00 [DBG] Origin http://localhost:3000 is allowed: false
2019-06-09 22:36:18.110 -03:00 [WRN] CorsPolicyService did not allow origin: http://localhost:3000
2019-06-09 22:36:18.110 -03:00 [DBG] Request path /connect/userinfo matched to endpoint type Userinfo
2019-06-09 22:36:18.111 -03:00 [DBG] Endpoint enabled: Userinfo, successfully created handler: IdentityServer4.Endpoints.UserInfoEndpoint
2019-06-09 22:36:18.111 -03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.UserInfoEndpoint for /connect/userinfo
2019-06-09 22:36:18.111 -03:00 [DBG] Start userinfo request
2019-06-09 22:36:18.111 -03:00 [DBG] Bearer token found in header
2019-06-09 22:36:18.128 -03:00 [DBG] ro.client found in database: true
2019-06-09 22:36:18.128 -03:00 [DBG] client configuration validation for client ro.client succeeded.
2019-06-09 22:36:18.137 -03:00 [DBG] ro.client found in database: true
2019-06-09 22:36:18.138 -03:00 [DBG] client configuration validation for client ro.client succeeded.
2019-06-09 22:36:18.154 -03:00 [DBG] Calling into custom token validator: IdentityServer4.Validation.DefaultCustomTokenValidator
2019-06-09 22:36:18.154 -03:00 [DBG] Token validation success
{"ClientId":null,"ClientName":null,"ValidateLifetime":true,"AccessTokenType":"Jwt","ExpectedScope":"openid","TokenHandle":null,"JwtId":null,"Claims":{"nbf":1560130578,"exp":1560134178,"iss":"http://localhost:5000","aud":["http://localhost:5000/resources","api1"],"client_id":"ro.client","sub":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","auth_time":1560130577,"idp":"local","scope":["openid","profile","api1"],"amr":"pwd"},"$type":"TokenValidationLog"}
2019-06-09 22:36:18.154 -03:00 [DBG] Creating userinfo response
2019-06-09 22:36:18.154 -03:00 [DBG] Scopes in access token: openid profile api1
2019-06-09 22:36:18.155 -03:00 [DBG] Scopes in access token: openid profile api1
2019-06-09 22:36:18.169 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 22:36:18.169 -03:00 [DBG] Requested claim types: sub name family_name given_name middle_name nickname preferred_username profile picture website gender birthdate zoneinfo locale updated_at
2019-06-09 22:36:18.169 -03:00 [DBG] Scopes in access token: openid profile api1
2019-06-09 22:36:18.173 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 22:36:18.190 -03:00 [INF] Profile service returned the following claim types: sub name given_name family_name website preferred_username
2019-06-09 22:36:18.190 -03:00 [DBG] End userinfo request
2019-06-09 22:37:33.632 -03:00 [DBG] CORS request made for path: /connect/token from origin: http://localhost:3000
2019-06-09 22:37:33.648 -03:00 [DBG] Origin http://localhost:3000 is allowed: false
2019-06-09 22:37:33.649 -03:00 [WRN] CorsPolicyService did not allow origin: http://localhost:3000
2019-06-09 22:37:33.649 -03:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-06-09 22:37:33.649 -03:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-06-09 22:37:33.649 -03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-06-09 22:37:33.650 -03:00 [DBG] Start token request.
2019-06-09 22:37:33.650 -03:00 [DBG] Start client validation
2019-06-09 22:37:33.650 -03:00 [DBG] Start parsing Basic Authentication secret
2019-06-09 22:37:33.650 -03:00 [DBG] Start parsing for secret in post body
2019-06-09 22:37:33.651 -03:00 [DBG] Parser found secret: PostBodySecretParser
2019-06-09 22:37:33.651 -03:00 [DBG] Secret id found: ro.client
2019-06-09 22:37:33.698 -03:00 [DBG] ro.client found in database: true
2019-06-09 22:37:33.698 -03:00 [DBG] client configuration validation for client ro.client succeeded.
2019-06-09 22:37:33.698 -03:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-06-09 22:37:33.698 -03:00 [DBG] Client validation success
2019-06-09 22:37:33.698 -03:00 [INF] {"ClientId":"ro.client","AuthenticationMethod":"SharedSecret","Category":"Authentication","Name":"Client Authentication Success","EventType":"Success","Id":1010,"Message":null,"ActivityId":"0HLND63T1LU2O:00000001","TimeStamp":"2019-06-10T01:37:33.0000000Z","ProcessId":26336,"LocalIpAddress":"127.0.0.1:30253","RemoteIpAddress":"::1","$type":"ClientAuthenticationSuccessEvent"}
2019-06-09 22:37:33.698 -03:00 [DBG] Start token request validation
2019-06-09 22:37:33.698 -03:00 [DBG] Start resource owner password token request validation
2019-06-09 22:37:33.714 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 22:37:33.847 -03:00 [DBG] Found ["api1"] API scopes in database
2019-06-09 22:37:33.850 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 22:37:33.856 -03:00 [DBG] Found ["api1"] API scopes in database
2019-06-09 22:37:33.892 -03:00 [INF] Credentials validated for username: alice
2019-06-09 22:37:33.893 -03:00 [INF] {"Username":"alice","Provider":null,"ProviderUserId":null,"SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","DisplayName":"alice","Endpoint":"Token","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HLND63T1LU2O:00000001","TimeStamp":"2019-06-10T01:37:33.0000000Z","ProcessId":26336,"LocalIpAddress":"127.0.0.1:30253","RemoteIpAddress":"::1","$type":"UserLoginSuccessEvent"}
2019-06-09 22:37:33.893 -03:00 [INF] {"Username":"alice","Provider":null,"ProviderUserId":null,"SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","DisplayName":null,"Endpoint":"Token","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HLND63T1LU2O:00000001","TimeStamp":"2019-06-10T01:37:33.0000000Z","ProcessId":26336,"LocalIpAddress":"127.0.0.1:30253","RemoteIpAddress":"::1","$type":"UserLoginSuccessEvent"}
2019-06-09 22:37:33.893 -03:00 [DBG] Resource owner password token request validation success.
2019-06-09 22:37:33.893 -03:00 [INF] Token request validation success
{"ClientId":"ro.client","ClientName":null,"GrantType":"password","Scopes":"api1 openid profile","AuthorizationCode":null,"RefreshToken":null,"UserName":"alice","AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"grant_type":"password","client_id":"ro.client","client_secret":"***REDACTED***","scope":"openid profile api1","username":"alice","password":"***REDACTED***"},"$type":"TokenRequestValidationLog"}
2019-06-09 22:37:33.893 -03:00 [DBG] Getting claims for access token for client: ro.client
2019-06-09 22:37:33.893 -03:00 [DBG] Getting claims for access token for subject: 4ba1c3a0-b786-421d-b88a-740f38d9cafa
2019-06-09 22:37:33.915 -03:00 [INF] {"ClientId":"ro.client","ClientName":null,"RedirectUri":null,"Endpoint":"Token","SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","Scopes":"openid profile api1","GrantType":"password","Tokens":[{"TokenType":"access_token","TokenValue":"****2KtA","$type":"Token"}],"Category":"Token","Name":"Token Issued Success","EventType":"Success","Id":2000,"Message":null,"ActivityId":"0HLND63T1LU2O:00000001","TimeStamp":"2019-06-10T01:37:33.0000000Z","ProcessId":26336,"LocalIpAddress":"127.0.0.1:30253","RemoteIpAddress":"::1","$type":"TokenIssuedSuccessEvent"}
2019-06-09 22:37:33.915 -03:00 [DBG] Token request success.
2019-06-09 22:37:33.992 -03:00 [DBG] CORS request made for path: /connect/userinfo from origin: http://localhost:3000
2019-06-09 22:37:33.998 -03:00 [DBG] Origin http://localhost:3000 is allowed: false
2019-06-09 22:37:33.998 -03:00 [WRN] CorsPolicyService did not allow origin: http://localhost:3000
2019-06-09 22:37:33.998 -03:00 [DBG] Request path /connect/userinfo matched to endpoint type Userinfo
2019-06-09 22:37:33.999 -03:00 [DBG] Endpoint enabled: Userinfo, successfully created handler: IdentityServer4.Endpoints.UserInfoEndpoint
2019-06-09 22:37:33.999 -03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.UserInfoEndpoint for /connect/userinfo
2019-06-09 22:37:33.999 -03:00 [DBG] Start userinfo request
2019-06-09 22:37:33.999 -03:00 [DBG] Bearer token found in header
2019-06-09 22:37:34.016 -03:00 [DBG] ro.client found in database: true
2019-06-09 22:37:34.016 -03:00 [DBG] client configuration validation for client ro.client succeeded.
2019-06-09 22:37:34.029 -03:00 [DBG] ro.client found in database: true
2019-06-09 22:37:34.029 -03:00 [DBG] client configuration validation for client ro.client succeeded.
2019-06-09 22:37:34.036 -03:00 [DBG] Calling into custom token validator: IdentityServer4.Validation.DefaultCustomTokenValidator
2019-06-09 22:37:34.036 -03:00 [DBG] Token validation success
{"ClientId":null,"ClientName":null,"ValidateLifetime":true,"AccessTokenType":"Jwt","ExpectedScope":"openid","TokenHandle":null,"JwtId":null,"Claims":{"nbf":1560130653,"exp":1560134253,"iss":"http://localhost:5000","aud":["http://localhost:5000/resources","api1"],"client_id":"ro.client","sub":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","auth_time":1560130653,"idp":"local","scope":["openid","profile","api1"],"amr":"pwd"},"$type":"TokenValidationLog"}
2019-06-09 22:37:34.036 -03:00 [DBG] Creating userinfo response
2019-06-09 22:37:34.036 -03:00 [DBG] Scopes in access token: openid profile api1
2019-06-09 22:37:34.036 -03:00 [DBG] Scopes in access token: openid profile api1
2019-06-09 22:37:34.050 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 22:37:34.050 -03:00 [DBG] Requested claim types: sub name family_name given_name middle_name nickname preferred_username profile picture website gender birthdate zoneinfo locale updated_at
2019-06-09 22:37:34.050 -03:00 [DBG] Scopes in access token: openid profile api1
2019-06-09 22:37:34.053 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 22:37:34.061 -03:00 [INF] Profile service returned the following claim types: sub name given_name family_name website preferred_username
2019-06-09 22:37:34.062 -03:00 [DBG] End userinfo request
2019-06-09 22:42:25.725 -03:00 [DBG] CORS request made for path: /connect/token from origin: http://localhost:3000
2019-06-09 22:42:25.730 -03:00 [DBG] Origin http://localhost:3000 is allowed: false
2019-06-09 22:42:25.730 -03:00 [WRN] CorsPolicyService did not allow origin: http://localhost:3000
2019-06-09 22:42:25.730 -03:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-06-09 22:42:25.731 -03:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-06-09 22:42:25.731 -03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-06-09 22:42:25.731 -03:00 [DBG] Start token request.
2019-06-09 22:42:25.731 -03:00 [DBG] Start client validation
2019-06-09 22:42:25.731 -03:00 [DBG] Start parsing Basic Authentication secret
2019-06-09 22:42:25.731 -03:00 [DBG] Start parsing for secret in post body
2019-06-09 22:42:25.734 -03:00 [DBG] Parser found secret: PostBodySecretParser
2019-06-09 22:42:25.734 -03:00 [DBG] Secret id found: ro.client
2019-06-09 22:42:25.773 -03:00 [DBG] ro.client found in database: true
2019-06-09 22:42:25.773 -03:00 [DBG] client configuration validation for client ro.client succeeded.
2019-06-09 22:42:25.773 -03:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-06-09 22:42:25.773 -03:00 [DBG] Client validation success
2019-06-09 22:42:25.774 -03:00 [INF] {"ClientId":"ro.client","AuthenticationMethod":"SharedSecret","Category":"Authentication","Name":"Client Authentication Success","EventType":"Success","Id":1010,"Message":null,"ActivityId":"0HLND63T1LU2P:00000001","TimeStamp":"2019-06-10T01:42:25.0000000Z","ProcessId":26336,"LocalIpAddress":"127.0.0.1:30253","RemoteIpAddress":"::1","$type":"ClientAuthenticationSuccessEvent"}
2019-06-09 22:42:25.774 -03:00 [DBG] Start token request validation
2019-06-09 22:42:25.774 -03:00 [DBG] Start resource owner password token request validation
2019-06-09 22:42:25.786 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 22:42:25.909 -03:00 [DBG] Found ["api1"] API scopes in database
2019-06-09 22:42:25.912 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 22:42:25.917 -03:00 [DBG] Found ["api1"] API scopes in database
2019-06-09 22:42:25.943 -03:00 [INF] Credentials validated for username: alice
2019-06-09 22:42:25.943 -03:00 [INF] {"Username":"alice","Provider":null,"ProviderUserId":null,"SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","DisplayName":"alice","Endpoint":"Token","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HLND63T1LU2P:00000001","TimeStamp":"2019-06-10T01:42:25.0000000Z","ProcessId":26336,"LocalIpAddress":"127.0.0.1:30253","RemoteIpAddress":"::1","$type":"UserLoginSuccessEvent"}
2019-06-09 22:42:25.944 -03:00 [INF] {"Username":"alice","Provider":null,"ProviderUserId":null,"SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","DisplayName":null,"Endpoint":"Token","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HLND63T1LU2P:00000001","TimeStamp":"2019-06-10T01:42:25.0000000Z","ProcessId":26336,"LocalIpAddress":"127.0.0.1:30253","RemoteIpAddress":"::1","$type":"UserLoginSuccessEvent"}
2019-06-09 22:42:25.944 -03:00 [DBG] Resource owner password token request validation success.
2019-06-09 22:42:25.944 -03:00 [INF] Token request validation success
{"ClientId":"ro.client","ClientName":null,"GrantType":"password","Scopes":"api1 openid profile","AuthorizationCode":null,"RefreshToken":null,"UserName":"alice","AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"grant_type":"password","client_id":"ro.client","client_secret":"***REDACTED***","scope":"openid profile api1","username":"alice","password":"***REDACTED***"},"$type":"TokenRequestValidationLog"}
2019-06-09 22:42:25.944 -03:00 [DBG] Getting claims for access token for client: ro.client
2019-06-09 22:42:25.944 -03:00 [DBG] Getting claims for access token for subject: 4ba1c3a0-b786-421d-b88a-740f38d9cafa
2019-06-09 22:42:25.980 -03:00 [INF] {"ClientId":"ro.client","ClientName":null,"RedirectUri":null,"Endpoint":"Token","SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","Scopes":"openid profile api1","GrantType":"password","Tokens":[{"TokenType":"access_token","TokenValue":"****5YCg","$type":"Token"}],"Category":"Token","Name":"Token Issued Success","EventType":"Success","Id":2000,"Message":null,"ActivityId":"0HLND63T1LU2P:00000001","TimeStamp":"2019-06-10T01:42:25.0000000Z","ProcessId":26336,"LocalIpAddress":"127.0.0.1:30253","RemoteIpAddress":"::1","$type":"TokenIssuedSuccessEvent"}
2019-06-09 22:42:25.980 -03:00 [DBG] Token request success.
2019-06-09 22:42:26.043 -03:00 [DBG] CORS request made for path: /connect/userinfo from origin: http://localhost:3000
2019-06-09 22:42:26.045 -03:00 [DBG] Origin http://localhost:3000 is allowed: false
2019-06-09 22:42:26.045 -03:00 [WRN] CorsPolicyService did not allow origin: http://localhost:3000
2019-06-09 22:42:26.045 -03:00 [DBG] Request path /connect/userinfo matched to endpoint type Userinfo
2019-06-09 22:42:26.046 -03:00 [DBG] Endpoint enabled: Userinfo, successfully created handler: IdentityServer4.Endpoints.UserInfoEndpoint
2019-06-09 22:42:26.046 -03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.UserInfoEndpoint for /connect/userinfo
2019-06-09 22:42:26.046 -03:00 [DBG] Start userinfo request
2019-06-09 22:42:26.046 -03:00 [DBG] Bearer token found in header
2019-06-09 22:42:26.061 -03:00 [DBG] ro.client found in database: true
2019-06-09 22:42:26.061 -03:00 [DBG] client configuration validation for client ro.client succeeded.
2019-06-09 22:42:26.071 -03:00 [DBG] ro.client found in database: true
2019-06-09 22:42:26.072 -03:00 [DBG] client configuration validation for client ro.client succeeded.
2019-06-09 22:42:26.078 -03:00 [DBG] Calling into custom token validator: IdentityServer4.Validation.DefaultCustomTokenValidator
2019-06-09 22:42:26.079 -03:00 [DBG] Token validation success
{"ClientId":null,"ClientName":null,"ValidateLifetime":true,"AccessTokenType":"Jwt","ExpectedScope":"openid","TokenHandle":null,"JwtId":null,"Claims":{"nbf":1560130945,"exp":1560134545,"iss":"http://localhost:5000","aud":["http://localhost:5000/resources","api1"],"client_id":"ro.client","sub":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","auth_time":1560130945,"idp":"local","scope":["openid","profile","api1"],"amr":"pwd"},"$type":"TokenValidationLog"}
2019-06-09 22:42:26.079 -03:00 [DBG] Creating userinfo response
2019-06-09 22:42:26.079 -03:00 [DBG] Scopes in access token: openid profile api1
2019-06-09 22:42:26.079 -03:00 [DBG] Scopes in access token: openid profile api1
2019-06-09 22:42:26.094 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 22:42:26.095 -03:00 [DBG] Requested claim types: sub name family_name given_name middle_name nickname preferred_username profile picture website gender birthdate zoneinfo locale updated_at
2019-06-09 22:42:26.095 -03:00 [DBG] Scopes in access token: openid profile api1
2019-06-09 22:42:26.097 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 22:42:26.105 -03:00 [INF] Profile service returned the following claim types: sub name given_name family_name website preferred_username
2019-06-09 22:42:26.105 -03:00 [DBG] End userinfo request
2019-06-09 22:45:32.062 -03:00 [DBG] CORS request made for path: /connect/token from origin: http://localhost:3000
2019-06-09 22:45:32.068 -03:00 [DBG] Origin http://localhost:3000 is allowed: false
2019-06-09 22:45:32.069 -03:00 [WRN] CorsPolicyService did not allow origin: http://localhost:3000
2019-06-09 22:45:32.069 -03:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-06-09 22:45:32.070 -03:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-06-09 22:45:32.071 -03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-06-09 22:45:32.071 -03:00 [DBG] Start token request.
2019-06-09 22:45:32.071 -03:00 [DBG] Start client validation
2019-06-09 22:45:32.071 -03:00 [DBG] Start parsing Basic Authentication secret
2019-06-09 22:45:32.071 -03:00 [DBG] Start parsing for secret in post body
2019-06-09 22:45:32.072 -03:00 [DBG] Parser found secret: PostBodySecretParser
2019-06-09 22:45:32.072 -03:00 [DBG] Secret id found: ro.client
2019-06-09 22:45:32.117 -03:00 [DBG] ro.client found in database: true
2019-06-09 22:45:32.118 -03:00 [DBG] client configuration validation for client ro.client succeeded.
2019-06-09 22:45:32.118 -03:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-06-09 22:45:32.118 -03:00 [DBG] Client validation success
2019-06-09 22:45:32.118 -03:00 [INF] {"ClientId":"ro.client","AuthenticationMethod":"SharedSecret","Category":"Authentication","Name":"Client Authentication Success","EventType":"Success","Id":1010,"Message":null,"ActivityId":"0HLND63T1LU2Q:00000001","TimeStamp":"2019-06-10T01:45:32.0000000Z","ProcessId":26336,"LocalIpAddress":"127.0.0.1:30253","RemoteIpAddress":"::1","$type":"ClientAuthenticationSuccessEvent"}
2019-06-09 22:45:32.118 -03:00 [DBG] Start token request validation
2019-06-09 22:45:32.118 -03:00 [DBG] Start resource owner password token request validation
2019-06-09 22:45:32.134 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 22:45:32.281 -03:00 [DBG] Found ["api1"] API scopes in database
2019-06-09 22:45:32.285 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 22:45:32.293 -03:00 [DBG] Found ["api1"] API scopes in database
2019-06-09 22:45:32.321 -03:00 [INF] Credentials validated for username: alice
2019-06-09 22:45:32.322 -03:00 [INF] {"Username":"alice","Provider":null,"ProviderUserId":null,"SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","DisplayName":"alice","Endpoint":"Token","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HLND63T1LU2Q:00000001","TimeStamp":"2019-06-10T01:45:32.0000000Z","ProcessId":26336,"LocalIpAddress":"127.0.0.1:30253","RemoteIpAddress":"::1","$type":"UserLoginSuccessEvent"}
2019-06-09 22:45:32.323 -03:00 [INF] {"Username":"alice","Provider":null,"ProviderUserId":null,"SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","DisplayName":null,"Endpoint":"Token","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HLND63T1LU2Q:00000001","TimeStamp":"2019-06-10T01:45:32.0000000Z","ProcessId":26336,"LocalIpAddress":"127.0.0.1:30253","RemoteIpAddress":"::1","$type":"UserLoginSuccessEvent"}
2019-06-09 22:45:32.323 -03:00 [DBG] Resource owner password token request validation success.
2019-06-09 22:45:32.323 -03:00 [INF] Token request validation success
{"ClientId":"ro.client","ClientName":null,"GrantType":"password","Scopes":"api1 openid profile","AuthorizationCode":null,"RefreshToken":null,"UserName":"alice","AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"grant_type":"password","client_id":"ro.client","client_secret":"***REDACTED***","scope":"openid profile api1","username":"alice","password":"***REDACTED***"},"$type":"TokenRequestValidationLog"}
2019-06-09 22:45:32.323 -03:00 [DBG] Getting claims for access token for client: ro.client
2019-06-09 22:45:32.324 -03:00 [DBG] Getting claims for access token for subject: 4ba1c3a0-b786-421d-b88a-740f38d9cafa
2019-06-09 22:45:32.352 -03:00 [INF] {"ClientId":"ro.client","ClientName":null,"RedirectUri":null,"Endpoint":"Token","SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","Scopes":"openid profile api1","GrantType":"password","Tokens":[{"TokenType":"access_token","TokenValue":"****xmmA","$type":"Token"}],"Category":"Token","Name":"Token Issued Success","EventType":"Success","Id":2000,"Message":null,"ActivityId":"0HLND63T1LU2Q:00000001","TimeStamp":"2019-06-10T01:45:32.0000000Z","ProcessId":26336,"LocalIpAddress":"127.0.0.1:30253","RemoteIpAddress":"::1","$type":"TokenIssuedSuccessEvent"}
2019-06-09 22:45:32.353 -03:00 [DBG] Token request success.
2019-06-09 22:45:32.434 -03:00 [DBG] CORS request made for path: /connect/userinfo from origin: http://localhost:3000
2019-06-09 22:45:32.436 -03:00 [DBG] Origin http://localhost:3000 is allowed: false
2019-06-09 22:45:32.437 -03:00 [WRN] CorsPolicyService did not allow origin: http://localhost:3000
2019-06-09 22:45:32.437 -03:00 [DBG] Request path /connect/userinfo matched to endpoint type Userinfo
2019-06-09 22:45:32.438 -03:00 [DBG] Endpoint enabled: Userinfo, successfully created handler: IdentityServer4.Endpoints.UserInfoEndpoint
2019-06-09 22:45:32.438 -03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.UserInfoEndpoint for /connect/userinfo
2019-06-09 22:45:32.438 -03:00 [DBG] Start userinfo request
2019-06-09 22:45:32.438 -03:00 [DBG] Bearer token found in header
2019-06-09 22:45:32.459 -03:00 [DBG] ro.client found in database: true
2019-06-09 22:45:32.459 -03:00 [DBG] client configuration validation for client ro.client succeeded.
2019-06-09 22:45:32.467 -03:00 [DBG] ro.client found in database: true
2019-06-09 22:45:32.467 -03:00 [DBG] client configuration validation for client ro.client succeeded.
2019-06-09 22:45:32.478 -03:00 [DBG] Calling into custom token validator: IdentityServer4.Validation.DefaultCustomTokenValidator
2019-06-09 22:45:32.478 -03:00 [DBG] Token validation success
{"ClientId":null,"ClientName":null,"ValidateLifetime":true,"AccessTokenType":"Jwt","ExpectedScope":"openid","TokenHandle":null,"JwtId":null,"Claims":{"nbf":1560131132,"exp":1560134732,"iss":"http://localhost:5000","aud":["http://localhost:5000/resources","api1"],"client_id":"ro.client","sub":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","auth_time":1560131132,"idp":"local","scope":["openid","profile","api1"],"amr":"pwd"},"$type":"TokenValidationLog"}
2019-06-09 22:45:32.478 -03:00 [DBG] Creating userinfo response
2019-06-09 22:45:32.478 -03:00 [DBG] Scopes in access token: openid profile api1
2019-06-09 22:45:32.479 -03:00 [DBG] Scopes in access token: openid profile api1
2019-06-09 22:45:32.496 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 22:45:32.496 -03:00 [DBG] Requested claim types: sub name family_name given_name middle_name nickname preferred_username profile picture website gender birthdate zoneinfo locale updated_at
2019-06-09 22:45:32.496 -03:00 [DBG] Scopes in access token: openid profile api1
2019-06-09 22:45:32.499 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 22:45:32.507 -03:00 [INF] Profile service returned the following claim types: sub name given_name family_name website preferred_username
2019-06-09 22:45:32.507 -03:00 [DBG] End userinfo request
2019-06-09 22:45:54.107 -03:00 [DBG] CORS request made for path: /connect/token from origin: http://localhost:3000
2019-06-09 22:45:54.109 -03:00 [DBG] Origin http://localhost:3000 is allowed: false
2019-06-09 22:45:54.109 -03:00 [WRN] CorsPolicyService did not allow origin: http://localhost:3000
2019-06-09 22:45:54.110 -03:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-06-09 22:45:54.111 -03:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-06-09 22:45:54.111 -03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-06-09 22:45:54.111 -03:00 [DBG] Start token request.
2019-06-09 22:45:54.111 -03:00 [DBG] Start client validation
2019-06-09 22:45:54.111 -03:00 [DBG] Start parsing Basic Authentication secret
2019-06-09 22:45:54.111 -03:00 [DBG] Start parsing for secret in post body
2019-06-09 22:45:54.112 -03:00 [DBG] Parser found secret: PostBodySecretParser
2019-06-09 22:45:54.112 -03:00 [DBG] Secret id found: ro.client
2019-06-09 22:45:54.128 -03:00 [DBG] ro.client found in database: true
2019-06-09 22:45:54.128 -03:00 [DBG] client configuration validation for client ro.client succeeded.
2019-06-09 22:45:54.128 -03:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-06-09 22:45:54.128 -03:00 [DBG] Client validation success
2019-06-09 22:45:54.129 -03:00 [INF] {"ClientId":"ro.client","AuthenticationMethod":"SharedSecret","Category":"Authentication","Name":"Client Authentication Success","EventType":"Success","Id":1010,"Message":null,"ActivityId":"0HLND63T1LU2Q:00000004","TimeStamp":"2019-06-10T01:45:54.0000000Z","ProcessId":26336,"LocalIpAddress":"127.0.0.1:30253","RemoteIpAddress":"::1","$type":"ClientAuthenticationSuccessEvent"}
2019-06-09 22:45:54.129 -03:00 [DBG] Start token request validation
2019-06-09 22:45:54.129 -03:00 [DBG] Start resource owner password token request validation
2019-06-09 22:45:54.134 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 22:45:54.140 -03:00 [DBG] Found ["api1"] API scopes in database
2019-06-09 22:45:54.144 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 22:45:54.150 -03:00 [DBG] Found ["api1"] API scopes in database
2019-06-09 22:45:54.168 -03:00 [INF] Credentials validated for username: alice
2019-06-09 22:45:54.168 -03:00 [INF] {"Username":"alice","Provider":null,"ProviderUserId":null,"SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","DisplayName":"alice","Endpoint":"Token","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HLND63T1LU2Q:00000004","TimeStamp":"2019-06-10T01:45:54.0000000Z","ProcessId":26336,"LocalIpAddress":"127.0.0.1:30253","RemoteIpAddress":"::1","$type":"UserLoginSuccessEvent"}
2019-06-09 22:45:54.168 -03:00 [INF] {"Username":"alice","Provider":null,"ProviderUserId":null,"SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","DisplayName":null,"Endpoint":"Token","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HLND63T1LU2Q:00000004","TimeStamp":"2019-06-10T01:45:54.0000000Z","ProcessId":26336,"LocalIpAddress":"127.0.0.1:30253","RemoteIpAddress":"::1","$type":"UserLoginSuccessEvent"}
2019-06-09 22:45:54.169 -03:00 [DBG] Resource owner password token request validation success.
2019-06-09 22:45:54.169 -03:00 [INF] Token request validation success
{"ClientId":"ro.client","ClientName":null,"GrantType":"password","Scopes":"api1 openid profile","AuthorizationCode":null,"RefreshToken":null,"UserName":"alice","AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"grant_type":"password","client_id":"ro.client","client_secret":"***REDACTED***","scope":"openid profile api1","username":"alice","password":"***REDACTED***"},"$type":"TokenRequestValidationLog"}
2019-06-09 22:45:54.169 -03:00 [DBG] Getting claims for access token for client: ro.client
2019-06-09 22:45:54.169 -03:00 [DBG] Getting claims for access token for subject: 4ba1c3a0-b786-421d-b88a-740f38d9cafa
2019-06-09 22:45:54.183 -03:00 [INF] {"ClientId":"ro.client","ClientName":null,"RedirectUri":null,"Endpoint":"Token","SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","Scopes":"openid profile api1","GrantType":"password","Tokens":[{"TokenType":"access_token","TokenValue":"****4KTw","$type":"Token"}],"Category":"Token","Name":"Token Issued Success","EventType":"Success","Id":2000,"Message":null,"ActivityId":"0HLND63T1LU2Q:00000004","TimeStamp":"2019-06-10T01:45:54.0000000Z","ProcessId":26336,"LocalIpAddress":"127.0.0.1:30253","RemoteIpAddress":"::1","$type":"TokenIssuedSuccessEvent"}
2019-06-09 22:45:54.183 -03:00 [DBG] Token request success.
2019-06-09 22:45:54.251 -03:00 [DBG] CORS request made for path: /connect/userinfo from origin: http://localhost:3000
2019-06-09 22:45:54.255 -03:00 [DBG] Origin http://localhost:3000 is allowed: false
2019-06-09 22:45:54.255 -03:00 [WRN] CorsPolicyService did not allow origin: http://localhost:3000
2019-06-09 22:45:54.256 -03:00 [DBG] Request path /connect/userinfo matched to endpoint type Userinfo
2019-06-09 22:45:54.256 -03:00 [DBG] Endpoint enabled: Userinfo, successfully created handler: IdentityServer4.Endpoints.UserInfoEndpoint
2019-06-09 22:45:54.256 -03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.UserInfoEndpoint for /connect/userinfo
2019-06-09 22:45:54.256 -03:00 [DBG] Start userinfo request
2019-06-09 22:45:54.256 -03:00 [DBG] Bearer token found in header
2019-06-09 22:45:54.275 -03:00 [DBG] ro.client found in database: true
2019-06-09 22:45:54.275 -03:00 [DBG] client configuration validation for client ro.client succeeded.
2019-06-09 22:45:54.284 -03:00 [DBG] ro.client found in database: true
2019-06-09 22:45:54.284 -03:00 [DBG] client configuration validation for client ro.client succeeded.
2019-06-09 22:45:54.290 -03:00 [DBG] Calling into custom token validator: IdentityServer4.Validation.DefaultCustomTokenValidator
2019-06-09 22:45:54.290 -03:00 [DBG] Token validation success
{"ClientId":null,"ClientName":null,"ValidateLifetime":true,"AccessTokenType":"Jwt","ExpectedScope":"openid","TokenHandle":null,"JwtId":null,"Claims":{"nbf":1560131154,"exp":1560134754,"iss":"http://localhost:5000","aud":["http://localhost:5000/resources","api1"],"client_id":"ro.client","sub":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","auth_time":1560131154,"idp":"local","scope":["openid","profile","api1"],"amr":"pwd"},"$type":"TokenValidationLog"}
2019-06-09 22:45:54.291 -03:00 [DBG] Creating userinfo response
2019-06-09 22:45:54.291 -03:00 [DBG] Scopes in access token: openid profile api1
2019-06-09 22:45:54.291 -03:00 [DBG] Scopes in access token: openid profile api1
2019-06-09 22:45:54.295 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 22:45:54.295 -03:00 [DBG] Requested claim types: sub name family_name given_name middle_name nickname preferred_username profile picture website gender birthdate zoneinfo locale updated_at
2019-06-09 22:45:54.295 -03:00 [DBG] Scopes in access token: openid profile api1
2019-06-09 22:45:54.299 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 22:45:54.312 -03:00 [INF] Profile service returned the following claim types: sub name given_name family_name website preferred_username
2019-06-09 22:45:54.312 -03:00 [DBG] End userinfo request
2019-06-09 22:47:49.974 -03:00 [DBG] CORS request made for path: /connect/token from origin: http://localhost:3000
2019-06-09 22:47:50.013 -03:00 [DBG] Origin http://localhost:3000 is allowed: false
2019-06-09 22:47:50.013 -03:00 [WRN] CorsPolicyService did not allow origin: http://localhost:3000
2019-06-09 22:47:50.013 -03:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-06-09 22:47:50.014 -03:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-06-09 22:47:50.014 -03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-06-09 22:47:50.014 -03:00 [DBG] Start token request.
2019-06-09 22:47:50.014 -03:00 [DBG] Start client validation
2019-06-09 22:47:50.014 -03:00 [DBG] Start parsing Basic Authentication secret
2019-06-09 22:47:50.014 -03:00 [DBG] Start parsing for secret in post body
2019-06-09 22:47:50.014 -03:00 [DBG] Parser found secret: PostBodySecretParser
2019-06-09 22:47:50.015 -03:00 [DBG] Secret id found: ro.client
2019-06-09 22:47:50.053 -03:00 [DBG] ro.client found in database: true
2019-06-09 22:47:50.054 -03:00 [DBG] client configuration validation for client ro.client succeeded.
2019-06-09 22:47:50.054 -03:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-06-09 22:47:50.054 -03:00 [DBG] Client validation success
2019-06-09 22:47:50.055 -03:00 [INF] {"ClientId":"ro.client","AuthenticationMethod":"SharedSecret","Category":"Authentication","Name":"Client Authentication Success","EventType":"Success","Id":1010,"Message":null,"ActivityId":"0HLND63T1LU2R:00000001","TimeStamp":"2019-06-10T01:47:50.0000000Z","ProcessId":26336,"LocalIpAddress":"127.0.0.1:30253","RemoteIpAddress":"::1","$type":"ClientAuthenticationSuccessEvent"}
2019-06-09 22:47:50.055 -03:00 [DBG] Start token request validation
2019-06-09 22:47:50.055 -03:00 [DBG] Start resource owner password token request validation
2019-06-09 22:47:50.067 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 22:47:50.184 -03:00 [DBG] Found ["api1"] API scopes in database
2019-06-09 22:47:50.188 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 22:47:50.194 -03:00 [DBG] Found ["api1"] API scopes in database
2019-06-09 22:47:50.212 -03:00 [INF] Credentials validated for username: alice
2019-06-09 22:47:50.213 -03:00 [INF] {"Username":"alice","Provider":null,"ProviderUserId":null,"SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","DisplayName":"alice","Endpoint":"Token","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HLND63T1LU2R:00000001","TimeStamp":"2019-06-10T01:47:50.0000000Z","ProcessId":26336,"LocalIpAddress":"127.0.0.1:30253","RemoteIpAddress":"::1","$type":"UserLoginSuccessEvent"}
2019-06-09 22:47:50.213 -03:00 [INF] {"Username":"alice","Provider":null,"ProviderUserId":null,"SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","DisplayName":null,"Endpoint":"Token","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HLND63T1LU2R:00000001","TimeStamp":"2019-06-10T01:47:50.0000000Z","ProcessId":26336,"LocalIpAddress":"127.0.0.1:30253","RemoteIpAddress":"::1","$type":"UserLoginSuccessEvent"}
2019-06-09 22:47:50.213 -03:00 [DBG] Resource owner password token request validation success.
2019-06-09 22:47:50.213 -03:00 [INF] Token request validation success
{"ClientId":"ro.client","ClientName":null,"GrantType":"password","Scopes":"api1 openid profile","AuthorizationCode":null,"RefreshToken":null,"UserName":"alice","AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"grant_type":"password","client_id":"ro.client","client_secret":"***REDACTED***","scope":"openid profile api1","username":"alice","password":"***REDACTED***"},"$type":"TokenRequestValidationLog"}
2019-06-09 22:47:50.213 -03:00 [DBG] Getting claims for access token for client: ro.client
2019-06-09 22:47:50.214 -03:00 [DBG] Getting claims for access token for subject: 4ba1c3a0-b786-421d-b88a-740f38d9cafa
2019-06-09 22:47:50.230 -03:00 [INF] {"ClientId":"ro.client","ClientName":null,"RedirectUri":null,"Endpoint":"Token","SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","Scopes":"openid profile api1","GrantType":"password","Tokens":[{"TokenType":"access_token","TokenValue":"****BGwQ","$type":"Token"}],"Category":"Token","Name":"Token Issued Success","EventType":"Success","Id":2000,"Message":null,"ActivityId":"0HLND63T1LU2R:00000001","TimeStamp":"2019-06-10T01:47:50.0000000Z","ProcessId":26336,"LocalIpAddress":"127.0.0.1:30253","RemoteIpAddress":"::1","$type":"TokenIssuedSuccessEvent"}
2019-06-09 22:47:50.230 -03:00 [DBG] Token request success.
2019-06-09 22:47:50.306 -03:00 [DBG] CORS request made for path: /connect/userinfo from origin: http://localhost:3000
2019-06-09 22:47:50.309 -03:00 [DBG] Origin http://localhost:3000 is allowed: false
2019-06-09 22:47:50.309 -03:00 [WRN] CorsPolicyService did not allow origin: http://localhost:3000
2019-06-09 22:47:50.310 -03:00 [DBG] Request path /connect/userinfo matched to endpoint type Userinfo
2019-06-09 22:47:50.310 -03:00 [DBG] Endpoint enabled: Userinfo, successfully created handler: IdentityServer4.Endpoints.UserInfoEndpoint
2019-06-09 22:47:50.311 -03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.UserInfoEndpoint for /connect/userinfo
2019-06-09 22:47:50.311 -03:00 [DBG] Start userinfo request
2019-06-09 22:47:50.311 -03:00 [DBG] Bearer token found in header
2019-06-09 22:47:50.325 -03:00 [DBG] ro.client found in database: true
2019-06-09 22:47:50.325 -03:00 [DBG] client configuration validation for client ro.client succeeded.
2019-06-09 22:47:50.331 -03:00 [DBG] ro.client found in database: true
2019-06-09 22:47:50.331 -03:00 [DBG] client configuration validation for client ro.client succeeded.
2019-06-09 22:47:50.339 -03:00 [DBG] Calling into custom token validator: IdentityServer4.Validation.DefaultCustomTokenValidator
2019-06-09 22:47:50.339 -03:00 [DBG] Token validation success
{"ClientId":null,"ClientName":null,"ValidateLifetime":true,"AccessTokenType":"Jwt","ExpectedScope":"openid","TokenHandle":null,"JwtId":null,"Claims":{"nbf":1560131270,"exp":1560134870,"iss":"http://localhost:5000","aud":["http://localhost:5000/resources","api1"],"client_id":"ro.client","sub":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","auth_time":1560131270,"idp":"local","scope":["openid","profile","api1"],"amr":"pwd"},"$type":"TokenValidationLog"}
2019-06-09 22:47:50.340 -03:00 [DBG] Creating userinfo response
2019-06-09 22:47:50.340 -03:00 [DBG] Scopes in access token: openid profile api1
2019-06-09 22:47:50.340 -03:00 [DBG] Scopes in access token: openid profile api1
2019-06-09 22:47:50.354 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 22:47:50.354 -03:00 [DBG] Requested claim types: sub name family_name given_name middle_name nickname preferred_username profile picture website gender birthdate zoneinfo locale updated_at
2019-06-09 22:47:50.354 -03:00 [DBG] Scopes in access token: openid profile api1
2019-06-09 22:47:50.357 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 22:47:50.373 -03:00 [INF] Profile service returned the following claim types: sub name given_name family_name website preferred_username
2019-06-09 22:47:50.373 -03:00 [DBG] End userinfo request
2019-06-09 22:48:38.788 -03:00 [DBG] CORS request made for path: /connect/token from origin: http://localhost:3000
2019-06-09 22:48:38.798 -03:00 [DBG] Origin http://localhost:3000 is allowed: false
2019-06-09 22:48:38.798 -03:00 [WRN] CorsPolicyService did not allow origin: http://localhost:3000
2019-06-09 22:48:38.798 -03:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-06-09 22:48:38.799 -03:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-06-09 22:48:38.799 -03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-06-09 22:48:38.799 -03:00 [DBG] Start token request.
2019-06-09 22:48:38.799 -03:00 [DBG] Start client validation
2019-06-09 22:48:38.799 -03:00 [DBG] Start parsing Basic Authentication secret
2019-06-09 22:48:38.799 -03:00 [DBG] Start parsing for secret in post body
2019-06-09 22:48:38.800 -03:00 [DBG] Parser found secret: PostBodySecretParser
2019-06-09 22:48:38.800 -03:00 [DBG] Secret id found: ro.client
2019-06-09 22:48:38.843 -03:00 [DBG] ro.client found in database: true
2019-06-09 22:48:38.843 -03:00 [DBG] client configuration validation for client ro.client succeeded.
2019-06-09 22:48:38.843 -03:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-06-09 22:48:38.843 -03:00 [DBG] Client validation success
2019-06-09 22:48:38.844 -03:00 [INF] {"ClientId":"ro.client","AuthenticationMethod":"SharedSecret","Category":"Authentication","Name":"Client Authentication Success","EventType":"Success","Id":1010,"Message":null,"ActivityId":"0HLND63T1LU2R:00000004","TimeStamp":"2019-06-10T01:48:38.0000000Z","ProcessId":26336,"LocalIpAddress":"127.0.0.1:30253","RemoteIpAddress":"::1","$type":"ClientAuthenticationSuccessEvent"}
2019-06-09 22:48:38.844 -03:00 [DBG] Start token request validation
2019-06-09 22:48:38.844 -03:00 [DBG] Start resource owner password token request validation
2019-06-09 22:48:38.857 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 22:48:38.977 -03:00 [DBG] Found ["api1"] API scopes in database
2019-06-09 22:48:38.980 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 22:48:38.986 -03:00 [DBG] Found ["api1"] API scopes in database
2019-06-09 22:48:39.003 -03:00 [INF] Credentials validated for username: alice
2019-06-09 22:48:39.004 -03:00 [INF] {"Username":"alice","Provider":null,"ProviderUserId":null,"SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","DisplayName":"alice","Endpoint":"Token","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HLND63T1LU2R:00000004","TimeStamp":"2019-06-10T01:48:39.0000000Z","ProcessId":26336,"LocalIpAddress":"127.0.0.1:30253","RemoteIpAddress":"::1","$type":"UserLoginSuccessEvent"}
2019-06-09 22:48:39.004 -03:00 [INF] {"Username":"alice","Provider":null,"ProviderUserId":null,"SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","DisplayName":null,"Endpoint":"Token","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HLND63T1LU2R:00000004","TimeStamp":"2019-06-10T01:48:39.0000000Z","ProcessId":26336,"LocalIpAddress":"127.0.0.1:30253","RemoteIpAddress":"::1","$type":"UserLoginSuccessEvent"}
2019-06-09 22:48:39.004 -03:00 [DBG] Resource owner password token request validation success.
2019-06-09 22:48:39.004 -03:00 [INF] Token request validation success
{"ClientId":"ro.client","ClientName":null,"GrantType":"password","Scopes":"api1 openid profile","AuthorizationCode":null,"RefreshToken":null,"UserName":"alice","AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"grant_type":"password","client_id":"ro.client","client_secret":"***REDACTED***","scope":"openid profile api1","username":"alice","password":"***REDACTED***"},"$type":"TokenRequestValidationLog"}
2019-06-09 22:48:39.004 -03:00 [DBG] Getting claims for access token for client: ro.client
2019-06-09 22:48:39.005 -03:00 [DBG] Getting claims for access token for subject: 4ba1c3a0-b786-421d-b88a-740f38d9cafa
2019-06-09 22:48:39.021 -03:00 [INF] {"ClientId":"ro.client","ClientName":null,"RedirectUri":null,"Endpoint":"Token","SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","Scopes":"openid profile api1","GrantType":"password","Tokens":[{"TokenType":"access_token","TokenValue":"****cEog","$type":"Token"}],"Category":"Token","Name":"Token Issued Success","EventType":"Success","Id":2000,"Message":null,"ActivityId":"0HLND63T1LU2R:00000004","TimeStamp":"2019-06-10T01:48:39.0000000Z","ProcessId":26336,"LocalIpAddress":"127.0.0.1:30253","RemoteIpAddress":"::1","$type":"TokenIssuedSuccessEvent"}
2019-06-09 22:48:39.021 -03:00 [DBG] Token request success.
2019-06-09 22:48:39.094 -03:00 [DBG] CORS request made for path: /connect/userinfo from origin: http://localhost:3000
2019-06-09 22:48:39.097 -03:00 [DBG] Origin http://localhost:3000 is allowed: false
2019-06-09 22:48:39.097 -03:00 [WRN] CorsPolicyService did not allow origin: http://localhost:3000
2019-06-09 22:48:39.098 -03:00 [DBG] Request path /connect/userinfo matched to endpoint type Userinfo
2019-06-09 22:48:39.098 -03:00 [DBG] Endpoint enabled: Userinfo, successfully created handler: IdentityServer4.Endpoints.UserInfoEndpoint
2019-06-09 22:48:39.098 -03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.UserInfoEndpoint for /connect/userinfo
2019-06-09 22:48:39.098 -03:00 [DBG] Start userinfo request
2019-06-09 22:48:39.099 -03:00 [DBG] Bearer token found in header
2019-06-09 22:48:39.114 -03:00 [DBG] ro.client found in database: true
2019-06-09 22:48:39.114 -03:00 [DBG] client configuration validation for client ro.client succeeded.
2019-06-09 22:48:39.120 -03:00 [DBG] ro.client found in database: true
2019-06-09 22:48:39.120 -03:00 [DBG] client configuration validation for client ro.client succeeded.
2019-06-09 22:48:39.127 -03:00 [DBG] Calling into custom token validator: IdentityServer4.Validation.DefaultCustomTokenValidator
2019-06-09 22:48:39.128 -03:00 [DBG] Token validation success
{"ClientId":null,"ClientName":null,"ValidateLifetime":true,"AccessTokenType":"Jwt","ExpectedScope":"openid","TokenHandle":null,"JwtId":null,"Claims":{"nbf":1560131319,"exp":1560134919,"iss":"http://localhost:5000","aud":["http://localhost:5000/resources","api1"],"client_id":"ro.client","sub":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","auth_time":1560131319,"idp":"local","scope":["openid","profile","api1"],"amr":"pwd"},"$type":"TokenValidationLog"}
2019-06-09 22:48:39.128 -03:00 [DBG] Creating userinfo response
2019-06-09 22:48:39.128 -03:00 [DBG] Scopes in access token: openid profile api1
2019-06-09 22:48:39.128 -03:00 [DBG] Scopes in access token: openid profile api1
2019-06-09 22:48:39.141 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 22:48:39.141 -03:00 [DBG] Requested claim types: sub name family_name given_name middle_name nickname preferred_username profile picture website gender birthdate zoneinfo locale updated_at
2019-06-09 22:48:39.141 -03:00 [DBG] Scopes in access token: openid profile api1
2019-06-09 22:48:39.144 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 22:48:39.151 -03:00 [INF] Profile service returned the following claim types: sub name given_name family_name website preferred_username
2019-06-09 22:48:39.152 -03:00 [DBG] End userinfo request
2019-06-09 22:50:25.678 -03:00 [DBG] CORS request made for path: /connect/token from origin: http://localhost:3000
2019-06-09 22:50:25.687 -03:00 [DBG] Origin http://localhost:3000 is allowed: false
2019-06-09 22:50:25.687 -03:00 [WRN] CorsPolicyService did not allow origin: http://localhost:3000
2019-06-09 22:50:25.687 -03:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-06-09 22:50:25.688 -03:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-06-09 22:50:25.688 -03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-06-09 22:50:25.688 -03:00 [DBG] Start token request.
2019-06-09 22:50:25.688 -03:00 [DBG] Start client validation
2019-06-09 22:50:25.688 -03:00 [DBG] Start parsing Basic Authentication secret
2019-06-09 22:50:25.689 -03:00 [DBG] Start parsing for secret in post body
2019-06-09 22:50:25.689 -03:00 [DBG] Parser found secret: PostBodySecretParser
2019-06-09 22:50:25.689 -03:00 [DBG] Secret id found: ro.client
2019-06-09 22:50:25.731 -03:00 [DBG] ro.client found in database: true
2019-06-09 22:50:25.731 -03:00 [DBG] client configuration validation for client ro.client succeeded.
2019-06-09 22:50:25.731 -03:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-06-09 22:50:25.731 -03:00 [DBG] Client validation success
2019-06-09 22:50:25.732 -03:00 [INF] {"ClientId":"ro.client","AuthenticationMethod":"SharedSecret","Category":"Authentication","Name":"Client Authentication Success","EventType":"Success","Id":1010,"Message":null,"ActivityId":"0HLND63T1LU2S:00000001","TimeStamp":"2019-06-10T01:50:25.0000000Z","ProcessId":26336,"LocalIpAddress":"127.0.0.1:30253","RemoteIpAddress":"::1","$type":"ClientAuthenticationSuccessEvent"}
2019-06-09 22:50:25.732 -03:00 [DBG] Start token request validation
2019-06-09 22:50:25.733 -03:00 [DBG] Start resource owner password token request validation
2019-06-09 22:50:25.745 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 22:50:25.866 -03:00 [DBG] Found ["api1"] API scopes in database
2019-06-09 22:50:25.869 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 22:50:25.874 -03:00 [DBG] Found ["api1"] API scopes in database
2019-06-09 22:50:25.894 -03:00 [INF] Credentials validated for username: alice
2019-06-09 22:50:25.894 -03:00 [INF] {"Username":"alice","Provider":null,"ProviderUserId":null,"SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","DisplayName":"alice","Endpoint":"Token","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HLND63T1LU2S:00000001","TimeStamp":"2019-06-10T01:50:25.0000000Z","ProcessId":26336,"LocalIpAddress":"127.0.0.1:30253","RemoteIpAddress":"::1","$type":"UserLoginSuccessEvent"}
2019-06-09 22:50:25.894 -03:00 [INF] {"Username":"alice","Provider":null,"ProviderUserId":null,"SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","DisplayName":null,"Endpoint":"Token","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HLND63T1LU2S:00000001","TimeStamp":"2019-06-10T01:50:25.0000000Z","ProcessId":26336,"LocalIpAddress":"127.0.0.1:30253","RemoteIpAddress":"::1","$type":"UserLoginSuccessEvent"}
2019-06-09 22:50:25.894 -03:00 [DBG] Resource owner password token request validation success.
2019-06-09 22:50:25.895 -03:00 [INF] Token request validation success
{"ClientId":"ro.client","ClientName":null,"GrantType":"password","Scopes":"api1 openid profile","AuthorizationCode":null,"RefreshToken":null,"UserName":"alice","AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"grant_type":"password","client_id":"ro.client","client_secret":"***REDACTED***","scope":"openid profile api1","username":"alice","password":"***REDACTED***"},"$type":"TokenRequestValidationLog"}
2019-06-09 22:50:25.895 -03:00 [DBG] Getting claims for access token for client: ro.client
2019-06-09 22:50:25.895 -03:00 [DBG] Getting claims for access token for subject: 4ba1c3a0-b786-421d-b88a-740f38d9cafa
2019-06-09 22:50:25.910 -03:00 [INF] {"ClientId":"ro.client","ClientName":null,"RedirectUri":null,"Endpoint":"Token","SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","Scopes":"openid profile api1","GrantType":"password","Tokens":[{"TokenType":"access_token","TokenValue":"****_Heg","$type":"Token"}],"Category":"Token","Name":"Token Issued Success","EventType":"Success","Id":2000,"Message":null,"ActivityId":"0HLND63T1LU2S:00000001","TimeStamp":"2019-06-10T01:50:25.0000000Z","ProcessId":26336,"LocalIpAddress":"127.0.0.1:30253","RemoteIpAddress":"::1","$type":"TokenIssuedSuccessEvent"}
2019-06-09 22:50:25.910 -03:00 [DBG] Token request success.
2019-06-09 22:50:25.995 -03:00 [DBG] CORS request made for path: /connect/userinfo from origin: http://localhost:3000
2019-06-09 22:50:26.001 -03:00 [DBG] Origin http://localhost:3000 is allowed: false
2019-06-09 22:50:26.002 -03:00 [WRN] CorsPolicyService did not allow origin: http://localhost:3000
2019-06-09 22:50:26.002 -03:00 [DBG] Request path /connect/userinfo matched to endpoint type Userinfo
2019-06-09 22:50:26.003 -03:00 [DBG] Endpoint enabled: Userinfo, successfully created handler: IdentityServer4.Endpoints.UserInfoEndpoint
2019-06-09 22:50:26.003 -03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.UserInfoEndpoint for /connect/userinfo
2019-06-09 22:50:26.003 -03:00 [DBG] Start userinfo request
2019-06-09 22:50:26.003 -03:00 [DBG] Bearer token found in header
2019-06-09 22:50:26.017 -03:00 [DBG] ro.client found in database: true
2019-06-09 22:50:26.018 -03:00 [DBG] client configuration validation for client ro.client succeeded.
2019-06-09 22:50:26.023 -03:00 [DBG] ro.client found in database: true
2019-06-09 22:50:26.024 -03:00 [DBG] client configuration validation for client ro.client succeeded.
2019-06-09 22:50:26.030 -03:00 [DBG] Calling into custom token validator: IdentityServer4.Validation.DefaultCustomTokenValidator
2019-06-09 22:50:26.030 -03:00 [DBG] Token validation success
{"ClientId":null,"ClientName":null,"ValidateLifetime":true,"AccessTokenType":"Jwt","ExpectedScope":"openid","TokenHandle":null,"JwtId":null,"Claims":{"nbf":1560131425,"exp":1560135025,"iss":"http://localhost:5000","aud":["http://localhost:5000/resources","api1"],"client_id":"ro.client","sub":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","auth_time":1560131425,"idp":"local","scope":["openid","profile","api1"],"amr":"pwd"},"$type":"TokenValidationLog"}
2019-06-09 22:50:26.030 -03:00 [DBG] Creating userinfo response
2019-06-09 22:50:26.030 -03:00 [DBG] Scopes in access token: openid profile api1
2019-06-09 22:50:26.030 -03:00 [DBG] Scopes in access token: openid profile api1
2019-06-09 22:50:26.046 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 22:50:26.047 -03:00 [DBG] Requested claim types: sub name family_name given_name middle_name nickname preferred_username profile picture website gender birthdate zoneinfo locale updated_at
2019-06-09 22:50:26.047 -03:00 [DBG] Scopes in access token: openid profile api1
2019-06-09 22:50:26.049 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 22:50:26.056 -03:00 [INF] Profile service returned the following claim types: sub name given_name family_name website preferred_username
2019-06-09 22:50:26.056 -03:00 [DBG] End userinfo request
2019-06-09 22:51:44.290 -03:00 [DBG] CORS request made for path: /connect/token from origin: http://localhost:3000
2019-06-09 22:51:44.306 -03:00 [DBG] Origin http://localhost:3000 is allowed: false
2019-06-09 22:51:44.306 -03:00 [WRN] CorsPolicyService did not allow origin: http://localhost:3000
2019-06-09 22:51:44.307 -03:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-06-09 22:51:44.307 -03:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-06-09 22:51:44.307 -03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-06-09 22:51:44.307 -03:00 [DBG] Start token request.
2019-06-09 22:51:44.307 -03:00 [DBG] Start client validation
2019-06-09 22:51:44.307 -03:00 [DBG] Start parsing Basic Authentication secret
2019-06-09 22:51:44.307 -03:00 [DBG] Start parsing for secret in post body
2019-06-09 22:51:44.308 -03:00 [DBG] Parser found secret: PostBodySecretParser
2019-06-09 22:51:44.308 -03:00 [DBG] Secret id found: ro.client
2019-06-09 22:51:44.356 -03:00 [DBG] ro.client found in database: true
2019-06-09 22:51:44.356 -03:00 [DBG] client configuration validation for client ro.client succeeded.
2019-06-09 22:51:44.356 -03:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-06-09 22:51:44.357 -03:00 [DBG] Client validation success
2019-06-09 22:51:44.357 -03:00 [INF] {"ClientId":"ro.client","AuthenticationMethod":"SharedSecret","Category":"Authentication","Name":"Client Authentication Success","EventType":"Success","Id":1010,"Message":null,"ActivityId":"0HLND63T1LU2T:00000001","TimeStamp":"2019-06-10T01:51:44.0000000Z","ProcessId":26336,"LocalIpAddress":"127.0.0.1:30253","RemoteIpAddress":"::1","$type":"ClientAuthenticationSuccessEvent"}
2019-06-09 22:51:44.357 -03:00 [DBG] Start token request validation
2019-06-09 22:51:44.357 -03:00 [DBG] Start resource owner password token request validation
2019-06-09 22:51:44.373 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 22:51:44.488 -03:00 [DBG] Found ["api1"] API scopes in database
2019-06-09 22:51:44.490 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 22:51:44.495 -03:00 [DBG] Found ["api1"] API scopes in database
2019-06-09 22:51:44.514 -03:00 [INF] Credentials validated for username: alice
2019-06-09 22:51:44.514 -03:00 [INF] {"Username":"alice","Provider":null,"ProviderUserId":null,"SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","DisplayName":"alice","Endpoint":"Token","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HLND63T1LU2T:00000001","TimeStamp":"2019-06-10T01:51:44.0000000Z","ProcessId":26336,"LocalIpAddress":"127.0.0.1:30253","RemoteIpAddress":"::1","$type":"UserLoginSuccessEvent"}
2019-06-09 22:51:44.514 -03:00 [INF] {"Username":"alice","Provider":null,"ProviderUserId":null,"SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","DisplayName":null,"Endpoint":"Token","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HLND63T1LU2T:00000001","TimeStamp":"2019-06-10T01:51:44.0000000Z","ProcessId":26336,"LocalIpAddress":"127.0.0.1:30253","RemoteIpAddress":"::1","$type":"UserLoginSuccessEvent"}
2019-06-09 22:51:44.515 -03:00 [DBG] Resource owner password token request validation success.
2019-06-09 22:51:44.515 -03:00 [INF] Token request validation success
{"ClientId":"ro.client","ClientName":null,"GrantType":"password","Scopes":"api1 openid profile","AuthorizationCode":null,"RefreshToken":null,"UserName":"alice","AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"grant_type":"password","client_id":"ro.client","client_secret":"***REDACTED***","scope":"openid profile api1","username":"alice","password":"***REDACTED***"},"$type":"TokenRequestValidationLog"}
2019-06-09 22:51:44.515 -03:00 [DBG] Getting claims for access token for client: ro.client
2019-06-09 22:51:44.515 -03:00 [DBG] Getting claims for access token for subject: 4ba1c3a0-b786-421d-b88a-740f38d9cafa
2019-06-09 22:51:44.535 -03:00 [INF] {"ClientId":"ro.client","ClientName":null,"RedirectUri":null,"Endpoint":"Token","SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","Scopes":"openid profile api1","GrantType":"password","Tokens":[{"TokenType":"access_token","TokenValue":"****TeGQ","$type":"Token"}],"Category":"Token","Name":"Token Issued Success","EventType":"Success","Id":2000,"Message":null,"ActivityId":"0HLND63T1LU2T:00000001","TimeStamp":"2019-06-10T01:51:44.0000000Z","ProcessId":26336,"LocalIpAddress":"127.0.0.1:30253","RemoteIpAddress":"::1","$type":"TokenIssuedSuccessEvent"}
2019-06-09 22:51:44.535 -03:00 [DBG] Token request success.
2019-06-09 22:51:44.603 -03:00 [DBG] CORS request made for path: /connect/userinfo from origin: http://localhost:3000
2019-06-09 22:51:44.605 -03:00 [DBG] Origin http://localhost:3000 is allowed: false
2019-06-09 22:51:44.605 -03:00 [WRN] CorsPolicyService did not allow origin: http://localhost:3000
2019-06-09 22:51:44.605 -03:00 [DBG] Request path /connect/userinfo matched to endpoint type Userinfo
2019-06-09 22:51:44.606 -03:00 [DBG] Endpoint enabled: Userinfo, successfully created handler: IdentityServer4.Endpoints.UserInfoEndpoint
2019-06-09 22:51:44.606 -03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.UserInfoEndpoint for /connect/userinfo
2019-06-09 22:51:44.606 -03:00 [DBG] Start userinfo request
2019-06-09 22:51:44.606 -03:00 [DBG] Bearer token found in header
2019-06-09 22:51:44.622 -03:00 [DBG] ro.client found in database: true
2019-06-09 22:51:44.622 -03:00 [DBG] client configuration validation for client ro.client succeeded.
2019-06-09 22:51:44.628 -03:00 [DBG] ro.client found in database: true
2019-06-09 22:51:44.629 -03:00 [DBG] client configuration validation for client ro.client succeeded.
2019-06-09 22:51:44.636 -03:00 [DBG] Calling into custom token validator: IdentityServer4.Validation.DefaultCustomTokenValidator
2019-06-09 22:51:44.636 -03:00 [DBG] Token validation success
{"ClientId":null,"ClientName":null,"ValidateLifetime":true,"AccessTokenType":"Jwt","ExpectedScope":"openid","TokenHandle":null,"JwtId":null,"Claims":{"nbf":1560131504,"exp":1560135104,"iss":"http://localhost:5000","aud":["http://localhost:5000/resources","api1"],"client_id":"ro.client","sub":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","auth_time":1560131504,"idp":"local","scope":["openid","profile","api1"],"amr":"pwd"},"$type":"TokenValidationLog"}
2019-06-09 22:51:44.636 -03:00 [DBG] Creating userinfo response
2019-06-09 22:51:44.636 -03:00 [DBG] Scopes in access token: openid profile api1
2019-06-09 22:51:44.636 -03:00 [DBG] Scopes in access token: openid profile api1
2019-06-09 22:51:44.649 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 22:51:44.649 -03:00 [DBG] Requested claim types: sub name family_name given_name middle_name nickname preferred_username profile picture website gender birthdate zoneinfo locale updated_at
2019-06-09 22:51:44.649 -03:00 [DBG] Scopes in access token: openid profile api1
2019-06-09 22:51:44.652 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 22:51:44.680 -03:00 [INF] Profile service returned the following claim types: sub name given_name family_name website preferred_username
2019-06-09 22:51:44.680 -03:00 [DBG] End userinfo request
2019-06-09 22:51:46.776 -03:00 [DBG] CORS request made for path: /connect/token from origin: http://localhost:3000
2019-06-09 22:51:46.778 -03:00 [DBG] Origin http://localhost:3000 is allowed: false
2019-06-09 22:51:46.779 -03:00 [WRN] CorsPolicyService did not allow origin: http://localhost:3000
2019-06-09 22:51:46.779 -03:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-06-09 22:51:46.779 -03:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-06-09 22:51:46.780 -03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-06-09 22:51:46.780 -03:00 [DBG] Start token request.
2019-06-09 22:51:46.780 -03:00 [DBG] Start client validation
2019-06-09 22:51:46.780 -03:00 [DBG] Start parsing Basic Authentication secret
2019-06-09 22:51:46.780 -03:00 [DBG] Start parsing for secret in post body
2019-06-09 22:51:46.780 -03:00 [DBG] Parser found secret: PostBodySecretParser
2019-06-09 22:51:46.780 -03:00 [DBG] Secret id found: ro.client
2019-06-09 22:51:46.792 -03:00 [DBG] ro.client found in database: true
2019-06-09 22:51:46.792 -03:00 [DBG] client configuration validation for client ro.client succeeded.
2019-06-09 22:51:46.792 -03:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-06-09 22:51:46.792 -03:00 [DBG] Client validation success
2019-06-09 22:51:46.792 -03:00 [INF] {"ClientId":"ro.client","AuthenticationMethod":"SharedSecret","Category":"Authentication","Name":"Client Authentication Success","EventType":"Success","Id":1010,"Message":null,"ActivityId":"0HLND63T1LU2T:00000004","TimeStamp":"2019-06-10T01:51:46.0000000Z","ProcessId":26336,"LocalIpAddress":"127.0.0.1:30253","RemoteIpAddress":"::1","$type":"ClientAuthenticationSuccessEvent"}
2019-06-09 22:51:46.792 -03:00 [DBG] Start token request validation
2019-06-09 22:51:46.793 -03:00 [DBG] Start resource owner password token request validation
2019-06-09 22:51:46.798 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 22:51:46.806 -03:00 [DBG] Found ["api1"] API scopes in database
2019-06-09 22:51:46.809 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 22:51:46.817 -03:00 [DBG] Found ["api1"] API scopes in database
2019-06-09 22:51:46.839 -03:00 [INF] Credentials validated for username: alice
2019-06-09 22:51:46.839 -03:00 [INF] {"Username":"alice","Provider":null,"ProviderUserId":null,"SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","DisplayName":"alice","Endpoint":"Token","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HLND63T1LU2T:00000004","TimeStamp":"2019-06-10T01:51:46.0000000Z","ProcessId":26336,"LocalIpAddress":"127.0.0.1:30253","RemoteIpAddress":"::1","$type":"UserLoginSuccessEvent"}
2019-06-09 22:51:46.839 -03:00 [INF] {"Username":"alice","Provider":null,"ProviderUserId":null,"SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","DisplayName":null,"Endpoint":"Token","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HLND63T1LU2T:00000004","TimeStamp":"2019-06-10T01:51:46.0000000Z","ProcessId":26336,"LocalIpAddress":"127.0.0.1:30253","RemoteIpAddress":"::1","$type":"UserLoginSuccessEvent"}
2019-06-09 22:51:46.839 -03:00 [DBG] Resource owner password token request validation success.
2019-06-09 22:51:46.839 -03:00 [INF] Token request validation success
{"ClientId":"ro.client","ClientName":null,"GrantType":"password","Scopes":"api1 openid profile","AuthorizationCode":null,"RefreshToken":null,"UserName":"alice","AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"grant_type":"password","client_id":"ro.client","client_secret":"***REDACTED***","scope":"openid profile api1","username":"alice","password":"***REDACTED***"},"$type":"TokenRequestValidationLog"}
2019-06-09 22:51:46.839 -03:00 [DBG] Getting claims for access token for client: ro.client
2019-06-09 22:51:46.840 -03:00 [DBG] Getting claims for access token for subject: 4ba1c3a0-b786-421d-b88a-740f38d9cafa
2019-06-09 22:51:46.855 -03:00 [INF] {"ClientId":"ro.client","ClientName":null,"RedirectUri":null,"Endpoint":"Token","SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","Scopes":"openid profile api1","GrantType":"password","Tokens":[{"TokenType":"access_token","TokenValue":"****W-IQ","$type":"Token"}],"Category":"Token","Name":"Token Issued Success","EventType":"Success","Id":2000,"Message":null,"ActivityId":"0HLND63T1LU2T:00000004","TimeStamp":"2019-06-10T01:51:46.0000000Z","ProcessId":26336,"LocalIpAddress":"127.0.0.1:30253","RemoteIpAddress":"::1","$type":"TokenIssuedSuccessEvent"}
2019-06-09 22:51:46.856 -03:00 [DBG] Token request success.
2019-06-09 22:51:46.909 -03:00 [DBG] CORS request made for path: /connect/userinfo from origin: http://localhost:3000
2019-06-09 22:51:46.911 -03:00 [DBG] Origin http://localhost:3000 is allowed: false
2019-06-09 22:51:46.911 -03:00 [WRN] CorsPolicyService did not allow origin: http://localhost:3000
2019-06-09 22:51:46.911 -03:00 [DBG] Request path /connect/userinfo matched to endpoint type Userinfo
2019-06-09 22:51:46.912 -03:00 [DBG] Endpoint enabled: Userinfo, successfully created handler: IdentityServer4.Endpoints.UserInfoEndpoint
2019-06-09 22:51:46.912 -03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.UserInfoEndpoint for /connect/userinfo
2019-06-09 22:51:46.912 -03:00 [DBG] Start userinfo request
2019-06-09 22:51:46.912 -03:00 [DBG] Bearer token found in header
2019-06-09 22:51:46.924 -03:00 [DBG] ro.client found in database: true
2019-06-09 22:51:46.924 -03:00 [DBG] client configuration validation for client ro.client succeeded.
2019-06-09 22:51:46.933 -03:00 [DBG] ro.client found in database: true
2019-06-09 22:51:46.933 -03:00 [DBG] client configuration validation for client ro.client succeeded.
2019-06-09 22:51:46.939 -03:00 [DBG] Calling into custom token validator: IdentityServer4.Validation.DefaultCustomTokenValidator
2019-06-09 22:51:46.940 -03:00 [DBG] Token validation success
{"ClientId":null,"ClientName":null,"ValidateLifetime":true,"AccessTokenType":"Jwt","ExpectedScope":"openid","TokenHandle":null,"JwtId":null,"Claims":{"nbf":1560131506,"exp":1560135106,"iss":"http://localhost:5000","aud":["http://localhost:5000/resources","api1"],"client_id":"ro.client","sub":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","auth_time":1560131506,"idp":"local","scope":["openid","profile","api1"],"amr":"pwd"},"$type":"TokenValidationLog"}
2019-06-09 22:51:46.940 -03:00 [DBG] Creating userinfo response
2019-06-09 22:51:46.941 -03:00 [DBG] Scopes in access token: openid profile api1
2019-06-09 22:51:46.941 -03:00 [DBG] Scopes in access token: openid profile api1
2019-06-09 22:51:46.947 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 22:51:46.947 -03:00 [DBG] Requested claim types: sub name family_name given_name middle_name nickname preferred_username profile picture website gender birthdate zoneinfo locale updated_at
2019-06-09 22:51:46.947 -03:00 [DBG] Scopes in access token: openid profile api1
2019-06-09 22:51:46.950 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 22:51:46.957 -03:00 [INF] Profile service returned the following claim types: sub name given_name family_name website preferred_username
2019-06-09 22:51:46.957 -03:00 [DBG] End userinfo request
2019-06-09 22:51:58.391 -03:00 [DBG] CORS request made for path: /connect/token from origin: http://localhost:3000
2019-06-09 22:51:58.394 -03:00 [DBG] Origin http://localhost:3000 is allowed: false
2019-06-09 22:51:58.395 -03:00 [WRN] CorsPolicyService did not allow origin: http://localhost:3000
2019-06-09 22:51:58.395 -03:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-06-09 22:51:58.395 -03:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-06-09 22:51:58.395 -03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-06-09 22:51:58.396 -03:00 [DBG] Start token request.
2019-06-09 22:51:58.396 -03:00 [DBG] Start client validation
2019-06-09 22:51:58.396 -03:00 [DBG] Start parsing Basic Authentication secret
2019-06-09 22:51:58.396 -03:00 [DBG] Start parsing for secret in post body
2019-06-09 22:51:58.396 -03:00 [DBG] Parser found secret: PostBodySecretParser
2019-06-09 22:51:58.396 -03:00 [DBG] Secret id found: ro.client
2019-06-09 22:51:58.407 -03:00 [DBG] ro.client found in database: true
2019-06-09 22:51:58.407 -03:00 [DBG] client configuration validation for client ro.client succeeded.
2019-06-09 22:51:58.407 -03:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-06-09 22:51:58.407 -03:00 [DBG] Client validation success
2019-06-09 22:51:58.408 -03:00 [INF] {"ClientId":"ro.client","AuthenticationMethod":"SharedSecret","Category":"Authentication","Name":"Client Authentication Success","EventType":"Success","Id":1010,"Message":null,"ActivityId":"0HLND63T1LU2T:00000006","TimeStamp":"2019-06-10T01:51:58.0000000Z","ProcessId":26336,"LocalIpAddress":"127.0.0.1:30253","RemoteIpAddress":"::1","$type":"ClientAuthenticationSuccessEvent"}
2019-06-09 22:51:58.408 -03:00 [DBG] Start token request validation
2019-06-09 22:51:58.408 -03:00 [DBG] Start resource owner password token request validation
2019-06-09 22:51:58.412 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 22:51:58.420 -03:00 [DBG] Found ["api1"] API scopes in database
2019-06-09 22:51:58.423 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 22:51:58.431 -03:00 [DBG] Found ["api1"] API scopes in database
2019-06-09 22:51:58.450 -03:00 [INF] Credentials validated for username: alice
2019-06-09 22:51:58.450 -03:00 [INF] {"Username":"alice","Provider":null,"ProviderUserId":null,"SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","DisplayName":"alice","Endpoint":"Token","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HLND63T1LU2T:00000006","TimeStamp":"2019-06-10T01:51:58.0000000Z","ProcessId":26336,"LocalIpAddress":"127.0.0.1:30253","RemoteIpAddress":"::1","$type":"UserLoginSuccessEvent"}
2019-06-09 22:51:58.450 -03:00 [INF] {"Username":"alice","Provider":null,"ProviderUserId":null,"SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","DisplayName":null,"Endpoint":"Token","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HLND63T1LU2T:00000006","TimeStamp":"2019-06-10T01:51:58.0000000Z","ProcessId":26336,"LocalIpAddress":"127.0.0.1:30253","RemoteIpAddress":"::1","$type":"UserLoginSuccessEvent"}
2019-06-09 22:51:58.450 -03:00 [DBG] Resource owner password token request validation success.
2019-06-09 22:51:58.451 -03:00 [INF] Token request validation success
{"ClientId":"ro.client","ClientName":null,"GrantType":"password","Scopes":"api1 openid profile","AuthorizationCode":null,"RefreshToken":null,"UserName":"alice","AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"grant_type":"password","client_id":"ro.client","client_secret":"***REDACTED***","scope":"openid profile api1","username":"alice","password":"***REDACTED***"},"$type":"TokenRequestValidationLog"}
2019-06-09 22:51:58.451 -03:00 [DBG] Getting claims for access token for client: ro.client
2019-06-09 22:51:58.451 -03:00 [DBG] Getting claims for access token for subject: 4ba1c3a0-b786-421d-b88a-740f38d9cafa
2019-06-09 22:51:58.465 -03:00 [INF] {"ClientId":"ro.client","ClientName":null,"RedirectUri":null,"Endpoint":"Token","SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","Scopes":"openid profile api1","GrantType":"password","Tokens":[{"TokenType":"access_token","TokenValue":"****-WFg","$type":"Token"}],"Category":"Token","Name":"Token Issued Success","EventType":"Success","Id":2000,"Message":null,"ActivityId":"0HLND63T1LU2T:00000006","TimeStamp":"2019-06-10T01:51:58.0000000Z","ProcessId":26336,"LocalIpAddress":"127.0.0.1:30253","RemoteIpAddress":"::1","$type":"TokenIssuedSuccessEvent"}
2019-06-09 22:51:58.466 -03:00 [DBG] Token request success.
2019-06-09 22:51:58.506 -03:00 [DBG] CORS request made for path: /connect/userinfo from origin: http://localhost:3000
2019-06-09 22:51:58.508 -03:00 [DBG] Origin http://localhost:3000 is allowed: false
2019-06-09 22:51:58.508 -03:00 [WRN] CorsPolicyService did not allow origin: http://localhost:3000
2019-06-09 22:51:58.508 -03:00 [DBG] Request path /connect/userinfo matched to endpoint type Userinfo
2019-06-09 22:51:58.509 -03:00 [DBG] Endpoint enabled: Userinfo, successfully created handler: IdentityServer4.Endpoints.UserInfoEndpoint
2019-06-09 22:51:58.510 -03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.UserInfoEndpoint for /connect/userinfo
2019-06-09 22:51:58.510 -03:00 [DBG] Start userinfo request
2019-06-09 22:51:58.510 -03:00 [DBG] Bearer token found in header
2019-06-09 22:51:58.523 -03:00 [DBG] ro.client found in database: true
2019-06-09 22:51:58.523 -03:00 [DBG] client configuration validation for client ro.client succeeded.
2019-06-09 22:51:58.531 -03:00 [DBG] ro.client found in database: true
2019-06-09 22:51:58.531 -03:00 [DBG] client configuration validation for client ro.client succeeded.
2019-06-09 22:51:58.536 -03:00 [DBG] Calling into custom token validator: IdentityServer4.Validation.DefaultCustomTokenValidator
2019-06-09 22:51:58.537 -03:00 [DBG] Token validation success
{"ClientId":null,"ClientName":null,"ValidateLifetime":true,"AccessTokenType":"Jwt","ExpectedScope":"openid","TokenHandle":null,"JwtId":null,"Claims":{"nbf":1560131518,"exp":1560135118,"iss":"http://localhost:5000","aud":["http://localhost:5000/resources","api1"],"client_id":"ro.client","sub":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","auth_time":1560131518,"idp":"local","scope":["openid","profile","api1"],"amr":"pwd"},"$type":"TokenValidationLog"}
2019-06-09 22:51:58.537 -03:00 [DBG] Creating userinfo response
2019-06-09 22:51:58.538 -03:00 [DBG] Scopes in access token: openid profile api1
2019-06-09 22:51:58.538 -03:00 [DBG] Scopes in access token: openid profile api1
2019-06-09 22:51:58.541 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 22:51:58.541 -03:00 [DBG] Requested claim types: sub name family_name given_name middle_name nickname preferred_username profile picture website gender birthdate zoneinfo locale updated_at
2019-06-09 22:51:58.541 -03:00 [DBG] Scopes in access token: openid profile api1
2019-06-09 22:51:58.544 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 22:51:58.551 -03:00 [INF] Profile service returned the following claim types: sub name given_name family_name website preferred_username
2019-06-09 22:51:58.551 -03:00 [DBG] End userinfo request
2019-06-09 22:53:04.749 -03:00 [DBG] CORS request made for path: /connect/token from origin: http://localhost:3000
2019-06-09 22:53:04.769 -03:00 [DBG] Origin http://localhost:3000 is allowed: false
2019-06-09 22:53:04.769 -03:00 [WRN] CorsPolicyService did not allow origin: http://localhost:3000
2019-06-09 22:53:04.770 -03:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-06-09 22:53:04.770 -03:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-06-09 22:53:04.770 -03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-06-09 22:53:04.770 -03:00 [DBG] Start token request.
2019-06-09 22:53:04.770 -03:00 [DBG] Start client validation
2019-06-09 22:53:04.770 -03:00 [DBG] Start parsing Basic Authentication secret
2019-06-09 22:53:04.770 -03:00 [DBG] Start parsing for secret in post body
2019-06-09 22:53:04.771 -03:00 [DBG] Parser found secret: PostBodySecretParser
2019-06-09 22:53:04.771 -03:00 [DBG] Secret id found: ro.client
2019-06-09 22:53:04.807 -03:00 [DBG] ro.client found in database: true
2019-06-09 22:53:04.808 -03:00 [DBG] client configuration validation for client ro.client succeeded.
2019-06-09 22:53:04.808 -03:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-06-09 22:53:04.808 -03:00 [DBG] Client validation success
2019-06-09 22:53:04.808 -03:00 [INF] {"ClientId":"ro.client","AuthenticationMethod":"SharedSecret","Category":"Authentication","Name":"Client Authentication Success","EventType":"Success","Id":1010,"Message":null,"ActivityId":"0HLND63T1LU2U:00000001","TimeStamp":"2019-06-10T01:53:04.0000000Z","ProcessId":26336,"LocalIpAddress":"127.0.0.1:30253","RemoteIpAddress":"::1","$type":"ClientAuthenticationSuccessEvent"}
2019-06-09 22:53:04.808 -03:00 [DBG] Start token request validation
2019-06-09 22:53:04.808 -03:00 [DBG] Start resource owner password token request validation
2019-06-09 22:53:04.823 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 22:53:04.949 -03:00 [DBG] Found ["api1"] API scopes in database
2019-06-09 22:53:04.952 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 22:53:04.957 -03:00 [DBG] Found ["api1"] API scopes in database
2019-06-09 22:53:04.981 -03:00 [INF] Credentials validated for username: alice
2019-06-09 22:53:04.981 -03:00 [INF] {"Username":"alice","Provider":null,"ProviderUserId":null,"SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","DisplayName":"alice","Endpoint":"Token","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HLND63T1LU2U:00000001","TimeStamp":"2019-06-10T01:53:04.0000000Z","ProcessId":26336,"LocalIpAddress":"127.0.0.1:30253","RemoteIpAddress":"::1","$type":"UserLoginSuccessEvent"}
2019-06-09 22:53:04.982 -03:00 [INF] {"Username":"alice","Provider":null,"ProviderUserId":null,"SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","DisplayName":null,"Endpoint":"Token","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HLND63T1LU2U:00000001","TimeStamp":"2019-06-10T01:53:04.0000000Z","ProcessId":26336,"LocalIpAddress":"127.0.0.1:30253","RemoteIpAddress":"::1","$type":"UserLoginSuccessEvent"}
2019-06-09 22:53:04.982 -03:00 [DBG] Resource owner password token request validation success.
2019-06-09 22:53:04.982 -03:00 [INF] Token request validation success
{"ClientId":"ro.client","ClientName":null,"GrantType":"password","Scopes":"api1 openid profile","AuthorizationCode":null,"RefreshToken":null,"UserName":"alice","AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"grant_type":"password","client_id":"ro.client","client_secret":"***REDACTED***","scope":"openid profile api1","username":"alice","password":"***REDACTED***"},"$type":"TokenRequestValidationLog"}
2019-06-09 22:53:04.982 -03:00 [DBG] Getting claims for access token for client: ro.client
2019-06-09 22:53:04.982 -03:00 [DBG] Getting claims for access token for subject: 4ba1c3a0-b786-421d-b88a-740f38d9cafa
2019-06-09 22:53:04.999 -03:00 [INF] {"ClientId":"ro.client","ClientName":null,"RedirectUri":null,"Endpoint":"Token","SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","Scopes":"openid profile api1","GrantType":"password","Tokens":[{"TokenType":"access_token","TokenValue":"****MVMQ","$type":"Token"}],"Category":"Token","Name":"Token Issued Success","EventType":"Success","Id":2000,"Message":null,"ActivityId":"0HLND63T1LU2U:00000001","TimeStamp":"2019-06-10T01:53:04.0000000Z","ProcessId":26336,"LocalIpAddress":"127.0.0.1:30253","RemoteIpAddress":"::1","$type":"TokenIssuedSuccessEvent"}
2019-06-09 22:53:04.999 -03:00 [DBG] Token request success.
2019-06-09 22:53:05.077 -03:00 [DBG] CORS request made for path: /connect/userinfo from origin: http://localhost:3000
2019-06-09 22:53:05.079 -03:00 [DBG] Origin http://localhost:3000 is allowed: false
2019-06-09 22:53:05.079 -03:00 [WRN] CorsPolicyService did not allow origin: http://localhost:3000
2019-06-09 22:53:05.080 -03:00 [DBG] Request path /connect/userinfo matched to endpoint type Userinfo
2019-06-09 22:53:05.080 -03:00 [DBG] Endpoint enabled: Userinfo, successfully created handler: IdentityServer4.Endpoints.UserInfoEndpoint
2019-06-09 22:53:05.080 -03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.UserInfoEndpoint for /connect/userinfo
2019-06-09 22:53:05.080 -03:00 [DBG] Start userinfo request
2019-06-09 22:53:05.080 -03:00 [DBG] Bearer token found in header
2019-06-09 22:53:05.096 -03:00 [DBG] ro.client found in database: true
2019-06-09 22:53:05.097 -03:00 [DBG] client configuration validation for client ro.client succeeded.
2019-06-09 22:53:05.102 -03:00 [DBG] ro.client found in database: true
2019-06-09 22:53:05.103 -03:00 [DBG] client configuration validation for client ro.client succeeded.
2019-06-09 22:53:05.108 -03:00 [DBG] Calling into custom token validator: IdentityServer4.Validation.DefaultCustomTokenValidator
2019-06-09 22:53:05.109 -03:00 [DBG] Token validation success
{"ClientId":null,"ClientName":null,"ValidateLifetime":true,"AccessTokenType":"Jwt","ExpectedScope":"openid","TokenHandle":null,"JwtId":null,"Claims":{"nbf":1560131584,"exp":1560135184,"iss":"http://localhost:5000","aud":["http://localhost:5000/resources","api1"],"client_id":"ro.client","sub":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","auth_time":1560131584,"idp":"local","scope":["openid","profile","api1"],"amr":"pwd"},"$type":"TokenValidationLog"}
2019-06-09 22:53:05.109 -03:00 [DBG] Creating userinfo response
2019-06-09 22:53:05.110 -03:00 [DBG] Scopes in access token: openid profile api1
2019-06-09 22:53:05.110 -03:00 [DBG] Scopes in access token: openid profile api1
2019-06-09 22:53:05.122 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 22:53:05.122 -03:00 [DBG] Requested claim types: sub name family_name given_name middle_name nickname preferred_username profile picture website gender birthdate zoneinfo locale updated_at
2019-06-09 22:53:05.122 -03:00 [DBG] Scopes in access token: openid profile api1
2019-06-09 22:53:05.125 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 22:53:05.140 -03:00 [INF] Profile service returned the following claim types: sub name given_name family_name website preferred_username
2019-06-09 22:53:05.140 -03:00 [DBG] End userinfo request
2019-06-09 22:53:42.978 -03:00 [DBG] CORS request made for path: /connect/token from origin: http://localhost:3000
2019-06-09 22:53:42.988 -03:00 [DBG] Origin http://localhost:3000 is allowed: false
2019-06-09 22:53:42.988 -03:00 [WRN] CorsPolicyService did not allow origin: http://localhost:3000
2019-06-09 22:53:42.989 -03:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-06-09 22:53:42.989 -03:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-06-09 22:53:42.989 -03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-06-09 22:53:42.989 -03:00 [DBG] Start token request.
2019-06-09 22:53:42.989 -03:00 [DBG] Start client validation
2019-06-09 22:53:42.990 -03:00 [DBG] Start parsing Basic Authentication secret
2019-06-09 22:53:42.990 -03:00 [DBG] Start parsing for secret in post body
2019-06-09 22:53:42.990 -03:00 [DBG] Parser found secret: PostBodySecretParser
2019-06-09 22:53:42.991 -03:00 [DBG] Secret id found: ro.client
2019-06-09 22:53:43.037 -03:00 [DBG] ro.client found in database: true
2019-06-09 22:53:43.037 -03:00 [DBG] client configuration validation for client ro.client succeeded.
2019-06-09 22:53:43.037 -03:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-06-09 22:53:43.037 -03:00 [DBG] Client validation success
2019-06-09 22:53:43.038 -03:00 [INF] {"ClientId":"ro.client","AuthenticationMethod":"SharedSecret","Category":"Authentication","Name":"Client Authentication Success","EventType":"Success","Id":1010,"Message":null,"ActivityId":"0HLND63T1LU2U:00000004","TimeStamp":"2019-06-10T01:53:43.0000000Z","ProcessId":26336,"LocalIpAddress":"127.0.0.1:30253","RemoteIpAddress":"::1","$type":"ClientAuthenticationSuccessEvent"}
2019-06-09 22:53:43.038 -03:00 [DBG] Start token request validation
2019-06-09 22:53:43.038 -03:00 [DBG] Start resource owner password token request validation
2019-06-09 22:53:43.049 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 22:53:43.181 -03:00 [DBG] Found ["api1"] API scopes in database
2019-06-09 22:53:43.187 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 22:53:43.192 -03:00 [DBG] Found ["api1"] API scopes in database
2019-06-09 22:53:43.214 -03:00 [INF] Credentials validated for username: alice
2019-06-09 22:53:43.214 -03:00 [INF] {"Username":"alice","Provider":null,"ProviderUserId":null,"SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","DisplayName":"alice","Endpoint":"Token","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HLND63T1LU2U:00000004","TimeStamp":"2019-06-10T01:53:43.0000000Z","ProcessId":26336,"LocalIpAddress":"127.0.0.1:30253","RemoteIpAddress":"::1","$type":"UserLoginSuccessEvent"}
2019-06-09 22:53:43.215 -03:00 [INF] {"Username":"alice","Provider":null,"ProviderUserId":null,"SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","DisplayName":null,"Endpoint":"Token","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HLND63T1LU2U:00000004","TimeStamp":"2019-06-10T01:53:43.0000000Z","ProcessId":26336,"LocalIpAddress":"127.0.0.1:30253","RemoteIpAddress":"::1","$type":"UserLoginSuccessEvent"}
2019-06-09 22:53:43.215 -03:00 [DBG] Resource owner password token request validation success.
2019-06-09 22:53:43.215 -03:00 [INF] Token request validation success
{"ClientId":"ro.client","ClientName":null,"GrantType":"password","Scopes":"api1 openid profile","AuthorizationCode":null,"RefreshToken":null,"UserName":"alice","AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"grant_type":"password","client_id":"ro.client","client_secret":"***REDACTED***","scope":"openid profile api1","username":"alice","password":"***REDACTED***"},"$type":"TokenRequestValidationLog"}
2019-06-09 22:53:43.215 -03:00 [DBG] Getting claims for access token for client: ro.client
2019-06-09 22:53:43.216 -03:00 [DBG] Getting claims for access token for subject: 4ba1c3a0-b786-421d-b88a-740f38d9cafa
2019-06-09 22:53:43.232 -03:00 [INF] {"ClientId":"ro.client","ClientName":null,"RedirectUri":null,"Endpoint":"Token","SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","Scopes":"openid profile api1","GrantType":"password","Tokens":[{"TokenType":"access_token","TokenValue":"****FLBw","$type":"Token"}],"Category":"Token","Name":"Token Issued Success","EventType":"Success","Id":2000,"Message":null,"ActivityId":"0HLND63T1LU2U:00000004","TimeStamp":"2019-06-10T01:53:43.0000000Z","ProcessId":26336,"LocalIpAddress":"127.0.0.1:30253","RemoteIpAddress":"::1","$type":"TokenIssuedSuccessEvent"}
2019-06-09 22:53:43.232 -03:00 [DBG] Token request success.
2019-06-09 22:53:43.303 -03:00 [DBG] CORS request made for path: /connect/userinfo from origin: http://localhost:3000
2019-06-09 22:53:43.305 -03:00 [DBG] Origin http://localhost:3000 is allowed: false
2019-06-09 22:53:43.306 -03:00 [WRN] CorsPolicyService did not allow origin: http://localhost:3000
2019-06-09 22:53:43.306 -03:00 [DBG] Request path /connect/userinfo matched to endpoint type Userinfo
2019-06-09 22:53:43.306 -03:00 [DBG] Endpoint enabled: Userinfo, successfully created handler: IdentityServer4.Endpoints.UserInfoEndpoint
2019-06-09 22:53:43.306 -03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.UserInfoEndpoint for /connect/userinfo
2019-06-09 22:53:43.307 -03:00 [DBG] Start userinfo request
2019-06-09 22:53:43.307 -03:00 [DBG] Bearer token found in header
2019-06-09 22:53:43.324 -03:00 [DBG] ro.client found in database: true
2019-06-09 22:53:43.324 -03:00 [DBG] client configuration validation for client ro.client succeeded.
2019-06-09 22:53:43.330 -03:00 [DBG] ro.client found in database: true
2019-06-09 22:53:43.330 -03:00 [DBG] client configuration validation for client ro.client succeeded.
2019-06-09 22:53:43.338 -03:00 [DBG] Calling into custom token validator: IdentityServer4.Validation.DefaultCustomTokenValidator
2019-06-09 22:53:43.338 -03:00 [DBG] Token validation success
{"ClientId":null,"ClientName":null,"ValidateLifetime":true,"AccessTokenType":"Jwt","ExpectedScope":"openid","TokenHandle":null,"JwtId":null,"Claims":{"nbf":1560131623,"exp":1560135223,"iss":"http://localhost:5000","aud":["http://localhost:5000/resources","api1"],"client_id":"ro.client","sub":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","auth_time":1560131623,"idp":"local","scope":["openid","profile","api1"],"amr":"pwd"},"$type":"TokenValidationLog"}
2019-06-09 22:53:43.338 -03:00 [DBG] Creating userinfo response
2019-06-09 22:53:43.339 -03:00 [DBG] Scopes in access token: openid profile api1
2019-06-09 22:53:43.339 -03:00 [DBG] Scopes in access token: openid profile api1
2019-06-09 22:53:43.352 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 22:53:43.352 -03:00 [DBG] Requested claim types: sub name family_name given_name middle_name nickname preferred_username profile picture website gender birthdate zoneinfo locale updated_at
2019-06-09 22:53:43.352 -03:00 [DBG] Scopes in access token: openid profile api1
2019-06-09 22:53:43.355 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 22:53:43.362 -03:00 [INF] Profile service returned the following claim types: sub name given_name family_name website preferred_username
2019-06-09 22:53:43.362 -03:00 [DBG] End userinfo request
2019-06-09 22:53:58.906 -03:00 [DBG] CORS request made for path: /connect/token from origin: http://localhost:3000
2019-06-09 22:53:58.914 -03:00 [DBG] Origin http://localhost:3000 is allowed: false
2019-06-09 22:53:58.914 -03:00 [WRN] CorsPolicyService did not allow origin: http://localhost:3000
2019-06-09 22:53:58.915 -03:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-06-09 22:53:58.915 -03:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-06-09 22:53:58.916 -03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-06-09 22:53:58.916 -03:00 [DBG] Start token request.
2019-06-09 22:53:58.916 -03:00 [DBG] Start client validation
2019-06-09 22:53:58.916 -03:00 [DBG] Start parsing Basic Authentication secret
2019-06-09 22:53:58.916 -03:00 [DBG] Start parsing for secret in post body
2019-06-09 22:53:58.919 -03:00 [DBG] Parser found secret: PostBodySecretParser
2019-06-09 22:53:58.919 -03:00 [DBG] Secret id found: ro.client
2019-06-09 22:53:58.936 -03:00 [DBG] ro.client found in database: true
2019-06-09 22:53:58.936 -03:00 [DBG] client configuration validation for client ro.client succeeded.
2019-06-09 22:53:58.936 -03:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-06-09 22:53:58.936 -03:00 [DBG] Client validation success
2019-06-09 22:53:58.936 -03:00 [INF] {"ClientId":"ro.client","AuthenticationMethod":"SharedSecret","Category":"Authentication","Name":"Client Authentication Success","EventType":"Success","Id":1010,"Message":null,"ActivityId":"0HLND63T1LU2U:00000007","TimeStamp":"2019-06-10T01:53:58.0000000Z","ProcessId":26336,"LocalIpAddress":"127.0.0.1:30253","RemoteIpAddress":"::1","$type":"ClientAuthenticationSuccessEvent"}
2019-06-09 22:53:58.936 -03:00 [DBG] Start token request validation
2019-06-09 22:53:58.937 -03:00 [DBG] Start resource owner password token request validation
2019-06-09 22:53:58.943 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 22:53:58.961 -03:00 [DBG] Found ["api1"] API scopes in database
2019-06-09 22:53:58.966 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 22:53:58.971 -03:00 [DBG] Found ["api1"] API scopes in database
2019-06-09 22:53:58.998 -03:00 [INF] Credentials validated for username: alice
2019-06-09 22:53:58.998 -03:00 [INF] {"Username":"alice","Provider":null,"ProviderUserId":null,"SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","DisplayName":"alice","Endpoint":"Token","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HLND63T1LU2U:00000007","TimeStamp":"2019-06-10T01:53:58.0000000Z","ProcessId":26336,"LocalIpAddress":"127.0.0.1:30253","RemoteIpAddress":"::1","$type":"UserLoginSuccessEvent"}
2019-06-09 22:53:58.998 -03:00 [INF] {"Username":"alice","Provider":null,"ProviderUserId":null,"SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","DisplayName":null,"Endpoint":"Token","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HLND63T1LU2U:00000007","TimeStamp":"2019-06-10T01:53:58.0000000Z","ProcessId":26336,"LocalIpAddress":"127.0.0.1:30253","RemoteIpAddress":"::1","$type":"UserLoginSuccessEvent"}
2019-06-09 22:53:58.998 -03:00 [DBG] Resource owner password token request validation success.
2019-06-09 22:53:58.999 -03:00 [INF] Token request validation success
{"ClientId":"ro.client","ClientName":null,"GrantType":"password","Scopes":"api1 openid profile","AuthorizationCode":null,"RefreshToken":null,"UserName":"alice","AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"grant_type":"password","client_id":"ro.client","client_secret":"***REDACTED***","scope":"openid profile api1","username":"alice","password":"***REDACTED***"},"$type":"TokenRequestValidationLog"}
2019-06-09 22:53:58.999 -03:00 [DBG] Getting claims for access token for client: ro.client
2019-06-09 22:53:59.000 -03:00 [DBG] Getting claims for access token for subject: 4ba1c3a0-b786-421d-b88a-740f38d9cafa
2019-06-09 22:53:59.014 -03:00 [INF] {"ClientId":"ro.client","ClientName":null,"RedirectUri":null,"Endpoint":"Token","SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","Scopes":"openid profile api1","GrantType":"password","Tokens":[{"TokenType":"access_token","TokenValue":"****i3EQ","$type":"Token"}],"Category":"Token","Name":"Token Issued Success","EventType":"Success","Id":2000,"Message":null,"ActivityId":"0HLND63T1LU2U:00000007","TimeStamp":"2019-06-10T01:53:59.0000000Z","ProcessId":26336,"LocalIpAddress":"127.0.0.1:30253","RemoteIpAddress":"::1","$type":"TokenIssuedSuccessEvent"}
2019-06-09 22:53:59.014 -03:00 [DBG] Token request success.
2019-06-09 22:53:59.075 -03:00 [DBG] CORS request made for path: /connect/userinfo from origin: http://localhost:3000
2019-06-09 22:53:59.078 -03:00 [DBG] Origin http://localhost:3000 is allowed: false
2019-06-09 22:53:59.078 -03:00 [WRN] CorsPolicyService did not allow origin: http://localhost:3000
2019-06-09 22:53:59.079 -03:00 [DBG] Request path /connect/userinfo matched to endpoint type Userinfo
2019-06-09 22:53:59.079 -03:00 [DBG] Endpoint enabled: Userinfo, successfully created handler: IdentityServer4.Endpoints.UserInfoEndpoint
2019-06-09 22:53:59.079 -03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.UserInfoEndpoint for /connect/userinfo
2019-06-09 22:53:59.080 -03:00 [DBG] Start userinfo request
2019-06-09 22:53:59.080 -03:00 [DBG] Bearer token found in header
2019-06-09 22:53:59.094 -03:00 [DBG] ro.client found in database: true
2019-06-09 22:53:59.094 -03:00 [DBG] client configuration validation for client ro.client succeeded.
2019-06-09 22:53:59.136 -03:00 [DBG] ro.client found in database: true
2019-06-09 22:53:59.136 -03:00 [DBG] client configuration validation for client ro.client succeeded.
2019-06-09 22:53:59.142 -03:00 [DBG] Calling into custom token validator: IdentityServer4.Validation.DefaultCustomTokenValidator
2019-06-09 22:53:59.142 -03:00 [DBG] Token validation success
{"ClientId":null,"ClientName":null,"ValidateLifetime":true,"AccessTokenType":"Jwt","ExpectedScope":"openid","TokenHandle":null,"JwtId":null,"Claims":{"nbf":1560131639,"exp":1560135239,"iss":"http://localhost:5000","aud":["http://localhost:5000/resources","api1"],"client_id":"ro.client","sub":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","auth_time":1560131638,"idp":"local","scope":["openid","profile","api1"],"amr":"pwd"},"$type":"TokenValidationLog"}
2019-06-09 22:53:59.143 -03:00 [DBG] Creating userinfo response
2019-06-09 22:53:59.143 -03:00 [DBG] Scopes in access token: openid profile api1
2019-06-09 22:53:59.143 -03:00 [DBG] Scopes in access token: openid profile api1
2019-06-09 22:53:59.146 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 22:53:59.146 -03:00 [DBG] Requested claim types: sub name family_name given_name middle_name nickname preferred_username profile picture website gender birthdate zoneinfo locale updated_at
2019-06-09 22:53:59.146 -03:00 [DBG] Scopes in access token: openid profile api1
2019-06-09 22:53:59.149 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 22:53:59.172 -03:00 [INF] Profile service returned the following claim types: sub name given_name family_name website preferred_username
2019-06-09 22:53:59.172 -03:00 [DBG] End userinfo request
2019-06-09 22:54:01.786 -03:00 [DBG] CORS request made for path: /connect/token from origin: http://localhost:3000
2019-06-09 22:54:01.789 -03:00 [DBG] Origin http://localhost:3000 is allowed: false
2019-06-09 22:54:01.790 -03:00 [WRN] CorsPolicyService did not allow origin: http://localhost:3000
2019-06-09 22:54:01.790 -03:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-06-09 22:54:01.790 -03:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-06-09 22:54:01.791 -03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-06-09 22:54:01.791 -03:00 [DBG] Start token request.
2019-06-09 22:54:01.791 -03:00 [DBG] Start client validation
2019-06-09 22:54:01.791 -03:00 [DBG] Start parsing Basic Authentication secret
2019-06-09 22:54:01.791 -03:00 [DBG] Start parsing for secret in post body
2019-06-09 22:54:01.791 -03:00 [DBG] Parser found secret: PostBodySecretParser
2019-06-09 22:54:01.791 -03:00 [DBG] Secret id found: ro.client
2019-06-09 22:54:01.803 -03:00 [DBG] ro.client found in database: true
2019-06-09 22:54:01.803 -03:00 [DBG] client configuration validation for client ro.client succeeded.
2019-06-09 22:54:01.803 -03:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-06-09 22:54:01.804 -03:00 [DBG] Client validation success
2019-06-09 22:54:01.804 -03:00 [INF] {"ClientId":"ro.client","AuthenticationMethod":"SharedSecret","Category":"Authentication","Name":"Client Authentication Success","EventType":"Success","Id":1010,"Message":null,"ActivityId":"0HLND63T1LU2U:0000000A","TimeStamp":"2019-06-10T01:54:01.0000000Z","ProcessId":26336,"LocalIpAddress":"127.0.0.1:30253","RemoteIpAddress":"::1","$type":"ClientAuthenticationSuccessEvent"}
2019-06-09 22:54:01.804 -03:00 [DBG] Start token request validation
2019-06-09 22:54:01.804 -03:00 [DBG] Start resource owner password token request validation
2019-06-09 22:54:01.808 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 22:54:01.816 -03:00 [DBG] Found ["api1"] API scopes in database
2019-06-09 22:54:01.822 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 22:54:01.828 -03:00 [DBG] Found ["api1"] API scopes in database
2019-06-09 22:54:01.853 -03:00 [INF] Credentials validated for username: alice
2019-06-09 22:54:01.853 -03:00 [INF] {"Username":"alice","Provider":null,"ProviderUserId":null,"SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","DisplayName":"alice","Endpoint":"Token","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HLND63T1LU2U:0000000A","TimeStamp":"2019-06-10T01:54:01.0000000Z","ProcessId":26336,"LocalIpAddress":"127.0.0.1:30253","RemoteIpAddress":"::1","$type":"UserLoginSuccessEvent"}
2019-06-09 22:54:01.854 -03:00 [INF] {"Username":"alice","Provider":null,"ProviderUserId":null,"SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","DisplayName":null,"Endpoint":"Token","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HLND63T1LU2U:0000000A","TimeStamp":"2019-06-10T01:54:01.0000000Z","ProcessId":26336,"LocalIpAddress":"127.0.0.1:30253","RemoteIpAddress":"::1","$type":"UserLoginSuccessEvent"}
2019-06-09 22:54:01.854 -03:00 [DBG] Resource owner password token request validation success.
2019-06-09 22:54:01.854 -03:00 [INF] Token request validation success
{"ClientId":"ro.client","ClientName":null,"GrantType":"password","Scopes":"api1 openid profile","AuthorizationCode":null,"RefreshToken":null,"UserName":"alice","AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"grant_type":"password","client_id":"ro.client","client_secret":"***REDACTED***","scope":"openid profile api1","username":"alice","password":"***REDACTED***"},"$type":"TokenRequestValidationLog"}
2019-06-09 22:54:01.854 -03:00 [DBG] Getting claims for access token for client: ro.client
2019-06-09 22:54:01.854 -03:00 [DBG] Getting claims for access token for subject: 4ba1c3a0-b786-421d-b88a-740f38d9cafa
2019-06-09 22:54:01.871 -03:00 [INF] {"ClientId":"ro.client","ClientName":null,"RedirectUri":null,"Endpoint":"Token","SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","Scopes":"openid profile api1","GrantType":"password","Tokens":[{"TokenType":"access_token","TokenValue":"****0aGQ","$type":"Token"}],"Category":"Token","Name":"Token Issued Success","EventType":"Success","Id":2000,"Message":null,"ActivityId":"0HLND63T1LU2U:0000000A","TimeStamp":"2019-06-10T01:54:01.0000000Z","ProcessId":26336,"LocalIpAddress":"127.0.0.1:30253","RemoteIpAddress":"::1","$type":"TokenIssuedSuccessEvent"}
2019-06-09 22:54:01.871 -03:00 [DBG] Token request success.
2019-06-09 22:54:01.921 -03:00 [DBG] CORS request made for path: /connect/userinfo from origin: http://localhost:3000
2019-06-09 22:54:01.923 -03:00 [DBG] Origin http://localhost:3000 is allowed: false
2019-06-09 22:54:01.923 -03:00 [WRN] CorsPolicyService did not allow origin: http://localhost:3000
2019-06-09 22:54:01.923 -03:00 [DBG] Request path /connect/userinfo matched to endpoint type Userinfo
2019-06-09 22:54:01.923 -03:00 [DBG] Endpoint enabled: Userinfo, successfully created handler: IdentityServer4.Endpoints.UserInfoEndpoint
2019-06-09 22:54:01.923 -03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.UserInfoEndpoint for /connect/userinfo
2019-06-09 22:54:01.924 -03:00 [DBG] Start userinfo request
2019-06-09 22:54:01.924 -03:00 [DBG] Bearer token found in header
2019-06-09 22:54:01.937 -03:00 [DBG] ro.client found in database: true
2019-06-09 22:54:01.937 -03:00 [DBG] client configuration validation for client ro.client succeeded.
2019-06-09 22:54:01.942 -03:00 [DBG] ro.client found in database: true
2019-06-09 22:54:01.942 -03:00 [DBG] client configuration validation for client ro.client succeeded.
2019-06-09 22:54:01.949 -03:00 [DBG] Calling into custom token validator: IdentityServer4.Validation.DefaultCustomTokenValidator
2019-06-09 22:54:01.950 -03:00 [DBG] Token validation success
{"ClientId":null,"ClientName":null,"ValidateLifetime":true,"AccessTokenType":"Jwt","ExpectedScope":"openid","TokenHandle":null,"JwtId":null,"Claims":{"nbf":1560131641,"exp":1560135241,"iss":"http://localhost:5000","aud":["http://localhost:5000/resources","api1"],"client_id":"ro.client","sub":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","auth_time":1560131641,"idp":"local","scope":["openid","profile","api1"],"amr":"pwd"},"$type":"TokenValidationLog"}
2019-06-09 22:54:01.950 -03:00 [DBG] Creating userinfo response
2019-06-09 22:54:01.950 -03:00 [DBG] Scopes in access token: openid profile api1
2019-06-09 22:54:01.950 -03:00 [DBG] Scopes in access token: openid profile api1
2019-06-09 22:54:01.953 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 22:54:01.953 -03:00 [DBG] Requested claim types: sub name family_name given_name middle_name nickname preferred_username profile picture website gender birthdate zoneinfo locale updated_at
2019-06-09 22:54:01.953 -03:00 [DBG] Scopes in access token: openid profile api1
2019-06-09 22:54:01.956 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 22:54:01.962 -03:00 [INF] Profile service returned the following claim types: sub name given_name family_name website preferred_username
2019-06-09 22:54:01.963 -03:00 [DBG] End userinfo request
2019-06-09 22:55:23.422 -03:00 [DBG] CORS request made for path: /connect/token from origin: http://localhost:3000
2019-06-09 22:55:23.434 -03:00 [DBG] Origin http://localhost:3000 is allowed: false
2019-06-09 22:55:23.434 -03:00 [WRN] CorsPolicyService did not allow origin: http://localhost:3000
2019-06-09 22:55:23.435 -03:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-06-09 22:55:23.436 -03:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-06-09 22:55:23.436 -03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-06-09 22:55:23.436 -03:00 [DBG] Start token request.
2019-06-09 22:55:23.437 -03:00 [DBG] Start client validation
2019-06-09 22:55:23.437 -03:00 [DBG] Start parsing Basic Authentication secret
2019-06-09 22:55:23.437 -03:00 [DBG] Start parsing for secret in post body
2019-06-09 22:55:23.438 -03:00 [DBG] Parser found secret: PostBodySecretParser
2019-06-09 22:55:23.438 -03:00 [DBG] Secret id found: ro.client
2019-06-09 22:55:23.478 -03:00 [DBG] ro.client found in database: true
2019-06-09 22:55:23.478 -03:00 [DBG] client configuration validation for client ro.client succeeded.
2019-06-09 22:55:23.478 -03:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-06-09 22:55:23.479 -03:00 [DBG] Client validation success
2019-06-09 22:55:23.479 -03:00 [INF] {"ClientId":"ro.client","AuthenticationMethod":"SharedSecret","Category":"Authentication","Name":"Client Authentication Success","EventType":"Success","Id":1010,"Message":null,"ActivityId":"0HLND63T1LU2V:00000001","TimeStamp":"2019-06-10T01:55:23.0000000Z","ProcessId":26336,"LocalIpAddress":"127.0.0.1:30253","RemoteIpAddress":"::1","$type":"ClientAuthenticationSuccessEvent"}
2019-06-09 22:55:23.479 -03:00 [DBG] Start token request validation
2019-06-09 22:55:23.479 -03:00 [DBG] Start resource owner password token request validation
2019-06-09 22:55:23.495 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 22:55:23.628 -03:00 [DBG] Found ["api1"] API scopes in database
2019-06-09 22:55:23.631 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 22:55:23.636 -03:00 [DBG] Found ["api1"] API scopes in database
2019-06-09 22:55:23.658 -03:00 [INF] Credentials validated for username: alice
2019-06-09 22:55:23.659 -03:00 [INF] {"Username":"alice","Provider":null,"ProviderUserId":null,"SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","DisplayName":"alice","Endpoint":"Token","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HLND63T1LU2V:00000001","TimeStamp":"2019-06-10T01:55:23.0000000Z","ProcessId":26336,"LocalIpAddress":"127.0.0.1:30253","RemoteIpAddress":"::1","$type":"UserLoginSuccessEvent"}
2019-06-09 22:55:23.659 -03:00 [INF] {"Username":"alice","Provider":null,"ProviderUserId":null,"SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","DisplayName":null,"Endpoint":"Token","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HLND63T1LU2V:00000001","TimeStamp":"2019-06-10T01:55:23.0000000Z","ProcessId":26336,"LocalIpAddress":"127.0.0.1:30253","RemoteIpAddress":"::1","$type":"UserLoginSuccessEvent"}
2019-06-09 22:55:23.660 -03:00 [DBG] Resource owner password token request validation success.
2019-06-09 22:55:23.660 -03:00 [INF] Token request validation success
{"ClientId":"ro.client","ClientName":null,"GrantType":"password","Scopes":"api1 openid profile","AuthorizationCode":null,"RefreshToken":null,"UserName":"alice","AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"grant_type":"password","client_id":"ro.client","client_secret":"***REDACTED***","scope":"openid profile api1","username":"alice","password":"***REDACTED***"},"$type":"TokenRequestValidationLog"}
2019-06-09 22:55:23.660 -03:00 [DBG] Getting claims for access token for client: ro.client
2019-06-09 22:55:23.660 -03:00 [DBG] Getting claims for access token for subject: 4ba1c3a0-b786-421d-b88a-740f38d9cafa
2019-06-09 22:55:23.677 -03:00 [INF] {"ClientId":"ro.client","ClientName":null,"RedirectUri":null,"Endpoint":"Token","SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","Scopes":"openid profile api1","GrantType":"password","Tokens":[{"TokenType":"access_token","TokenValue":"****wrBg","$type":"Token"}],"Category":"Token","Name":"Token Issued Success","EventType":"Success","Id":2000,"Message":null,"ActivityId":"0HLND63T1LU2V:00000001","TimeStamp":"2019-06-10T01:55:23.0000000Z","ProcessId":26336,"LocalIpAddress":"127.0.0.1:30253","RemoteIpAddress":"::1","$type":"TokenIssuedSuccessEvent"}
2019-06-09 22:55:23.678 -03:00 [DBG] Token request success.
2019-06-09 22:55:23.783 -03:00 [DBG] CORS request made for path: /connect/userinfo from origin: http://localhost:3000
2019-06-09 22:55:23.785 -03:00 [DBG] Origin http://localhost:3000 is allowed: false
2019-06-09 22:55:23.785 -03:00 [WRN] CorsPolicyService did not allow origin: http://localhost:3000
2019-06-09 22:55:23.786 -03:00 [DBG] Request path /connect/userinfo matched to endpoint type Userinfo
2019-06-09 22:55:23.786 -03:00 [DBG] Endpoint enabled: Userinfo, successfully created handler: IdentityServer4.Endpoints.UserInfoEndpoint
2019-06-09 22:55:23.786 -03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.UserInfoEndpoint for /connect/userinfo
2019-06-09 22:55:23.786 -03:00 [DBG] Start userinfo request
2019-06-09 22:55:23.786 -03:00 [DBG] Bearer token found in header
2019-06-09 22:55:23.800 -03:00 [DBG] ro.client found in database: true
2019-06-09 22:55:23.800 -03:00 [DBG] client configuration validation for client ro.client succeeded.
2019-06-09 22:55:23.806 -03:00 [DBG] ro.client found in database: true
2019-06-09 22:55:23.806 -03:00 [DBG] client configuration validation for client ro.client succeeded.
2019-06-09 22:55:23.822 -03:00 [DBG] Calling into custom token validator: IdentityServer4.Validation.DefaultCustomTokenValidator
2019-06-09 22:55:23.823 -03:00 [DBG] Token validation success
{"ClientId":null,"ClientName":null,"ValidateLifetime":true,"AccessTokenType":"Jwt","ExpectedScope":"openid","TokenHandle":null,"JwtId":null,"Claims":{"nbf":1560131723,"exp":1560135323,"iss":"http://localhost:5000","aud":["http://localhost:5000/resources","api1"],"client_id":"ro.client","sub":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","auth_time":1560131723,"idp":"local","scope":["openid","profile","api1"],"amr":"pwd"},"$type":"TokenValidationLog"}
2019-06-09 22:55:23.824 -03:00 [DBG] Creating userinfo response
2019-06-09 22:55:23.824 -03:00 [DBG] Scopes in access token: openid profile api1
2019-06-09 22:55:23.824 -03:00 [DBG] Scopes in access token: openid profile api1
2019-06-09 22:55:23.834 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 22:55:23.835 -03:00 [DBG] Requested claim types: sub name family_name given_name middle_name nickname preferred_username profile picture website gender birthdate zoneinfo locale updated_at
2019-06-09 22:55:23.835 -03:00 [DBG] Scopes in access token: openid profile api1
2019-06-09 22:55:23.838 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 22:55:23.844 -03:00 [INF] Profile service returned the following claim types: sub name given_name family_name website preferred_username
2019-06-09 22:55:23.844 -03:00 [DBG] End userinfo request
2019-06-09 22:56:52.487 -03:00 [DBG] CORS request made for path: /connect/token from origin: http://localhost:3000
2019-06-09 22:56:52.508 -03:00 [DBG] Origin http://localhost:3000 is allowed: false
2019-06-09 22:56:52.514 -03:00 [WRN] CorsPolicyService did not allow origin: http://localhost:3000
2019-06-09 22:56:52.514 -03:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-06-09 22:56:52.515 -03:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-06-09 22:56:52.515 -03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-06-09 22:56:52.515 -03:00 [DBG] Start token request.
2019-06-09 22:56:52.515 -03:00 [DBG] Start client validation
2019-06-09 22:56:52.515 -03:00 [DBG] Start parsing Basic Authentication secret
2019-06-09 22:56:52.515 -03:00 [DBG] Start parsing for secret in post body
2019-06-09 22:56:52.516 -03:00 [DBG] Parser found secret: PostBodySecretParser
2019-06-09 22:56:52.516 -03:00 [DBG] Secret id found: ro.client
2019-06-09 22:56:52.557 -03:00 [DBG] ro.client found in database: true
2019-06-09 22:56:52.557 -03:00 [DBG] client configuration validation for client ro.client succeeded.
2019-06-09 22:56:52.557 -03:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-06-09 22:56:52.557 -03:00 [DBG] Client validation success
2019-06-09 22:56:52.558 -03:00 [INF] {"ClientId":"ro.client","AuthenticationMethod":"SharedSecret","Category":"Authentication","Name":"Client Authentication Success","EventType":"Success","Id":1010,"Message":null,"ActivityId":"0HLND63T1LU30:00000001","TimeStamp":"2019-06-10T01:56:52.0000000Z","ProcessId":26336,"LocalIpAddress":"127.0.0.1:30253","RemoteIpAddress":"::1","$type":"ClientAuthenticationSuccessEvent"}
2019-06-09 22:56:52.558 -03:00 [DBG] Start token request validation
2019-06-09 22:56:52.558 -03:00 [DBG] Start resource owner password token request validation
2019-06-09 22:56:52.573 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 22:56:52.697 -03:00 [DBG] Found ["api1"] API scopes in database
2019-06-09 22:56:52.700 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 22:56:52.706 -03:00 [DBG] Found ["api1"] API scopes in database
2019-06-09 22:56:52.726 -03:00 [INF] Credentials validated for username: alice
2019-06-09 22:56:52.726 -03:00 [INF] {"Username":"alice","Provider":null,"ProviderUserId":null,"SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","DisplayName":"alice","Endpoint":"Token","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HLND63T1LU30:00000001","TimeStamp":"2019-06-10T01:56:52.0000000Z","ProcessId":26336,"LocalIpAddress":"127.0.0.1:30253","RemoteIpAddress":"::1","$type":"UserLoginSuccessEvent"}
2019-06-09 22:56:52.726 -03:00 [INF] {"Username":"alice","Provider":null,"ProviderUserId":null,"SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","DisplayName":null,"Endpoint":"Token","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HLND63T1LU30:00000001","TimeStamp":"2019-06-10T01:56:52.0000000Z","ProcessId":26336,"LocalIpAddress":"127.0.0.1:30253","RemoteIpAddress":"::1","$type":"UserLoginSuccessEvent"}
2019-06-09 22:56:52.726 -03:00 [DBG] Resource owner password token request validation success.
2019-06-09 22:56:52.727 -03:00 [INF] Token request validation success
{"ClientId":"ro.client","ClientName":null,"GrantType":"password","Scopes":"api1 openid profile","AuthorizationCode":null,"RefreshToken":null,"UserName":"alice","AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"grant_type":"password","client_id":"ro.client","client_secret":"***REDACTED***","scope":"openid profile api1","username":"alice","password":"***REDACTED***"},"$type":"TokenRequestValidationLog"}
2019-06-09 22:56:52.727 -03:00 [DBG] Getting claims for access token for client: ro.client
2019-06-09 22:56:52.727 -03:00 [DBG] Getting claims for access token for subject: 4ba1c3a0-b786-421d-b88a-740f38d9cafa
2019-06-09 22:56:52.742 -03:00 [INF] {"ClientId":"ro.client","ClientName":null,"RedirectUri":null,"Endpoint":"Token","SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","Scopes":"openid profile api1","GrantType":"password","Tokens":[{"TokenType":"access_token","TokenValue":"****x6Lg","$type":"Token"}],"Category":"Token","Name":"Token Issued Success","EventType":"Success","Id":2000,"Message":null,"ActivityId":"0HLND63T1LU30:00000001","TimeStamp":"2019-06-10T01:56:52.0000000Z","ProcessId":26336,"LocalIpAddress":"127.0.0.1:30253","RemoteIpAddress":"::1","$type":"TokenIssuedSuccessEvent"}
2019-06-09 22:56:52.742 -03:00 [DBG] Token request success.
2019-06-09 22:56:52.820 -03:00 [DBG] CORS request made for path: /connect/userinfo from origin: http://localhost:3000
2019-06-09 22:56:52.825 -03:00 [DBG] Origin http://localhost:3000 is allowed: false
2019-06-09 22:56:52.825 -03:00 [WRN] CorsPolicyService did not allow origin: http://localhost:3000
2019-06-09 22:56:52.825 -03:00 [DBG] Request path /connect/userinfo matched to endpoint type Userinfo
2019-06-09 22:56:52.826 -03:00 [DBG] Endpoint enabled: Userinfo, successfully created handler: IdentityServer4.Endpoints.UserInfoEndpoint
2019-06-09 22:56:52.826 -03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.UserInfoEndpoint for /connect/userinfo
2019-06-09 22:56:52.826 -03:00 [DBG] Start userinfo request
2019-06-09 22:56:52.826 -03:00 [DBG] Bearer token found in header
2019-06-09 22:56:52.844 -03:00 [DBG] ro.client found in database: true
2019-06-09 22:56:52.844 -03:00 [DBG] client configuration validation for client ro.client succeeded.
2019-06-09 22:56:52.859 -03:00 [DBG] ro.client found in database: true
2019-06-09 22:56:52.859 -03:00 [DBG] client configuration validation for client ro.client succeeded.
2019-06-09 22:56:52.887 -03:00 [DBG] Calling into custom token validator: IdentityServer4.Validation.DefaultCustomTokenValidator
2019-06-09 22:56:52.887 -03:00 [DBG] Token validation success
{"ClientId":null,"ClientName":null,"ValidateLifetime":true,"AccessTokenType":"Jwt","ExpectedScope":"openid","TokenHandle":null,"JwtId":null,"Claims":{"nbf":1560131812,"exp":1560135412,"iss":"http://localhost:5000","aud":["http://localhost:5000/resources","api1"],"client_id":"ro.client","sub":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","auth_time":1560131812,"idp":"local","scope":["openid","profile","api1"],"amr":"pwd"},"$type":"TokenValidationLog"}
2019-06-09 22:56:52.896 -03:00 [DBG] Creating userinfo response
2019-06-09 22:56:52.896 -03:00 [DBG] Scopes in access token: openid profile api1
2019-06-09 22:56:52.896 -03:00 [DBG] Scopes in access token: openid profile api1
2019-06-09 22:56:52.909 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 22:56:52.909 -03:00 [DBG] Requested claim types: sub name family_name given_name middle_name nickname preferred_username profile picture website gender birthdate zoneinfo locale updated_at
2019-06-09 22:56:52.910 -03:00 [DBG] Scopes in access token: openid profile api1
2019-06-09 22:56:52.912 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 22:56:52.919 -03:00 [INF] Profile service returned the following claim types: sub name given_name family_name website preferred_username
2019-06-09 22:56:52.919 -03:00 [DBG] End userinfo request
2019-06-09 23:00:51.848 -03:00 [DBG] CORS request made for path: /connect/token from origin: http://localhost:3000
2019-06-09 23:00:51.859 -03:00 [DBG] Origin http://localhost:3000 is allowed: false
2019-06-09 23:00:51.860 -03:00 [WRN] CorsPolicyService did not allow origin: http://localhost:3000
2019-06-09 23:00:51.860 -03:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-06-09 23:00:51.860 -03:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-06-09 23:00:51.861 -03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-06-09 23:00:51.861 -03:00 [DBG] Start token request.
2019-06-09 23:00:51.861 -03:00 [DBG] Start client validation
2019-06-09 23:00:51.861 -03:00 [DBG] Start parsing Basic Authentication secret
2019-06-09 23:00:51.861 -03:00 [DBG] Start parsing for secret in post body
2019-06-09 23:00:51.862 -03:00 [DBG] Parser found secret: PostBodySecretParser
2019-06-09 23:00:51.862 -03:00 [DBG] Secret id found: ro.client
2019-06-09 23:00:51.904 -03:00 [DBG] ro.client found in database: true
2019-06-09 23:00:51.904 -03:00 [DBG] client configuration validation for client ro.client succeeded.
2019-06-09 23:00:51.904 -03:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-06-09 23:00:51.904 -03:00 [DBG] Client validation success
2019-06-09 23:00:51.904 -03:00 [INF] {"ClientId":"ro.client","AuthenticationMethod":"SharedSecret","Category":"Authentication","Name":"Client Authentication Success","EventType":"Success","Id":1010,"Message":null,"ActivityId":"0HLND63T1LU31:00000001","TimeStamp":"2019-06-10T02:00:51.0000000Z","ProcessId":26336,"LocalIpAddress":"127.0.0.1:30253","RemoteIpAddress":"::1","$type":"ClientAuthenticationSuccessEvent"}
2019-06-09 23:00:51.905 -03:00 [DBG] Start token request validation
2019-06-09 23:00:51.905 -03:00 [DBG] Start resource owner password token request validation
2019-06-09 23:00:51.920 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 23:00:52.034 -03:00 [DBG] Found ["api1"] API scopes in database
2019-06-09 23:00:52.037 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 23:00:52.041 -03:00 [DBG] Found ["api1"] API scopes in database
2019-06-09 23:00:52.060 -03:00 [INF] Credentials validated for username: alice
2019-06-09 23:00:52.060 -03:00 [INF] {"Username":"alice","Provider":null,"ProviderUserId":null,"SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","DisplayName":"alice","Endpoint":"Token","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HLND63T1LU31:00000001","TimeStamp":"2019-06-10T02:00:52.0000000Z","ProcessId":26336,"LocalIpAddress":"127.0.0.1:30253","RemoteIpAddress":"::1","$type":"UserLoginSuccessEvent"}
2019-06-09 23:00:52.061 -03:00 [INF] {"Username":"alice","Provider":null,"ProviderUserId":null,"SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","DisplayName":null,"Endpoint":"Token","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HLND63T1LU31:00000001","TimeStamp":"2019-06-10T02:00:52.0000000Z","ProcessId":26336,"LocalIpAddress":"127.0.0.1:30253","RemoteIpAddress":"::1","$type":"UserLoginSuccessEvent"}
2019-06-09 23:00:52.061 -03:00 [DBG] Resource owner password token request validation success.
2019-06-09 23:00:52.061 -03:00 [INF] Token request validation success
{"ClientId":"ro.client","ClientName":null,"GrantType":"password","Scopes":"api1 openid profile","AuthorizationCode":null,"RefreshToken":null,"UserName":"alice","AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"grant_type":"password","client_id":"ro.client","client_secret":"***REDACTED***","scope":"openid profile api1","username":"alice","password":"***REDACTED***"},"$type":"TokenRequestValidationLog"}
2019-06-09 23:00:52.062 -03:00 [DBG] Getting claims for access token for client: ro.client
2019-06-09 23:00:52.062 -03:00 [DBG] Getting claims for access token for subject: 4ba1c3a0-b786-421d-b88a-740f38d9cafa
2019-06-09 23:00:52.076 -03:00 [INF] {"ClientId":"ro.client","ClientName":null,"RedirectUri":null,"Endpoint":"Token","SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","Scopes":"openid profile api1","GrantType":"password","Tokens":[{"TokenType":"access_token","TokenValue":"****tw0A","$type":"Token"}],"Category":"Token","Name":"Token Issued Success","EventType":"Success","Id":2000,"Message":null,"ActivityId":"0HLND63T1LU31:00000001","TimeStamp":"2019-06-10T02:00:52.0000000Z","ProcessId":26336,"LocalIpAddress":"127.0.0.1:30253","RemoteIpAddress":"::1","$type":"TokenIssuedSuccessEvent"}
2019-06-09 23:00:52.076 -03:00 [DBG] Token request success.
2019-06-09 23:00:52.128 -03:00 [DBG] CORS request made for path: /connect/userinfo from origin: http://localhost:3000
2019-06-09 23:00:52.133 -03:00 [DBG] Origin http://localhost:3000 is allowed: false
2019-06-09 23:00:52.133 -03:00 [WRN] CorsPolicyService did not allow origin: http://localhost:3000
2019-06-09 23:00:52.134 -03:00 [DBG] Request path /connect/userinfo matched to endpoint type Userinfo
2019-06-09 23:00:52.134 -03:00 [DBG] Endpoint enabled: Userinfo, successfully created handler: IdentityServer4.Endpoints.UserInfoEndpoint
2019-06-09 23:00:52.134 -03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.UserInfoEndpoint for /connect/userinfo
2019-06-09 23:00:52.135 -03:00 [DBG] Start userinfo request
2019-06-09 23:00:52.135 -03:00 [DBG] Bearer token found in header
2019-06-09 23:00:52.148 -03:00 [DBG] ro.client found in database: true
2019-06-09 23:00:52.148 -03:00 [DBG] client configuration validation for client ro.client succeeded.
2019-06-09 23:00:52.155 -03:00 [DBG] ro.client found in database: true
2019-06-09 23:00:52.156 -03:00 [DBG] client configuration validation for client ro.client succeeded.
2019-06-09 23:00:52.163 -03:00 [DBG] Calling into custom token validator: IdentityServer4.Validation.DefaultCustomTokenValidator
2019-06-09 23:00:52.163 -03:00 [DBG] Token validation success
{"ClientId":null,"ClientName":null,"ValidateLifetime":true,"AccessTokenType":"Jwt","ExpectedScope":"openid","TokenHandle":null,"JwtId":null,"Claims":{"nbf":1560132052,"exp":1560135652,"iss":"http://localhost:5000","aud":["http://localhost:5000/resources","api1"],"client_id":"ro.client","sub":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","auth_time":1560132052,"idp":"local","scope":["openid","profile","api1"],"amr":"pwd"},"$type":"TokenValidationLog"}
2019-06-09 23:00:52.163 -03:00 [DBG] Creating userinfo response
2019-06-09 23:00:52.163 -03:00 [DBG] Scopes in access token: openid profile api1
2019-06-09 23:00:52.163 -03:00 [DBG] Scopes in access token: openid profile api1
2019-06-09 23:00:52.174 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 23:00:52.174 -03:00 [DBG] Requested claim types: sub name family_name given_name middle_name nickname preferred_username profile picture website gender birthdate zoneinfo locale updated_at
2019-06-09 23:00:52.175 -03:00 [DBG] Scopes in access token: openid profile api1
2019-06-09 23:00:52.177 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 23:00:52.184 -03:00 [INF] Profile service returned the following claim types: sub name given_name family_name website preferred_username
2019-06-09 23:00:52.184 -03:00 [DBG] End userinfo request
2019-06-09 23:02:30.519 -03:00 [DBG] CORS request made for path: /connect/token from origin: http://localhost:3000
2019-06-09 23:02:30.556 -03:00 [DBG] Origin http://localhost:3000 is allowed: false
2019-06-09 23:02:30.556 -03:00 [WRN] CorsPolicyService did not allow origin: http://localhost:3000
2019-06-09 23:02:30.556 -03:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-06-09 23:02:30.557 -03:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-06-09 23:02:30.557 -03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-06-09 23:02:30.557 -03:00 [DBG] Start token request.
2019-06-09 23:02:30.557 -03:00 [DBG] Start client validation
2019-06-09 23:02:30.557 -03:00 [DBG] Start parsing Basic Authentication secret
2019-06-09 23:02:30.557 -03:00 [DBG] Start parsing for secret in post body
2019-06-09 23:02:30.558 -03:00 [DBG] Parser found secret: PostBodySecretParser
2019-06-09 23:02:30.558 -03:00 [DBG] Secret id found: ro.client
2019-06-09 23:02:30.594 -03:00 [DBG] ro.client found in database: true
2019-06-09 23:02:30.594 -03:00 [DBG] client configuration validation for client ro.client succeeded.
2019-06-09 23:02:30.594 -03:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-06-09 23:02:30.594 -03:00 [DBG] Client validation success
2019-06-09 23:02:30.594 -03:00 [INF] {"ClientId":"ro.client","AuthenticationMethod":"SharedSecret","Category":"Authentication","Name":"Client Authentication Success","EventType":"Success","Id":1010,"Message":null,"ActivityId":"0HLND63T1LU32:00000001","TimeStamp":"2019-06-10T02:02:30.0000000Z","ProcessId":26336,"LocalIpAddress":"127.0.0.1:30253","RemoteIpAddress":"::1","$type":"ClientAuthenticationSuccessEvent"}
2019-06-09 23:02:30.595 -03:00 [DBG] Start token request validation
2019-06-09 23:02:30.595 -03:00 [DBG] Start resource owner password token request validation
2019-06-09 23:02:30.609 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 23:02:30.696 -03:00 [DBG] Found ["api1"] API scopes in database
2019-06-09 23:02:30.699 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 23:02:30.705 -03:00 [DBG] Found ["api1"] API scopes in database
2019-06-09 23:02:30.724 -03:00 [INF] Credentials validated for username: alice
2019-06-09 23:02:30.724 -03:00 [INF] {"Username":"alice","Provider":null,"ProviderUserId":null,"SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","DisplayName":"alice","Endpoint":"Token","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HLND63T1LU32:00000001","TimeStamp":"2019-06-10T02:02:30.0000000Z","ProcessId":26336,"LocalIpAddress":"127.0.0.1:30253","RemoteIpAddress":"::1","$type":"UserLoginSuccessEvent"}
2019-06-09 23:02:30.725 -03:00 [INF] {"Username":"alice","Provider":null,"ProviderUserId":null,"SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","DisplayName":null,"Endpoint":"Token","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HLND63T1LU32:00000001","TimeStamp":"2019-06-10T02:02:30.0000000Z","ProcessId":26336,"LocalIpAddress":"127.0.0.1:30253","RemoteIpAddress":"::1","$type":"UserLoginSuccessEvent"}
2019-06-09 23:02:30.725 -03:00 [DBG] Resource owner password token request validation success.
2019-06-09 23:02:30.725 -03:00 [INF] Token request validation success
{"ClientId":"ro.client","ClientName":null,"GrantType":"password","Scopes":"api1 openid profile","AuthorizationCode":null,"RefreshToken":null,"UserName":"alice","AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"grant_type":"password","client_id":"ro.client","client_secret":"***REDACTED***","scope":"openid profile api1","username":"alice","password":"***REDACTED***"},"$type":"TokenRequestValidationLog"}
2019-06-09 23:02:30.726 -03:00 [DBG] Getting claims for access token for client: ro.client
2019-06-09 23:02:30.726 -03:00 [DBG] Getting claims for access token for subject: 4ba1c3a0-b786-421d-b88a-740f38d9cafa
2019-06-09 23:02:30.749 -03:00 [INF] {"ClientId":"ro.client","ClientName":null,"RedirectUri":null,"Endpoint":"Token","SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","Scopes":"openid profile api1","GrantType":"password","Tokens":[{"TokenType":"access_token","TokenValue":"****K6Jw","$type":"Token"}],"Category":"Token","Name":"Token Issued Success","EventType":"Success","Id":2000,"Message":null,"ActivityId":"0HLND63T1LU32:00000001","TimeStamp":"2019-06-10T02:02:30.0000000Z","ProcessId":26336,"LocalIpAddress":"127.0.0.1:30253","RemoteIpAddress":"::1","$type":"TokenIssuedSuccessEvent"}
2019-06-09 23:02:30.749 -03:00 [DBG] Token request success.
2019-06-09 23:02:30.800 -03:00 [DBG] CORS request made for path: /connect/userinfo from origin: http://localhost:3000
2019-06-09 23:02:30.810 -03:00 [DBG] Origin http://localhost:3000 is allowed: false
2019-06-09 23:02:30.810 -03:00 [WRN] CorsPolicyService did not allow origin: http://localhost:3000
2019-06-09 23:02:30.810 -03:00 [DBG] Request path /connect/userinfo matched to endpoint type Userinfo
2019-06-09 23:02:30.811 -03:00 [DBG] Endpoint enabled: Userinfo, successfully created handler: IdentityServer4.Endpoints.UserInfoEndpoint
2019-06-09 23:02:30.811 -03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.UserInfoEndpoint for /connect/userinfo
2019-06-09 23:02:30.811 -03:00 [DBG] Start userinfo request
2019-06-09 23:02:30.811 -03:00 [DBG] Bearer token found in header
2019-06-09 23:02:30.823 -03:00 [DBG] ro.client found in database: true
2019-06-09 23:02:30.823 -03:00 [DBG] client configuration validation for client ro.client succeeded.
2019-06-09 23:02:30.832 -03:00 [DBG] ro.client found in database: true
2019-06-09 23:02:30.832 -03:00 [DBG] client configuration validation for client ro.client succeeded.
2019-06-09 23:02:30.840 -03:00 [DBG] Calling into custom token validator: IdentityServer4.Validation.DefaultCustomTokenValidator
2019-06-09 23:02:30.840 -03:00 [DBG] Token validation success
{"ClientId":null,"ClientName":null,"ValidateLifetime":true,"AccessTokenType":"Jwt","ExpectedScope":"openid","TokenHandle":null,"JwtId":null,"Claims":{"nbf":1560132150,"exp":1560135750,"iss":"http://localhost:5000","aud":["http://localhost:5000/resources","api1"],"client_id":"ro.client","sub":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","auth_time":1560132150,"idp":"local","scope":["openid","profile","api1"],"amr":"pwd"},"$type":"TokenValidationLog"}
2019-06-09 23:02:30.840 -03:00 [DBG] Creating userinfo response
2019-06-09 23:02:30.840 -03:00 [DBG] Scopes in access token: openid profile api1
2019-06-09 23:02:30.841 -03:00 [DBG] Scopes in access token: openid profile api1
2019-06-09 23:02:30.851 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 23:02:30.851 -03:00 [DBG] Requested claim types: sub name family_name given_name middle_name nickname preferred_username profile picture website gender birthdate zoneinfo locale updated_at
2019-06-09 23:02:30.851 -03:00 [DBG] Scopes in access token: openid profile api1
2019-06-09 23:02:30.854 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 23:02:30.861 -03:00 [INF] Profile service returned the following claim types: sub name given_name family_name website preferred_username
2019-06-09 23:02:30.862 -03:00 [DBG] End userinfo request
2019-06-09 23:02:33.571 -03:00 [DBG] CORS request made for path: /connect/token from origin: http://localhost:3000
2019-06-09 23:02:33.581 -03:00 [DBG] Origin http://localhost:3000 is allowed: false
2019-06-09 23:02:33.581 -03:00 [WRN] CorsPolicyService did not allow origin: http://localhost:3000
2019-06-09 23:02:33.582 -03:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-06-09 23:02:33.582 -03:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-06-09 23:02:33.582 -03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-06-09 23:02:33.582 -03:00 [DBG] Start token request.
2019-06-09 23:02:33.582 -03:00 [DBG] Start client validation
2019-06-09 23:02:33.582 -03:00 [DBG] Start parsing Basic Authentication secret
2019-06-09 23:02:33.583 -03:00 [DBG] Start parsing for secret in post body
2019-06-09 23:02:33.583 -03:00 [DBG] Parser found secret: PostBodySecretParser
2019-06-09 23:02:33.583 -03:00 [DBG] Secret id found: ro.client
2019-06-09 23:02:33.600 -03:00 [DBG] ro.client found in database: true
2019-06-09 23:02:33.600 -03:00 [DBG] client configuration validation for client ro.client succeeded.
2019-06-09 23:02:33.600 -03:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-06-09 23:02:33.600 -03:00 [DBG] Client validation success
2019-06-09 23:02:33.600 -03:00 [INF] {"ClientId":"ro.client","AuthenticationMethod":"SharedSecret","Category":"Authentication","Name":"Client Authentication Success","EventType":"Success","Id":1010,"Message":null,"ActivityId":"0HLND63T1LU32:00000004","TimeStamp":"2019-06-10T02:02:33.0000000Z","ProcessId":26336,"LocalIpAddress":"127.0.0.1:30253","RemoteIpAddress":"::1","$type":"ClientAuthenticationSuccessEvent"}
2019-06-09 23:02:33.600 -03:00 [DBG] Start token request validation
2019-06-09 23:02:33.600 -03:00 [DBG] Start resource owner password token request validation
2019-06-09 23:02:33.614 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 23:02:33.622 -03:00 [DBG] Found ["api1"] API scopes in database
2019-06-09 23:02:33.625 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 23:02:33.631 -03:00 [DBG] Found ["api1"] API scopes in database
2019-06-09 23:02:33.633 -03:00 [ERR] Username or password missing, request details: []
2019-06-09 23:02:33.634 -03:00 [INF] {"ClientId":"ro.client","ClientName":null,"RedirectUri":null,"Endpoint":"Token","SubjectId":null,"Scopes":"api1 openid profile","GrantType":"password","Error":"invalid_grant","ErrorDescription":null,"Category":"Token","Name":"Token Issued Failure","EventType":"Failure","Id":2001,"Message":null,"ActivityId":"0HLND63T1LU32:00000004","TimeStamp":"2019-06-10T02:02:33.0000000Z","ProcessId":26336,"LocalIpAddress":"127.0.0.1:30253","RemoteIpAddress":"::1","$type":"TokenIssuedFailureEvent"}
2019-06-09 23:02:39.433 -03:00 [DBG] CORS request made for path: /connect/token from origin: http://localhost:3000
2019-06-09 23:02:39.435 -03:00 [DBG] Origin http://localhost:3000 is allowed: false
2019-06-09 23:02:39.435 -03:00 [WRN] CorsPolicyService did not allow origin: http://localhost:3000
2019-06-09 23:02:39.436 -03:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-06-09 23:02:39.436 -03:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-06-09 23:02:39.437 -03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-06-09 23:02:39.437 -03:00 [DBG] Start token request.
2019-06-09 23:02:39.437 -03:00 [DBG] Start client validation
2019-06-09 23:02:39.437 -03:00 [DBG] Start parsing Basic Authentication secret
2019-06-09 23:02:39.437 -03:00 [DBG] Start parsing for secret in post body
2019-06-09 23:02:39.438 -03:00 [DBG] Parser found secret: PostBodySecretParser
2019-06-09 23:02:39.438 -03:00 [DBG] Secret id found: ro.client
2019-06-09 23:02:39.447 -03:00 [DBG] ro.client found in database: true
2019-06-09 23:02:39.448 -03:00 [DBG] client configuration validation for client ro.client succeeded.
2019-06-09 23:02:39.448 -03:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-06-09 23:02:39.448 -03:00 [DBG] Client validation success
2019-06-09 23:02:39.448 -03:00 [INF] {"ClientId":"ro.client","AuthenticationMethod":"SharedSecret","Category":"Authentication","Name":"Client Authentication Success","EventType":"Success","Id":1010,"Message":null,"ActivityId":"0HLND63T1LU32:00000005","TimeStamp":"2019-06-10T02:02:39.0000000Z","ProcessId":26336,"LocalIpAddress":"127.0.0.1:30253","RemoteIpAddress":"::1","$type":"ClientAuthenticationSuccessEvent"}
2019-06-09 23:02:39.448 -03:00 [DBG] Start token request validation
2019-06-09 23:02:39.448 -03:00 [DBG] Start resource owner password token request validation
2019-06-09 23:02:39.452 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 23:02:39.460 -03:00 [DBG] Found ["api1"] API scopes in database
2019-06-09 23:02:39.465 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 23:02:39.474 -03:00 [DBG] Found ["api1"] API scopes in database
2019-06-09 23:02:39.495 -03:00 [INF] Credentials validated for username: alice
2019-06-09 23:02:39.495 -03:00 [INF] {"Username":"alice","Provider":null,"ProviderUserId":null,"SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","DisplayName":"alice","Endpoint":"Token","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HLND63T1LU32:00000005","TimeStamp":"2019-06-10T02:02:39.0000000Z","ProcessId":26336,"LocalIpAddress":"127.0.0.1:30253","RemoteIpAddress":"::1","$type":"UserLoginSuccessEvent"}
2019-06-09 23:02:39.495 -03:00 [INF] {"Username":"alice","Provider":null,"ProviderUserId":null,"SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","DisplayName":null,"Endpoint":"Token","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HLND63T1LU32:00000005","TimeStamp":"2019-06-10T02:02:39.0000000Z","ProcessId":26336,"LocalIpAddress":"127.0.0.1:30253","RemoteIpAddress":"::1","$type":"UserLoginSuccessEvent"}
2019-06-09 23:02:39.495 -03:00 [DBG] Resource owner password token request validation success.
2019-06-09 23:02:39.495 -03:00 [INF] Token request validation success
{"ClientId":"ro.client","ClientName":null,"GrantType":"password","Scopes":"api1 openid profile","AuthorizationCode":null,"RefreshToken":null,"UserName":"alice","AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"grant_type":"password","client_id":"ro.client","client_secret":"***REDACTED***","scope":"openid profile api1","username":"alice","password":"***REDACTED***"},"$type":"TokenRequestValidationLog"}
2019-06-09 23:02:39.496 -03:00 [DBG] Getting claims for access token for client: ro.client
2019-06-09 23:02:39.496 -03:00 [DBG] Getting claims for access token for subject: 4ba1c3a0-b786-421d-b88a-740f38d9cafa
2019-06-09 23:02:39.511 -03:00 [INF] {"ClientId":"ro.client","ClientName":null,"RedirectUri":null,"Endpoint":"Token","SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","Scopes":"openid profile api1","GrantType":"password","Tokens":[{"TokenType":"access_token","TokenValue":"****L3Rw","$type":"Token"}],"Category":"Token","Name":"Token Issued Success","EventType":"Success","Id":2000,"Message":null,"ActivityId":"0HLND63T1LU32:00000005","TimeStamp":"2019-06-10T02:02:39.0000000Z","ProcessId":26336,"LocalIpAddress":"127.0.0.1:30253","RemoteIpAddress":"::1","$type":"TokenIssuedSuccessEvent"}
2019-06-09 23:02:39.511 -03:00 [DBG] Token request success.
2019-06-09 23:02:39.562 -03:00 [DBG] CORS request made for path: /connect/userinfo from origin: http://localhost:3000
2019-06-09 23:02:39.565 -03:00 [DBG] Origin http://localhost:3000 is allowed: false
2019-06-09 23:02:39.565 -03:00 [WRN] CorsPolicyService did not allow origin: http://localhost:3000
2019-06-09 23:02:39.565 -03:00 [DBG] Request path /connect/userinfo matched to endpoint type Userinfo
2019-06-09 23:02:39.566 -03:00 [DBG] Endpoint enabled: Userinfo, successfully created handler: IdentityServer4.Endpoints.UserInfoEndpoint
2019-06-09 23:02:39.566 -03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.UserInfoEndpoint for /connect/userinfo
2019-06-09 23:02:39.566 -03:00 [DBG] Start userinfo request
2019-06-09 23:02:39.566 -03:00 [DBG] Bearer token found in header
2019-06-09 23:02:39.579 -03:00 [DBG] ro.client found in database: true
2019-06-09 23:02:39.579 -03:00 [DBG] client configuration validation for client ro.client succeeded.
2019-06-09 23:02:39.587 -03:00 [DBG] ro.client found in database: true
2019-06-09 23:02:39.587 -03:00 [DBG] client configuration validation for client ro.client succeeded.
2019-06-09 23:02:39.594 -03:00 [DBG] Calling into custom token validator: IdentityServer4.Validation.DefaultCustomTokenValidator
2019-06-09 23:02:39.594 -03:00 [DBG] Token validation success
{"ClientId":null,"ClientName":null,"ValidateLifetime":true,"AccessTokenType":"Jwt","ExpectedScope":"openid","TokenHandle":null,"JwtId":null,"Claims":{"nbf":1560132159,"exp":1560135759,"iss":"http://localhost:5000","aud":["http://localhost:5000/resources","api1"],"client_id":"ro.client","sub":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","auth_time":1560132159,"idp":"local","scope":["openid","profile","api1"],"amr":"pwd"},"$type":"TokenValidationLog"}
2019-06-09 23:02:39.594 -03:00 [DBG] Creating userinfo response
2019-06-09 23:02:39.594 -03:00 [DBG] Scopes in access token: openid profile api1
2019-06-09 23:02:39.594 -03:00 [DBG] Scopes in access token: openid profile api1
2019-06-09 23:02:39.598 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 23:02:39.598 -03:00 [DBG] Requested claim types: sub name family_name given_name middle_name nickname preferred_username profile picture website gender birthdate zoneinfo locale updated_at
2019-06-09 23:02:39.598 -03:00 [DBG] Scopes in access token: openid profile api1
2019-06-09 23:02:39.601 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 23:02:39.608 -03:00 [INF] Profile service returned the following claim types: sub name given_name family_name website preferred_username
2019-06-09 23:02:39.608 -03:00 [DBG] End userinfo request
2019-06-09 23:03:14.875 -03:00 [DBG] CORS request made for path: /connect/token from origin: http://localhost:3000
2019-06-09 23:03:14.896 -03:00 [DBG] Origin http://localhost:3000 is allowed: false
2019-06-09 23:03:14.896 -03:00 [WRN] CorsPolicyService did not allow origin: http://localhost:3000
2019-06-09 23:03:14.897 -03:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-06-09 23:03:14.897 -03:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-06-09 23:03:14.897 -03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-06-09 23:03:14.897 -03:00 [DBG] Start token request.
2019-06-09 23:03:14.897 -03:00 [DBG] Start client validation
2019-06-09 23:03:14.897 -03:00 [DBG] Start parsing Basic Authentication secret
2019-06-09 23:03:14.897 -03:00 [DBG] Start parsing for secret in post body
2019-06-09 23:03:14.906 -03:00 [DBG] Parser found secret: PostBodySecretParser
2019-06-09 23:03:14.906 -03:00 [DBG] Secret id found: ro.client
2019-06-09 23:03:14.952 -03:00 [DBG] ro.client found in database: true
2019-06-09 23:03:14.952 -03:00 [DBG] client configuration validation for client ro.client succeeded.
2019-06-09 23:03:14.952 -03:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-06-09 23:03:14.952 -03:00 [DBG] Client validation success
2019-06-09 23:03:14.952 -03:00 [INF] {"ClientId":"ro.client","AuthenticationMethod":"SharedSecret","Category":"Authentication","Name":"Client Authentication Success","EventType":"Success","Id":1010,"Message":null,"ActivityId":"0HLND63T1LU32:00000008","TimeStamp":"2019-06-10T02:03:14.0000000Z","ProcessId":26336,"LocalIpAddress":"127.0.0.1:30253","RemoteIpAddress":"::1","$type":"ClientAuthenticationSuccessEvent"}
2019-06-09 23:03:14.953 -03:00 [DBG] Start token request validation
2019-06-09 23:03:14.953 -03:00 [DBG] Start resource owner password token request validation
2019-06-09 23:03:14.956 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 23:03:14.967 -03:00 [DBG] Found ["api1"] API scopes in database
2019-06-09 23:03:14.973 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 23:03:14.979 -03:00 [DBG] Found ["api1"] API scopes in database
2019-06-09 23:03:14.980 -03:00 [ERR] Username or password missing, request details: []
2019-06-09 23:03:14.980 -03:00 [INF] {"ClientId":"ro.client","ClientName":null,"RedirectUri":null,"Endpoint":"Token","SubjectId":null,"Scopes":"api1 openid profile","GrantType":"password","Error":"invalid_grant","ErrorDescription":null,"Category":"Token","Name":"Token Issued Failure","EventType":"Failure","Id":2001,"Message":null,"ActivityId":"0HLND63T1LU32:00000008","TimeStamp":"2019-06-10T02:03:14.0000000Z","ProcessId":26336,"LocalIpAddress":"127.0.0.1:30253","RemoteIpAddress":"::1","$type":"TokenIssuedFailureEvent"}
2019-06-09 23:03:30.560 -03:00 [DBG] CORS request made for path: /connect/token from origin: http://localhost:3000
2019-06-09 23:03:30.567 -03:00 [DBG] Origin http://localhost:3000 is allowed: false
2019-06-09 23:03:30.567 -03:00 [WRN] CorsPolicyService did not allow origin: http://localhost:3000
2019-06-09 23:03:30.568 -03:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-06-09 23:03:30.568 -03:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-06-09 23:03:30.568 -03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-06-09 23:03:30.568 -03:00 [DBG] Start token request.
2019-06-09 23:03:30.568 -03:00 [DBG] Start client validation
2019-06-09 23:03:30.568 -03:00 [DBG] Start parsing Basic Authentication secret
2019-06-09 23:03:30.568 -03:00 [DBG] Start parsing for secret in post body
2019-06-09 23:03:30.569 -03:00 [DBG] Parser found secret: PostBodySecretParser
2019-06-09 23:03:30.569 -03:00 [DBG] Secret id found: ro.client
2019-06-09 23:03:30.630 -03:00 [DBG] ro.client found in database: true
2019-06-09 23:03:30.630 -03:00 [DBG] client configuration validation for client ro.client succeeded.
2019-06-09 23:03:30.631 -03:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-06-09 23:03:30.631 -03:00 [DBG] Client validation success
2019-06-09 23:03:30.631 -03:00 [INF] {"ClientId":"ro.client","AuthenticationMethod":"SharedSecret","Category":"Authentication","Name":"Client Authentication Success","EventType":"Success","Id":1010,"Message":null,"ActivityId":"0HLND63T1LU32:00000009","TimeStamp":"2019-06-10T02:03:30.0000000Z","ProcessId":26336,"LocalIpAddress":"127.0.0.1:30253","RemoteIpAddress":"::1","$type":"ClientAuthenticationSuccessEvent"}
2019-06-09 23:03:30.631 -03:00 [DBG] Start token request validation
2019-06-09 23:03:30.631 -03:00 [DBG] Start resource owner password token request validation
2019-06-09 23:03:30.648 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 23:03:30.810 -03:00 [DBG] Found ["api1"] API scopes in database
2019-06-09 23:03:30.821 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 23:03:30.983 -03:00 [DBG] Found ["api1"] API scopes in database
2019-06-09 23:03:31.007 -03:00 [INF] Credentials validated for username: alice
2019-06-09 23:03:31.007 -03:00 [INF] {"Username":"alice","Provider":null,"ProviderUserId":null,"SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","DisplayName":"alice","Endpoint":"Token","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HLND63T1LU32:00000009","TimeStamp":"2019-06-10T02:03:31.0000000Z","ProcessId":26336,"LocalIpAddress":"127.0.0.1:30253","RemoteIpAddress":"::1","$type":"UserLoginSuccessEvent"}
2019-06-09 23:03:31.008 -03:00 [INF] {"Username":"alice","Provider":null,"ProviderUserId":null,"SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","DisplayName":null,"Endpoint":"Token","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HLND63T1LU32:00000009","TimeStamp":"2019-06-10T02:03:31.0000000Z","ProcessId":26336,"LocalIpAddress":"127.0.0.1:30253","RemoteIpAddress":"::1","$type":"UserLoginSuccessEvent"}
2019-06-09 23:03:31.008 -03:00 [DBG] Resource owner password token request validation success.
2019-06-09 23:03:31.008 -03:00 [INF] Token request validation success
{"ClientId":"ro.client","ClientName":null,"GrantType":"password","Scopes":"api1 openid profile","AuthorizationCode":null,"RefreshToken":null,"UserName":"alice","AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"grant_type":"password","client_id":"ro.client","client_secret":"***REDACTED***","scope":"openid profile api1","username":"alice","password":"***REDACTED***"},"$type":"TokenRequestValidationLog"}
2019-06-09 23:03:31.009 -03:00 [DBG] Getting claims for access token for client: ro.client
2019-06-09 23:03:31.009 -03:00 [DBG] Getting claims for access token for subject: 4ba1c3a0-b786-421d-b88a-740f38d9cafa
2019-06-09 23:03:31.023 -03:00 [INF] {"ClientId":"ro.client","ClientName":null,"RedirectUri":null,"Endpoint":"Token","SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","Scopes":"openid profile api1","GrantType":"password","Tokens":[{"TokenType":"access_token","TokenValue":"****2YnA","$type":"Token"}],"Category":"Token","Name":"Token Issued Success","EventType":"Success","Id":2000,"Message":null,"ActivityId":"0HLND63T1LU32:00000009","TimeStamp":"2019-06-10T02:03:31.0000000Z","ProcessId":26336,"LocalIpAddress":"127.0.0.1:30253","RemoteIpAddress":"::1","$type":"TokenIssuedSuccessEvent"}
2019-06-09 23:03:31.023 -03:00 [DBG] Token request success.
2019-06-09 23:03:31.078 -03:00 [DBG] CORS request made for path: /connect/userinfo from origin: http://localhost:3000
2019-06-09 23:03:31.084 -03:00 [DBG] Origin http://localhost:3000 is allowed: false
2019-06-09 23:03:31.084 -03:00 [WRN] CorsPolicyService did not allow origin: http://localhost:3000
2019-06-09 23:03:31.084 -03:00 [DBG] Request path /connect/userinfo matched to endpoint type Userinfo
2019-06-09 23:03:31.085 -03:00 [DBG] Endpoint enabled: Userinfo, successfully created handler: IdentityServer4.Endpoints.UserInfoEndpoint
2019-06-09 23:03:31.085 -03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.UserInfoEndpoint for /connect/userinfo
2019-06-09 23:03:31.085 -03:00 [DBG] Start userinfo request
2019-06-09 23:03:31.085 -03:00 [DBG] Bearer token found in header
2019-06-09 23:03:31.143 -03:00 [DBG] ro.client found in database: true
2019-06-09 23:03:31.143 -03:00 [DBG] client configuration validation for client ro.client succeeded.
2019-06-09 23:03:31.187 -03:00 [DBG] ro.client found in database: true
2019-06-09 23:03:31.187 -03:00 [DBG] client configuration validation for client ro.client succeeded.
2019-06-09 23:03:31.197 -03:00 [DBG] Calling into custom token validator: IdentityServer4.Validation.DefaultCustomTokenValidator
2019-06-09 23:03:31.197 -03:00 [DBG] Token validation success
{"ClientId":null,"ClientName":null,"ValidateLifetime":true,"AccessTokenType":"Jwt","ExpectedScope":"openid","TokenHandle":null,"JwtId":null,"Claims":{"nbf":1560132211,"exp":1560135811,"iss":"http://localhost:5000","aud":["http://localhost:5000/resources","api1"],"client_id":"ro.client","sub":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","auth_time":1560132211,"idp":"local","scope":["openid","profile","api1"],"amr":"pwd"},"$type":"TokenValidationLog"}
2019-06-09 23:03:31.198 -03:00 [DBG] Creating userinfo response
2019-06-09 23:03:31.198 -03:00 [DBG] Scopes in access token: openid profile api1
2019-06-09 23:03:31.198 -03:00 [DBG] Scopes in access token: openid profile api1
2019-06-09 23:03:31.218 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 23:03:31.218 -03:00 [DBG] Requested claim types: sub name family_name given_name middle_name nickname preferred_username profile picture website gender birthdate zoneinfo locale updated_at
2019-06-09 23:03:31.219 -03:00 [DBG] Scopes in access token: openid profile api1
2019-06-09 23:03:31.234 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 23:03:31.252 -03:00 [INF] Profile service returned the following claim types: sub name given_name family_name website preferred_username
2019-06-09 23:03:31.252 -03:00 [DBG] End userinfo request
2019-06-09 23:06:04.952 -03:00 [DBG] CORS request made for path: /connect/token from origin: http://localhost:3000
2019-06-09 23:06:04.959 -03:00 [DBG] Origin http://localhost:3000 is allowed: false
2019-06-09 23:06:04.959 -03:00 [WRN] CorsPolicyService did not allow origin: http://localhost:3000
2019-06-09 23:06:04.959 -03:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-06-09 23:06:04.960 -03:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-06-09 23:06:04.960 -03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-06-09 23:06:04.960 -03:00 [DBG] Start token request.
2019-06-09 23:06:04.960 -03:00 [DBG] Start client validation
2019-06-09 23:06:04.960 -03:00 [DBG] Start parsing Basic Authentication secret
2019-06-09 23:06:04.960 -03:00 [DBG] Start parsing for secret in post body
2019-06-09 23:06:04.961 -03:00 [DBG] Parser found secret: PostBodySecretParser
2019-06-09 23:06:04.961 -03:00 [DBG] Secret id found: ro.client
2019-06-09 23:06:05.013 -03:00 [DBG] ro.client found in database: true
2019-06-09 23:06:05.013 -03:00 [DBG] client configuration validation for client ro.client succeeded.
2019-06-09 23:06:05.013 -03:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-06-09 23:06:05.013 -03:00 [DBG] Client validation success
2019-06-09 23:06:05.014 -03:00 [INF] {"ClientId":"ro.client","AuthenticationMethod":"SharedSecret","Category":"Authentication","Name":"Client Authentication Success","EventType":"Success","Id":1010,"Message":null,"ActivityId":"0HLND63T1LU33:00000001","TimeStamp":"2019-06-10T02:06:05.0000000Z","ProcessId":26336,"LocalIpAddress":"127.0.0.1:30253","RemoteIpAddress":"::1","$type":"ClientAuthenticationSuccessEvent"}
2019-06-09 23:06:05.014 -03:00 [DBG] Start token request validation
2019-06-09 23:06:05.014 -03:00 [DBG] Start resource owner password token request validation
2019-06-09 23:06:05.030 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 23:06:05.143 -03:00 [DBG] Found ["api1"] API scopes in database
2019-06-09 23:06:05.146 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 23:06:05.150 -03:00 [DBG] Found ["api1"] API scopes in database
2019-06-09 23:06:05.166 -03:00 [INF] Credentials validated for username: alice
2019-06-09 23:06:05.166 -03:00 [INF] {"Username":"alice","Provider":null,"ProviderUserId":null,"SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","DisplayName":"alice","Endpoint":"Token","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HLND63T1LU33:00000001","TimeStamp":"2019-06-10T02:06:05.0000000Z","ProcessId":26336,"LocalIpAddress":"127.0.0.1:30253","RemoteIpAddress":"::1","$type":"UserLoginSuccessEvent"}
2019-06-09 23:06:05.167 -03:00 [INF] {"Username":"alice","Provider":null,"ProviderUserId":null,"SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","DisplayName":null,"Endpoint":"Token","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HLND63T1LU33:00000001","TimeStamp":"2019-06-10T02:06:05.0000000Z","ProcessId":26336,"LocalIpAddress":"127.0.0.1:30253","RemoteIpAddress":"::1","$type":"UserLoginSuccessEvent"}
2019-06-09 23:06:05.167 -03:00 [DBG] Resource owner password token request validation success.
2019-06-09 23:06:05.167 -03:00 [INF] Token request validation success
{"ClientId":"ro.client","ClientName":null,"GrantType":"password","Scopes":"api1 openid profile","AuthorizationCode":null,"RefreshToken":null,"UserName":"alice","AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"grant_type":"password","client_id":"ro.client","client_secret":"***REDACTED***","scope":"openid profile api1","username":"alice","password":"***REDACTED***"},"$type":"TokenRequestValidationLog"}
2019-06-09 23:06:05.167 -03:00 [DBG] Getting claims for access token for client: ro.client
2019-06-09 23:06:05.167 -03:00 [DBG] Getting claims for access token for subject: 4ba1c3a0-b786-421d-b88a-740f38d9cafa
2019-06-09 23:06:05.182 -03:00 [INF] {"ClientId":"ro.client","ClientName":null,"RedirectUri":null,"Endpoint":"Token","SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","Scopes":"openid profile api1","GrantType":"password","Tokens":[{"TokenType":"access_token","TokenValue":"****kKiQ","$type":"Token"}],"Category":"Token","Name":"Token Issued Success","EventType":"Success","Id":2000,"Message":null,"ActivityId":"0HLND63T1LU33:00000001","TimeStamp":"2019-06-10T02:06:05.0000000Z","ProcessId":26336,"LocalIpAddress":"127.0.0.1:30253","RemoteIpAddress":"::1","$type":"TokenIssuedSuccessEvent"}
2019-06-09 23:06:05.182 -03:00 [DBG] Token request success.
2019-06-09 23:06:05.232 -03:00 [DBG] CORS request made for path: /connect/userinfo from origin: http://localhost:3000
2019-06-09 23:06:05.234 -03:00 [DBG] Origin http://localhost:3000 is allowed: false
2019-06-09 23:06:05.234 -03:00 [WRN] CorsPolicyService did not allow origin: http://localhost:3000
2019-06-09 23:06:05.235 -03:00 [DBG] Request path /connect/userinfo matched to endpoint type Userinfo
2019-06-09 23:06:05.235 -03:00 [DBG] Endpoint enabled: Userinfo, successfully created handler: IdentityServer4.Endpoints.UserInfoEndpoint
2019-06-09 23:06:05.235 -03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.UserInfoEndpoint for /connect/userinfo
2019-06-09 23:06:05.235 -03:00 [DBG] Start userinfo request
2019-06-09 23:06:05.235 -03:00 [DBG] Bearer token found in header
2019-06-09 23:06:05.250 -03:00 [DBG] ro.client found in database: true
2019-06-09 23:06:05.250 -03:00 [DBG] client configuration validation for client ro.client succeeded.
2019-06-09 23:06:05.258 -03:00 [DBG] ro.client found in database: true
2019-06-09 23:06:05.258 -03:00 [DBG] client configuration validation for client ro.client succeeded.
2019-06-09 23:06:05.263 -03:00 [DBG] Calling into custom token validator: IdentityServer4.Validation.DefaultCustomTokenValidator
2019-06-09 23:06:05.264 -03:00 [DBG] Token validation success
{"ClientId":null,"ClientName":null,"ValidateLifetime":true,"AccessTokenType":"Jwt","ExpectedScope":"openid","TokenHandle":null,"JwtId":null,"Claims":{"nbf":1560132365,"exp":1560135965,"iss":"http://localhost:5000","aud":["http://localhost:5000/resources","api1"],"client_id":"ro.client","sub":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","auth_time":1560132365,"idp":"local","scope":["openid","profile","api1"],"amr":"pwd"},"$type":"TokenValidationLog"}
2019-06-09 23:06:05.264 -03:00 [DBG] Creating userinfo response
2019-06-09 23:06:05.264 -03:00 [DBG] Scopes in access token: openid profile api1
2019-06-09 23:06:05.264 -03:00 [DBG] Scopes in access token: openid profile api1
2019-06-09 23:06:05.279 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 23:06:05.279 -03:00 [DBG] Requested claim types: sub name family_name given_name middle_name nickname preferred_username profile picture website gender birthdate zoneinfo locale updated_at
2019-06-09 23:06:05.279 -03:00 [DBG] Scopes in access token: openid profile api1
2019-06-09 23:06:05.282 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 23:06:05.288 -03:00 [INF] Profile service returned the following claim types: sub name given_name family_name website preferred_username
2019-06-09 23:06:05.288 -03:00 [DBG] End userinfo request
2019-06-09 23:07:06.714 -03:00 [DBG] CORS request made for path: /connect/token from origin: http://localhost:3000
2019-06-09 23:07:06.729 -03:00 [DBG] Origin http://localhost:3000 is allowed: false
2019-06-09 23:07:06.729 -03:00 [WRN] CorsPolicyService did not allow origin: http://localhost:3000
2019-06-09 23:07:06.729 -03:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-06-09 23:07:06.729 -03:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-06-09 23:07:06.729 -03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-06-09 23:07:06.729 -03:00 [DBG] Start token request.
2019-06-09 23:07:06.729 -03:00 [DBG] Start client validation
2019-06-09 23:07:06.729 -03:00 [DBG] Start parsing Basic Authentication secret
2019-06-09 23:07:06.729 -03:00 [DBG] Start parsing for secret in post body
2019-06-09 23:07:06.730 -03:00 [DBG] Parser found secret: PostBodySecretParser
2019-06-09 23:07:06.730 -03:00 [DBG] Secret id found: ro.client
2019-06-09 23:07:06.764 -03:00 [DBG] ro.client found in database: true
2019-06-09 23:07:06.764 -03:00 [DBG] client configuration validation for client ro.client succeeded.
2019-06-09 23:07:06.764 -03:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-06-09 23:07:06.764 -03:00 [DBG] Client validation success
2019-06-09 23:07:06.764 -03:00 [INF] {"ClientId":"ro.client","AuthenticationMethod":"SharedSecret","Category":"Authentication","Name":"Client Authentication Success","EventType":"Success","Id":1010,"Message":null,"ActivityId":"0HLND63T1LU34:00000001","TimeStamp":"2019-06-10T02:07:06.0000000Z","ProcessId":26336,"LocalIpAddress":"127.0.0.1:30253","RemoteIpAddress":"::1","$type":"ClientAuthenticationSuccessEvent"}
2019-06-09 23:07:06.764 -03:00 [DBG] Start token request validation
2019-06-09 23:07:06.764 -03:00 [DBG] Start resource owner password token request validation
2019-06-09 23:07:06.779 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 23:07:06.886 -03:00 [DBG] Found ["api1"] API scopes in database
2019-06-09 23:07:06.890 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 23:07:06.895 -03:00 [DBG] Found ["api1"] API scopes in database
2019-06-09 23:07:06.916 -03:00 [INF] Credentials validated for username: alice
2019-06-09 23:07:06.916 -03:00 [INF] {"Username":"alice","Provider":null,"ProviderUserId":null,"SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","DisplayName":"alice","Endpoint":"Token","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HLND63T1LU34:00000001","TimeStamp":"2019-06-10T02:07:06.0000000Z","ProcessId":26336,"LocalIpAddress":"127.0.0.1:30253","RemoteIpAddress":"::1","$type":"UserLoginSuccessEvent"}
2019-06-09 23:07:06.917 -03:00 [INF] {"Username":"alice","Provider":null,"ProviderUserId":null,"SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","DisplayName":null,"Endpoint":"Token","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HLND63T1LU34:00000001","TimeStamp":"2019-06-10T02:07:06.0000000Z","ProcessId":26336,"LocalIpAddress":"127.0.0.1:30253","RemoteIpAddress":"::1","$type":"UserLoginSuccessEvent"}
2019-06-09 23:07:06.917 -03:00 [DBG] Resource owner password token request validation success.
2019-06-09 23:07:06.917 -03:00 [INF] Token request validation success
{"ClientId":"ro.client","ClientName":null,"GrantType":"password","Scopes":"api1 openid profile","AuthorizationCode":null,"RefreshToken":null,"UserName":"alice","AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"grant_type":"password","client_id":"ro.client","client_secret":"***REDACTED***","scope":"openid profile api1","username":"alice","password":"***REDACTED***"},"$type":"TokenRequestValidationLog"}
2019-06-09 23:07:06.917 -03:00 [DBG] Getting claims for access token for client: ro.client
2019-06-09 23:07:06.917 -03:00 [DBG] Getting claims for access token for subject: 4ba1c3a0-b786-421d-b88a-740f38d9cafa
2019-06-09 23:07:06.933 -03:00 [INF] {"ClientId":"ro.client","ClientName":null,"RedirectUri":null,"Endpoint":"Token","SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","Scopes":"openid profile api1","GrantType":"password","Tokens":[{"TokenType":"access_token","TokenValue":"****dOVw","$type":"Token"}],"Category":"Token","Name":"Token Issued Success","EventType":"Success","Id":2000,"Message":null,"ActivityId":"0HLND63T1LU34:00000001","TimeStamp":"2019-06-10T02:07:06.0000000Z","ProcessId":26336,"LocalIpAddress":"127.0.0.1:30253","RemoteIpAddress":"::1","$type":"TokenIssuedSuccessEvent"}
2019-06-09 23:07:06.933 -03:00 [DBG] Token request success.
2019-06-09 23:07:21.233 -03:00 [DBG] CORS request made for path: /connect/token from origin: http://localhost:3000
2019-06-09 23:07:21.236 -03:00 [DBG] Origin http://localhost:3000 is allowed: false
2019-06-09 23:07:21.237 -03:00 [WRN] CorsPolicyService did not allow origin: http://localhost:3000
2019-06-09 23:07:21.237 -03:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-06-09 23:07:21.238 -03:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-06-09 23:07:21.238 -03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-06-09 23:07:21.238 -03:00 [DBG] Start token request.
2019-06-09 23:07:21.238 -03:00 [DBG] Start client validation
2019-06-09 23:07:21.238 -03:00 [DBG] Start parsing Basic Authentication secret
2019-06-09 23:07:21.238 -03:00 [DBG] Start parsing for secret in post body
2019-06-09 23:07:21.239 -03:00 [DBG] Parser found secret: PostBodySecretParser
2019-06-09 23:07:21.239 -03:00 [DBG] Secret id found: ro.client
2019-06-09 23:07:21.247 -03:00 [DBG] ro.client found in database: true
2019-06-09 23:07:21.247 -03:00 [DBG] client configuration validation for client ro.client succeeded.
2019-06-09 23:07:21.247 -03:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-06-09 23:07:21.248 -03:00 [DBG] Client validation success
2019-06-09 23:07:21.248 -03:00 [INF] {"ClientId":"ro.client","AuthenticationMethod":"SharedSecret","Category":"Authentication","Name":"Client Authentication Success","EventType":"Success","Id":1010,"Message":null,"ActivityId":"0HLND63T1LU34:00000002","TimeStamp":"2019-06-10T02:07:21.0000000Z","ProcessId":26336,"LocalIpAddress":"127.0.0.1:30253","RemoteIpAddress":"::1","$type":"ClientAuthenticationSuccessEvent"}
2019-06-09 23:07:21.248 -03:00 [DBG] Start token request validation
2019-06-09 23:07:21.248 -03:00 [DBG] Start resource owner password token request validation
2019-06-09 23:07:21.254 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 23:07:21.262 -03:00 [DBG] Found ["api1"] API scopes in database
2019-06-09 23:07:21.265 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 23:07:21.273 -03:00 [DBG] Found ["api1"] API scopes in database
2019-06-09 23:07:21.292 -03:00 [INF] Credentials validated for username: alice
2019-06-09 23:07:21.293 -03:00 [INF] {"Username":"alice","Provider":null,"ProviderUserId":null,"SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","DisplayName":"alice","Endpoint":"Token","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HLND63T1LU34:00000002","TimeStamp":"2019-06-10T02:07:21.0000000Z","ProcessId":26336,"LocalIpAddress":"127.0.0.1:30253","RemoteIpAddress":"::1","$type":"UserLoginSuccessEvent"}
2019-06-09 23:07:21.293 -03:00 [INF] {"Username":"alice","Provider":null,"ProviderUserId":null,"SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","DisplayName":null,"Endpoint":"Token","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HLND63T1LU34:00000002","TimeStamp":"2019-06-10T02:07:21.0000000Z","ProcessId":26336,"LocalIpAddress":"127.0.0.1:30253","RemoteIpAddress":"::1","$type":"UserLoginSuccessEvent"}
2019-06-09 23:07:21.293 -03:00 [DBG] Resource owner password token request validation success.
2019-06-09 23:07:21.293 -03:00 [INF] Token request validation success
{"ClientId":"ro.client","ClientName":null,"GrantType":"password","Scopes":"api1 openid profile","AuthorizationCode":null,"RefreshToken":null,"UserName":"alice","AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"grant_type":"password","client_id":"ro.client","client_secret":"***REDACTED***","scope":"openid profile api1","username":"alice","password":"***REDACTED***"},"$type":"TokenRequestValidationLog"}
2019-06-09 23:07:21.293 -03:00 [DBG] Getting claims for access token for client: ro.client
2019-06-09 23:07:21.293 -03:00 [DBG] Getting claims for access token for subject: 4ba1c3a0-b786-421d-b88a-740f38d9cafa
2019-06-09 23:07:21.307 -03:00 [INF] {"ClientId":"ro.client","ClientName":null,"RedirectUri":null,"Endpoint":"Token","SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","Scopes":"openid profile api1","GrantType":"password","Tokens":[{"TokenType":"access_token","TokenValue":"****W6UQ","$type":"Token"}],"Category":"Token","Name":"Token Issued Success","EventType":"Success","Id":2000,"Message":null,"ActivityId":"0HLND63T1LU34:00000002","TimeStamp":"2019-06-10T02:07:21.0000000Z","ProcessId":26336,"LocalIpAddress":"127.0.0.1:30253","RemoteIpAddress":"::1","$type":"TokenIssuedSuccessEvent"}
2019-06-09 23:07:21.307 -03:00 [DBG] Token request success.
2019-06-09 23:07:28.754 -03:00 [DBG] CORS request made for path: /connect/token from origin: http://localhost:3000
2019-06-09 23:07:28.757 -03:00 [DBG] Origin http://localhost:3000 is allowed: false
2019-06-09 23:07:28.757 -03:00 [WRN] CorsPolicyService did not allow origin: http://localhost:3000
2019-06-09 23:07:28.758 -03:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-06-09 23:07:28.758 -03:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-06-09 23:07:28.758 -03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-06-09 23:07:28.758 -03:00 [DBG] Start token request.
2019-06-09 23:07:28.758 -03:00 [DBG] Start client validation
2019-06-09 23:07:28.758 -03:00 [DBG] Start parsing Basic Authentication secret
2019-06-09 23:07:28.759 -03:00 [DBG] Start parsing for secret in post body
2019-06-09 23:07:28.762 -03:00 [DBG] Parser found secret: PostBodySecretParser
2019-06-09 23:07:28.762 -03:00 [DBG] Secret id found: ro.client
2019-06-09 23:07:28.775 -03:00 [DBG] ro.client found in database: true
2019-06-09 23:07:28.776 -03:00 [DBG] client configuration validation for client ro.client succeeded.
2019-06-09 23:07:28.776 -03:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-06-09 23:07:28.776 -03:00 [DBG] Client validation success
2019-06-09 23:07:28.776 -03:00 [INF] {"ClientId":"ro.client","AuthenticationMethod":"SharedSecret","Category":"Authentication","Name":"Client Authentication Success","EventType":"Success","Id":1010,"Message":null,"ActivityId":"0HLND63T1LU34:00000003","TimeStamp":"2019-06-10T02:07:28.0000000Z","ProcessId":26336,"LocalIpAddress":"127.0.0.1:30253","RemoteIpAddress":"::1","$type":"ClientAuthenticationSuccessEvent"}
2019-06-09 23:07:28.776 -03:00 [DBG] Start token request validation
2019-06-09 23:07:28.776 -03:00 [DBG] Start resource owner password token request validation
2019-06-09 23:07:28.779 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 23:07:28.791 -03:00 [DBG] Found ["api1"] API scopes in database
2019-06-09 23:07:28.795 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 23:07:28.805 -03:00 [DBG] Found ["api1"] API scopes in database
2019-06-09 23:07:28.831 -03:00 [INF] Credentials validated for username: alice
2019-06-09 23:07:28.831 -03:00 [INF] {"Username":"alice","Provider":null,"ProviderUserId":null,"SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","DisplayName":"alice","Endpoint":"Token","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HLND63T1LU34:00000003","TimeStamp":"2019-06-10T02:07:28.0000000Z","ProcessId":26336,"LocalIpAddress":"127.0.0.1:30253","RemoteIpAddress":"::1","$type":"UserLoginSuccessEvent"}
2019-06-09 23:07:28.831 -03:00 [INF] {"Username":"alice","Provider":null,"ProviderUserId":null,"SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","DisplayName":null,"Endpoint":"Token","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HLND63T1LU34:00000003","TimeStamp":"2019-06-10T02:07:28.0000000Z","ProcessId":26336,"LocalIpAddress":"127.0.0.1:30253","RemoteIpAddress":"::1","$type":"UserLoginSuccessEvent"}
2019-06-09 23:07:28.831 -03:00 [DBG] Resource owner password token request validation success.
2019-06-09 23:07:28.832 -03:00 [INF] Token request validation success
{"ClientId":"ro.client","ClientName":null,"GrantType":"password","Scopes":"api1 openid profile","AuthorizationCode":null,"RefreshToken":null,"UserName":"alice","AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"grant_type":"password","client_id":"ro.client","client_secret":"***REDACTED***","scope":"openid profile api1","username":"alice","password":"***REDACTED***"},"$type":"TokenRequestValidationLog"}
2019-06-09 23:07:28.832 -03:00 [DBG] Getting claims for access token for client: ro.client
2019-06-09 23:07:28.833 -03:00 [DBG] Getting claims for access token for subject: 4ba1c3a0-b786-421d-b88a-740f38d9cafa
2019-06-09 23:07:28.847 -03:00 [INF] {"ClientId":"ro.client","ClientName":null,"RedirectUri":null,"Endpoint":"Token","SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","Scopes":"openid profile api1","GrantType":"password","Tokens":[{"TokenType":"access_token","TokenValue":"****JwFQ","$type":"Token"}],"Category":"Token","Name":"Token Issued Success","EventType":"Success","Id":2000,"Message":null,"ActivityId":"0HLND63T1LU34:00000003","TimeStamp":"2019-06-10T02:07:28.0000000Z","ProcessId":26336,"LocalIpAddress":"127.0.0.1:30253","RemoteIpAddress":"::1","$type":"TokenIssuedSuccessEvent"}
2019-06-09 23:07:28.847 -03:00 [DBG] Token request success.
2019-06-09 23:07:55.718 -03:00 [DBG] CORS request made for path: /connect/token from origin: http://localhost:3000
2019-06-09 23:07:55.723 -03:00 [DBG] Origin http://localhost:3000 is allowed: false
2019-06-09 23:07:55.723 -03:00 [WRN] CorsPolicyService did not allow origin: http://localhost:3000
2019-06-09 23:07:55.723 -03:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-06-09 23:07:55.723 -03:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-06-09 23:07:55.724 -03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-06-09 23:07:55.724 -03:00 [DBG] Start token request.
2019-06-09 23:07:55.724 -03:00 [DBG] Start client validation
2019-06-09 23:07:55.724 -03:00 [DBG] Start parsing Basic Authentication secret
2019-06-09 23:07:55.724 -03:00 [DBG] Start parsing for secret in post body
2019-06-09 23:07:55.725 -03:00 [DBG] Parser found secret: PostBodySecretParser
2019-06-09 23:07:55.725 -03:00 [DBG] Secret id found: ro.client
2019-06-09 23:07:55.803 -03:00 [DBG] ro.client found in database: true
2019-06-09 23:07:55.803 -03:00 [DBG] client configuration validation for client ro.client succeeded.
2019-06-09 23:07:55.804 -03:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-06-09 23:07:55.804 -03:00 [DBG] Client validation success
2019-06-09 23:07:55.804 -03:00 [INF] {"ClientId":"ro.client","AuthenticationMethod":"SharedSecret","Category":"Authentication","Name":"Client Authentication Success","EventType":"Success","Id":1010,"Message":null,"ActivityId":"0HLND63T1LU34:00000004","TimeStamp":"2019-06-10T02:07:55.0000000Z","ProcessId":26336,"LocalIpAddress":"127.0.0.1:30253","RemoteIpAddress":"::1","$type":"ClientAuthenticationSuccessEvent"}
2019-06-09 23:07:55.804 -03:00 [DBG] Start token request validation
2019-06-09 23:07:55.804 -03:00 [DBG] Start resource owner password token request validation
2019-06-09 23:07:55.819 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 23:07:55.938 -03:00 [DBG] Found ["api1"] API scopes in database
2019-06-09 23:07:55.941 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 23:07:55.947 -03:00 [DBG] Found ["api1"] API scopes in database
2019-06-09 23:07:55.966 -03:00 [INF] Credentials validated for username: alice
2019-06-09 23:07:55.966 -03:00 [INF] {"Username":"alice","Provider":null,"ProviderUserId":null,"SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","DisplayName":"alice","Endpoint":"Token","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HLND63T1LU34:00000004","TimeStamp":"2019-06-10T02:07:55.0000000Z","ProcessId":26336,"LocalIpAddress":"127.0.0.1:30253","RemoteIpAddress":"::1","$type":"UserLoginSuccessEvent"}
2019-06-09 23:07:55.966 -03:00 [INF] {"Username":"alice","Provider":null,"ProviderUserId":null,"SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","DisplayName":null,"Endpoint":"Token","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HLND63T1LU34:00000004","TimeStamp":"2019-06-10T02:07:55.0000000Z","ProcessId":26336,"LocalIpAddress":"127.0.0.1:30253","RemoteIpAddress":"::1","$type":"UserLoginSuccessEvent"}
2019-06-09 23:07:55.966 -03:00 [DBG] Resource owner password token request validation success.
2019-06-09 23:07:55.967 -03:00 [INF] Token request validation success
{"ClientId":"ro.client","ClientName":null,"GrantType":"password","Scopes":"api1 openid profile","AuthorizationCode":null,"RefreshToken":null,"UserName":"alice","AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"grant_type":"password","client_id":"ro.client","client_secret":"***REDACTED***","scope":"openid profile api1","username":"alice","password":"***REDACTED***"},"$type":"TokenRequestValidationLog"}
2019-06-09 23:07:55.967 -03:00 [DBG] Getting claims for access token for client: ro.client
2019-06-09 23:07:55.967 -03:00 [DBG] Getting claims for access token for subject: 4ba1c3a0-b786-421d-b88a-740f38d9cafa
2019-06-09 23:07:55.982 -03:00 [INF] {"ClientId":"ro.client","ClientName":null,"RedirectUri":null,"Endpoint":"Token","SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","Scopes":"openid profile api1","GrantType":"password","Tokens":[{"TokenType":"access_token","TokenValue":"****P4ig","$type":"Token"}],"Category":"Token","Name":"Token Issued Success","EventType":"Success","Id":2000,"Message":null,"ActivityId":"0HLND63T1LU34:00000004","TimeStamp":"2019-06-10T02:07:55.0000000Z","ProcessId":26336,"LocalIpAddress":"127.0.0.1:30253","RemoteIpAddress":"::1","$type":"TokenIssuedSuccessEvent"}
2019-06-09 23:07:55.982 -03:00 [DBG] Token request success.
2019-06-09 23:08:07.957 -03:00 [DBG] CORS request made for path: /connect/token from origin: http://localhost:3000
2019-06-09 23:08:07.960 -03:00 [DBG] Origin http://localhost:3000 is allowed: false
2019-06-09 23:08:07.961 -03:00 [WRN] CorsPolicyService did not allow origin: http://localhost:3000
2019-06-09 23:08:07.961 -03:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-06-09 23:08:07.963 -03:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-06-09 23:08:07.963 -03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-06-09 23:08:07.963 -03:00 [DBG] Start token request.
2019-06-09 23:08:07.963 -03:00 [DBG] Start client validation
2019-06-09 23:08:07.963 -03:00 [DBG] Start parsing Basic Authentication secret
2019-06-09 23:08:07.963 -03:00 [DBG] Start parsing for secret in post body
2019-06-09 23:08:07.964 -03:00 [DBG] Parser found secret: PostBodySecretParser
2019-06-09 23:08:07.964 -03:00 [DBG] Secret id found: ro.client
2019-06-09 23:08:07.972 -03:00 [DBG] ro.client found in database: true
2019-06-09 23:08:07.972 -03:00 [DBG] client configuration validation for client ro.client succeeded.
2019-06-09 23:08:07.972 -03:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-06-09 23:08:07.972 -03:00 [DBG] Client validation success
2019-06-09 23:08:07.972 -03:00 [INF] {"ClientId":"ro.client","AuthenticationMethod":"SharedSecret","Category":"Authentication","Name":"Client Authentication Success","EventType":"Success","Id":1010,"Message":null,"ActivityId":"0HLND63T1LU34:00000005","TimeStamp":"2019-06-10T02:08:07.0000000Z","ProcessId":26336,"LocalIpAddress":"127.0.0.1:30253","RemoteIpAddress":"::1","$type":"ClientAuthenticationSuccessEvent"}
2019-06-09 23:08:07.973 -03:00 [DBG] Start token request validation
2019-06-09 23:08:07.973 -03:00 [DBG] Start resource owner password token request validation
2019-06-09 23:08:07.976 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 23:08:07.983 -03:00 [DBG] Found ["api1"] API scopes in database
2019-06-09 23:08:07.985 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 23:08:07.993 -03:00 [DBG] Found ["api1"] API scopes in database
2019-06-09 23:08:08.012 -03:00 [INF] Credentials validated for username: alice
2019-06-09 23:08:08.013 -03:00 [INF] {"Username":"alice","Provider":null,"ProviderUserId":null,"SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","DisplayName":"alice","Endpoint":"Token","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HLND63T1LU34:00000005","TimeStamp":"2019-06-10T02:08:08.0000000Z","ProcessId":26336,"LocalIpAddress":"127.0.0.1:30253","RemoteIpAddress":"::1","$type":"UserLoginSuccessEvent"}
2019-06-09 23:08:08.013 -03:00 [INF] {"Username":"alice","Provider":null,"ProviderUserId":null,"SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","DisplayName":null,"Endpoint":"Token","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HLND63T1LU34:00000005","TimeStamp":"2019-06-10T02:08:08.0000000Z","ProcessId":26336,"LocalIpAddress":"127.0.0.1:30253","RemoteIpAddress":"::1","$type":"UserLoginSuccessEvent"}
2019-06-09 23:08:08.013 -03:00 [DBG] Resource owner password token request validation success.
2019-06-09 23:08:08.013 -03:00 [INF] Token request validation success
{"ClientId":"ro.client","ClientName":null,"GrantType":"password","Scopes":"api1 openid profile","AuthorizationCode":null,"RefreshToken":null,"UserName":"alice","AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"grant_type":"password","client_id":"ro.client","client_secret":"***REDACTED***","scope":"openid profile api1","username":"alice","password":"***REDACTED***"},"$type":"TokenRequestValidationLog"}
2019-06-09 23:08:08.013 -03:00 [DBG] Getting claims for access token for client: ro.client
2019-06-09 23:08:08.014 -03:00 [DBG] Getting claims for access token for subject: 4ba1c3a0-b786-421d-b88a-740f38d9cafa
2019-06-09 23:08:08.026 -03:00 [INF] {"ClientId":"ro.client","ClientName":null,"RedirectUri":null,"Endpoint":"Token","SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","Scopes":"openid profile api1","GrantType":"password","Tokens":[{"TokenType":"access_token","TokenValue":"****u-xA","$type":"Token"}],"Category":"Token","Name":"Token Issued Success","EventType":"Success","Id":2000,"Message":null,"ActivityId":"0HLND63T1LU34:00000005","TimeStamp":"2019-06-10T02:08:08.0000000Z","ProcessId":26336,"LocalIpAddress":"127.0.0.1:30253","RemoteIpAddress":"::1","$type":"TokenIssuedSuccessEvent"}
2019-06-09 23:08:08.026 -03:00 [DBG] Token request success.
2019-06-09 23:08:23.827 -03:00 [DBG] CORS request made for path: /connect/token from origin: http://localhost:3000
2019-06-09 23:08:23.830 -03:00 [DBG] Origin http://localhost:3000 is allowed: false
2019-06-09 23:08:23.830 -03:00 [WRN] CorsPolicyService did not allow origin: http://localhost:3000
2019-06-09 23:08:23.830 -03:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-06-09 23:08:23.831 -03:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-06-09 23:08:23.831 -03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-06-09 23:08:23.831 -03:00 [DBG] Start token request.
2019-06-09 23:08:23.831 -03:00 [DBG] Start client validation
2019-06-09 23:08:23.832 -03:00 [DBG] Start parsing Basic Authentication secret
2019-06-09 23:08:23.832 -03:00 [DBG] Start parsing for secret in post body
2019-06-09 23:08:23.833 -03:00 [DBG] Parser found secret: PostBodySecretParser
2019-06-09 23:08:23.833 -03:00 [DBG] Secret id found: ro.client
2019-06-09 23:08:23.844 -03:00 [DBG] ro.client found in database: true
2019-06-09 23:08:23.844 -03:00 [DBG] client configuration validation for client ro.client succeeded.
2019-06-09 23:08:23.844 -03:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-06-09 23:08:23.844 -03:00 [DBG] Client validation success
2019-06-09 23:08:23.844 -03:00 [INF] {"ClientId":"ro.client","AuthenticationMethod":"SharedSecret","Category":"Authentication","Name":"Client Authentication Success","EventType":"Success","Id":1010,"Message":null,"ActivityId":"0HLND63T1LU34:00000006","TimeStamp":"2019-06-10T02:08:23.0000000Z","ProcessId":26336,"LocalIpAddress":"127.0.0.1:30253","RemoteIpAddress":"::1","$type":"ClientAuthenticationSuccessEvent"}
2019-06-09 23:08:23.845 -03:00 [DBG] Start token request validation
2019-06-09 23:08:23.845 -03:00 [DBG] Start resource owner password token request validation
2019-06-09 23:08:23.850 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 23:08:23.858 -03:00 [DBG] Found ["api1"] API scopes in database
2019-06-09 23:08:23.861 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 23:08:23.867 -03:00 [DBG] Found ["api1"] API scopes in database
2019-06-09 23:08:23.890 -03:00 [INF] Credentials validated for username: alice
2019-06-09 23:08:23.890 -03:00 [INF] {"Username":"alice","Provider":null,"ProviderUserId":null,"SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","DisplayName":"alice","Endpoint":"Token","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HLND63T1LU34:00000006","TimeStamp":"2019-06-10T02:08:23.0000000Z","ProcessId":26336,"LocalIpAddress":"127.0.0.1:30253","RemoteIpAddress":"::1","$type":"UserLoginSuccessEvent"}
2019-06-09 23:08:23.890 -03:00 [INF] {"Username":"alice","Provider":null,"ProviderUserId":null,"SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","DisplayName":null,"Endpoint":"Token","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HLND63T1LU34:00000006","TimeStamp":"2019-06-10T02:08:23.0000000Z","ProcessId":26336,"LocalIpAddress":"127.0.0.1:30253","RemoteIpAddress":"::1","$type":"UserLoginSuccessEvent"}
2019-06-09 23:08:23.890 -03:00 [DBG] Resource owner password token request validation success.
2019-06-09 23:08:23.891 -03:00 [INF] Token request validation success
{"ClientId":"ro.client","ClientName":null,"GrantType":"password","Scopes":"api1 openid profile","AuthorizationCode":null,"RefreshToken":null,"UserName":"alice","AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"grant_type":"password","client_id":"ro.client","client_secret":"***REDACTED***","scope":"openid profile api1","username":"alice","password":"***REDACTED***"},"$type":"TokenRequestValidationLog"}
2019-06-09 23:08:23.891 -03:00 [DBG] Getting claims for access token for client: ro.client
2019-06-09 23:08:23.891 -03:00 [DBG] Getting claims for access token for subject: 4ba1c3a0-b786-421d-b88a-740f38d9cafa
2019-06-09 23:08:23.905 -03:00 [INF] {"ClientId":"ro.client","ClientName":null,"RedirectUri":null,"Endpoint":"Token","SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","Scopes":"openid profile api1","GrantType":"password","Tokens":[{"TokenType":"access_token","TokenValue":"****rgdQ","$type":"Token"}],"Category":"Token","Name":"Token Issued Success","EventType":"Success","Id":2000,"Message":null,"ActivityId":"0HLND63T1LU34:00000006","TimeStamp":"2019-06-10T02:08:23.0000000Z","ProcessId":26336,"LocalIpAddress":"127.0.0.1:30253","RemoteIpAddress":"::1","$type":"TokenIssuedSuccessEvent"}
2019-06-09 23:08:23.906 -03:00 [DBG] Token request success.
2019-06-09 23:08:36.009 -03:00 [DBG] CORS request made for path: /connect/token from origin: http://localhost:3000
2019-06-09 23:08:36.013 -03:00 [DBG] Origin http://localhost:3000 is allowed: false
2019-06-09 23:08:36.013 -03:00 [WRN] CorsPolicyService did not allow origin: http://localhost:3000
2019-06-09 23:08:36.014 -03:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-06-09 23:08:36.014 -03:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-06-09 23:08:36.014 -03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-06-09 23:08:36.014 -03:00 [DBG] Start token request.
2019-06-09 23:08:36.014 -03:00 [DBG] Start client validation
2019-06-09 23:08:36.014 -03:00 [DBG] Start parsing Basic Authentication secret
2019-06-09 23:08:36.014 -03:00 [DBG] Start parsing for secret in post body
2019-06-09 23:08:36.015 -03:00 [DBG] Parser found secret: PostBodySecretParser
2019-06-09 23:08:36.015 -03:00 [DBG] Secret id found: ro.client
2019-06-09 23:08:36.026 -03:00 [DBG] ro.client found in database: true
2019-06-09 23:08:36.027 -03:00 [DBG] client configuration validation for client ro.client succeeded.
2019-06-09 23:08:36.027 -03:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-06-09 23:08:36.027 -03:00 [DBG] Client validation success
2019-06-09 23:08:36.027 -03:00 [INF] {"ClientId":"ro.client","AuthenticationMethod":"SharedSecret","Category":"Authentication","Name":"Client Authentication Success","EventType":"Success","Id":1010,"Message":null,"ActivityId":"0HLND63T1LU34:00000007","TimeStamp":"2019-06-10T02:08:36.0000000Z","ProcessId":26336,"LocalIpAddress":"127.0.0.1:30253","RemoteIpAddress":"::1","$type":"ClientAuthenticationSuccessEvent"}
2019-06-09 23:08:36.027 -03:00 [DBG] Start token request validation
2019-06-09 23:08:36.027 -03:00 [DBG] Start resource owner password token request validation
2019-06-09 23:08:36.030 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 23:08:36.038 -03:00 [DBG] Found ["api1"] API scopes in database
2019-06-09 23:08:36.041 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 23:08:36.046 -03:00 [DBG] Found ["api1"] API scopes in database
2019-06-09 23:08:36.073 -03:00 [INF] Credentials validated for username: alice
2019-06-09 23:08:36.073 -03:00 [INF] {"Username":"alice","Provider":null,"ProviderUserId":null,"SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","DisplayName":"alice","Endpoint":"Token","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HLND63T1LU34:00000007","TimeStamp":"2019-06-10T02:08:36.0000000Z","ProcessId":26336,"LocalIpAddress":"127.0.0.1:30253","RemoteIpAddress":"::1","$type":"UserLoginSuccessEvent"}
2019-06-09 23:08:36.074 -03:00 [INF] {"Username":"alice","Provider":null,"ProviderUserId":null,"SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","DisplayName":null,"Endpoint":"Token","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HLND63T1LU34:00000007","TimeStamp":"2019-06-10T02:08:36.0000000Z","ProcessId":26336,"LocalIpAddress":"127.0.0.1:30253","RemoteIpAddress":"::1","$type":"UserLoginSuccessEvent"}
2019-06-09 23:08:36.074 -03:00 [DBG] Resource owner password token request validation success.
2019-06-09 23:08:36.074 -03:00 [INF] Token request validation success
{"ClientId":"ro.client","ClientName":null,"GrantType":"password","Scopes":"api1 openid profile","AuthorizationCode":null,"RefreshToken":null,"UserName":"alice","AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"grant_type":"password","client_id":"ro.client","client_secret":"***REDACTED***","scope":"openid profile api1","username":"alice","password":"***REDACTED***"},"$type":"TokenRequestValidationLog"}
2019-06-09 23:08:36.074 -03:00 [DBG] Getting claims for access token for client: ro.client
2019-06-09 23:08:36.074 -03:00 [DBG] Getting claims for access token for subject: 4ba1c3a0-b786-421d-b88a-740f38d9cafa
2019-06-09 23:08:36.091 -03:00 [INF] {"ClientId":"ro.client","ClientName":null,"RedirectUri":null,"Endpoint":"Token","SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","Scopes":"openid profile api1","GrantType":"password","Tokens":[{"TokenType":"access_token","TokenValue":"****3f0w","$type":"Token"}],"Category":"Token","Name":"Token Issued Success","EventType":"Success","Id":2000,"Message":null,"ActivityId":"0HLND63T1LU34:00000007","TimeStamp":"2019-06-10T02:08:36.0000000Z","ProcessId":26336,"LocalIpAddress":"127.0.0.1:30253","RemoteIpAddress":"::1","$type":"TokenIssuedSuccessEvent"}
2019-06-09 23:08:36.091 -03:00 [DBG] Token request success.
2019-06-09 23:09:28.488 -03:00 [DBG] CORS request made for path: /connect/token from origin: http://localhost:3000
2019-06-09 23:09:28.496 -03:00 [DBG] Origin http://localhost:3000 is allowed: false
2019-06-09 23:09:28.496 -03:00 [WRN] CorsPolicyService did not allow origin: http://localhost:3000
2019-06-09 23:09:28.497 -03:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-06-09 23:09:28.497 -03:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-06-09 23:09:28.497 -03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-06-09 23:09:28.497 -03:00 [DBG] Start token request.
2019-06-09 23:09:28.497 -03:00 [DBG] Start client validation
2019-06-09 23:09:28.497 -03:00 [DBG] Start parsing Basic Authentication secret
2019-06-09 23:09:28.497 -03:00 [DBG] Start parsing for secret in post body
2019-06-09 23:09:28.498 -03:00 [DBG] Parser found secret: PostBodySecretParser
2019-06-09 23:09:28.498 -03:00 [DBG] Secret id found: ro.client
2019-06-09 23:09:28.537 -03:00 [DBG] ro.client found in database: true
2019-06-09 23:09:28.537 -03:00 [DBG] client configuration validation for client ro.client succeeded.
2019-06-09 23:09:28.537 -03:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-06-09 23:09:28.537 -03:00 [DBG] Client validation success
2019-06-09 23:09:28.537 -03:00 [INF] {"ClientId":"ro.client","AuthenticationMethod":"SharedSecret","Category":"Authentication","Name":"Client Authentication Success","EventType":"Success","Id":1010,"Message":null,"ActivityId":"0HLND63T1LU34:00000008","TimeStamp":"2019-06-10T02:09:28.0000000Z","ProcessId":26336,"LocalIpAddress":"127.0.0.1:30253","RemoteIpAddress":"::1","$type":"ClientAuthenticationSuccessEvent"}
2019-06-09 23:09:28.538 -03:00 [DBG] Start token request validation
2019-06-09 23:09:28.538 -03:00 [DBG] Start resource owner password token request validation
2019-06-09 23:09:28.553 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 23:09:28.677 -03:00 [DBG] Found ["api1"] API scopes in database
2019-06-09 23:09:28.680 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 23:09:28.684 -03:00 [DBG] Found ["api1"] API scopes in database
2019-06-09 23:09:28.703 -03:00 [INF] Credentials validated for username: alice
2019-06-09 23:09:28.703 -03:00 [INF] {"Username":"alice","Provider":null,"ProviderUserId":null,"SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","DisplayName":"alice","Endpoint":"Token","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HLND63T1LU34:00000008","TimeStamp":"2019-06-10T02:09:28.0000000Z","ProcessId":26336,"LocalIpAddress":"127.0.0.1:30253","RemoteIpAddress":"::1","$type":"UserLoginSuccessEvent"}
2019-06-09 23:09:28.704 -03:00 [INF] {"Username":"alice","Provider":null,"ProviderUserId":null,"SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","DisplayName":null,"Endpoint":"Token","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HLND63T1LU34:00000008","TimeStamp":"2019-06-10T02:09:28.0000000Z","ProcessId":26336,"LocalIpAddress":"127.0.0.1:30253","RemoteIpAddress":"::1","$type":"UserLoginSuccessEvent"}
2019-06-09 23:09:28.705 -03:00 [DBG] Resource owner password token request validation success.
2019-06-09 23:09:28.705 -03:00 [INF] Token request validation success
{"ClientId":"ro.client","ClientName":null,"GrantType":"password","Scopes":"api1 openid profile","AuthorizationCode":null,"RefreshToken":null,"UserName":"alice","AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"grant_type":"password","client_id":"ro.client","client_secret":"***REDACTED***","scope":"openid profile api1","username":"alice","password":"***REDACTED***"},"$type":"TokenRequestValidationLog"}
2019-06-09 23:09:28.705 -03:00 [DBG] Getting claims for access token for client: ro.client
2019-06-09 23:09:28.705 -03:00 [DBG] Getting claims for access token for subject: 4ba1c3a0-b786-421d-b88a-740f38d9cafa
2019-06-09 23:09:28.722 -03:00 [INF] {"ClientId":"ro.client","ClientName":null,"RedirectUri":null,"Endpoint":"Token","SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","Scopes":"openid profile api1","GrantType":"password","Tokens":[{"TokenType":"access_token","TokenValue":"****64Lg","$type":"Token"}],"Category":"Token","Name":"Token Issued Success","EventType":"Success","Id":2000,"Message":null,"ActivityId":"0HLND63T1LU34:00000008","TimeStamp":"2019-06-10T02:09:28.0000000Z","ProcessId":26336,"LocalIpAddress":"127.0.0.1:30253","RemoteIpAddress":"::1","$type":"TokenIssuedSuccessEvent"}
2019-06-09 23:09:28.722 -03:00 [DBG] Token request success.
2019-06-09 23:10:20.462 -03:00 [DBG] CORS request made for path: /connect/token from origin: http://localhost:3000
2019-06-09 23:10:20.470 -03:00 [DBG] Origin http://localhost:3000 is allowed: false
2019-06-09 23:10:20.470 -03:00 [WRN] CorsPolicyService did not allow origin: http://localhost:3000
2019-06-09 23:10:20.470 -03:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-06-09 23:10:20.471 -03:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-06-09 23:10:20.471 -03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-06-09 23:10:20.471 -03:00 [DBG] Start token request.
2019-06-09 23:10:20.471 -03:00 [DBG] Start client validation
2019-06-09 23:10:20.471 -03:00 [DBG] Start parsing Basic Authentication secret
2019-06-09 23:10:20.471 -03:00 [DBG] Start parsing for secret in post body
2019-06-09 23:10:20.472 -03:00 [DBG] Parser found secret: PostBodySecretParser
2019-06-09 23:10:20.472 -03:00 [DBG] Secret id found: ro.client
2019-06-09 23:10:20.520 -03:00 [DBG] ro.client found in database: true
2019-06-09 23:10:20.521 -03:00 [DBG] client configuration validation for client ro.client succeeded.
2019-06-09 23:10:20.521 -03:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-06-09 23:10:20.521 -03:00 [DBG] Client validation success
2019-06-09 23:10:20.521 -03:00 [INF] {"ClientId":"ro.client","AuthenticationMethod":"SharedSecret","Category":"Authentication","Name":"Client Authentication Success","EventType":"Success","Id":1010,"Message":null,"ActivityId":"0HLND63T1LU34:00000009","TimeStamp":"2019-06-10T02:10:20.0000000Z","ProcessId":26336,"LocalIpAddress":"127.0.0.1:30253","RemoteIpAddress":"::1","$type":"ClientAuthenticationSuccessEvent"}
2019-06-09 23:10:20.521 -03:00 [DBG] Start token request validation
2019-06-09 23:10:20.521 -03:00 [DBG] Start resource owner password token request validation
2019-06-09 23:10:20.538 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 23:10:20.682 -03:00 [DBG] Found ["api1"] API scopes in database
2019-06-09 23:10:20.685 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 23:10:20.689 -03:00 [DBG] Found ["api1"] API scopes in database
2019-06-09 23:10:20.707 -03:00 [INF] Credentials validated for username: alice
2019-06-09 23:10:20.707 -03:00 [INF] {"Username":"alice","Provider":null,"ProviderUserId":null,"SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","DisplayName":"alice","Endpoint":"Token","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HLND63T1LU34:00000009","TimeStamp":"2019-06-10T02:10:20.0000000Z","ProcessId":26336,"LocalIpAddress":"127.0.0.1:30253","RemoteIpAddress":"::1","$type":"UserLoginSuccessEvent"}
2019-06-09 23:10:20.708 -03:00 [INF] {"Username":"alice","Provider":null,"ProviderUserId":null,"SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","DisplayName":null,"Endpoint":"Token","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HLND63T1LU34:00000009","TimeStamp":"2019-06-10T02:10:20.0000000Z","ProcessId":26336,"LocalIpAddress":"127.0.0.1:30253","RemoteIpAddress":"::1","$type":"UserLoginSuccessEvent"}
2019-06-09 23:10:20.708 -03:00 [DBG] Resource owner password token request validation success.
2019-06-09 23:10:20.708 -03:00 [INF] Token request validation success
{"ClientId":"ro.client","ClientName":null,"GrantType":"password","Scopes":"api1 openid profile","AuthorizationCode":null,"RefreshToken":null,"UserName":"alice","AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"grant_type":"password","client_id":"ro.client","client_secret":"***REDACTED***","scope":"openid profile api1","username":"alice","password":"***REDACTED***"},"$type":"TokenRequestValidationLog"}
2019-06-09 23:10:20.708 -03:00 [DBG] Getting claims for access token for client: ro.client
2019-06-09 23:10:20.708 -03:00 [DBG] Getting claims for access token for subject: 4ba1c3a0-b786-421d-b88a-740f38d9cafa
2019-06-09 23:10:20.722 -03:00 [INF] {"ClientId":"ro.client","ClientName":null,"RedirectUri":null,"Endpoint":"Token","SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","Scopes":"openid profile api1","GrantType":"password","Tokens":[{"TokenType":"access_token","TokenValue":"****i-xA","$type":"Token"}],"Category":"Token","Name":"Token Issued Success","EventType":"Success","Id":2000,"Message":null,"ActivityId":"0HLND63T1LU34:00000009","TimeStamp":"2019-06-10T02:10:20.0000000Z","ProcessId":26336,"LocalIpAddress":"127.0.0.1:30253","RemoteIpAddress":"::1","$type":"TokenIssuedSuccessEvent"}
2019-06-09 23:10:20.722 -03:00 [DBG] Token request success.
2019-06-09 23:10:20.798 -03:00 [DBG] CORS request made for path: /connect/userinfo from origin: http://localhost:3000
2019-06-09 23:10:20.800 -03:00 [DBG] Origin http://localhost:3000 is allowed: false
2019-06-09 23:10:20.800 -03:00 [WRN] CorsPolicyService did not allow origin: http://localhost:3000
2019-06-09 23:10:20.801 -03:00 [DBG] Request path /connect/userinfo matched to endpoint type Userinfo
2019-06-09 23:10:20.801 -03:00 [DBG] Endpoint enabled: Userinfo, successfully created handler: IdentityServer4.Endpoints.UserInfoEndpoint
2019-06-09 23:10:20.801 -03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.UserInfoEndpoint for /connect/userinfo
2019-06-09 23:10:20.801 -03:00 [DBG] Start userinfo request
2019-06-09 23:10:20.801 -03:00 [DBG] Bearer token found in header
2019-06-09 23:10:20.814 -03:00 [DBG] ro.client found in database: true
2019-06-09 23:10:20.814 -03:00 [DBG] client configuration validation for client ro.client succeeded.
2019-06-09 23:10:20.821 -03:00 [DBG] ro.client found in database: true
2019-06-09 23:10:20.821 -03:00 [DBG] client configuration validation for client ro.client succeeded.
2019-06-09 23:10:20.836 -03:00 [DBG] Calling into custom token validator: IdentityServer4.Validation.DefaultCustomTokenValidator
2019-06-09 23:10:20.836 -03:00 [DBG] Token validation success
{"ClientId":null,"ClientName":null,"ValidateLifetime":true,"AccessTokenType":"Jwt","ExpectedScope":"openid","TokenHandle":null,"JwtId":null,"Claims":{"nbf":1560132620,"exp":1560136220,"iss":"http://localhost:5000","aud":["http://localhost:5000/resources","api1"],"client_id":"ro.client","sub":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","auth_time":1560132620,"idp":"local","scope":["openid","profile","api1"],"amr":"pwd"},"$type":"TokenValidationLog"}
2019-06-09 23:10:20.837 -03:00 [DBG] Creating userinfo response
2019-06-09 23:10:20.837 -03:00 [DBG] Scopes in access token: openid profile api1
2019-06-09 23:10:20.837 -03:00 [DBG] Scopes in access token: openid profile api1
2019-06-09 23:10:20.849 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 23:10:20.849 -03:00 [DBG] Requested claim types: sub name family_name given_name middle_name nickname preferred_username profile picture website gender birthdate zoneinfo locale updated_at
2019-06-09 23:10:20.849 -03:00 [DBG] Scopes in access token: openid profile api1
2019-06-09 23:10:20.852 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 23:10:20.868 -03:00 [INF] Profile service returned the following claim types: sub name given_name family_name website preferred_username
2019-06-09 23:10:20.869 -03:00 [DBG] End userinfo request
2019-06-09 23:10:30.334 -03:00 [DBG] CORS request made for path: /connect/token from origin: http://localhost:3000
2019-06-09 23:10:30.345 -03:00 [DBG] Origin http://localhost:3000 is allowed: false
2019-06-09 23:10:30.346 -03:00 [WRN] CorsPolicyService did not allow origin: http://localhost:3000
2019-06-09 23:10:30.346 -03:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-06-09 23:10:30.347 -03:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-06-09 23:10:30.347 -03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-06-09 23:10:30.347 -03:00 [DBG] Start token request.
2019-06-09 23:10:30.347 -03:00 [DBG] Start client validation
2019-06-09 23:10:30.347 -03:00 [DBG] Start parsing Basic Authentication secret
2019-06-09 23:10:30.347 -03:00 [DBG] Start parsing for secret in post body
2019-06-09 23:10:30.347 -03:00 [DBG] Parser found secret: PostBodySecretParser
2019-06-09 23:10:30.347 -03:00 [DBG] Secret id found: ro.client
2019-06-09 23:10:30.358 -03:00 [DBG] ro.client found in database: true
2019-06-09 23:10:30.358 -03:00 [DBG] client configuration validation for client ro.client succeeded.
2019-06-09 23:10:30.359 -03:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-06-09 23:10:30.359 -03:00 [DBG] Client validation success
2019-06-09 23:10:30.359 -03:00 [INF] {"ClientId":"ro.client","AuthenticationMethod":"SharedSecret","Category":"Authentication","Name":"Client Authentication Success","EventType":"Success","Id":1010,"Message":null,"ActivityId":"0HLND63T1LU34:0000000C","TimeStamp":"2019-06-10T02:10:30.0000000Z","ProcessId":26336,"LocalIpAddress":"127.0.0.1:30253","RemoteIpAddress":"::1","$type":"ClientAuthenticationSuccessEvent"}
2019-06-09 23:10:30.359 -03:00 [DBG] Start token request validation
2019-06-09 23:10:30.359 -03:00 [DBG] Start resource owner password token request validation
2019-06-09 23:10:30.365 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 23:10:30.372 -03:00 [DBG] Found ["api1"] API scopes in database
2019-06-09 23:10:30.376 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 23:10:30.382 -03:00 [DBG] Found ["api1"] API scopes in database
2019-06-09 23:10:30.401 -03:00 [INF] Credentials validated for username: alice
2019-06-09 23:10:30.402 -03:00 [INF] {"Username":"alice","Provider":null,"ProviderUserId":null,"SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","DisplayName":"alice","Endpoint":"Token","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HLND63T1LU34:0000000C","TimeStamp":"2019-06-10T02:10:30.0000000Z","ProcessId":26336,"LocalIpAddress":"127.0.0.1:30253","RemoteIpAddress":"::1","$type":"UserLoginSuccessEvent"}
2019-06-09 23:10:30.402 -03:00 [INF] {"Username":"alice","Provider":null,"ProviderUserId":null,"SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","DisplayName":null,"Endpoint":"Token","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HLND63T1LU34:0000000C","TimeStamp":"2019-06-10T02:10:30.0000000Z","ProcessId":26336,"LocalIpAddress":"127.0.0.1:30253","RemoteIpAddress":"::1","$type":"UserLoginSuccessEvent"}
2019-06-09 23:10:30.402 -03:00 [DBG] Resource owner password token request validation success.
2019-06-09 23:10:30.402 -03:00 [INF] Token request validation success
{"ClientId":"ro.client","ClientName":null,"GrantType":"password","Scopes":"api1 openid profile","AuthorizationCode":null,"RefreshToken":null,"UserName":"alice","AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"grant_type":"password","client_id":"ro.client","client_secret":"***REDACTED***","scope":"openid profile api1","username":"alice","password":"***REDACTED***"},"$type":"TokenRequestValidationLog"}
2019-06-09 23:10:30.403 -03:00 [DBG] Getting claims for access token for client: ro.client
2019-06-09 23:10:30.403 -03:00 [DBG] Getting claims for access token for subject: 4ba1c3a0-b786-421d-b88a-740f38d9cafa
2019-06-09 23:10:30.418 -03:00 [INF] {"ClientId":"ro.client","ClientName":null,"RedirectUri":null,"Endpoint":"Token","SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","Scopes":"openid profile api1","GrantType":"password","Tokens":[{"TokenType":"access_token","TokenValue":"****JwZA","$type":"Token"}],"Category":"Token","Name":"Token Issued Success","EventType":"Success","Id":2000,"Message":null,"ActivityId":"0HLND63T1LU34:0000000C","TimeStamp":"2019-06-10T02:10:30.0000000Z","ProcessId":26336,"LocalIpAddress":"127.0.0.1:30253","RemoteIpAddress":"::1","$type":"TokenIssuedSuccessEvent"}
2019-06-09 23:10:30.418 -03:00 [DBG] Token request success.
2019-06-09 23:10:30.462 -03:00 [DBG] CORS request made for path: /connect/userinfo from origin: http://localhost:3000
2019-06-09 23:10:30.464 -03:00 [DBG] Origin http://localhost:3000 is allowed: false
2019-06-09 23:10:30.464 -03:00 [WRN] CorsPolicyService did not allow origin: http://localhost:3000
2019-06-09 23:10:30.464 -03:00 [DBG] Request path /connect/userinfo matched to endpoint type Userinfo
2019-06-09 23:10:30.465 -03:00 [DBG] Endpoint enabled: Userinfo, successfully created handler: IdentityServer4.Endpoints.UserInfoEndpoint
2019-06-09 23:10:30.465 -03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.UserInfoEndpoint for /connect/userinfo
2019-06-09 23:10:30.465 -03:00 [DBG] Start userinfo request
2019-06-09 23:10:30.465 -03:00 [DBG] Bearer token found in header
2019-06-09 23:10:30.478 -03:00 [DBG] ro.client found in database: true
2019-06-09 23:10:30.478 -03:00 [DBG] client configuration validation for client ro.client succeeded.
2019-06-09 23:10:30.483 -03:00 [DBG] ro.client found in database: true
2019-06-09 23:10:30.483 -03:00 [DBG] client configuration validation for client ro.client succeeded.
2019-06-09 23:10:30.490 -03:00 [DBG] Calling into custom token validator: IdentityServer4.Validation.DefaultCustomTokenValidator
2019-06-09 23:10:30.491 -03:00 [DBG] Token validation success
{"ClientId":null,"ClientName":null,"ValidateLifetime":true,"AccessTokenType":"Jwt","ExpectedScope":"openid","TokenHandle":null,"JwtId":null,"Claims":{"nbf":1560132630,"exp":1560136230,"iss":"http://localhost:5000","aud":["http://localhost:5000/resources","api1"],"client_id":"ro.client","sub":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","auth_time":1560132630,"idp":"local","scope":["openid","profile","api1"],"amr":"pwd"},"$type":"TokenValidationLog"}
2019-06-09 23:10:30.491 -03:00 [DBG] Creating userinfo response
2019-06-09 23:10:30.491 -03:00 [DBG] Scopes in access token: openid profile api1
2019-06-09 23:10:30.491 -03:00 [DBG] Scopes in access token: openid profile api1
2019-06-09 23:10:30.493 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 23:10:30.494 -03:00 [DBG] Requested claim types: sub name family_name given_name middle_name nickname preferred_username profile picture website gender birthdate zoneinfo locale updated_at
2019-06-09 23:10:30.494 -03:00 [DBG] Scopes in access token: openid profile api1
2019-06-09 23:10:30.496 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 23:10:30.503 -03:00 [INF] Profile service returned the following claim types: sub name given_name family_name website preferred_username
2019-06-09 23:10:30.503 -03:00 [DBG] End userinfo request
2019-06-09 23:10:39.250 -03:00 [DBG] CORS request made for path: /connect/token from origin: http://localhost:3000
2019-06-09 23:10:39.254 -03:00 [DBG] Origin http://localhost:3000 is allowed: false
2019-06-09 23:10:39.254 -03:00 [WRN] CorsPolicyService did not allow origin: http://localhost:3000
2019-06-09 23:10:39.255 -03:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-06-09 23:10:39.255 -03:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-06-09 23:10:39.255 -03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-06-09 23:10:39.256 -03:00 [DBG] Start token request.
2019-06-09 23:10:39.256 -03:00 [DBG] Start client validation
2019-06-09 23:10:39.256 -03:00 [DBG] Start parsing Basic Authentication secret
2019-06-09 23:10:39.256 -03:00 [DBG] Start parsing for secret in post body
2019-06-09 23:10:39.257 -03:00 [DBG] Parser found secret: PostBodySecretParser
2019-06-09 23:10:39.257 -03:00 [DBG] Secret id found: ro.client
2019-06-09 23:10:39.266 -03:00 [DBG] ro.client found in database: true
2019-06-09 23:10:39.266 -03:00 [DBG] client configuration validation for client ro.client succeeded.
2019-06-09 23:10:39.267 -03:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-06-09 23:10:39.267 -03:00 [DBG] Client validation success
2019-06-09 23:10:39.267 -03:00 [INF] {"ClientId":"ro.client","AuthenticationMethod":"SharedSecret","Category":"Authentication","Name":"Client Authentication Success","EventType":"Success","Id":1010,"Message":null,"ActivityId":"0HLND63T1LU34:0000000F","TimeStamp":"2019-06-10T02:10:39.0000000Z","ProcessId":26336,"LocalIpAddress":"127.0.0.1:30253","RemoteIpAddress":"::1","$type":"ClientAuthenticationSuccessEvent"}
2019-06-09 23:10:39.268 -03:00 [DBG] Start token request validation
2019-06-09 23:10:39.268 -03:00 [DBG] Start resource owner password token request validation
2019-06-09 23:10:39.273 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 23:10:39.284 -03:00 [DBG] Found ["api1"] API scopes in database
2019-06-09 23:10:39.288 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 23:10:39.294 -03:00 [DBG] Found ["api1"] API scopes in database
2019-06-09 23:10:39.317 -03:00 [INF] Credentials validated for username: alice
2019-06-09 23:10:39.318 -03:00 [INF] {"Username":"alice","Provider":null,"ProviderUserId":null,"SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","DisplayName":"alice","Endpoint":"Token","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HLND63T1LU34:0000000F","TimeStamp":"2019-06-10T02:10:39.0000000Z","ProcessId":26336,"LocalIpAddress":"127.0.0.1:30253","RemoteIpAddress":"::1","$type":"UserLoginSuccessEvent"}
2019-06-09 23:10:39.319 -03:00 [INF] {"Username":"alice","Provider":null,"ProviderUserId":null,"SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","DisplayName":null,"Endpoint":"Token","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HLND63T1LU34:0000000F","TimeStamp":"2019-06-10T02:10:39.0000000Z","ProcessId":26336,"LocalIpAddress":"127.0.0.1:30253","RemoteIpAddress":"::1","$type":"UserLoginSuccessEvent"}
2019-06-09 23:10:39.319 -03:00 [DBG] Resource owner password token request validation success.
2019-06-09 23:10:39.319 -03:00 [INF] Token request validation success
{"ClientId":"ro.client","ClientName":null,"GrantType":"password","Scopes":"api1 openid profile","AuthorizationCode":null,"RefreshToken":null,"UserName":"alice","AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"grant_type":"password","client_id":"ro.client","client_secret":"***REDACTED***","scope":"openid profile api1","username":"alice","password":"***REDACTED***"},"$type":"TokenRequestValidationLog"}
2019-06-09 23:10:39.320 -03:00 [DBG] Getting claims for access token for client: ro.client
2019-06-09 23:10:39.320 -03:00 [DBG] Getting claims for access token for subject: 4ba1c3a0-b786-421d-b88a-740f38d9cafa
2019-06-09 23:10:39.336 -03:00 [INF] {"ClientId":"ro.client","ClientName":null,"RedirectUri":null,"Endpoint":"Token","SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","Scopes":"openid profile api1","GrantType":"password","Tokens":[{"TokenType":"access_token","TokenValue":"****CwlQ","$type":"Token"}],"Category":"Token","Name":"Token Issued Success","EventType":"Success","Id":2000,"Message":null,"ActivityId":"0HLND63T1LU34:0000000F","TimeStamp":"2019-06-10T02:10:39.0000000Z","ProcessId":26336,"LocalIpAddress":"127.0.0.1:30253","RemoteIpAddress":"::1","$type":"TokenIssuedSuccessEvent"}
2019-06-09 23:10:39.336 -03:00 [DBG] Token request success.
2019-06-09 23:10:39.396 -03:00 [DBG] CORS request made for path: /connect/userinfo from origin: http://localhost:3000
2019-06-09 23:10:39.398 -03:00 [DBG] Origin http://localhost:3000 is allowed: false
2019-06-09 23:10:39.398 -03:00 [WRN] CorsPolicyService did not allow origin: http://localhost:3000
2019-06-09 23:10:39.399 -03:00 [DBG] Request path /connect/userinfo matched to endpoint type Userinfo
2019-06-09 23:10:39.399 -03:00 [DBG] Endpoint enabled: Userinfo, successfully created handler: IdentityServer4.Endpoints.UserInfoEndpoint
2019-06-09 23:10:39.399 -03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.UserInfoEndpoint for /connect/userinfo
2019-06-09 23:10:39.399 -03:00 [DBG] Start userinfo request
2019-06-09 23:10:39.399 -03:00 [DBG] Bearer token found in header
2019-06-09 23:10:39.414 -03:00 [DBG] ro.client found in database: true
2019-06-09 23:10:39.414 -03:00 [DBG] client configuration validation for client ro.client succeeded.
2019-06-09 23:10:39.423 -03:00 [DBG] ro.client found in database: true
2019-06-09 23:10:39.423 -03:00 [DBG] client configuration validation for client ro.client succeeded.
2019-06-09 23:10:39.429 -03:00 [DBG] Calling into custom token validator: IdentityServer4.Validation.DefaultCustomTokenValidator
2019-06-09 23:10:39.429 -03:00 [DBG] Token validation success
{"ClientId":null,"ClientName":null,"ValidateLifetime":true,"AccessTokenType":"Jwt","ExpectedScope":"openid","TokenHandle":null,"JwtId":null,"Claims":{"nbf":1560132639,"exp":1560136239,"iss":"http://localhost:5000","aud":["http://localhost:5000/resources","api1"],"client_id":"ro.client","sub":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","auth_time":1560132639,"idp":"local","scope":["openid","profile","api1"],"amr":"pwd"},"$type":"TokenValidationLog"}
2019-06-09 23:10:39.429 -03:00 [DBG] Creating userinfo response
2019-06-09 23:10:39.429 -03:00 [DBG] Scopes in access token: openid profile api1
2019-06-09 23:10:39.430 -03:00 [DBG] Scopes in access token: openid profile api1
2019-06-09 23:10:39.435 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 23:10:39.435 -03:00 [DBG] Requested claim types: sub name family_name given_name middle_name nickname preferred_username profile picture website gender birthdate zoneinfo locale updated_at
2019-06-09 23:10:39.435 -03:00 [DBG] Scopes in access token: openid profile api1
2019-06-09 23:10:39.438 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 23:10:39.447 -03:00 [INF] Profile service returned the following claim types: sub name given_name family_name website preferred_username
2019-06-09 23:10:39.447 -03:00 [DBG] End userinfo request
2019-06-09 23:11:13.245 -03:00 [DBG] CORS request made for path: /connect/token from origin: http://localhost:3000
2019-06-09 23:11:13.258 -03:00 [DBG] Origin http://localhost:3000 is allowed: false
2019-06-09 23:11:13.258 -03:00 [WRN] CorsPolicyService did not allow origin: http://localhost:3000
2019-06-09 23:11:13.258 -03:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-06-09 23:11:13.259 -03:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-06-09 23:11:13.259 -03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-06-09 23:11:13.259 -03:00 [DBG] Start token request.
2019-06-09 23:11:13.259 -03:00 [DBG] Start client validation
2019-06-09 23:11:13.259 -03:00 [DBG] Start parsing Basic Authentication secret
2019-06-09 23:11:13.259 -03:00 [DBG] Start parsing for secret in post body
2019-06-09 23:11:13.260 -03:00 [DBG] Parser found secret: PostBodySecretParser
2019-06-09 23:11:13.260 -03:00 [DBG] Secret id found: ro.client
2019-06-09 23:11:13.303 -03:00 [DBG] ro.client found in database: true
2019-06-09 23:11:13.303 -03:00 [DBG] client configuration validation for client ro.client succeeded.
2019-06-09 23:11:13.303 -03:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-06-09 23:11:13.303 -03:00 [DBG] Client validation success
2019-06-09 23:11:13.304 -03:00 [INF] {"ClientId":"ro.client","AuthenticationMethod":"SharedSecret","Category":"Authentication","Name":"Client Authentication Success","EventType":"Success","Id":1010,"Message":null,"ActivityId":"0HLND63T1LU34:00000012","TimeStamp":"2019-06-10T02:11:13.0000000Z","ProcessId":26336,"LocalIpAddress":"127.0.0.1:30253","RemoteIpAddress":"::1","$type":"ClientAuthenticationSuccessEvent"}
2019-06-09 23:11:13.304 -03:00 [DBG] Start token request validation
2019-06-09 23:11:13.304 -03:00 [DBG] Start resource owner password token request validation
2019-06-09 23:11:13.318 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 23:11:13.436 -03:00 [DBG] Found ["api1"] API scopes in database
2019-06-09 23:11:13.439 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 23:11:13.444 -03:00 [DBG] Found ["api1"] API scopes in database
2019-06-09 23:11:13.464 -03:00 [INF] Credentials validated for username: alice
2019-06-09 23:11:13.464 -03:00 [INF] {"Username":"alice","Provider":null,"ProviderUserId":null,"SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","DisplayName":"alice","Endpoint":"Token","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HLND63T1LU34:00000012","TimeStamp":"2019-06-10T02:11:13.0000000Z","ProcessId":26336,"LocalIpAddress":"127.0.0.1:30253","RemoteIpAddress":"::1","$type":"UserLoginSuccessEvent"}
2019-06-09 23:11:13.464 -03:00 [INF] {"Username":"alice","Provider":null,"ProviderUserId":null,"SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","DisplayName":null,"Endpoint":"Token","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HLND63T1LU34:00000012","TimeStamp":"2019-06-10T02:11:13.0000000Z","ProcessId":26336,"LocalIpAddress":"127.0.0.1:30253","RemoteIpAddress":"::1","$type":"UserLoginSuccessEvent"}
2019-06-09 23:11:13.464 -03:00 [DBG] Resource owner password token request validation success.
2019-06-09 23:11:13.464 -03:00 [INF] Token request validation success
{"ClientId":"ro.client","ClientName":null,"GrantType":"password","Scopes":"api1 openid profile","AuthorizationCode":null,"RefreshToken":null,"UserName":"alice","AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"grant_type":"password","client_id":"ro.client","client_secret":"***REDACTED***","scope":"openid profile api1","username":"alice","password":"***REDACTED***"},"$type":"TokenRequestValidationLog"}
2019-06-09 23:11:13.464 -03:00 [DBG] Getting claims for access token for client: ro.client
2019-06-09 23:11:13.464 -03:00 [DBG] Getting claims for access token for subject: 4ba1c3a0-b786-421d-b88a-740f38d9cafa
2019-06-09 23:11:13.478 -03:00 [INF] {"ClientId":"ro.client","ClientName":null,"RedirectUri":null,"Endpoint":"Token","SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","Scopes":"openid profile api1","GrantType":"password","Tokens":[{"TokenType":"access_token","TokenValue":"****Bt7g","$type":"Token"}],"Category":"Token","Name":"Token Issued Success","EventType":"Success","Id":2000,"Message":null,"ActivityId":"0HLND63T1LU34:00000012","TimeStamp":"2019-06-10T02:11:13.0000000Z","ProcessId":26336,"LocalIpAddress":"127.0.0.1:30253","RemoteIpAddress":"::1","$type":"TokenIssuedSuccessEvent"}
2019-06-09 23:11:13.479 -03:00 [DBG] Token request success.
2019-06-09 23:11:13.517 -03:00 [DBG] CORS request made for path: /connect/userinfo from origin: http://localhost:3000
2019-06-09 23:11:13.519 -03:00 [DBG] Origin http://localhost:3000 is allowed: false
2019-06-09 23:11:13.519 -03:00 [WRN] CorsPolicyService did not allow origin: http://localhost:3000
2019-06-09 23:11:13.519 -03:00 [DBG] Request path /connect/userinfo matched to endpoint type Userinfo
2019-06-09 23:11:13.519 -03:00 [DBG] Endpoint enabled: Userinfo, successfully created handler: IdentityServer4.Endpoints.UserInfoEndpoint
2019-06-09 23:11:13.519 -03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.UserInfoEndpoint for /connect/userinfo
2019-06-09 23:11:13.520 -03:00 [DBG] Start userinfo request
2019-06-09 23:11:13.520 -03:00 [DBG] Bearer token found in header
2019-06-09 23:11:13.533 -03:00 [DBG] ro.client found in database: true
2019-06-09 23:11:13.533 -03:00 [DBG] client configuration validation for client ro.client succeeded.
2019-06-09 23:11:13.539 -03:00 [DBG] ro.client found in database: true
2019-06-09 23:11:13.539 -03:00 [DBG] client configuration validation for client ro.client succeeded.
2019-06-09 23:11:13.546 -03:00 [DBG] Calling into custom token validator: IdentityServer4.Validation.DefaultCustomTokenValidator
2019-06-09 23:11:13.546 -03:00 [DBG] Token validation success
{"ClientId":null,"ClientName":null,"ValidateLifetime":true,"AccessTokenType":"Jwt","ExpectedScope":"openid","TokenHandle":null,"JwtId":null,"Claims":{"nbf":1560132673,"exp":1560136273,"iss":"http://localhost:5000","aud":["http://localhost:5000/resources","api1"],"client_id":"ro.client","sub":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","auth_time":1560132673,"idp":"local","scope":["openid","profile","api1"],"amr":"pwd"},"$type":"TokenValidationLog"}
2019-06-09 23:11:13.546 -03:00 [DBG] Creating userinfo response
2019-06-09 23:11:13.546 -03:00 [DBG] Scopes in access token: openid profile api1
2019-06-09 23:11:13.547 -03:00 [DBG] Scopes in access token: openid profile api1
2019-06-09 23:11:13.562 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 23:11:13.562 -03:00 [DBG] Requested claim types: sub name family_name given_name middle_name nickname preferred_username profile picture website gender birthdate zoneinfo locale updated_at
2019-06-09 23:11:13.562 -03:00 [DBG] Scopes in access token: openid profile api1
2019-06-09 23:11:13.567 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 23:11:13.573 -03:00 [INF] Profile service returned the following claim types: sub name given_name family_name website preferred_username
2019-06-09 23:11:13.574 -03:00 [DBG] End userinfo request
2019-06-09 23:11:26.037 -03:00 [DBG] CORS request made for path: /connect/token from origin: http://localhost:3000
2019-06-09 23:11:26.040 -03:00 [DBG] Origin http://localhost:3000 is allowed: false
2019-06-09 23:11:26.040 -03:00 [WRN] CorsPolicyService did not allow origin: http://localhost:3000
2019-06-09 23:11:26.041 -03:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-06-09 23:11:26.042 -03:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-06-09 23:11:26.042 -03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-06-09 23:11:26.042 -03:00 [DBG] Start token request.
2019-06-09 23:11:26.042 -03:00 [DBG] Start client validation
2019-06-09 23:11:26.042 -03:00 [DBG] Start parsing Basic Authentication secret
2019-06-09 23:11:26.042 -03:00 [DBG] Start parsing for secret in post body
2019-06-09 23:11:26.043 -03:00 [DBG] Parser found secret: PostBodySecretParser
2019-06-09 23:11:26.043 -03:00 [DBG] Secret id found: ro.client
2019-06-09 23:11:26.052 -03:00 [DBG] ro.client found in database: true
2019-06-09 23:11:26.053 -03:00 [DBG] client configuration validation for client ro.client succeeded.
2019-06-09 23:11:26.053 -03:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-06-09 23:11:26.053 -03:00 [DBG] Client validation success
2019-06-09 23:11:26.053 -03:00 [INF] {"ClientId":"ro.client","AuthenticationMethod":"SharedSecret","Category":"Authentication","Name":"Client Authentication Success","EventType":"Success","Id":1010,"Message":null,"ActivityId":"0HLND63T1LU34:00000015","TimeStamp":"2019-06-10T02:11:26.0000000Z","ProcessId":26336,"LocalIpAddress":"127.0.0.1:30253","RemoteIpAddress":"::1","$type":"ClientAuthenticationSuccessEvent"}
2019-06-09 23:11:26.053 -03:00 [DBG] Start token request validation
2019-06-09 23:11:26.053 -03:00 [DBG] Start resource owner password token request validation
2019-06-09 23:11:26.056 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 23:11:26.067 -03:00 [DBG] Found ["api1"] API scopes in database
2019-06-09 23:11:26.070 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 23:11:26.077 -03:00 [DBG] Found ["api1"] API scopes in database
2019-06-09 23:11:26.094 -03:00 [INF] Credentials validated for username: alice
2019-06-09 23:11:26.095 -03:00 [INF] {"Username":"alice","Provider":null,"ProviderUserId":null,"SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","DisplayName":"alice","Endpoint":"Token","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HLND63T1LU34:00000015","TimeStamp":"2019-06-10T02:11:26.0000000Z","ProcessId":26336,"LocalIpAddress":"127.0.0.1:30253","RemoteIpAddress":"::1","$type":"UserLoginSuccessEvent"}
2019-06-09 23:11:26.095 -03:00 [INF] {"Username":"alice","Provider":null,"ProviderUserId":null,"SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","DisplayName":null,"Endpoint":"Token","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HLND63T1LU34:00000015","TimeStamp":"2019-06-10T02:11:26.0000000Z","ProcessId":26336,"LocalIpAddress":"127.0.0.1:30253","RemoteIpAddress":"::1","$type":"UserLoginSuccessEvent"}
2019-06-09 23:11:26.095 -03:00 [DBG] Resource owner password token request validation success.
2019-06-09 23:11:26.096 -03:00 [INF] Token request validation success
{"ClientId":"ro.client","ClientName":null,"GrantType":"password","Scopes":"api1 openid profile","AuthorizationCode":null,"RefreshToken":null,"UserName":"alice","AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"grant_type":"password","client_id":"ro.client","client_secret":"***REDACTED***","scope":"openid profile api1","username":"alice","password":"***REDACTED***"},"$type":"TokenRequestValidationLog"}
2019-06-09 23:11:26.096 -03:00 [DBG] Getting claims for access token for client: ro.client
2019-06-09 23:11:26.096 -03:00 [DBG] Getting claims for access token for subject: 4ba1c3a0-b786-421d-b88a-740f38d9cafa
2019-06-09 23:11:26.116 -03:00 [INF] {"ClientId":"ro.client","ClientName":null,"RedirectUri":null,"Endpoint":"Token","SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","Scopes":"openid profile api1","GrantType":"password","Tokens":[{"TokenType":"access_token","TokenValue":"****ltiA","$type":"Token"}],"Category":"Token","Name":"Token Issued Success","EventType":"Success","Id":2000,"Message":null,"ActivityId":"0HLND63T1LU34:00000015","TimeStamp":"2019-06-10T02:11:26.0000000Z","ProcessId":26336,"LocalIpAddress":"127.0.0.1:30253","RemoteIpAddress":"::1","$type":"TokenIssuedSuccessEvent"}
2019-06-09 23:11:26.116 -03:00 [DBG] Token request success.
2019-06-09 23:11:26.155 -03:00 [DBG] CORS request made for path: /connect/userinfo from origin: http://localhost:3000
2019-06-09 23:11:26.157 -03:00 [DBG] Origin http://localhost:3000 is allowed: false
2019-06-09 23:11:26.158 -03:00 [WRN] CorsPolicyService did not allow origin: http://localhost:3000
2019-06-09 23:11:26.158 -03:00 [DBG] Request path /connect/userinfo matched to endpoint type Userinfo
2019-06-09 23:11:26.159 -03:00 [DBG] Endpoint enabled: Userinfo, successfully created handler: IdentityServer4.Endpoints.UserInfoEndpoint
2019-06-09 23:11:26.159 -03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.UserInfoEndpoint for /connect/userinfo
2019-06-09 23:11:26.159 -03:00 [DBG] Start userinfo request
2019-06-09 23:11:26.159 -03:00 [DBG] Bearer token found in header
2019-06-09 23:11:26.170 -03:00 [DBG] ro.client found in database: true
2019-06-09 23:11:26.170 -03:00 [DBG] client configuration validation for client ro.client succeeded.
2019-06-09 23:11:26.178 -03:00 [DBG] ro.client found in database: true
2019-06-09 23:11:26.178 -03:00 [DBG] client configuration validation for client ro.client succeeded.
2019-06-09 23:11:26.184 -03:00 [DBG] Calling into custom token validator: IdentityServer4.Validation.DefaultCustomTokenValidator
2019-06-09 23:11:26.184 -03:00 [DBG] Token validation success
{"ClientId":null,"ClientName":null,"ValidateLifetime":true,"AccessTokenType":"Jwt","ExpectedScope":"openid","TokenHandle":null,"JwtId":null,"Claims":{"nbf":1560132686,"exp":1560136286,"iss":"http://localhost:5000","aud":["http://localhost:5000/resources","api1"],"client_id":"ro.client","sub":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","auth_time":1560132686,"idp":"local","scope":["openid","profile","api1"],"amr":"pwd"},"$type":"TokenValidationLog"}
2019-06-09 23:11:26.184 -03:00 [DBG] Creating userinfo response
2019-06-09 23:11:26.184 -03:00 [DBG] Scopes in access token: openid profile api1
2019-06-09 23:11:26.185 -03:00 [DBG] Scopes in access token: openid profile api1
2019-06-09 23:11:26.187 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 23:11:26.187 -03:00 [DBG] Requested claim types: sub name family_name given_name middle_name nickname preferred_username profile picture website gender birthdate zoneinfo locale updated_at
2019-06-09 23:11:26.187 -03:00 [DBG] Scopes in access token: openid profile api1
2019-06-09 23:11:26.191 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 23:11:26.199 -03:00 [INF] Profile service returned the following claim types: sub name given_name family_name website preferred_username
2019-06-09 23:11:26.199 -03:00 [DBG] End userinfo request
2019-06-09 23:11:43.707 -03:00 [DBG] CORS request made for path: /connect/token from origin: http://localhost:3000
2019-06-09 23:11:43.714 -03:00 [DBG] Origin http://localhost:3000 is allowed: false
2019-06-09 23:11:43.714 -03:00 [WRN] CorsPolicyService did not allow origin: http://localhost:3000
2019-06-09 23:11:43.714 -03:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-06-09 23:11:43.715 -03:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-06-09 23:11:43.715 -03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-06-09 23:11:43.715 -03:00 [DBG] Start token request.
2019-06-09 23:11:43.715 -03:00 [DBG] Start client validation
2019-06-09 23:11:43.715 -03:00 [DBG] Start parsing Basic Authentication secret
2019-06-09 23:11:43.715 -03:00 [DBG] Start parsing for secret in post body
2019-06-09 23:11:43.716 -03:00 [DBG] Parser found secret: PostBodySecretParser
2019-06-09 23:11:43.716 -03:00 [DBG] Secret id found: ro.client
2019-06-09 23:11:43.748 -03:00 [DBG] ro.client found in database: true
2019-06-09 23:11:43.748 -03:00 [DBG] client configuration validation for client ro.client succeeded.
2019-06-09 23:11:43.748 -03:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-06-09 23:11:43.748 -03:00 [DBG] Client validation success
2019-06-09 23:11:43.749 -03:00 [INF] {"ClientId":"ro.client","AuthenticationMethod":"SharedSecret","Category":"Authentication","Name":"Client Authentication Success","EventType":"Success","Id":1010,"Message":null,"ActivityId":"0HLND63T1LU34:00000018","TimeStamp":"2019-06-10T02:11:43.0000000Z","ProcessId":26336,"LocalIpAddress":"127.0.0.1:30253","RemoteIpAddress":"::1","$type":"ClientAuthenticationSuccessEvent"}
2019-06-09 23:11:43.749 -03:00 [DBG] Start token request validation
2019-06-09 23:11:43.749 -03:00 [DBG] Start resource owner password token request validation
2019-06-09 23:11:43.753 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 23:11:43.761 -03:00 [DBG] Found ["api1"] API scopes in database
2019-06-09 23:11:43.764 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 23:11:43.771 -03:00 [DBG] Found ["api1"] API scopes in database
2019-06-09 23:11:43.796 -03:00 [INF] Credentials validated for username: alice
2019-06-09 23:11:43.797 -03:00 [INF] {"Username":"alice","Provider":null,"ProviderUserId":null,"SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","DisplayName":"alice","Endpoint":"Token","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HLND63T1LU34:00000018","TimeStamp":"2019-06-10T02:11:43.0000000Z","ProcessId":26336,"LocalIpAddress":"127.0.0.1:30253","RemoteIpAddress":"::1","$type":"UserLoginSuccessEvent"}
2019-06-09 23:11:43.797 -03:00 [INF] {"Username":"alice","Provider":null,"ProviderUserId":null,"SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","DisplayName":null,"Endpoint":"Token","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HLND63T1LU34:00000018","TimeStamp":"2019-06-10T02:11:43.0000000Z","ProcessId":26336,"LocalIpAddress":"127.0.0.1:30253","RemoteIpAddress":"::1","$type":"UserLoginSuccessEvent"}
2019-06-09 23:11:43.797 -03:00 [DBG] Resource owner password token request validation success.
2019-06-09 23:11:43.797 -03:00 [INF] Token request validation success
{"ClientId":"ro.client","ClientName":null,"GrantType":"password","Scopes":"api1 openid profile","AuthorizationCode":null,"RefreshToken":null,"UserName":"alice","AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"grant_type":"password","client_id":"ro.client","client_secret":"***REDACTED***","scope":"openid profile api1","username":"alice","password":"***REDACTED***"},"$type":"TokenRequestValidationLog"}
2019-06-09 23:11:43.797 -03:00 [DBG] Getting claims for access token for client: ro.client
2019-06-09 23:11:43.797 -03:00 [DBG] Getting claims for access token for subject: 4ba1c3a0-b786-421d-b88a-740f38d9cafa
2019-06-09 23:11:43.811 -03:00 [INF] {"ClientId":"ro.client","ClientName":null,"RedirectUri":null,"Endpoint":"Token","SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","Scopes":"openid profile api1","GrantType":"password","Tokens":[{"TokenType":"access_token","TokenValue":"****QfLw","$type":"Token"}],"Category":"Token","Name":"Token Issued Success","EventType":"Success","Id":2000,"Message":null,"ActivityId":"0HLND63T1LU34:00000018","TimeStamp":"2019-06-10T02:11:43.0000000Z","ProcessId":26336,"LocalIpAddress":"127.0.0.1:30253","RemoteIpAddress":"::1","$type":"TokenIssuedSuccessEvent"}
2019-06-09 23:11:43.811 -03:00 [DBG] Token request success.
2019-06-09 23:11:43.858 -03:00 [DBG] CORS request made for path: /connect/userinfo from origin: http://localhost:3000
2019-06-09 23:11:43.860 -03:00 [DBG] Origin http://localhost:3000 is allowed: false
2019-06-09 23:11:43.860 -03:00 [WRN] CorsPolicyService did not allow origin: http://localhost:3000
2019-06-09 23:11:43.861 -03:00 [DBG] Request path /connect/userinfo matched to endpoint type Userinfo
2019-06-09 23:11:43.861 -03:00 [DBG] Endpoint enabled: Userinfo, successfully created handler: IdentityServer4.Endpoints.UserInfoEndpoint
2019-06-09 23:11:43.861 -03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.UserInfoEndpoint for /connect/userinfo
2019-06-09 23:11:43.861 -03:00 [DBG] Start userinfo request
2019-06-09 23:11:43.861 -03:00 [DBG] Bearer token found in header
2019-06-09 23:11:43.874 -03:00 [DBG] ro.client found in database: true
2019-06-09 23:11:43.874 -03:00 [DBG] client configuration validation for client ro.client succeeded.
2019-06-09 23:11:43.879 -03:00 [DBG] ro.client found in database: true
2019-06-09 23:11:43.880 -03:00 [DBG] client configuration validation for client ro.client succeeded.
2019-06-09 23:11:43.885 -03:00 [DBG] Calling into custom token validator: IdentityServer4.Validation.DefaultCustomTokenValidator
2019-06-09 23:11:43.886 -03:00 [DBG] Token validation success
{"ClientId":null,"ClientName":null,"ValidateLifetime":true,"AccessTokenType":"Jwt","ExpectedScope":"openid","TokenHandle":null,"JwtId":null,"Claims":{"nbf":1560132703,"exp":1560136303,"iss":"http://localhost:5000","aud":["http://localhost:5000/resources","api1"],"client_id":"ro.client","sub":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","auth_time":1560132703,"idp":"local","scope":["openid","profile","api1"],"amr":"pwd"},"$type":"TokenValidationLog"}
2019-06-09 23:11:43.886 -03:00 [DBG] Creating userinfo response
2019-06-09 23:11:43.886 -03:00 [DBG] Scopes in access token: openid profile api1
2019-06-09 23:11:43.886 -03:00 [DBG] Scopes in access token: openid profile api1
2019-06-09 23:11:43.889 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 23:11:43.890 -03:00 [DBG] Requested claim types: sub name family_name given_name middle_name nickname preferred_username profile picture website gender birthdate zoneinfo locale updated_at
2019-06-09 23:11:43.890 -03:00 [DBG] Scopes in access token: openid profile api1
2019-06-09 23:11:43.893 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 23:11:43.900 -03:00 [INF] Profile service returned the following claim types: sub name given_name family_name website preferred_username
2019-06-09 23:11:43.900 -03:00 [DBG] End userinfo request
2019-06-09 23:12:06.700 -03:00 [DBG] CORS request made for path: /connect/token from origin: http://localhost:3000
2019-06-09 23:12:06.724 -03:00 [DBG] Origin http://localhost:3000 is allowed: false
2019-06-09 23:12:06.724 -03:00 [WRN] CorsPolicyService did not allow origin: http://localhost:3000
2019-06-09 23:12:06.724 -03:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-06-09 23:12:06.725 -03:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-06-09 23:12:06.725 -03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-06-09 23:12:06.725 -03:00 [DBG] Start token request.
2019-06-09 23:12:06.725 -03:00 [DBG] Start client validation
2019-06-09 23:12:06.725 -03:00 [DBG] Start parsing Basic Authentication secret
2019-06-09 23:12:06.725 -03:00 [DBG] Start parsing for secret in post body
2019-06-09 23:12:06.730 -03:00 [DBG] Parser found secret: PostBodySecretParser
2019-06-09 23:12:06.730 -03:00 [DBG] Secret id found: ro.client
2019-06-09 23:12:06.741 -03:00 [DBG] ro.client found in database: true
2019-06-09 23:12:06.741 -03:00 [DBG] client configuration validation for client ro.client succeeded.
2019-06-09 23:12:06.742 -03:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-06-09 23:12:06.742 -03:00 [DBG] Client validation success
2019-06-09 23:12:06.742 -03:00 [INF] {"ClientId":"ro.client","AuthenticationMethod":"SharedSecret","Category":"Authentication","Name":"Client Authentication Success","EventType":"Success","Id":1010,"Message":null,"ActivityId":"0HLND63T1LU34:0000001B","TimeStamp":"2019-06-10T02:12:06.0000000Z","ProcessId":26336,"LocalIpAddress":"127.0.0.1:30253","RemoteIpAddress":"::1","$type":"ClientAuthenticationSuccessEvent"}
2019-06-09 23:12:06.742 -03:00 [DBG] Start token request validation
2019-06-09 23:12:06.742 -03:00 [DBG] Start resource owner password token request validation
2019-06-09 23:12:06.747 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 23:12:06.755 -03:00 [DBG] Found ["api1"] API scopes in database
2019-06-09 23:12:06.759 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 23:12:06.764 -03:00 [DBG] Found ["api1"] API scopes in database
2019-06-09 23:12:06.791 -03:00 [INF] Credentials validated for username: alice
2019-06-09 23:12:06.791 -03:00 [INF] {"Username":"alice","Provider":null,"ProviderUserId":null,"SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","DisplayName":"alice","Endpoint":"Token","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HLND63T1LU34:0000001B","TimeStamp":"2019-06-10T02:12:06.0000000Z","ProcessId":26336,"LocalIpAddress":"127.0.0.1:30253","RemoteIpAddress":"::1","$type":"UserLoginSuccessEvent"}
2019-06-09 23:12:06.791 -03:00 [INF] {"Username":"alice","Provider":null,"ProviderUserId":null,"SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","DisplayName":null,"Endpoint":"Token","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HLND63T1LU34:0000001B","TimeStamp":"2019-06-10T02:12:06.0000000Z","ProcessId":26336,"LocalIpAddress":"127.0.0.1:30253","RemoteIpAddress":"::1","$type":"UserLoginSuccessEvent"}
2019-06-09 23:12:06.791 -03:00 [DBG] Resource owner password token request validation success.
2019-06-09 23:12:06.791 -03:00 [INF] Token request validation success
{"ClientId":"ro.client","ClientName":null,"GrantType":"password","Scopes":"api1 openid profile","AuthorizationCode":null,"RefreshToken":null,"UserName":"alice","AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"grant_type":"password","client_id":"ro.client","client_secret":"***REDACTED***","scope":"openid profile api1","username":"alice","password":"***REDACTED***"},"$type":"TokenRequestValidationLog"}
2019-06-09 23:12:06.792 -03:00 [DBG] Getting claims for access token for client: ro.client
2019-06-09 23:12:06.792 -03:00 [DBG] Getting claims for access token for subject: 4ba1c3a0-b786-421d-b88a-740f38d9cafa
2019-06-09 23:12:06.819 -03:00 [INF] {"ClientId":"ro.client","ClientName":null,"RedirectUri":null,"Endpoint":"Token","SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","Scopes":"openid profile api1","GrantType":"password","Tokens":[{"TokenType":"access_token","TokenValue":"****A1QQ","$type":"Token"}],"Category":"Token","Name":"Token Issued Success","EventType":"Success","Id":2000,"Message":null,"ActivityId":"0HLND63T1LU34:0000001B","TimeStamp":"2019-06-10T02:12:06.0000000Z","ProcessId":26336,"LocalIpAddress":"127.0.0.1:30253","RemoteIpAddress":"::1","$type":"TokenIssuedSuccessEvent"}
2019-06-09 23:12:06.820 -03:00 [DBG] Token request success.
2019-06-09 23:12:06.871 -03:00 [DBG] CORS request made for path: /connect/userinfo from origin: http://localhost:3000
2019-06-09 23:12:06.872 -03:00 [DBG] Origin http://localhost:3000 is allowed: false
2019-06-09 23:12:06.873 -03:00 [WRN] CorsPolicyService did not allow origin: http://localhost:3000
2019-06-09 23:12:06.873 -03:00 [DBG] Request path /connect/userinfo matched to endpoint type Userinfo
2019-06-09 23:12:06.873 -03:00 [DBG] Endpoint enabled: Userinfo, successfully created handler: IdentityServer4.Endpoints.UserInfoEndpoint
2019-06-09 23:12:06.873 -03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.UserInfoEndpoint for /connect/userinfo
2019-06-09 23:12:06.873 -03:00 [DBG] Start userinfo request
2019-06-09 23:12:06.873 -03:00 [DBG] Bearer token found in header
2019-06-09 23:12:06.886 -03:00 [DBG] ro.client found in database: true
2019-06-09 23:12:06.886 -03:00 [DBG] client configuration validation for client ro.client succeeded.
2019-06-09 23:12:06.892 -03:00 [DBG] ro.client found in database: true
2019-06-09 23:12:06.892 -03:00 [DBG] client configuration validation for client ro.client succeeded.
2019-06-09 23:12:06.901 -03:00 [DBG] Calling into custom token validator: IdentityServer4.Validation.DefaultCustomTokenValidator
2019-06-09 23:12:06.901 -03:00 [DBG] Token validation success
{"ClientId":null,"ClientName":null,"ValidateLifetime":true,"AccessTokenType":"Jwt","ExpectedScope":"openid","TokenHandle":null,"JwtId":null,"Claims":{"nbf":1560132726,"exp":1560136326,"iss":"http://localhost:5000","aud":["http://localhost:5000/resources","api1"],"client_id":"ro.client","sub":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","auth_time":1560132726,"idp":"local","scope":["openid","profile","api1"],"amr":"pwd"},"$type":"TokenValidationLog"}
2019-06-09 23:12:06.902 -03:00 [DBG] Creating userinfo response
2019-06-09 23:12:06.902 -03:00 [DBG] Scopes in access token: openid profile api1
2019-06-09 23:12:06.902 -03:00 [DBG] Scopes in access token: openid profile api1
2019-06-09 23:12:06.906 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 23:12:06.906 -03:00 [DBG] Requested claim types: sub name family_name given_name middle_name nickname preferred_username profile picture website gender birthdate zoneinfo locale updated_at
2019-06-09 23:12:06.906 -03:00 [DBG] Scopes in access token: openid profile api1
2019-06-09 23:12:06.911 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 23:12:06.930 -03:00 [INF] Profile service returned the following claim types: sub name given_name family_name website preferred_username
2019-06-09 23:12:06.930 -03:00 [DBG] End userinfo request
2019-06-09 23:12:08.801 -03:00 [DBG] CORS request made for path: /connect/token from origin: http://localhost:3000
2019-06-09 23:12:08.804 -03:00 [DBG] Origin http://localhost:3000 is allowed: false
2019-06-09 23:12:08.804 -03:00 [WRN] CorsPolicyService did not allow origin: http://localhost:3000
2019-06-09 23:12:08.804 -03:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-06-09 23:12:08.805 -03:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-06-09 23:12:08.805 -03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-06-09 23:12:08.805 -03:00 [DBG] Start token request.
2019-06-09 23:12:08.805 -03:00 [DBG] Start client validation
2019-06-09 23:12:08.805 -03:00 [DBG] Start parsing Basic Authentication secret
2019-06-09 23:12:08.805 -03:00 [DBG] Start parsing for secret in post body
2019-06-09 23:12:08.806 -03:00 [DBG] Parser found secret: PostBodySecretParser
2019-06-09 23:12:08.806 -03:00 [DBG] Secret id found: ro.client
2019-06-09 23:12:08.815 -03:00 [DBG] ro.client found in database: true
2019-06-09 23:12:08.816 -03:00 [DBG] client configuration validation for client ro.client succeeded.
2019-06-09 23:12:08.816 -03:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-06-09 23:12:08.816 -03:00 [DBG] Client validation success
2019-06-09 23:12:08.816 -03:00 [INF] {"ClientId":"ro.client","AuthenticationMethod":"SharedSecret","Category":"Authentication","Name":"Client Authentication Success","EventType":"Success","Id":1010,"Message":null,"ActivityId":"0HLND63T1LU34:0000001E","TimeStamp":"2019-06-10T02:12:08.0000000Z","ProcessId":26336,"LocalIpAddress":"127.0.0.1:30253","RemoteIpAddress":"::1","$type":"ClientAuthenticationSuccessEvent"}
2019-06-09 23:12:08.817 -03:00 [DBG] Start token request validation
2019-06-09 23:12:08.817 -03:00 [DBG] Start resource owner password token request validation
2019-06-09 23:12:08.822 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 23:12:08.829 -03:00 [DBG] Found ["api1"] API scopes in database
2019-06-09 23:12:08.835 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 23:12:08.842 -03:00 [DBG] Found ["api1"] API scopes in database
2019-06-09 23:12:08.862 -03:00 [INF] Credentials validated for username: alice
2019-06-09 23:12:08.863 -03:00 [INF] {"Username":"alice","Provider":null,"ProviderUserId":null,"SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","DisplayName":"alice","Endpoint":"Token","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HLND63T1LU34:0000001E","TimeStamp":"2019-06-10T02:12:08.0000000Z","ProcessId":26336,"LocalIpAddress":"127.0.0.1:30253","RemoteIpAddress":"::1","$type":"UserLoginSuccessEvent"}
2019-06-09 23:12:08.863 -03:00 [INF] {"Username":"alice","Provider":null,"ProviderUserId":null,"SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","DisplayName":null,"Endpoint":"Token","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HLND63T1LU34:0000001E","TimeStamp":"2019-06-10T02:12:08.0000000Z","ProcessId":26336,"LocalIpAddress":"127.0.0.1:30253","RemoteIpAddress":"::1","$type":"UserLoginSuccessEvent"}
2019-06-09 23:12:08.863 -03:00 [DBG] Resource owner password token request validation success.
2019-06-09 23:12:08.864 -03:00 [INF] Token request validation success
{"ClientId":"ro.client","ClientName":null,"GrantType":"password","Scopes":"api1 openid profile","AuthorizationCode":null,"RefreshToken":null,"UserName":"alice","AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"grant_type":"password","client_id":"ro.client","client_secret":"***REDACTED***","scope":"openid profile api1","username":"alice","password":"***REDACTED***"},"$type":"TokenRequestValidationLog"}
2019-06-09 23:12:08.864 -03:00 [DBG] Getting claims for access token for client: ro.client
2019-06-09 23:12:08.864 -03:00 [DBG] Getting claims for access token for subject: 4ba1c3a0-b786-421d-b88a-740f38d9cafa
2019-06-09 23:12:08.881 -03:00 [INF] {"ClientId":"ro.client","ClientName":null,"RedirectUri":null,"Endpoint":"Token","SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","Scopes":"openid profile api1","GrantType":"password","Tokens":[{"TokenType":"access_token","TokenValue":"****fLSQ","$type":"Token"}],"Category":"Token","Name":"Token Issued Success","EventType":"Success","Id":2000,"Message":null,"ActivityId":"0HLND63T1LU34:0000001E","TimeStamp":"2019-06-10T02:12:08.0000000Z","ProcessId":26336,"LocalIpAddress":"127.0.0.1:30253","RemoteIpAddress":"::1","$type":"TokenIssuedSuccessEvent"}
2019-06-09 23:12:08.881 -03:00 [DBG] Token request success.
2019-06-09 23:12:08.910 -03:00 [DBG] CORS request made for path: /connect/userinfo from origin: http://localhost:3000
2019-06-09 23:12:08.918 -03:00 [DBG] Origin http://localhost:3000 is allowed: false
2019-06-09 23:12:08.919 -03:00 [WRN] CorsPolicyService did not allow origin: http://localhost:3000
2019-06-09 23:12:08.919 -03:00 [DBG] Request path /connect/userinfo matched to endpoint type Userinfo
2019-06-09 23:12:08.919 -03:00 [DBG] Endpoint enabled: Userinfo, successfully created handler: IdentityServer4.Endpoints.UserInfoEndpoint
2019-06-09 23:12:08.919 -03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.UserInfoEndpoint for /connect/userinfo
2019-06-09 23:12:08.919 -03:00 [DBG] Start userinfo request
2019-06-09 23:12:08.920 -03:00 [DBG] Bearer token found in header
2019-06-09 23:12:08.933 -03:00 [DBG] ro.client found in database: true
2019-06-09 23:12:08.934 -03:00 [DBG] client configuration validation for client ro.client succeeded.
2019-06-09 23:12:08.941 -03:00 [DBG] ro.client found in database: true
2019-06-09 23:12:08.941 -03:00 [DBG] client configuration validation for client ro.client succeeded.
2019-06-09 23:12:08.948 -03:00 [DBG] Calling into custom token validator: IdentityServer4.Validation.DefaultCustomTokenValidator
2019-06-09 23:12:08.948 -03:00 [DBG] Token validation success
{"ClientId":null,"ClientName":null,"ValidateLifetime":true,"AccessTokenType":"Jwt","ExpectedScope":"openid","TokenHandle":null,"JwtId":null,"Claims":{"nbf":1560132728,"exp":1560136328,"iss":"http://localhost:5000","aud":["http://localhost:5000/resources","api1"],"client_id":"ro.client","sub":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","auth_time":1560132728,"idp":"local","scope":["openid","profile","api1"],"amr":"pwd"},"$type":"TokenValidationLog"}
2019-06-09 23:12:08.949 -03:00 [DBG] Creating userinfo response
2019-06-09 23:12:08.949 -03:00 [DBG] Scopes in access token: openid profile api1
2019-06-09 23:12:08.949 -03:00 [DBG] Scopes in access token: openid profile api1
2019-06-09 23:12:08.953 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 23:12:08.953 -03:00 [DBG] Requested claim types: sub name family_name given_name middle_name nickname preferred_username profile picture website gender birthdate zoneinfo locale updated_at
2019-06-09 23:12:08.953 -03:00 [DBG] Scopes in access token: openid profile api1
2019-06-09 23:12:08.956 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 23:12:08.964 -03:00 [INF] Profile service returned the following claim types: sub name given_name family_name website preferred_username
2019-06-09 23:12:08.964 -03:00 [DBG] End userinfo request
2019-06-09 23:12:54.183 -03:00 [DBG] CORS request made for path: /connect/token from origin: http://localhost:3000
2019-06-09 23:12:54.193 -03:00 [DBG] Origin http://localhost:3000 is allowed: false
2019-06-09 23:12:54.193 -03:00 [WRN] CorsPolicyService did not allow origin: http://localhost:3000
2019-06-09 23:12:54.194 -03:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-06-09 23:12:54.195 -03:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-06-09 23:12:54.195 -03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-06-09 23:12:54.195 -03:00 [DBG] Start token request.
2019-06-09 23:12:54.195 -03:00 [DBG] Start client validation
2019-06-09 23:12:54.195 -03:00 [DBG] Start parsing Basic Authentication secret
2019-06-09 23:12:54.195 -03:00 [DBG] Start parsing for secret in post body
2019-06-09 23:12:54.196 -03:00 [DBG] Parser found secret: PostBodySecretParser
2019-06-09 23:12:54.196 -03:00 [DBG] Secret id found: ro.client
2019-06-09 23:12:54.245 -03:00 [DBG] ro.client found in database: true
2019-06-09 23:12:54.245 -03:00 [DBG] client configuration validation for client ro.client succeeded.
2019-06-09 23:12:54.245 -03:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-06-09 23:12:54.245 -03:00 [DBG] Client validation success
2019-06-09 23:12:54.245 -03:00 [INF] {"ClientId":"ro.client","AuthenticationMethod":"SharedSecret","Category":"Authentication","Name":"Client Authentication Success","EventType":"Success","Id":1010,"Message":null,"ActivityId":"0HLND63T1LU34:00000020","TimeStamp":"2019-06-10T02:12:54.0000000Z","ProcessId":26336,"LocalIpAddress":"127.0.0.1:30253","RemoteIpAddress":"::1","$type":"ClientAuthenticationSuccessEvent"}
2019-06-09 23:12:54.245 -03:00 [DBG] Start token request validation
2019-06-09 23:12:54.245 -03:00 [DBG] Start resource owner password token request validation
2019-06-09 23:12:54.258 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 23:12:54.376 -03:00 [DBG] Found ["api1"] API scopes in database
2019-06-09 23:12:54.379 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 23:12:54.384 -03:00 [DBG] Found ["api1"] API scopes in database
2019-06-09 23:12:54.403 -03:00 [INF] Credentials validated for username: alice
2019-06-09 23:12:54.403 -03:00 [INF] {"Username":"alice","Provider":null,"ProviderUserId":null,"SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","DisplayName":"alice","Endpoint":"Token","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HLND63T1LU34:00000020","TimeStamp":"2019-06-10T02:12:54.0000000Z","ProcessId":26336,"LocalIpAddress":"127.0.0.1:30253","RemoteIpAddress":"::1","$type":"UserLoginSuccessEvent"}
2019-06-09 23:12:54.404 -03:00 [INF] {"Username":"alice","Provider":null,"ProviderUserId":null,"SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","DisplayName":null,"Endpoint":"Token","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HLND63T1LU34:00000020","TimeStamp":"2019-06-10T02:12:54.0000000Z","ProcessId":26336,"LocalIpAddress":"127.0.0.1:30253","RemoteIpAddress":"::1","$type":"UserLoginSuccessEvent"}
2019-06-09 23:12:54.404 -03:00 [DBG] Resource owner password token request validation success.
2019-06-09 23:12:54.404 -03:00 [INF] Token request validation success
{"ClientId":"ro.client","ClientName":null,"GrantType":"password","Scopes":"api1 openid profile","AuthorizationCode":null,"RefreshToken":null,"UserName":"alice","AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"grant_type":"password","client_id":"ro.client","client_secret":"***REDACTED***","scope":"openid profile api1","username":"alice","password":"***REDACTED***"},"$type":"TokenRequestValidationLog"}
2019-06-09 23:12:54.404 -03:00 [DBG] Getting claims for access token for client: ro.client
2019-06-09 23:12:54.404 -03:00 [DBG] Getting claims for access token for subject: 4ba1c3a0-b786-421d-b88a-740f38d9cafa
2019-06-09 23:12:54.424 -03:00 [INF] {"ClientId":"ro.client","ClientName":null,"RedirectUri":null,"Endpoint":"Token","SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","Scopes":"openid profile api1","GrantType":"password","Tokens":[{"TokenType":"access_token","TokenValue":"****VTrQ","$type":"Token"}],"Category":"Token","Name":"Token Issued Success","EventType":"Success","Id":2000,"Message":null,"ActivityId":"0HLND63T1LU34:00000020","TimeStamp":"2019-06-10T02:12:54.0000000Z","ProcessId":26336,"LocalIpAddress":"127.0.0.1:30253","RemoteIpAddress":"::1","$type":"TokenIssuedSuccessEvent"}
2019-06-09 23:12:54.424 -03:00 [DBG] Token request success.
2019-06-09 23:12:54.472 -03:00 [DBG] CORS request made for path: /connect/userinfo from origin: http://localhost:3000
2019-06-09 23:12:54.474 -03:00 [DBG] Origin http://localhost:3000 is allowed: false
2019-06-09 23:12:54.474 -03:00 [WRN] CorsPolicyService did not allow origin: http://localhost:3000
2019-06-09 23:12:54.475 -03:00 [DBG] Request path /connect/userinfo matched to endpoint type Userinfo
2019-06-09 23:12:54.475 -03:00 [DBG] Endpoint enabled: Userinfo, successfully created handler: IdentityServer4.Endpoints.UserInfoEndpoint
2019-06-09 23:12:54.475 -03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.UserInfoEndpoint for /connect/userinfo
2019-06-09 23:12:54.475 -03:00 [DBG] Start userinfo request
2019-06-09 23:12:54.475 -03:00 [DBG] Bearer token found in header
2019-06-09 23:12:54.488 -03:00 [DBG] ro.client found in database: true
2019-06-09 23:12:54.489 -03:00 [DBG] client configuration validation for client ro.client succeeded.
2019-06-09 23:12:54.494 -03:00 [DBG] ro.client found in database: true
2019-06-09 23:12:54.494 -03:00 [DBG] client configuration validation for client ro.client succeeded.
2019-06-09 23:12:54.500 -03:00 [DBG] Calling into custom token validator: IdentityServer4.Validation.DefaultCustomTokenValidator
2019-06-09 23:12:54.502 -03:00 [DBG] Token validation success
{"ClientId":null,"ClientName":null,"ValidateLifetime":true,"AccessTokenType":"Jwt","ExpectedScope":"openid","TokenHandle":null,"JwtId":null,"Claims":{"nbf":1560132774,"exp":1560136374,"iss":"http://localhost:5000","aud":["http://localhost:5000/resources","api1"],"client_id":"ro.client","sub":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","auth_time":1560132774,"idp":"local","scope":["openid","profile","api1"],"amr":"pwd"},"$type":"TokenValidationLog"}
2019-06-09 23:12:54.502 -03:00 [DBG] Creating userinfo response
2019-06-09 23:12:54.502 -03:00 [DBG] Scopes in access token: openid profile api1
2019-06-09 23:12:54.503 -03:00 [DBG] Scopes in access token: openid profile api1
2019-06-09 23:12:54.520 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 23:12:54.521 -03:00 [DBG] Requested claim types: sub name family_name given_name middle_name nickname preferred_username profile picture website gender birthdate zoneinfo locale updated_at
2019-06-09 23:12:54.521 -03:00 [DBG] Scopes in access token: openid profile api1
2019-06-09 23:12:54.526 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 23:12:54.532 -03:00 [INF] Profile service returned the following claim types: sub name given_name family_name website preferred_username
2019-06-09 23:12:54.532 -03:00 [DBG] End userinfo request
2019-06-09 23:13:35.199 -03:00 [DBG] CORS request made for path: /connect/token from origin: http://localhost:3000
2019-06-09 23:13:35.214 -03:00 [DBG] Origin http://localhost:3000 is allowed: false
2019-06-09 23:13:35.214 -03:00 [WRN] CorsPolicyService did not allow origin: http://localhost:3000
2019-06-09 23:13:35.215 -03:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-06-09 23:13:35.215 -03:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-06-09 23:13:35.215 -03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-06-09 23:13:35.215 -03:00 [DBG] Start token request.
2019-06-09 23:13:35.215 -03:00 [DBG] Start client validation
2019-06-09 23:13:35.215 -03:00 [DBG] Start parsing Basic Authentication secret
2019-06-09 23:13:35.216 -03:00 [DBG] Start parsing for secret in post body
2019-06-09 23:13:35.216 -03:00 [DBG] Parser found secret: PostBodySecretParser
2019-06-09 23:13:35.216 -03:00 [DBG] Secret id found: ro.client
2019-06-09 23:13:35.265 -03:00 [DBG] ro.client found in database: true
2019-06-09 23:13:35.265 -03:00 [DBG] client configuration validation for client ro.client succeeded.
2019-06-09 23:13:35.266 -03:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-06-09 23:13:35.266 -03:00 [DBG] Client validation success
2019-06-09 23:13:35.266 -03:00 [INF] {"ClientId":"ro.client","AuthenticationMethod":"SharedSecret","Category":"Authentication","Name":"Client Authentication Success","EventType":"Success","Id":1010,"Message":null,"ActivityId":"0HLND63T1LU34:00000023","TimeStamp":"2019-06-10T02:13:35.0000000Z","ProcessId":26336,"LocalIpAddress":"127.0.0.1:30253","RemoteIpAddress":"::1","$type":"ClientAuthenticationSuccessEvent"}
2019-06-09 23:13:35.266 -03:00 [DBG] Start token request validation
2019-06-09 23:13:35.266 -03:00 [DBG] Start resource owner password token request validation
2019-06-09 23:13:35.280 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 23:13:35.393 -03:00 [DBG] Found ["api1"] API scopes in database
2019-06-09 23:13:35.396 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 23:13:35.400 -03:00 [DBG] Found ["api1"] API scopes in database
2019-06-09 23:13:35.419 -03:00 [INF] Credentials validated for username: alice
2019-06-09 23:13:35.419 -03:00 [INF] {"Username":"alice","Provider":null,"ProviderUserId":null,"SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","DisplayName":"alice","Endpoint":"Token","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HLND63T1LU34:00000023","TimeStamp":"2019-06-10T02:13:35.0000000Z","ProcessId":26336,"LocalIpAddress":"127.0.0.1:30253","RemoteIpAddress":"::1","$type":"UserLoginSuccessEvent"}
2019-06-09 23:13:35.420 -03:00 [INF] {"Username":"alice","Provider":null,"ProviderUserId":null,"SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","DisplayName":null,"Endpoint":"Token","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HLND63T1LU34:00000023","TimeStamp":"2019-06-10T02:13:35.0000000Z","ProcessId":26336,"LocalIpAddress":"127.0.0.1:30253","RemoteIpAddress":"::1","$type":"UserLoginSuccessEvent"}
2019-06-09 23:13:35.420 -03:00 [DBG] Resource owner password token request validation success.
2019-06-09 23:13:35.420 -03:00 [INF] Token request validation success
{"ClientId":"ro.client","ClientName":null,"GrantType":"password","Scopes":"api1 openid profile","AuthorizationCode":null,"RefreshToken":null,"UserName":"alice","AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"grant_type":"password","client_id":"ro.client","client_secret":"***REDACTED***","scope":"openid profile api1","username":"alice","password":"***REDACTED***"},"$type":"TokenRequestValidationLog"}
2019-06-09 23:13:35.420 -03:00 [DBG] Getting claims for access token for client: ro.client
2019-06-09 23:13:35.420 -03:00 [DBG] Getting claims for access token for subject: 4ba1c3a0-b786-421d-b88a-740f38d9cafa
2019-06-09 23:13:35.448 -03:00 [INF] {"ClientId":"ro.client","ClientName":null,"RedirectUri":null,"Endpoint":"Token","SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","Scopes":"openid profile api1","GrantType":"password","Tokens":[{"TokenType":"access_token","TokenValue":"****2AVg","$type":"Token"}],"Category":"Token","Name":"Token Issued Success","EventType":"Success","Id":2000,"Message":null,"ActivityId":"0HLND63T1LU34:00000023","TimeStamp":"2019-06-10T02:13:35.0000000Z","ProcessId":26336,"LocalIpAddress":"127.0.0.1:30253","RemoteIpAddress":"::1","$type":"TokenIssuedSuccessEvent"}
2019-06-09 23:13:35.448 -03:00 [DBG] Token request success.
2019-06-09 23:13:35.500 -03:00 [DBG] CORS request made for path: /connect/userinfo from origin: http://localhost:3000
2019-06-09 23:13:35.503 -03:00 [DBG] Origin http://localhost:3000 is allowed: false
2019-06-09 23:13:35.503 -03:00 [WRN] CorsPolicyService did not allow origin: http://localhost:3000
2019-06-09 23:13:35.503 -03:00 [DBG] Request path /connect/userinfo matched to endpoint type Userinfo
2019-06-09 23:13:35.504 -03:00 [DBG] Endpoint enabled: Userinfo, successfully created handler: IdentityServer4.Endpoints.UserInfoEndpoint
2019-06-09 23:13:35.504 -03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.UserInfoEndpoint for /connect/userinfo
2019-06-09 23:13:35.504 -03:00 [DBG] Start userinfo request
2019-06-09 23:13:35.504 -03:00 [DBG] Bearer token found in header
2019-06-09 23:13:35.519 -03:00 [DBG] ro.client found in database: true
2019-06-09 23:13:35.520 -03:00 [DBG] client configuration validation for client ro.client succeeded.
2019-06-09 23:13:35.526 -03:00 [DBG] ro.client found in database: true
2019-06-09 23:13:35.526 -03:00 [DBG] client configuration validation for client ro.client succeeded.
2019-06-09 23:13:35.566 -03:00 [DBG] Calling into custom token validator: IdentityServer4.Validation.DefaultCustomTokenValidator
2019-06-09 23:13:35.566 -03:00 [DBG] Token validation success
{"ClientId":null,"ClientName":null,"ValidateLifetime":true,"AccessTokenType":"Jwt","ExpectedScope":"openid","TokenHandle":null,"JwtId":null,"Claims":{"nbf":1560132815,"exp":1560136415,"iss":"http://localhost:5000","aud":["http://localhost:5000/resources","api1"],"client_id":"ro.client","sub":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","auth_time":1560132815,"idp":"local","scope":["openid","profile","api1"],"amr":"pwd"},"$type":"TokenValidationLog"}
2019-06-09 23:13:35.566 -03:00 [DBG] Creating userinfo response
2019-06-09 23:13:35.566 -03:00 [DBG] Scopes in access token: openid profile api1
2019-06-09 23:13:35.566 -03:00 [DBG] Scopes in access token: openid profile api1
2019-06-09 23:13:35.581 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 23:13:35.581 -03:00 [DBG] Requested claim types: sub name family_name given_name middle_name nickname preferred_username profile picture website gender birthdate zoneinfo locale updated_at
2019-06-09 23:13:35.581 -03:00 [DBG] Scopes in access token: openid profile api1
2019-06-09 23:13:35.584 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 23:13:35.591 -03:00 [INF] Profile service returned the following claim types: sub name given_name family_name website preferred_username
2019-06-09 23:13:35.591 -03:00 [DBG] End userinfo request
2019-06-09 23:13:37.677 -03:00 [DBG] CORS request made for path: /connect/token from origin: http://localhost:3000
2019-06-09 23:13:37.682 -03:00 [DBG] Origin http://localhost:3000 is allowed: false
2019-06-09 23:13:37.682 -03:00 [WRN] CorsPolicyService did not allow origin: http://localhost:3000
2019-06-09 23:13:37.682 -03:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-06-09 23:13:37.683 -03:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-06-09 23:13:37.683 -03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-06-09 23:13:37.683 -03:00 [DBG] Start token request.
2019-06-09 23:13:37.683 -03:00 [DBG] Start client validation
2019-06-09 23:13:37.683 -03:00 [DBG] Start parsing Basic Authentication secret
2019-06-09 23:13:37.683 -03:00 [DBG] Start parsing for secret in post body
2019-06-09 23:13:37.684 -03:00 [DBG] Parser found secret: PostBodySecretParser
2019-06-09 23:13:37.684 -03:00 [DBG] Secret id found: ro.client
2019-06-09 23:13:37.698 -03:00 [DBG] ro.client found in database: true
2019-06-09 23:13:37.698 -03:00 [DBG] client configuration validation for client ro.client succeeded.
2019-06-09 23:13:37.698 -03:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-06-09 23:13:37.698 -03:00 [DBG] Client validation success
2019-06-09 23:13:37.698 -03:00 [INF] {"ClientId":"ro.client","AuthenticationMethod":"SharedSecret","Category":"Authentication","Name":"Client Authentication Success","EventType":"Success","Id":1010,"Message":null,"ActivityId":"0HLND63T1LU34:00000026","TimeStamp":"2019-06-10T02:13:37.0000000Z","ProcessId":26336,"LocalIpAddress":"127.0.0.1:30253","RemoteIpAddress":"::1","$type":"ClientAuthenticationSuccessEvent"}
2019-06-09 23:13:37.699 -03:00 [DBG] Start token request validation
2019-06-09 23:13:37.699 -03:00 [DBG] Start resource owner password token request validation
2019-06-09 23:13:37.703 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 23:13:37.713 -03:00 [DBG] Found ["api1"] API scopes in database
2019-06-09 23:13:37.716 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 23:13:37.723 -03:00 [DBG] Found ["api1"] API scopes in database
2019-06-09 23:13:37.748 -03:00 [INF] Credentials validated for username: alice
2019-06-09 23:13:37.748 -03:00 [INF] {"Username":"alice","Provider":null,"ProviderUserId":null,"SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","DisplayName":"alice","Endpoint":"Token","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HLND63T1LU34:00000026","TimeStamp":"2019-06-10T02:13:37.0000000Z","ProcessId":26336,"LocalIpAddress":"127.0.0.1:30253","RemoteIpAddress":"::1","$type":"UserLoginSuccessEvent"}
2019-06-09 23:13:37.749 -03:00 [INF] {"Username":"alice","Provider":null,"ProviderUserId":null,"SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","DisplayName":null,"Endpoint":"Token","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HLND63T1LU34:00000026","TimeStamp":"2019-06-10T02:13:37.0000000Z","ProcessId":26336,"LocalIpAddress":"127.0.0.1:30253","RemoteIpAddress":"::1","$type":"UserLoginSuccessEvent"}
2019-06-09 23:13:37.749 -03:00 [DBG] Resource owner password token request validation success.
2019-06-09 23:13:37.749 -03:00 [INF] Token request validation success
{"ClientId":"ro.client","ClientName":null,"GrantType":"password","Scopes":"api1 openid profile","AuthorizationCode":null,"RefreshToken":null,"UserName":"alice","AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"grant_type":"password","client_id":"ro.client","client_secret":"***REDACTED***","scope":"openid profile api1","username":"alice","password":"***REDACTED***"},"$type":"TokenRequestValidationLog"}
2019-06-09 23:13:37.749 -03:00 [DBG] Getting claims for access token for client: ro.client
2019-06-09 23:13:37.750 -03:00 [DBG] Getting claims for access token for subject: 4ba1c3a0-b786-421d-b88a-740f38d9cafa
2019-06-09 23:13:37.769 -03:00 [INF] {"ClientId":"ro.client","ClientName":null,"RedirectUri":null,"Endpoint":"Token","SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","Scopes":"openid profile api1","GrantType":"password","Tokens":[{"TokenType":"access_token","TokenValue":"****wiGA","$type":"Token"}],"Category":"Token","Name":"Token Issued Success","EventType":"Success","Id":2000,"Message":null,"ActivityId":"0HLND63T1LU34:00000026","TimeStamp":"2019-06-10T02:13:37.0000000Z","ProcessId":26336,"LocalIpAddress":"127.0.0.1:30253","RemoteIpAddress":"::1","$type":"TokenIssuedSuccessEvent"}
2019-06-09 23:13:37.769 -03:00 [DBG] Token request success.
2019-06-09 23:13:37.794 -03:00 [DBG] CORS request made for path: /connect/userinfo from origin: http://localhost:3000
2019-06-09 23:13:37.797 -03:00 [DBG] Origin http://localhost:3000 is allowed: false
2019-06-09 23:13:37.798 -03:00 [WRN] CorsPolicyService did not allow origin: http://localhost:3000
2019-06-09 23:13:37.798 -03:00 [DBG] Request path /connect/userinfo matched to endpoint type Userinfo
2019-06-09 23:13:37.800 -03:00 [DBG] Endpoint enabled: Userinfo, successfully created handler: IdentityServer4.Endpoints.UserInfoEndpoint
2019-06-09 23:13:37.800 -03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.UserInfoEndpoint for /connect/userinfo
2019-06-09 23:13:37.800 -03:00 [DBG] Start userinfo request
2019-06-09 23:13:37.800 -03:00 [DBG] Bearer token found in header
2019-06-09 23:13:37.813 -03:00 [DBG] ro.client found in database: true
2019-06-09 23:13:37.813 -03:00 [DBG] client configuration validation for client ro.client succeeded.
2019-06-09 23:13:37.819 -03:00 [DBG] ro.client found in database: true
2019-06-09 23:13:37.819 -03:00 [DBG] client configuration validation for client ro.client succeeded.
2019-06-09 23:13:37.825 -03:00 [DBG] Calling into custom token validator: IdentityServer4.Validation.DefaultCustomTokenValidator
2019-06-09 23:13:37.827 -03:00 [DBG] Token validation success
{"ClientId":null,"ClientName":null,"ValidateLifetime":true,"AccessTokenType":"Jwt","ExpectedScope":"openid","TokenHandle":null,"JwtId":null,"Claims":{"nbf":1560132817,"exp":1560136417,"iss":"http://localhost:5000","aud":["http://localhost:5000/resources","api1"],"client_id":"ro.client","sub":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","auth_time":1560132817,"idp":"local","scope":["openid","profile","api1"],"amr":"pwd"},"$type":"TokenValidationLog"}
2019-06-09 23:13:37.827 -03:00 [DBG] Creating userinfo response
2019-06-09 23:13:37.828 -03:00 [DBG] Scopes in access token: openid profile api1
2019-06-09 23:13:37.828 -03:00 [DBG] Scopes in access token: openid profile api1
2019-06-09 23:13:37.831 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 23:13:37.832 -03:00 [DBG] Requested claim types: sub name family_name given_name middle_name nickname preferred_username profile picture website gender birthdate zoneinfo locale updated_at
2019-06-09 23:13:37.832 -03:00 [DBG] Scopes in access token: openid profile api1
2019-06-09 23:13:37.834 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 23:13:37.841 -03:00 [INF] Profile service returned the following claim types: sub name given_name family_name website preferred_username
2019-06-09 23:13:37.841 -03:00 [DBG] End userinfo request
2019-06-09 23:15:25.029 -03:00 [DBG] CORS request made for path: /connect/token from origin: http://localhost:3000
2019-06-09 23:15:25.050 -03:00 [DBG] Origin http://localhost:3000 is allowed: false
2019-06-09 23:15:25.050 -03:00 [WRN] CorsPolicyService did not allow origin: http://localhost:3000
2019-06-09 23:15:25.050 -03:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-06-09 23:15:25.051 -03:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-06-09 23:15:25.051 -03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-06-09 23:15:25.051 -03:00 [DBG] Start token request.
2019-06-09 23:15:25.051 -03:00 [DBG] Start client validation
2019-06-09 23:15:25.051 -03:00 [DBG] Start parsing Basic Authentication secret
2019-06-09 23:15:25.051 -03:00 [DBG] Start parsing for secret in post body
2019-06-09 23:15:25.052 -03:00 [DBG] Parser found secret: PostBodySecretParser
2019-06-09 23:15:25.052 -03:00 [DBG] Secret id found: ro.client
2019-06-09 23:15:25.091 -03:00 [DBG] ro.client found in database: true
2019-06-09 23:15:25.091 -03:00 [DBG] client configuration validation for client ro.client succeeded.
2019-06-09 23:15:25.091 -03:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-06-09 23:15:25.091 -03:00 [DBG] Client validation success
2019-06-09 23:15:25.091 -03:00 [INF] {"ClientId":"ro.client","AuthenticationMethod":"SharedSecret","Category":"Authentication","Name":"Client Authentication Success","EventType":"Success","Id":1010,"Message":null,"ActivityId":"0HLND63T1LU35:00000001","TimeStamp":"2019-06-10T02:15:25.0000000Z","ProcessId":26336,"LocalIpAddress":"127.0.0.1:30253","RemoteIpAddress":"::1","$type":"ClientAuthenticationSuccessEvent"}
2019-06-09 23:15:25.091 -03:00 [DBG] Start token request validation
2019-06-09 23:15:25.092 -03:00 [DBG] Start resource owner password token request validation
2019-06-09 23:15:25.106 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 23:15:25.225 -03:00 [DBG] Found ["api1"] API scopes in database
2019-06-09 23:15:25.227 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 23:15:25.233 -03:00 [DBG] Found ["api1"] API scopes in database
2019-06-09 23:15:25.251 -03:00 [INF] Credentials validated for username: alice
2019-06-09 23:15:25.252 -03:00 [INF] {"Username":"alice","Provider":null,"ProviderUserId":null,"SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","DisplayName":"alice","Endpoint":"Token","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HLND63T1LU35:00000001","TimeStamp":"2019-06-10T02:15:25.0000000Z","ProcessId":26336,"LocalIpAddress":"127.0.0.1:30253","RemoteIpAddress":"::1","$type":"UserLoginSuccessEvent"}
2019-06-09 23:15:25.252 -03:00 [INF] {"Username":"alice","Provider":null,"ProviderUserId":null,"SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","DisplayName":null,"Endpoint":"Token","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HLND63T1LU35:00000001","TimeStamp":"2019-06-10T02:15:25.0000000Z","ProcessId":26336,"LocalIpAddress":"127.0.0.1:30253","RemoteIpAddress":"::1","$type":"UserLoginSuccessEvent"}
2019-06-09 23:15:25.252 -03:00 [DBG] Resource owner password token request validation success.
2019-06-09 23:15:25.252 -03:00 [INF] Token request validation success
{"ClientId":"ro.client","ClientName":null,"GrantType":"password","Scopes":"api1 openid profile","AuthorizationCode":null,"RefreshToken":null,"UserName":"alice","AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"grant_type":"password","client_id":"ro.client","client_secret":"***REDACTED***","scope":"openid profile api1","username":"alice","password":"***REDACTED***"},"$type":"TokenRequestValidationLog"}
2019-06-09 23:15:25.252 -03:00 [DBG] Getting claims for access token for client: ro.client
2019-06-09 23:15:25.252 -03:00 [DBG] Getting claims for access token for subject: 4ba1c3a0-b786-421d-b88a-740f38d9cafa
2019-06-09 23:15:25.280 -03:00 [INF] {"ClientId":"ro.client","ClientName":null,"RedirectUri":null,"Endpoint":"Token","SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","Scopes":"openid profile api1","GrantType":"password","Tokens":[{"TokenType":"access_token","TokenValue":"****q3kw","$type":"Token"}],"Category":"Token","Name":"Token Issued Success","EventType":"Success","Id":2000,"Message":null,"ActivityId":"0HLND63T1LU35:00000001","TimeStamp":"2019-06-10T02:15:25.0000000Z","ProcessId":26336,"LocalIpAddress":"127.0.0.1:30253","RemoteIpAddress":"::1","$type":"TokenIssuedSuccessEvent"}
2019-06-09 23:15:25.280 -03:00 [DBG] Token request success.
2019-06-09 23:15:25.321 -03:00 [DBG] CORS request made for path: /connect/userinfo from origin: http://localhost:3000
2019-06-09 23:15:25.323 -03:00 [DBG] Origin http://localhost:3000 is allowed: false
2019-06-09 23:15:25.323 -03:00 [WRN] CorsPolicyService did not allow origin: http://localhost:3000
2019-06-09 23:15:25.324 -03:00 [DBG] Request path /connect/userinfo matched to endpoint type Userinfo
2019-06-09 23:15:25.324 -03:00 [DBG] Endpoint enabled: Userinfo, successfully created handler: IdentityServer4.Endpoints.UserInfoEndpoint
2019-06-09 23:15:25.324 -03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.UserInfoEndpoint for /connect/userinfo
2019-06-09 23:15:25.324 -03:00 [DBG] Start userinfo request
2019-06-09 23:15:25.324 -03:00 [DBG] Bearer token found in header
2019-06-09 23:15:25.338 -03:00 [DBG] ro.client found in database: true
2019-06-09 23:15:25.338 -03:00 [DBG] client configuration validation for client ro.client succeeded.
2019-06-09 23:15:25.345 -03:00 [DBG] ro.client found in database: true
2019-06-09 23:15:25.345 -03:00 [DBG] client configuration validation for client ro.client succeeded.
2019-06-09 23:15:25.353 -03:00 [DBG] Calling into custom token validator: IdentityServer4.Validation.DefaultCustomTokenValidator
2019-06-09 23:15:25.354 -03:00 [DBG] Token validation success
{"ClientId":null,"ClientName":null,"ValidateLifetime":true,"AccessTokenType":"Jwt","ExpectedScope":"openid","TokenHandle":null,"JwtId":null,"Claims":{"nbf":1560132925,"exp":1560136525,"iss":"http://localhost:5000","aud":["http://localhost:5000/resources","api1"],"client_id":"ro.client","sub":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","auth_time":1560132925,"idp":"local","scope":["openid","profile","api1"],"amr":"pwd"},"$type":"TokenValidationLog"}
2019-06-09 23:15:25.354 -03:00 [DBG] Creating userinfo response
2019-06-09 23:15:25.354 -03:00 [DBG] Scopes in access token: openid profile api1
2019-06-09 23:15:25.354 -03:00 [DBG] Scopes in access token: openid profile api1
2019-06-09 23:15:25.367 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 23:15:25.368 -03:00 [DBG] Requested claim types: sub name family_name given_name middle_name nickname preferred_username profile picture website gender birthdate zoneinfo locale updated_at
2019-06-09 23:15:25.368 -03:00 [DBG] Scopes in access token: openid profile api1
2019-06-09 23:15:25.371 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 23:15:25.386 -03:00 [INF] Profile service returned the following claim types: sub name given_name family_name website preferred_username
2019-06-09 23:15:25.386 -03:00 [DBG] End userinfo request
2019-06-09 23:15:55.994 -03:00 [DBG] CORS request made for path: /connect/token from origin: http://localhost:3000
2019-06-09 23:15:56.001 -03:00 [DBG] Origin http://localhost:3000 is allowed: false
2019-06-09 23:15:56.001 -03:00 [WRN] CorsPolicyService did not allow origin: http://localhost:3000
2019-06-09 23:15:56.001 -03:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-06-09 23:15:56.001 -03:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-06-09 23:15:56.002 -03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-06-09 23:15:56.002 -03:00 [DBG] Start token request.
2019-06-09 23:15:56.002 -03:00 [DBG] Start client validation
2019-06-09 23:15:56.002 -03:00 [DBG] Start parsing Basic Authentication secret
2019-06-09 23:15:56.002 -03:00 [DBG] Start parsing for secret in post body
2019-06-09 23:15:56.002 -03:00 [DBG] Parser found secret: PostBodySecretParser
2019-06-09 23:15:56.002 -03:00 [DBG] Secret id found: ro.client
2019-06-09 23:15:56.045 -03:00 [DBG] ro.client found in database: true
2019-06-09 23:15:56.046 -03:00 [DBG] client configuration validation for client ro.client succeeded.
2019-06-09 23:15:56.046 -03:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-06-09 23:15:56.046 -03:00 [DBG] Client validation success
2019-06-09 23:15:56.046 -03:00 [INF] {"ClientId":"ro.client","AuthenticationMethod":"SharedSecret","Category":"Authentication","Name":"Client Authentication Success","EventType":"Success","Id":1010,"Message":null,"ActivityId":"0HLND63T1LU35:00000004","TimeStamp":"2019-06-10T02:15:56.0000000Z","ProcessId":26336,"LocalIpAddress":"127.0.0.1:30253","RemoteIpAddress":"::1","$type":"ClientAuthenticationSuccessEvent"}
2019-06-09 23:15:56.046 -03:00 [DBG] Start token request validation
2019-06-09 23:15:56.046 -03:00 [DBG] Start resource owner password token request validation
2019-06-09 23:15:56.060 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 23:15:56.190 -03:00 [DBG] Found ["api1"] API scopes in database
2019-06-09 23:15:56.194 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 23:15:56.200 -03:00 [DBG] Found ["api1"] API scopes in database
2019-06-09 23:15:56.230 -03:00 [INF] Credentials validated for username: alice
2019-06-09 23:15:56.231 -03:00 [INF] {"Username":"alice","Provider":null,"ProviderUserId":null,"SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","DisplayName":"alice","Endpoint":"Token","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HLND63T1LU35:00000004","TimeStamp":"2019-06-10T02:15:56.0000000Z","ProcessId":26336,"LocalIpAddress":"127.0.0.1:30253","RemoteIpAddress":"::1","$type":"UserLoginSuccessEvent"}
2019-06-09 23:15:56.231 -03:00 [INF] {"Username":"alice","Provider":null,"ProviderUserId":null,"SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","DisplayName":null,"Endpoint":"Token","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HLND63T1LU35:00000004","TimeStamp":"2019-06-10T02:15:56.0000000Z","ProcessId":26336,"LocalIpAddress":"127.0.0.1:30253","RemoteIpAddress":"::1","$type":"UserLoginSuccessEvent"}
2019-06-09 23:15:56.231 -03:00 [DBG] Resource owner password token request validation success.
2019-06-09 23:15:56.232 -03:00 [INF] Token request validation success
{"ClientId":"ro.client","ClientName":null,"GrantType":"password","Scopes":"api1 openid profile","AuthorizationCode":null,"RefreshToken":null,"UserName":"alice","AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"grant_type":"password","client_id":"ro.client","client_secret":"***REDACTED***","scope":"openid profile api1","username":"alice","password":"***REDACTED***"},"$type":"TokenRequestValidationLog"}
2019-06-09 23:15:56.232 -03:00 [DBG] Getting claims for access token for client: ro.client
2019-06-09 23:15:56.232 -03:00 [DBG] Getting claims for access token for subject: 4ba1c3a0-b786-421d-b88a-740f38d9cafa
2019-06-09 23:15:56.256 -03:00 [INF] {"ClientId":"ro.client","ClientName":null,"RedirectUri":null,"Endpoint":"Token","SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","Scopes":"openid profile api1","GrantType":"password","Tokens":[{"TokenType":"access_token","TokenValue":"****QbFQ","$type":"Token"}],"Category":"Token","Name":"Token Issued Success","EventType":"Success","Id":2000,"Message":null,"ActivityId":"0HLND63T1LU35:00000004","TimeStamp":"2019-06-10T02:15:56.0000000Z","ProcessId":26336,"LocalIpAddress":"127.0.0.1:30253","RemoteIpAddress":"::1","$type":"TokenIssuedSuccessEvent"}
2019-06-09 23:15:56.256 -03:00 [DBG] Token request success.
2019-06-09 23:15:56.305 -03:00 [DBG] CORS request made for path: /connect/userinfo from origin: http://localhost:3000
2019-06-09 23:15:56.309 -03:00 [DBG] Origin http://localhost:3000 is allowed: false
2019-06-09 23:15:56.309 -03:00 [WRN] CorsPolicyService did not allow origin: http://localhost:3000
2019-06-09 23:15:56.309 -03:00 [DBG] Request path /connect/userinfo matched to endpoint type Userinfo
2019-06-09 23:15:56.309 -03:00 [DBG] Endpoint enabled: Userinfo, successfully created handler: IdentityServer4.Endpoints.UserInfoEndpoint
2019-06-09 23:15:56.309 -03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.UserInfoEndpoint for /connect/userinfo
2019-06-09 23:15:56.310 -03:00 [DBG] Start userinfo request
2019-06-09 23:15:56.310 -03:00 [DBG] Bearer token found in header
2019-06-09 23:15:56.319 -03:00 [DBG] ro.client found in database: true
2019-06-09 23:15:56.319 -03:00 [DBG] client configuration validation for client ro.client succeeded.
2019-06-09 23:15:56.326 -03:00 [DBG] ro.client found in database: true
2019-06-09 23:15:56.326 -03:00 [DBG] client configuration validation for client ro.client succeeded.
2019-06-09 23:15:56.331 -03:00 [DBG] Calling into custom token validator: IdentityServer4.Validation.DefaultCustomTokenValidator
2019-06-09 23:15:56.332 -03:00 [DBG] Token validation success
{"ClientId":null,"ClientName":null,"ValidateLifetime":true,"AccessTokenType":"Jwt","ExpectedScope":"openid","TokenHandle":null,"JwtId":null,"Claims":{"nbf":1560132956,"exp":1560136556,"iss":"http://localhost:5000","aud":["http://localhost:5000/resources","api1"],"client_id":"ro.client","sub":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","auth_time":1560132956,"idp":"local","scope":["openid","profile","api1"],"amr":"pwd"},"$type":"TokenValidationLog"}
2019-06-09 23:15:56.332 -03:00 [DBG] Creating userinfo response
2019-06-09 23:15:56.332 -03:00 [DBG] Scopes in access token: openid profile api1
2019-06-09 23:15:56.332 -03:00 [DBG] Scopes in access token: openid profile api1
2019-06-09 23:15:56.345 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 23:15:56.345 -03:00 [DBG] Requested claim types: sub name family_name given_name middle_name nickname preferred_username profile picture website gender birthdate zoneinfo locale updated_at
2019-06-09 23:15:56.346 -03:00 [DBG] Scopes in access token: openid profile api1
2019-06-09 23:15:56.348 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 23:15:56.368 -03:00 [INF] Profile service returned the following claim types: sub name given_name family_name website preferred_username
2019-06-09 23:15:56.368 -03:00 [DBG] End userinfo request
2019-06-09 23:16:34.186 -03:00 [DBG] CORS request made for path: /connect/token from origin: http://localhost:3000
2019-06-09 23:16:34.195 -03:00 [DBG] Origin http://localhost:3000 is allowed: false
2019-06-09 23:16:34.195 -03:00 [WRN] CorsPolicyService did not allow origin: http://localhost:3000
2019-06-09 23:16:34.195 -03:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-06-09 23:16:34.196 -03:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-06-09 23:16:34.196 -03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-06-09 23:16:34.196 -03:00 [DBG] Start token request.
2019-06-09 23:16:34.196 -03:00 [DBG] Start client validation
2019-06-09 23:16:34.196 -03:00 [DBG] Start parsing Basic Authentication secret
2019-06-09 23:16:34.197 -03:00 [DBG] Start parsing for secret in post body
2019-06-09 23:16:34.198 -03:00 [DBG] Parser found secret: PostBodySecretParser
2019-06-09 23:16:34.198 -03:00 [DBG] Secret id found: ro.client
2019-06-09 23:16:34.217 -03:00 [DBG] ro.client found in database: true
2019-06-09 23:16:34.217 -03:00 [DBG] client configuration validation for client ro.client succeeded.
2019-06-09 23:16:34.217 -03:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-06-09 23:16:34.217 -03:00 [DBG] Client validation success
2019-06-09 23:16:34.217 -03:00 [INF] {"ClientId":"ro.client","AuthenticationMethod":"SharedSecret","Category":"Authentication","Name":"Client Authentication Success","EventType":"Success","Id":1010,"Message":null,"ActivityId":"0HLND63T1LU35:00000007","TimeStamp":"2019-06-10T02:16:34.0000000Z","ProcessId":26336,"LocalIpAddress":"127.0.0.1:30253","RemoteIpAddress":"::1","$type":"ClientAuthenticationSuccessEvent"}
2019-06-09 23:16:34.217 -03:00 [DBG] Start token request validation
2019-06-09 23:16:34.218 -03:00 [DBG] Start resource owner password token request validation
2019-06-09 23:16:34.234 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 23:16:34.244 -03:00 [DBG] Found ["api1"] API scopes in database
2019-06-09 23:16:34.250 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 23:16:34.257 -03:00 [DBG] Found ["api1"] API scopes in database
2019-06-09 23:16:34.280 -03:00 [INF] Credentials validated for username: alice
2019-06-09 23:16:34.281 -03:00 [INF] {"Username":"alice","Provider":null,"ProviderUserId":null,"SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","DisplayName":"alice","Endpoint":"Token","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HLND63T1LU35:00000007","TimeStamp":"2019-06-10T02:16:34.0000000Z","ProcessId":26336,"LocalIpAddress":"127.0.0.1:30253","RemoteIpAddress":"::1","$type":"UserLoginSuccessEvent"}
2019-06-09 23:16:34.282 -03:00 [INF] {"Username":"alice","Provider":null,"ProviderUserId":null,"SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","DisplayName":null,"Endpoint":"Token","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HLND63T1LU35:00000007","TimeStamp":"2019-06-10T02:16:34.0000000Z","ProcessId":26336,"LocalIpAddress":"127.0.0.1:30253","RemoteIpAddress":"::1","$type":"UserLoginSuccessEvent"}
2019-06-09 23:16:34.283 -03:00 [DBG] Resource owner password token request validation success.
2019-06-09 23:16:34.284 -03:00 [INF] Token request validation success
{"ClientId":"ro.client","ClientName":null,"GrantType":"password","Scopes":"api1 openid profile","AuthorizationCode":null,"RefreshToken":null,"UserName":"alice","AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"grant_type":"password","client_id":"ro.client","client_secret":"***REDACTED***","scope":"openid profile api1","username":"alice","password":"***REDACTED***"},"$type":"TokenRequestValidationLog"}
2019-06-09 23:16:34.284 -03:00 [DBG] Getting claims for access token for client: ro.client
2019-06-09 23:16:34.285 -03:00 [DBG] Getting claims for access token for subject: 4ba1c3a0-b786-421d-b88a-740f38d9cafa
2019-06-09 23:16:34.301 -03:00 [INF] {"ClientId":"ro.client","ClientName":null,"RedirectUri":null,"Endpoint":"Token","SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","Scopes":"openid profile api1","GrantType":"password","Tokens":[{"TokenType":"access_token","TokenValue":"****rM8Q","$type":"Token"}],"Category":"Token","Name":"Token Issued Success","EventType":"Success","Id":2000,"Message":null,"ActivityId":"0HLND63T1LU35:00000007","TimeStamp":"2019-06-10T02:16:34.0000000Z","ProcessId":26336,"LocalIpAddress":"127.0.0.1:30253","RemoteIpAddress":"::1","$type":"TokenIssuedSuccessEvent"}
2019-06-09 23:16:34.301 -03:00 [DBG] Token request success.
2019-06-09 23:16:34.345 -03:00 [DBG] CORS request made for path: /connect/userinfo from origin: http://localhost:3000
2019-06-09 23:16:34.355 -03:00 [DBG] Origin http://localhost:3000 is allowed: false
2019-06-09 23:16:34.355 -03:00 [WRN] CorsPolicyService did not allow origin: http://localhost:3000
2019-06-09 23:16:34.356 -03:00 [DBG] Request path /connect/userinfo matched to endpoint type Userinfo
2019-06-09 23:16:34.356 -03:00 [DBG] Endpoint enabled: Userinfo, successfully created handler: IdentityServer4.Endpoints.UserInfoEndpoint
2019-06-09 23:16:34.356 -03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.UserInfoEndpoint for /connect/userinfo
2019-06-09 23:16:34.356 -03:00 [DBG] Start userinfo request
2019-06-09 23:16:34.356 -03:00 [DBG] Bearer token found in header
2019-06-09 23:16:34.371 -03:00 [DBG] ro.client found in database: true
2019-06-09 23:16:34.371 -03:00 [DBG] client configuration validation for client ro.client succeeded.
2019-06-09 23:16:34.376 -03:00 [DBG] ro.client found in database: true
2019-06-09 23:16:34.377 -03:00 [DBG] client configuration validation for client ro.client succeeded.
2019-06-09 23:16:34.383 -03:00 [DBG] Calling into custom token validator: IdentityServer4.Validation.DefaultCustomTokenValidator
2019-06-09 23:16:34.383 -03:00 [DBG] Token validation success
{"ClientId":null,"ClientName":null,"ValidateLifetime":true,"AccessTokenType":"Jwt","ExpectedScope":"openid","TokenHandle":null,"JwtId":null,"Claims":{"nbf":1560132994,"exp":1560136594,"iss":"http://localhost:5000","aud":["http://localhost:5000/resources","api1"],"client_id":"ro.client","sub":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","auth_time":1560132994,"idp":"local","scope":["openid","profile","api1"],"amr":"pwd"},"$type":"TokenValidationLog"}
2019-06-09 23:16:34.383 -03:00 [DBG] Creating userinfo response
2019-06-09 23:16:34.384 -03:00 [DBG] Scopes in access token: openid profile api1
2019-06-09 23:16:34.384 -03:00 [DBG] Scopes in access token: openid profile api1
2019-06-09 23:16:34.387 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 23:16:34.388 -03:00 [DBG] Requested claim types: sub name family_name given_name middle_name nickname preferred_username profile picture website gender birthdate zoneinfo locale updated_at
2019-06-09 23:16:34.388 -03:00 [DBG] Scopes in access token: openid profile api1
2019-06-09 23:16:34.391 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 23:16:34.397 -03:00 [INF] Profile service returned the following claim types: sub name given_name family_name website preferred_username
2019-06-09 23:16:34.398 -03:00 [DBG] End userinfo request
2019-06-09 23:16:37.686 -03:00 [DBG] CORS request made for path: /connect/token from origin: http://localhost:3000
2019-06-09 23:16:37.692 -03:00 [DBG] Origin http://localhost:3000 is allowed: false
2019-06-09 23:16:37.692 -03:00 [WRN] CorsPolicyService did not allow origin: http://localhost:3000
2019-06-09 23:16:37.693 -03:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-06-09 23:16:37.693 -03:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-06-09 23:16:37.693 -03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-06-09 23:16:37.693 -03:00 [DBG] Start token request.
2019-06-09 23:16:37.693 -03:00 [DBG] Start client validation
2019-06-09 23:16:37.693 -03:00 [DBG] Start parsing Basic Authentication secret
2019-06-09 23:16:37.693 -03:00 [DBG] Start parsing for secret in post body
2019-06-09 23:16:37.694 -03:00 [DBG] Parser found secret: PostBodySecretParser
2019-06-09 23:16:37.694 -03:00 [DBG] Secret id found: ro.client
2019-06-09 23:16:37.759 -03:00 [DBG] ro.client found in database: true
2019-06-09 23:16:37.759 -03:00 [DBG] client configuration validation for client ro.client succeeded.
2019-06-09 23:16:37.759 -03:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-06-09 23:16:37.759 -03:00 [DBG] Client validation success
2019-06-09 23:16:37.759 -03:00 [INF] {"ClientId":"ro.client","AuthenticationMethod":"SharedSecret","Category":"Authentication","Name":"Client Authentication Success","EventType":"Success","Id":1010,"Message":null,"ActivityId":"0HLND63T1LU35:0000000A","TimeStamp":"2019-06-10T02:16:37.0000000Z","ProcessId":26336,"LocalIpAddress":"127.0.0.1:30253","RemoteIpAddress":"::1","$type":"ClientAuthenticationSuccessEvent"}
2019-06-09 23:16:37.760 -03:00 [DBG] Start token request validation
2019-06-09 23:16:37.760 -03:00 [DBG] Start resource owner password token request validation
2019-06-09 23:16:37.778 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 23:16:37.921 -03:00 [DBG] Found ["api1"] API scopes in database
2019-06-09 23:16:37.931 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 23:16:38.104 -03:00 [DBG] Found ["api1"] API scopes in database
2019-06-09 23:16:38.123 -03:00 [INF] Credentials validated for username: alice
2019-06-09 23:16:38.124 -03:00 [INF] {"Username":"alice","Provider":null,"ProviderUserId":null,"SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","DisplayName":"alice","Endpoint":"Token","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HLND63T1LU35:0000000A","TimeStamp":"2019-06-10T02:16:38.0000000Z","ProcessId":26336,"LocalIpAddress":"127.0.0.1:30253","RemoteIpAddress":"::1","$type":"UserLoginSuccessEvent"}
2019-06-09 23:16:38.124 -03:00 [INF] {"Username":"alice","Provider":null,"ProviderUserId":null,"SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","DisplayName":null,"Endpoint":"Token","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HLND63T1LU35:0000000A","TimeStamp":"2019-06-10T02:16:38.0000000Z","ProcessId":26336,"LocalIpAddress":"127.0.0.1:30253","RemoteIpAddress":"::1","$type":"UserLoginSuccessEvent"}
2019-06-09 23:16:38.124 -03:00 [DBG] Resource owner password token request validation success.
2019-06-09 23:16:38.124 -03:00 [INF] Token request validation success
{"ClientId":"ro.client","ClientName":null,"GrantType":"password","Scopes":"api1 openid profile","AuthorizationCode":null,"RefreshToken":null,"UserName":"alice","AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"grant_type":"password","client_id":"ro.client","client_secret":"***REDACTED***","scope":"openid profile api1","username":"alice","password":"***REDACTED***"},"$type":"TokenRequestValidationLog"}
2019-06-09 23:16:38.124 -03:00 [DBG] Getting claims for access token for client: ro.client
2019-06-09 23:16:38.124 -03:00 [DBG] Getting claims for access token for subject: 4ba1c3a0-b786-421d-b88a-740f38d9cafa
2019-06-09 23:16:38.140 -03:00 [INF] {"ClientId":"ro.client","ClientName":null,"RedirectUri":null,"Endpoint":"Token","SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","Scopes":"openid profile api1","GrantType":"password","Tokens":[{"TokenType":"access_token","TokenValue":"****noMw","$type":"Token"}],"Category":"Token","Name":"Token Issued Success","EventType":"Success","Id":2000,"Message":null,"ActivityId":"0HLND63T1LU35:0000000A","TimeStamp":"2019-06-10T02:16:38.0000000Z","ProcessId":26336,"LocalIpAddress":"127.0.0.1:30253","RemoteIpAddress":"::1","$type":"TokenIssuedSuccessEvent"}
2019-06-09 23:16:38.140 -03:00 [DBG] Token request success.
2019-06-09 23:16:38.160 -03:00 [DBG] CORS request made for path: /connect/userinfo from origin: http://localhost:3000
2019-06-09 23:16:38.167 -03:00 [DBG] Origin http://localhost:3000 is allowed: false
2019-06-09 23:16:38.167 -03:00 [WRN] CorsPolicyService did not allow origin: http://localhost:3000
2019-06-09 23:16:38.168 -03:00 [DBG] Request path /connect/userinfo matched to endpoint type Userinfo
2019-06-09 23:16:38.169 -03:00 [DBG] Endpoint enabled: Userinfo, successfully created handler: IdentityServer4.Endpoints.UserInfoEndpoint
2019-06-09 23:16:38.169 -03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.UserInfoEndpoint for /connect/userinfo
2019-06-09 23:16:38.169 -03:00 [DBG] Start userinfo request
2019-06-09 23:16:38.169 -03:00 [DBG] Bearer token found in header
2019-06-09 23:16:38.212 -03:00 [DBG] ro.client found in database: true
2019-06-09 23:16:38.212 -03:00 [DBG] client configuration validation for client ro.client succeeded.
2019-06-09 23:16:38.255 -03:00 [DBG] ro.client found in database: true
2019-06-09 23:16:38.255 -03:00 [DBG] client configuration validation for client ro.client succeeded.
2019-06-09 23:16:38.262 -03:00 [DBG] Calling into custom token validator: IdentityServer4.Validation.DefaultCustomTokenValidator
2019-06-09 23:16:38.263 -03:00 [DBG] Token validation success
{"ClientId":null,"ClientName":null,"ValidateLifetime":true,"AccessTokenType":"Jwt","ExpectedScope":"openid","TokenHandle":null,"JwtId":null,"Claims":{"nbf":1560132998,"exp":1560136598,"iss":"http://localhost:5000","aud":["http://localhost:5000/resources","api1"],"client_id":"ro.client","sub":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","auth_time":1560132998,"idp":"local","scope":["openid","profile","api1"],"amr":"pwd"},"$type":"TokenValidationLog"}
2019-06-09 23:16:38.263 -03:00 [DBG] Creating userinfo response
2019-06-09 23:16:38.263 -03:00 [DBG] Scopes in access token: openid profile api1
2019-06-09 23:16:38.264 -03:00 [DBG] Scopes in access token: openid profile api1
2019-06-09 23:16:38.280 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 23:16:38.280 -03:00 [DBG] Requested claim types: sub name family_name given_name middle_name nickname preferred_username profile picture website gender birthdate zoneinfo locale updated_at
2019-06-09 23:16:38.280 -03:00 [DBG] Scopes in access token: openid profile api1
2019-06-09 23:16:38.295 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 23:16:38.306 -03:00 [INF] Profile service returned the following claim types: sub name given_name family_name website preferred_username
2019-06-09 23:16:38.306 -03:00 [DBG] End userinfo request
2019-06-09 23:17:17.328 -03:00 [DBG] CORS request made for path: /connect/token from origin: http://localhost:3000
2019-06-09 23:17:17.333 -03:00 [DBG] Origin http://localhost:3000 is allowed: false
2019-06-09 23:17:17.334 -03:00 [WRN] CorsPolicyService did not allow origin: http://localhost:3000
2019-06-09 23:17:17.334 -03:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-06-09 23:17:17.334 -03:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-06-09 23:17:17.335 -03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-06-09 23:17:17.335 -03:00 [DBG] Start token request.
2019-06-09 23:17:17.335 -03:00 [DBG] Start client validation
2019-06-09 23:17:17.335 -03:00 [DBG] Start parsing Basic Authentication secret
2019-06-09 23:17:17.335 -03:00 [DBG] Start parsing for secret in post body
2019-06-09 23:17:17.336 -03:00 [DBG] Parser found secret: PostBodySecretParser
2019-06-09 23:17:17.336 -03:00 [DBG] Secret id found: ro.client
2019-06-09 23:17:17.380 -03:00 [DBG] ro.client found in database: true
2019-06-09 23:17:17.380 -03:00 [DBG] client configuration validation for client ro.client succeeded.
2019-06-09 23:17:17.380 -03:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-06-09 23:17:17.380 -03:00 [DBG] Client validation success
2019-06-09 23:17:17.380 -03:00 [INF] {"ClientId":"ro.client","AuthenticationMethod":"SharedSecret","Category":"Authentication","Name":"Client Authentication Success","EventType":"Success","Id":1010,"Message":null,"ActivityId":"0HLND63T1LU35:0000000C","TimeStamp":"2019-06-10T02:17:17.0000000Z","ProcessId":26336,"LocalIpAddress":"127.0.0.1:30253","RemoteIpAddress":"::1","$type":"ClientAuthenticationSuccessEvent"}
2019-06-09 23:17:17.381 -03:00 [DBG] Start token request validation
2019-06-09 23:17:17.381 -03:00 [DBG] Start resource owner password token request validation
2019-06-09 23:17:17.396 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 23:17:17.515 -03:00 [DBG] Found ["api1"] API scopes in database
2019-06-09 23:17:17.518 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 23:17:17.525 -03:00 [DBG] Found ["api1"] API scopes in database
2019-06-09 23:17:17.545 -03:00 [INF] Credentials validated for username: alice
2019-06-09 23:17:17.545 -03:00 [INF] {"Username":"alice","Provider":null,"ProviderUserId":null,"SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","DisplayName":"alice","Endpoint":"Token","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HLND63T1LU35:0000000C","TimeStamp":"2019-06-10T02:17:17.0000000Z","ProcessId":26336,"LocalIpAddress":"127.0.0.1:30253","RemoteIpAddress":"::1","$type":"UserLoginSuccessEvent"}
2019-06-09 23:17:17.546 -03:00 [INF] {"Username":"alice","Provider":null,"ProviderUserId":null,"SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","DisplayName":null,"Endpoint":"Token","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HLND63T1LU35:0000000C","TimeStamp":"2019-06-10T02:17:17.0000000Z","ProcessId":26336,"LocalIpAddress":"127.0.0.1:30253","RemoteIpAddress":"::1","$type":"UserLoginSuccessEvent"}
2019-06-09 23:17:17.546 -03:00 [DBG] Resource owner password token request validation success.
2019-06-09 23:17:17.546 -03:00 [INF] Token request validation success
{"ClientId":"ro.client","ClientName":null,"GrantType":"password","Scopes":"api1 openid profile","AuthorizationCode":null,"RefreshToken":null,"UserName":"alice","AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"grant_type":"password","client_id":"ro.client","client_secret":"***REDACTED***","scope":"openid profile api1","username":"alice","password":"***REDACTED***"},"$type":"TokenRequestValidationLog"}
2019-06-09 23:17:17.546 -03:00 [DBG] Getting claims for access token for client: ro.client
2019-06-09 23:17:17.546 -03:00 [DBG] Getting claims for access token for subject: 4ba1c3a0-b786-421d-b88a-740f38d9cafa
2019-06-09 23:17:17.563 -03:00 [INF] {"ClientId":"ro.client","ClientName":null,"RedirectUri":null,"Endpoint":"Token","SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","Scopes":"openid profile api1","GrantType":"password","Tokens":[{"TokenType":"access_token","TokenValue":"****fS2Q","$type":"Token"}],"Category":"Token","Name":"Token Issued Success","EventType":"Success","Id":2000,"Message":null,"ActivityId":"0HLND63T1LU35:0000000C","TimeStamp":"2019-06-10T02:17:17.0000000Z","ProcessId":26336,"LocalIpAddress":"127.0.0.1:30253","RemoteIpAddress":"::1","$type":"TokenIssuedSuccessEvent"}
2019-06-09 23:17:17.564 -03:00 [DBG] Token request success.
2019-06-09 23:17:17.619 -03:00 [DBG] CORS request made for path: /connect/userinfo from origin: http://localhost:3000
2019-06-09 23:17:17.623 -03:00 [DBG] Origin http://localhost:3000 is allowed: false
2019-06-09 23:17:17.624 -03:00 [WRN] CorsPolicyService did not allow origin: http://localhost:3000
2019-06-09 23:17:17.624 -03:00 [DBG] Request path /connect/userinfo matched to endpoint type Userinfo
2019-06-09 23:17:17.624 -03:00 [DBG] Endpoint enabled: Userinfo, successfully created handler: IdentityServer4.Endpoints.UserInfoEndpoint
2019-06-09 23:17:17.624 -03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.UserInfoEndpoint for /connect/userinfo
2019-06-09 23:17:17.624 -03:00 [DBG] Start userinfo request
2019-06-09 23:17:17.624 -03:00 [DBG] Bearer token found in header
2019-06-09 23:17:17.637 -03:00 [DBG] ro.client found in database: true
2019-06-09 23:17:17.637 -03:00 [DBG] client configuration validation for client ro.client succeeded.
2019-06-09 23:17:17.645 -03:00 [DBG] ro.client found in database: true
2019-06-09 23:17:17.645 -03:00 [DBG] client configuration validation for client ro.client succeeded.
2019-06-09 23:17:17.665 -03:00 [DBG] Calling into custom token validator: IdentityServer4.Validation.DefaultCustomTokenValidator
2019-06-09 23:17:17.666 -03:00 [DBG] Token validation success
{"ClientId":null,"ClientName":null,"ValidateLifetime":true,"AccessTokenType":"Jwt","ExpectedScope":"openid","TokenHandle":null,"JwtId":null,"Claims":{"nbf":1560133037,"exp":1560136637,"iss":"http://localhost:5000","aud":["http://localhost:5000/resources","api1"],"client_id":"ro.client","sub":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","auth_time":1560133037,"idp":"local","scope":["openid","profile","api1"],"amr":"pwd"},"$type":"TokenValidationLog"}
2019-06-09 23:17:17.666 -03:00 [DBG] Creating userinfo response
2019-06-09 23:17:17.666 -03:00 [DBG] Scopes in access token: openid profile api1
2019-06-09 23:17:17.666 -03:00 [DBG] Scopes in access token: openid profile api1
2019-06-09 23:17:17.681 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 23:17:17.681 -03:00 [DBG] Requested claim types: sub name family_name given_name middle_name nickname preferred_username profile picture website gender birthdate zoneinfo locale updated_at
2019-06-09 23:17:17.681 -03:00 [DBG] Scopes in access token: openid profile api1
2019-06-09 23:17:17.684 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 23:17:17.691 -03:00 [INF] Profile service returned the following claim types: sub name given_name family_name website preferred_username
2019-06-09 23:17:17.691 -03:00 [DBG] End userinfo request
2019-06-09 23:18:44.988 -03:00 [DBG] CORS request made for path: /connect/token from origin: http://localhost:3000
2019-06-09 23:18:45.045 -03:00 [DBG] Origin http://localhost:3000 is allowed: false
2019-06-09 23:18:45.045 -03:00 [WRN] CorsPolicyService did not allow origin: http://localhost:3000
2019-06-09 23:18:45.045 -03:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-06-09 23:18:45.046 -03:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-06-09 23:18:45.046 -03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-06-09 23:18:45.046 -03:00 [DBG] Start token request.
2019-06-09 23:18:45.046 -03:00 [DBG] Start client validation
2019-06-09 23:18:45.046 -03:00 [DBG] Start parsing Basic Authentication secret
2019-06-09 23:18:45.046 -03:00 [DBG] Start parsing for secret in post body
2019-06-09 23:18:45.057 -03:00 [DBG] Parser found secret: PostBodySecretParser
2019-06-09 23:18:45.058 -03:00 [DBG] Secret id found: ro.client
2019-06-09 23:18:45.114 -03:00 [DBG] ro.client found in database: true
2019-06-09 23:18:45.115 -03:00 [DBG] client configuration validation for client ro.client succeeded.
2019-06-09 23:18:45.115 -03:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-06-09 23:18:45.115 -03:00 [DBG] Client validation success
2019-06-09 23:18:45.115 -03:00 [INF] {"ClientId":"ro.client","AuthenticationMethod":"SharedSecret","Category":"Authentication","Name":"Client Authentication Success","EventType":"Success","Id":1010,"Message":null,"ActivityId":"0HLND63T1LU36:00000001","TimeStamp":"2019-06-10T02:18:45.0000000Z","ProcessId":26336,"LocalIpAddress":"127.0.0.1:30253","RemoteIpAddress":"::1","$type":"ClientAuthenticationSuccessEvent"}
2019-06-09 23:18:45.115 -03:00 [DBG] Start token request validation
2019-06-09 23:18:45.115 -03:00 [DBG] Start resource owner password token request validation
2019-06-09 23:18:45.137 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 23:18:45.255 -03:00 [DBG] Found ["api1"] API scopes in database
2019-06-09 23:18:45.258 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 23:18:45.263 -03:00 [DBG] Found ["api1"] API scopes in database
2019-06-09 23:18:45.283 -03:00 [INF] Credentials validated for username: alice
2019-06-09 23:18:45.284 -03:00 [INF] {"Username":"alice","Provider":null,"ProviderUserId":null,"SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","DisplayName":"alice","Endpoint":"Token","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HLND63T1LU36:00000001","TimeStamp":"2019-06-10T02:18:45.0000000Z","ProcessId":26336,"LocalIpAddress":"127.0.0.1:30253","RemoteIpAddress":"::1","$type":"UserLoginSuccessEvent"}
2019-06-09 23:18:45.284 -03:00 [INF] {"Username":"alice","Provider":null,"ProviderUserId":null,"SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","DisplayName":null,"Endpoint":"Token","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HLND63T1LU36:00000001","TimeStamp":"2019-06-10T02:18:45.0000000Z","ProcessId":26336,"LocalIpAddress":"127.0.0.1:30253","RemoteIpAddress":"::1","$type":"UserLoginSuccessEvent"}
2019-06-09 23:18:45.284 -03:00 [DBG] Resource owner password token request validation success.
2019-06-09 23:18:45.284 -03:00 [INF] Token request validation success
{"ClientId":"ro.client","ClientName":null,"GrantType":"password","Scopes":"api1 openid profile","AuthorizationCode":null,"RefreshToken":null,"UserName":"alice","AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"grant_type":"password","client_id":"ro.client","client_secret":"***REDACTED***","scope":"openid profile api1","username":"alice","password":"***REDACTED***"},"$type":"TokenRequestValidationLog"}
2019-06-09 23:18:45.284 -03:00 [DBG] Getting claims for access token for client: ro.client
2019-06-09 23:18:45.284 -03:00 [DBG] Getting claims for access token for subject: 4ba1c3a0-b786-421d-b88a-740f38d9cafa
2019-06-09 23:18:45.301 -03:00 [INF] {"ClientId":"ro.client","ClientName":null,"RedirectUri":null,"Endpoint":"Token","SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","Scopes":"openid profile api1","GrantType":"password","Tokens":[{"TokenType":"access_token","TokenValue":"****NwOA","$type":"Token"}],"Category":"Token","Name":"Token Issued Success","EventType":"Success","Id":2000,"Message":null,"ActivityId":"0HLND63T1LU36:00000001","TimeStamp":"2019-06-10T02:18:45.0000000Z","ProcessId":26336,"LocalIpAddress":"127.0.0.1:30253","RemoteIpAddress":"::1","$type":"TokenIssuedSuccessEvent"}
2019-06-09 23:18:45.302 -03:00 [DBG] Token request success.
2019-06-09 23:18:45.354 -03:00 [DBG] CORS request made for path: /connect/userinfo from origin: http://localhost:3000
2019-06-09 23:18:45.357 -03:00 [DBG] Origin http://localhost:3000 is allowed: false
2019-06-09 23:18:45.357 -03:00 [WRN] CorsPolicyService did not allow origin: http://localhost:3000
2019-06-09 23:18:45.357 -03:00 [DBG] Request path /connect/userinfo matched to endpoint type Userinfo
2019-06-09 23:18:45.358 -03:00 [DBG] Endpoint enabled: Userinfo, successfully created handler: IdentityServer4.Endpoints.UserInfoEndpoint
2019-06-09 23:18:45.358 -03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.UserInfoEndpoint for /connect/userinfo
2019-06-09 23:18:45.358 -03:00 [DBG] Start userinfo request
2019-06-09 23:18:45.358 -03:00 [DBG] Bearer token found in header
2019-06-09 23:18:45.374 -03:00 [DBG] ro.client found in database: true
2019-06-09 23:18:45.374 -03:00 [DBG] client configuration validation for client ro.client succeeded.
2019-06-09 23:18:45.383 -03:00 [DBG] ro.client found in database: true
2019-06-09 23:18:45.383 -03:00 [DBG] client configuration validation for client ro.client succeeded.
2019-06-09 23:18:45.391 -03:00 [DBG] Calling into custom token validator: IdentityServer4.Validation.DefaultCustomTokenValidator
2019-06-09 23:18:45.391 -03:00 [DBG] Token validation success
{"ClientId":null,"ClientName":null,"ValidateLifetime":true,"AccessTokenType":"Jwt","ExpectedScope":"openid","TokenHandle":null,"JwtId":null,"Claims":{"nbf":1560133125,"exp":1560136725,"iss":"http://localhost:5000","aud":["http://localhost:5000/resources","api1"],"client_id":"ro.client","sub":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","auth_time":1560133125,"idp":"local","scope":["openid","profile","api1"],"amr":"pwd"},"$type":"TokenValidationLog"}
2019-06-09 23:18:45.391 -03:00 [DBG] Creating userinfo response
2019-06-09 23:18:45.392 -03:00 [DBG] Scopes in access token: openid profile api1
2019-06-09 23:18:45.392 -03:00 [DBG] Scopes in access token: openid profile api1
2019-06-09 23:18:45.404 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 23:18:45.404 -03:00 [DBG] Requested claim types: sub name family_name given_name middle_name nickname preferred_username profile picture website gender birthdate zoneinfo locale updated_at
2019-06-09 23:18:45.404 -03:00 [DBG] Scopes in access token: openid profile api1
2019-06-09 23:18:45.407 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 23:18:45.413 -03:00 [INF] Profile service returned the following claim types: sub name given_name family_name website preferred_username
2019-06-09 23:18:45.413 -03:00 [DBG] End userinfo request
2019-06-09 23:19:52.819 -03:00 [INF] Removing 0 grants
2019-06-09 23:20:03.179 -03:00 [DBG] CORS request made for path: /connect/token from origin: http://localhost:3000
2019-06-09 23:20:03.190 -03:00 [DBG] Origin http://localhost:3000 is allowed: false
2019-06-09 23:20:03.191 -03:00 [WRN] CorsPolicyService did not allow origin: http://localhost:3000
2019-06-09 23:20:03.191 -03:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-06-09 23:20:03.191 -03:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-06-09 23:20:03.192 -03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-06-09 23:20:03.192 -03:00 [DBG] Start token request.
2019-06-09 23:20:03.192 -03:00 [DBG] Start client validation
2019-06-09 23:20:03.192 -03:00 [DBG] Start parsing Basic Authentication secret
2019-06-09 23:20:03.192 -03:00 [DBG] Start parsing for secret in post body
2019-06-09 23:20:03.192 -03:00 [DBG] Parser found secret: PostBodySecretParser
2019-06-09 23:20:03.193 -03:00 [DBG] Secret id found: ro.client
2019-06-09 23:20:03.232 -03:00 [DBG] ro.client found in database: true
2019-06-09 23:20:03.233 -03:00 [DBG] client configuration validation for client ro.client succeeded.
2019-06-09 23:20:03.233 -03:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-06-09 23:20:03.233 -03:00 [DBG] Client validation success
2019-06-09 23:20:03.233 -03:00 [INF] {"ClientId":"ro.client","AuthenticationMethod":"SharedSecret","Category":"Authentication","Name":"Client Authentication Success","EventType":"Success","Id":1010,"Message":null,"ActivityId":"0HLND63T1LU37:00000001","TimeStamp":"2019-06-10T02:20:03.0000000Z","ProcessId":26336,"LocalIpAddress":"127.0.0.1:30253","RemoteIpAddress":"::1","$type":"ClientAuthenticationSuccessEvent"}
2019-06-09 23:20:03.233 -03:00 [DBG] Start token request validation
2019-06-09 23:20:03.233 -03:00 [DBG] Start resource owner password token request validation
2019-06-09 23:20:03.248 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 23:20:03.358 -03:00 [DBG] Found ["api1"] API scopes in database
2019-06-09 23:20:03.361 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 23:20:03.367 -03:00 [DBG] Found ["api1"] API scopes in database
2019-06-09 23:20:03.399 -03:00 [INF] Credentials validated for username: alice
2019-06-09 23:20:03.399 -03:00 [INF] {"Username":"alice","Provider":null,"ProviderUserId":null,"SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","DisplayName":"alice","Endpoint":"Token","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HLND63T1LU37:00000001","TimeStamp":"2019-06-10T02:20:03.0000000Z","ProcessId":26336,"LocalIpAddress":"127.0.0.1:30253","RemoteIpAddress":"::1","$type":"UserLoginSuccessEvent"}
2019-06-09 23:20:03.399 -03:00 [INF] {"Username":"alice","Provider":null,"ProviderUserId":null,"SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","DisplayName":null,"Endpoint":"Token","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HLND63T1LU37:00000001","TimeStamp":"2019-06-10T02:20:03.0000000Z","ProcessId":26336,"LocalIpAddress":"127.0.0.1:30253","RemoteIpAddress":"::1","$type":"UserLoginSuccessEvent"}
2019-06-09 23:20:03.399 -03:00 [DBG] Resource owner password token request validation success.
2019-06-09 23:20:03.400 -03:00 [INF] Token request validation success
{"ClientId":"ro.client","ClientName":null,"GrantType":"password","Scopes":"api1 openid profile","AuthorizationCode":null,"RefreshToken":null,"UserName":"alice","AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"grant_type":"password","client_id":"ro.client","client_secret":"***REDACTED***","scope":"openid profile api1","username":"alice","password":"***REDACTED***"},"$type":"TokenRequestValidationLog"}
2019-06-09 23:20:03.400 -03:00 [DBG] Getting claims for access token for client: ro.client
2019-06-09 23:20:03.400 -03:00 [DBG] Getting claims for access token for subject: 4ba1c3a0-b786-421d-b88a-740f38d9cafa
2019-06-09 23:20:03.417 -03:00 [INF] {"ClientId":"ro.client","ClientName":null,"RedirectUri":null,"Endpoint":"Token","SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","Scopes":"openid profile api1","GrantType":"password","Tokens":[{"TokenType":"access_token","TokenValue":"****fj1w","$type":"Token"}],"Category":"Token","Name":"Token Issued Success","EventType":"Success","Id":2000,"Message":null,"ActivityId":"0HLND63T1LU37:00000001","TimeStamp":"2019-06-10T02:20:03.0000000Z","ProcessId":26336,"LocalIpAddress":"127.0.0.1:30253","RemoteIpAddress":"::1","$type":"TokenIssuedSuccessEvent"}
2019-06-09 23:20:03.417 -03:00 [DBG] Token request success.
2019-06-09 23:20:03.467 -03:00 [DBG] CORS request made for path: /connect/userinfo from origin: http://localhost:3000
2019-06-09 23:20:03.469 -03:00 [DBG] Origin http://localhost:3000 is allowed: false
2019-06-09 23:20:03.469 -03:00 [WRN] CorsPolicyService did not allow origin: http://localhost:3000
2019-06-09 23:20:03.469 -03:00 [DBG] Request path /connect/userinfo matched to endpoint type Userinfo
2019-06-09 23:20:03.470 -03:00 [DBG] Endpoint enabled: Userinfo, successfully created handler: IdentityServer4.Endpoints.UserInfoEndpoint
2019-06-09 23:20:03.470 -03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.UserInfoEndpoint for /connect/userinfo
2019-06-09 23:20:03.470 -03:00 [DBG] Start userinfo request
2019-06-09 23:20:03.470 -03:00 [DBG] Bearer token found in header
2019-06-09 23:20:03.483 -03:00 [DBG] ro.client found in database: true
2019-06-09 23:20:03.483 -03:00 [DBG] client configuration validation for client ro.client succeeded.
2019-06-09 23:20:03.489 -03:00 [DBG] ro.client found in database: true
2019-06-09 23:20:03.489 -03:00 [DBG] client configuration validation for client ro.client succeeded.
2019-06-09 23:20:03.502 -03:00 [DBG] Calling into custom token validator: IdentityServer4.Validation.DefaultCustomTokenValidator
2019-06-09 23:20:03.502 -03:00 [DBG] Token validation success
{"ClientId":null,"ClientName":null,"ValidateLifetime":true,"AccessTokenType":"Jwt","ExpectedScope":"openid","TokenHandle":null,"JwtId":null,"Claims":{"nbf":1560133203,"exp":1560136803,"iss":"http://localhost:5000","aud":["http://localhost:5000/resources","api1"],"client_id":"ro.client","sub":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","auth_time":1560133203,"idp":"local","scope":["openid","profile","api1"],"amr":"pwd"},"$type":"TokenValidationLog"}
2019-06-09 23:20:03.503 -03:00 [DBG] Creating userinfo response
2019-06-09 23:20:03.503 -03:00 [DBG] Scopes in access token: openid profile api1
2019-06-09 23:20:03.503 -03:00 [DBG] Scopes in access token: openid profile api1
2019-06-09 23:20:03.518 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 23:20:03.518 -03:00 [DBG] Requested claim types: sub name family_name given_name middle_name nickname preferred_username profile picture website gender birthdate zoneinfo locale updated_at
2019-06-09 23:20:03.519 -03:00 [DBG] Scopes in access token: openid profile api1
2019-06-09 23:20:03.521 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 23:20:03.526 -03:00 [INF] Profile service returned the following claim types: sub name given_name family_name website preferred_username
2019-06-09 23:20:03.527 -03:00 [DBG] End userinfo request
2019-06-09 23:21:16.509 -03:00 [DBG] CORS request made for path: /connect/token from origin: http://localhost:3000
2019-06-09 23:21:16.525 -03:00 [DBG] Origin http://localhost:3000 is allowed: false
2019-06-09 23:21:16.525 -03:00 [WRN] CorsPolicyService did not allow origin: http://localhost:3000
2019-06-09 23:21:16.525 -03:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-06-09 23:21:16.525 -03:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-06-09 23:21:16.526 -03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-06-09 23:21:16.526 -03:00 [DBG] Start token request.
2019-06-09 23:21:16.526 -03:00 [DBG] Start client validation
2019-06-09 23:21:16.526 -03:00 [DBG] Start parsing Basic Authentication secret
2019-06-09 23:21:16.526 -03:00 [DBG] Start parsing for secret in post body
2019-06-09 23:21:16.526 -03:00 [DBG] Parser found secret: PostBodySecretParser
2019-06-09 23:21:16.526 -03:00 [DBG] Secret id found: ro.client
2019-06-09 23:21:16.568 -03:00 [DBG] ro.client found in database: true
2019-06-09 23:21:16.568 -03:00 [DBG] client configuration validation for client ro.client succeeded.
2019-06-09 23:21:16.568 -03:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-06-09 23:21:16.568 -03:00 [DBG] Client validation success
2019-06-09 23:21:16.568 -03:00 [INF] {"ClientId":"ro.client","AuthenticationMethod":"SharedSecret","Category":"Authentication","Name":"Client Authentication Success","EventType":"Success","Id":1010,"Message":null,"ActivityId":"0HLND63T1LU38:00000001","TimeStamp":"2019-06-10T02:21:16.0000000Z","ProcessId":26336,"LocalIpAddress":"127.0.0.1:30253","RemoteIpAddress":"::1","$type":"ClientAuthenticationSuccessEvent"}
2019-06-09 23:21:16.569 -03:00 [DBG] Start token request validation
2019-06-09 23:21:16.569 -03:00 [DBG] Start resource owner password token request validation
2019-06-09 23:21:16.582 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 23:21:16.708 -03:00 [DBG] Found ["api1"] API scopes in database
2019-06-09 23:21:16.711 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 23:21:16.718 -03:00 [DBG] Found ["api1"] API scopes in database
2019-06-09 23:21:16.736 -03:00 [INF] Credentials validated for username: alice
2019-06-09 23:21:16.736 -03:00 [INF] {"Username":"alice","Provider":null,"ProviderUserId":null,"SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","DisplayName":"alice","Endpoint":"Token","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HLND63T1LU38:00000001","TimeStamp":"2019-06-10T02:21:16.0000000Z","ProcessId":26336,"LocalIpAddress":"127.0.0.1:30253","RemoteIpAddress":"::1","$type":"UserLoginSuccessEvent"}
2019-06-09 23:21:16.737 -03:00 [INF] {"Username":"alice","Provider":null,"ProviderUserId":null,"SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","DisplayName":null,"Endpoint":"Token","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HLND63T1LU38:00000001","TimeStamp":"2019-06-10T02:21:16.0000000Z","ProcessId":26336,"LocalIpAddress":"127.0.0.1:30253","RemoteIpAddress":"::1","$type":"UserLoginSuccessEvent"}
2019-06-09 23:21:16.737 -03:00 [DBG] Resource owner password token request validation success.
2019-06-09 23:21:16.737 -03:00 [INF] Token request validation success
{"ClientId":"ro.client","ClientName":null,"GrantType":"password","Scopes":"api1 openid profile","AuthorizationCode":null,"RefreshToken":null,"UserName":"alice","AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"grant_type":"password","client_id":"ro.client","client_secret":"***REDACTED***","scope":"openid profile api1","username":"alice","password":"***REDACTED***"},"$type":"TokenRequestValidationLog"}
2019-06-09 23:21:16.738 -03:00 [DBG] Getting claims for access token for client: ro.client
2019-06-09 23:21:16.738 -03:00 [DBG] Getting claims for access token for subject: 4ba1c3a0-b786-421d-b88a-740f38d9cafa
2019-06-09 23:21:16.758 -03:00 [INF] {"ClientId":"ro.client","ClientName":null,"RedirectUri":null,"Endpoint":"Token","SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","Scopes":"openid profile api1","GrantType":"password","Tokens":[{"TokenType":"access_token","TokenValue":"****kAzQ","$type":"Token"}],"Category":"Token","Name":"Token Issued Success","EventType":"Success","Id":2000,"Message":null,"ActivityId":"0HLND63T1LU38:00000001","TimeStamp":"2019-06-10T02:21:16.0000000Z","ProcessId":26336,"LocalIpAddress":"127.0.0.1:30253","RemoteIpAddress":"::1","$type":"TokenIssuedSuccessEvent"}
2019-06-09 23:21:16.758 -03:00 [DBG] Token request success.
2019-06-09 23:21:16.810 -03:00 [DBG] CORS request made for path: /connect/userinfo from origin: http://localhost:3000
2019-06-09 23:21:16.814 -03:00 [DBG] Origin http://localhost:3000 is allowed: false
2019-06-09 23:21:16.814 -03:00 [WRN] CorsPolicyService did not allow origin: http://localhost:3000
2019-06-09 23:21:16.814 -03:00 [DBG] Request path /connect/userinfo matched to endpoint type Userinfo
2019-06-09 23:21:16.815 -03:00 [DBG] Endpoint enabled: Userinfo, successfully created handler: IdentityServer4.Endpoints.UserInfoEndpoint
2019-06-09 23:21:16.815 -03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.UserInfoEndpoint for /connect/userinfo
2019-06-09 23:21:16.815 -03:00 [DBG] Start userinfo request
2019-06-09 23:21:16.815 -03:00 [DBG] Bearer token found in header
2019-06-09 23:21:16.830 -03:00 [DBG] ro.client found in database: true
2019-06-09 23:21:16.831 -03:00 [DBG] client configuration validation for client ro.client succeeded.
2019-06-09 23:21:16.837 -03:00 [DBG] ro.client found in database: true
2019-06-09 23:21:16.837 -03:00 [DBG] client configuration validation for client ro.client succeeded.
2019-06-09 23:21:16.844 -03:00 [DBG] Calling into custom token validator: IdentityServer4.Validation.DefaultCustomTokenValidator
2019-06-09 23:21:16.845 -03:00 [DBG] Token validation success
{"ClientId":null,"ClientName":null,"ValidateLifetime":true,"AccessTokenType":"Jwt","ExpectedScope":"openid","TokenHandle":null,"JwtId":null,"Claims":{"nbf":1560133276,"exp":1560136876,"iss":"http://localhost:5000","aud":["http://localhost:5000/resources","api1"],"client_id":"ro.client","sub":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","auth_time":1560133276,"idp":"local","scope":["openid","profile","api1"],"amr":"pwd"},"$type":"TokenValidationLog"}
2019-06-09 23:21:16.845 -03:00 [DBG] Creating userinfo response
2019-06-09 23:21:16.846 -03:00 [DBG] Scopes in access token: openid profile api1
2019-06-09 23:21:16.846 -03:00 [DBG] Scopes in access token: openid profile api1
2019-06-09 23:21:16.860 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 23:21:16.860 -03:00 [DBG] Requested claim types: sub name family_name given_name middle_name nickname preferred_username profile picture website gender birthdate zoneinfo locale updated_at
2019-06-09 23:21:16.861 -03:00 [DBG] Scopes in access token: openid profile api1
2019-06-09 23:21:16.867 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 23:21:16.873 -03:00 [INF] Profile service returned the following claim types: sub name given_name family_name website preferred_username
2019-06-09 23:21:16.873 -03:00 [DBG] End userinfo request
2019-06-09 23:27:13.272 -03:00 [DBG] CORS request made for path: /connect/token from origin: http://localhost:3000
2019-06-09 23:27:13.281 -03:00 [DBG] Origin http://localhost:3000 is allowed: false
2019-06-09 23:27:13.281 -03:00 [WRN] CorsPolicyService did not allow origin: http://localhost:3000
2019-06-09 23:27:13.281 -03:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-06-09 23:27:13.282 -03:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-06-09 23:27:13.282 -03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-06-09 23:27:13.282 -03:00 [DBG] Start token request.
2019-06-09 23:27:13.282 -03:00 [DBG] Start client validation
2019-06-09 23:27:13.282 -03:00 [DBG] Start parsing Basic Authentication secret
2019-06-09 23:27:13.282 -03:00 [DBG] Start parsing for secret in post body
2019-06-09 23:27:13.282 -03:00 [DBG] Parser found secret: PostBodySecretParser
2019-06-09 23:27:13.282 -03:00 [DBG] Secret id found: ro.client
2019-06-09 23:27:13.321 -03:00 [DBG] ro.client found in database: true
2019-06-09 23:27:13.321 -03:00 [DBG] client configuration validation for client ro.client succeeded.
2019-06-09 23:27:13.321 -03:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-06-09 23:27:13.321 -03:00 [DBG] Client validation success
2019-06-09 23:27:13.321 -03:00 [INF] {"ClientId":"ro.client","AuthenticationMethod":"SharedSecret","Category":"Authentication","Name":"Client Authentication Success","EventType":"Success","Id":1010,"Message":null,"ActivityId":"0HLND63T1LU39:00000001","TimeStamp":"2019-06-10T02:27:13.0000000Z","ProcessId":26336,"LocalIpAddress":"127.0.0.1:30253","RemoteIpAddress":"::1","$type":"ClientAuthenticationSuccessEvent"}
2019-06-09 23:27:13.321 -03:00 [DBG] Start token request validation
2019-06-09 23:27:13.321 -03:00 [DBG] Start resource owner password token request validation
2019-06-09 23:27:13.338 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 23:27:13.452 -03:00 [DBG] Found ["api1"] API scopes in database
2019-06-09 23:27:13.455 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 23:27:13.461 -03:00 [DBG] Found ["api1"] API scopes in database
2019-06-09 23:27:13.486 -03:00 [INF] Credentials validated for username: alice
2019-06-09 23:27:13.486 -03:00 [INF] {"Username":"alice","Provider":null,"ProviderUserId":null,"SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","DisplayName":"alice","Endpoint":"Token","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HLND63T1LU39:00000001","TimeStamp":"2019-06-10T02:27:13.0000000Z","ProcessId":26336,"LocalIpAddress":"127.0.0.1:30253","RemoteIpAddress":"::1","$type":"UserLoginSuccessEvent"}
2019-06-09 23:27:13.486 -03:00 [INF] {"Username":"alice","Provider":null,"ProviderUserId":null,"SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","DisplayName":null,"Endpoint":"Token","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HLND63T1LU39:00000001","TimeStamp":"2019-06-10T02:27:13.0000000Z","ProcessId":26336,"LocalIpAddress":"127.0.0.1:30253","RemoteIpAddress":"::1","$type":"UserLoginSuccessEvent"}
2019-06-09 23:27:13.486 -03:00 [DBG] Resource owner password token request validation success.
2019-06-09 23:27:13.487 -03:00 [INF] Token request validation success
{"ClientId":"ro.client","ClientName":null,"GrantType":"password","Scopes":"api1 openid profile","AuthorizationCode":null,"RefreshToken":null,"UserName":"alice","AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"grant_type":"password","client_id":"ro.client","client_secret":"***REDACTED***","scope":"openid profile api1","username":"alice","password":"***REDACTED***"},"$type":"TokenRequestValidationLog"}
2019-06-09 23:27:13.487 -03:00 [DBG] Getting claims for access token for client: ro.client
2019-06-09 23:27:13.487 -03:00 [DBG] Getting claims for access token for subject: 4ba1c3a0-b786-421d-b88a-740f38d9cafa
2019-06-09 23:27:13.511 -03:00 [INF] {"ClientId":"ro.client","ClientName":null,"RedirectUri":null,"Endpoint":"Token","SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","Scopes":"openid profile api1","GrantType":"password","Tokens":[{"TokenType":"access_token","TokenValue":"****BJLA","$type":"Token"}],"Category":"Token","Name":"Token Issued Success","EventType":"Success","Id":2000,"Message":null,"ActivityId":"0HLND63T1LU39:00000001","TimeStamp":"2019-06-10T02:27:13.0000000Z","ProcessId":26336,"LocalIpAddress":"127.0.0.1:30253","RemoteIpAddress":"::1","$type":"TokenIssuedSuccessEvent"}
2019-06-09 23:27:13.511 -03:00 [DBG] Token request success.
2019-06-09 23:27:13.557 -03:00 [DBG] CORS request made for path: /connect/userinfo from origin: http://localhost:3000
2019-06-09 23:27:13.560 -03:00 [DBG] Origin http://localhost:3000 is allowed: false
2019-06-09 23:27:13.560 -03:00 [WRN] CorsPolicyService did not allow origin: http://localhost:3000
2019-06-09 23:27:13.561 -03:00 [DBG] Request path /connect/userinfo matched to endpoint type Userinfo
2019-06-09 23:27:13.561 -03:00 [DBG] Endpoint enabled: Userinfo, successfully created handler: IdentityServer4.Endpoints.UserInfoEndpoint
2019-06-09 23:27:13.561 -03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.UserInfoEndpoint for /connect/userinfo
2019-06-09 23:27:13.561 -03:00 [DBG] Start userinfo request
2019-06-09 23:27:13.562 -03:00 [DBG] Bearer token found in header
2019-06-09 23:27:13.574 -03:00 [DBG] ro.client found in database: true
2019-06-09 23:27:13.575 -03:00 [DBG] client configuration validation for client ro.client succeeded.
2019-06-09 23:27:13.582 -03:00 [DBG] ro.client found in database: true
2019-06-09 23:27:13.582 -03:00 [DBG] client configuration validation for client ro.client succeeded.
2019-06-09 23:27:13.597 -03:00 [DBG] Calling into custom token validator: IdentityServer4.Validation.DefaultCustomTokenValidator
2019-06-09 23:27:13.598 -03:00 [DBG] Token validation success
{"ClientId":null,"ClientName":null,"ValidateLifetime":true,"AccessTokenType":"Jwt","ExpectedScope":"openid","TokenHandle":null,"JwtId":null,"Claims":{"nbf":1560133633,"exp":1560137233,"iss":"http://localhost:5000","aud":["http://localhost:5000/resources","api1"],"client_id":"ro.client","sub":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","auth_time":1560133633,"idp":"local","scope":["openid","profile","api1"],"amr":"pwd"},"$type":"TokenValidationLog"}
2019-06-09 23:27:13.598 -03:00 [DBG] Creating userinfo response
2019-06-09 23:27:13.598 -03:00 [DBG] Scopes in access token: openid profile api1
2019-06-09 23:27:13.599 -03:00 [DBG] Scopes in access token: openid profile api1
2019-06-09 23:27:13.613 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 23:27:13.613 -03:00 [DBG] Requested claim types: sub name family_name given_name middle_name nickname preferred_username profile picture website gender birthdate zoneinfo locale updated_at
2019-06-09 23:27:13.613 -03:00 [DBG] Scopes in access token: openid profile api1
2019-06-09 23:27:13.616 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 23:27:13.621 -03:00 [INF] Profile service returned the following claim types: sub name given_name family_name website preferred_username
2019-06-09 23:27:13.622 -03:00 [DBG] End userinfo request
2019-06-09 23:27:18.804 -03:00 [DBG] CORS request made for path: /connect/token from origin: http://localhost:3000
2019-06-09 23:27:18.814 -03:00 [DBG] Origin http://localhost:3000 is allowed: false
2019-06-09 23:27:18.814 -03:00 [WRN] CorsPolicyService did not allow origin: http://localhost:3000
2019-06-09 23:27:18.814 -03:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-06-09 23:27:18.815 -03:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-06-09 23:27:18.815 -03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-06-09 23:27:18.815 -03:00 [DBG] Start token request.
2019-06-09 23:27:18.815 -03:00 [DBG] Start client validation
2019-06-09 23:27:18.815 -03:00 [DBG] Start parsing Basic Authentication secret
2019-06-09 23:27:18.815 -03:00 [DBG] Start parsing for secret in post body
2019-06-09 23:27:18.816 -03:00 [DBG] Parser found secret: PostBodySecretParser
2019-06-09 23:27:18.816 -03:00 [DBG] Secret id found: ro.client
2019-06-09 23:27:18.823 -03:00 [DBG] ro.client found in database: true
2019-06-09 23:27:18.823 -03:00 [DBG] client configuration validation for client ro.client succeeded.
2019-06-09 23:27:18.823 -03:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-06-09 23:27:18.823 -03:00 [DBG] Client validation success
2019-06-09 23:27:18.823 -03:00 [INF] {"ClientId":"ro.client","AuthenticationMethod":"SharedSecret","Category":"Authentication","Name":"Client Authentication Success","EventType":"Success","Id":1010,"Message":null,"ActivityId":"0HLND63T1LU39:00000004","TimeStamp":"2019-06-10T02:27:18.0000000Z","ProcessId":26336,"LocalIpAddress":"127.0.0.1:30253","RemoteIpAddress":"::1","$type":"ClientAuthenticationSuccessEvent"}
2019-06-09 23:27:18.823 -03:00 [DBG] Start token request validation
2019-06-09 23:27:18.824 -03:00 [DBG] Start resource owner password token request validation
2019-06-09 23:27:18.829 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 23:27:18.835 -03:00 [DBG] Found ["api1"] API scopes in database
2019-06-09 23:27:18.838 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 23:27:18.846 -03:00 [DBG] Found ["api1"] API scopes in database
2019-06-09 23:27:18.871 -03:00 [INF] Credentials validated for username: alice
2019-06-09 23:27:18.871 -03:00 [INF] {"Username":"alice","Provider":null,"ProviderUserId":null,"SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","DisplayName":"alice","Endpoint":"Token","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HLND63T1LU39:00000004","TimeStamp":"2019-06-10T02:27:18.0000000Z","ProcessId":26336,"LocalIpAddress":"127.0.0.1:30253","RemoteIpAddress":"::1","$type":"UserLoginSuccessEvent"}
2019-06-09 23:27:18.871 -03:00 [INF] {"Username":"alice","Provider":null,"ProviderUserId":null,"SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","DisplayName":null,"Endpoint":"Token","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HLND63T1LU39:00000004","TimeStamp":"2019-06-10T02:27:18.0000000Z","ProcessId":26336,"LocalIpAddress":"127.0.0.1:30253","RemoteIpAddress":"::1","$type":"UserLoginSuccessEvent"}
2019-06-09 23:27:18.871 -03:00 [DBG] Resource owner password token request validation success.
2019-06-09 23:27:18.872 -03:00 [INF] Token request validation success
{"ClientId":"ro.client","ClientName":null,"GrantType":"password","Scopes":"api1 openid profile","AuthorizationCode":null,"RefreshToken":null,"UserName":"alice","AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"grant_type":"password","client_id":"ro.client","client_secret":"***REDACTED***","scope":"openid profile api1","username":"alice","password":"***REDACTED***"},"$type":"TokenRequestValidationLog"}
2019-06-09 23:27:18.872 -03:00 [DBG] Getting claims for access token for client: ro.client
2019-06-09 23:27:18.872 -03:00 [DBG] Getting claims for access token for subject: 4ba1c3a0-b786-421d-b88a-740f38d9cafa
2019-06-09 23:27:18.885 -03:00 [INF] {"ClientId":"ro.client","ClientName":null,"RedirectUri":null,"Endpoint":"Token","SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","Scopes":"openid profile api1","GrantType":"password","Tokens":[{"TokenType":"access_token","TokenValue":"****oPCA","$type":"Token"}],"Category":"Token","Name":"Token Issued Success","EventType":"Success","Id":2000,"Message":null,"ActivityId":"0HLND63T1LU39:00000004","TimeStamp":"2019-06-10T02:27:18.0000000Z","ProcessId":26336,"LocalIpAddress":"127.0.0.1:30253","RemoteIpAddress":"::1","$type":"TokenIssuedSuccessEvent"}
2019-06-09 23:27:18.885 -03:00 [DBG] Token request success.
2019-06-09 23:27:18.921 -03:00 [DBG] CORS request made for path: /connect/userinfo from origin: http://localhost:3000
2019-06-09 23:27:18.927 -03:00 [DBG] Origin http://localhost:3000 is allowed: false
2019-06-09 23:27:18.927 -03:00 [WRN] CorsPolicyService did not allow origin: http://localhost:3000
2019-06-09 23:27:18.927 -03:00 [DBG] Request path /connect/userinfo matched to endpoint type Userinfo
2019-06-09 23:27:18.928 -03:00 [DBG] Endpoint enabled: Userinfo, successfully created handler: IdentityServer4.Endpoints.UserInfoEndpoint
2019-06-09 23:27:18.928 -03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.UserInfoEndpoint for /connect/userinfo
2019-06-09 23:27:18.928 -03:00 [DBG] Start userinfo request
2019-06-09 23:27:18.928 -03:00 [DBG] Bearer token found in header
2019-06-09 23:27:18.940 -03:00 [DBG] ro.client found in database: true
2019-06-09 23:27:18.941 -03:00 [DBG] client configuration validation for client ro.client succeeded.
2019-06-09 23:27:18.947 -03:00 [DBG] ro.client found in database: true
2019-06-09 23:27:18.947 -03:00 [DBG] client configuration validation for client ro.client succeeded.
2019-06-09 23:27:18.953 -03:00 [DBG] Calling into custom token validator: IdentityServer4.Validation.DefaultCustomTokenValidator
2019-06-09 23:27:18.953 -03:00 [DBG] Token validation success
{"ClientId":null,"ClientName":null,"ValidateLifetime":true,"AccessTokenType":"Jwt","ExpectedScope":"openid","TokenHandle":null,"JwtId":null,"Claims":{"nbf":1560133638,"exp":1560137238,"iss":"http://localhost:5000","aud":["http://localhost:5000/resources","api1"],"client_id":"ro.client","sub":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","auth_time":1560133638,"idp":"local","scope":["openid","profile","api1"],"amr":"pwd"},"$type":"TokenValidationLog"}
2019-06-09 23:27:18.954 -03:00 [DBG] Creating userinfo response
2019-06-09 23:27:18.954 -03:00 [DBG] Scopes in access token: openid profile api1
2019-06-09 23:27:18.954 -03:00 [DBG] Scopes in access token: openid profile api1
2019-06-09 23:27:18.958 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 23:27:18.958 -03:00 [DBG] Requested claim types: sub name family_name given_name middle_name nickname preferred_username profile picture website gender birthdate zoneinfo locale updated_at
2019-06-09 23:27:18.959 -03:00 [DBG] Scopes in access token: openid profile api1
2019-06-09 23:27:18.961 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 23:27:18.968 -03:00 [INF] Profile service returned the following claim types: sub name given_name family_name website preferred_username
2019-06-09 23:27:18.968 -03:00 [DBG] End userinfo request
2019-06-09 23:31:56.990 -03:00 [DBG] CORS request made for path: /connect/token from origin: http://localhost:3000
2019-06-09 23:31:57.007 -03:00 [DBG] Origin http://localhost:3000 is allowed: false
2019-06-09 23:31:57.007 -03:00 [WRN] CorsPolicyService did not allow origin: http://localhost:3000
2019-06-09 23:31:57.008 -03:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-06-09 23:31:57.008 -03:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-06-09 23:31:57.009 -03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-06-09 23:31:57.009 -03:00 [DBG] Start token request.
2019-06-09 23:31:57.009 -03:00 [DBG] Start client validation
2019-06-09 23:31:57.009 -03:00 [DBG] Start parsing Basic Authentication secret
2019-06-09 23:31:57.009 -03:00 [DBG] Start parsing for secret in post body
2019-06-09 23:31:57.010 -03:00 [DBG] Parser found secret: PostBodySecretParser
2019-06-09 23:31:57.010 -03:00 [DBG] Secret id found: ro.client
2019-06-09 23:31:57.054 -03:00 [DBG] ro.client found in database: true
2019-06-09 23:31:57.054 -03:00 [DBG] client configuration validation for client ro.client succeeded.
2019-06-09 23:31:57.054 -03:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-06-09 23:31:57.054 -03:00 [DBG] Client validation success
2019-06-09 23:31:57.054 -03:00 [INF] {"ClientId":"ro.client","AuthenticationMethod":"SharedSecret","Category":"Authentication","Name":"Client Authentication Success","EventType":"Success","Id":1010,"Message":null,"ActivityId":"0HLND63T1LU3A:00000001","TimeStamp":"2019-06-10T02:31:57.0000000Z","ProcessId":26336,"LocalIpAddress":"127.0.0.1:30253","RemoteIpAddress":"::1","$type":"ClientAuthenticationSuccessEvent"}
2019-06-09 23:31:57.055 -03:00 [DBG] Start token request validation
2019-06-09 23:31:57.055 -03:00 [DBG] Start resource owner password token request validation
2019-06-09 23:31:57.070 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 23:31:57.243 -03:00 [DBG] Found ["api1"] API scopes in database
2019-06-09 23:31:57.258 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 23:31:57.384 -03:00 [DBG] Found ["api1"] API scopes in database
2019-06-09 23:31:57.415 -03:00 [INF] Credentials validated for username: alice
2019-06-09 23:31:57.416 -03:00 [INF] {"Username":"alice","Provider":null,"ProviderUserId":null,"SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","DisplayName":"alice","Endpoint":"Token","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HLND63T1LU3A:00000001","TimeStamp":"2019-06-10T02:31:57.0000000Z","ProcessId":26336,"LocalIpAddress":"127.0.0.1:30253","RemoteIpAddress":"::1","$type":"UserLoginSuccessEvent"}
2019-06-09 23:31:57.417 -03:00 [INF] {"Username":"alice","Provider":null,"ProviderUserId":null,"SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","DisplayName":null,"Endpoint":"Token","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HLND63T1LU3A:00000001","TimeStamp":"2019-06-10T02:31:57.0000000Z","ProcessId":26336,"LocalIpAddress":"127.0.0.1:30253","RemoteIpAddress":"::1","$type":"UserLoginSuccessEvent"}
2019-06-09 23:31:57.419 -03:00 [DBG] Resource owner password token request validation success.
2019-06-09 23:31:57.419 -03:00 [INF] Token request validation success
{"ClientId":"ro.client","ClientName":null,"GrantType":"password","Scopes":"api1 openid profile","AuthorizationCode":null,"RefreshToken":null,"UserName":"alice","AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"grant_type":"password","client_id":"ro.client","client_secret":"***REDACTED***","scope":"openid profile api1","username":"alice","password":"***REDACTED***"},"$type":"TokenRequestValidationLog"}
2019-06-09 23:31:57.419 -03:00 [DBG] Getting claims for access token for client: ro.client
2019-06-09 23:31:57.419 -03:00 [DBG] Getting claims for access token for subject: 4ba1c3a0-b786-421d-b88a-740f38d9cafa
2019-06-09 23:31:57.459 -03:00 [INF] {"ClientId":"ro.client","ClientName":null,"RedirectUri":null,"Endpoint":"Token","SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","Scopes":"openid profile api1","GrantType":"password","Tokens":[{"TokenType":"access_token","TokenValue":"****3Dhg","$type":"Token"}],"Category":"Token","Name":"Token Issued Success","EventType":"Success","Id":2000,"Message":null,"ActivityId":"0HLND63T1LU3A:00000001","TimeStamp":"2019-06-10T02:31:57.0000000Z","ProcessId":26336,"LocalIpAddress":"127.0.0.1:30253","RemoteIpAddress":"::1","$type":"TokenIssuedSuccessEvent"}
2019-06-09 23:31:57.459 -03:00 [DBG] Token request success.
2019-06-09 23:31:57.508 -03:00 [DBG] CORS request made for path: /connect/userinfo from origin: http://localhost:3000
2019-06-09 23:31:57.518 -03:00 [DBG] Origin http://localhost:3000 is allowed: false
2019-06-09 23:31:57.518 -03:00 [WRN] CorsPolicyService did not allow origin: http://localhost:3000
2019-06-09 23:31:57.518 -03:00 [DBG] Request path /connect/userinfo matched to endpoint type Userinfo
2019-06-09 23:31:57.518 -03:00 [DBG] Endpoint enabled: Userinfo, successfully created handler: IdentityServer4.Endpoints.UserInfoEndpoint
2019-06-09 23:31:57.518 -03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.UserInfoEndpoint for /connect/userinfo
2019-06-09 23:31:57.519 -03:00 [DBG] Start userinfo request
2019-06-09 23:31:57.519 -03:00 [DBG] Bearer token found in header
2019-06-09 23:31:57.573 -03:00 [DBG] ro.client found in database: true
2019-06-09 23:31:57.573 -03:00 [DBG] client configuration validation for client ro.client succeeded.
2019-06-09 23:31:57.580 -03:00 [DBG] ro.client found in database: true
2019-06-09 23:31:57.580 -03:00 [DBG] client configuration validation for client ro.client succeeded.
2019-06-09 23:31:57.587 -03:00 [DBG] Calling into custom token validator: IdentityServer4.Validation.DefaultCustomTokenValidator
2019-06-09 23:31:57.587 -03:00 [DBG] Token validation success
{"ClientId":null,"ClientName":null,"ValidateLifetime":true,"AccessTokenType":"Jwt","ExpectedScope":"openid","TokenHandle":null,"JwtId":null,"Claims":{"nbf":1560133917,"exp":1560137517,"iss":"http://localhost:5000","aud":["http://localhost:5000/resources","api1"],"client_id":"ro.client","sub":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","auth_time":1560133917,"idp":"local","scope":["openid","profile","api1"],"amr":"pwd"},"$type":"TokenValidationLog"}
2019-06-09 23:31:57.588 -03:00 [DBG] Creating userinfo response
2019-06-09 23:31:57.588 -03:00 [DBG] Scopes in access token: openid profile api1
2019-06-09 23:31:57.588 -03:00 [DBG] Scopes in access token: openid profile api1
2019-06-09 23:31:57.609 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 23:31:57.609 -03:00 [DBG] Requested claim types: sub name family_name given_name middle_name nickname preferred_username profile picture website gender birthdate zoneinfo locale updated_at
2019-06-09 23:31:57.609 -03:00 [DBG] Scopes in access token: openid profile api1
2019-06-09 23:31:57.674 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 23:31:57.713 -03:00 [INF] Profile service returned the following claim types: sub name given_name family_name website preferred_username
2019-06-09 23:31:57.714 -03:00 [DBG] End userinfo request
2019-06-09 23:33:06.709 -03:00 [DBG] CORS request made for path: /connect/token from origin: http://localhost:3000
2019-06-09 23:33:06.737 -03:00 [DBG] Origin http://localhost:3000 is allowed: false
2019-06-09 23:33:06.738 -03:00 [WRN] CorsPolicyService did not allow origin: http://localhost:3000
2019-06-09 23:33:06.738 -03:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-06-09 23:33:06.739 -03:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-06-09 23:33:06.739 -03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-06-09 23:33:06.739 -03:00 [DBG] Start token request.
2019-06-09 23:33:06.739 -03:00 [DBG] Start client validation
2019-06-09 23:33:06.739 -03:00 [DBG] Start parsing Basic Authentication secret
2019-06-09 23:33:06.739 -03:00 [DBG] Start parsing for secret in post body
2019-06-09 23:33:06.740 -03:00 [DBG] Parser found secret: PostBodySecretParser
2019-06-09 23:33:06.740 -03:00 [DBG] Secret id found: ro.client
2019-06-09 23:33:06.783 -03:00 [DBG] ro.client found in database: true
2019-06-09 23:33:06.783 -03:00 [DBG] client configuration validation for client ro.client succeeded.
2019-06-09 23:33:06.783 -03:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-06-09 23:33:06.783 -03:00 [DBG] Client validation success
2019-06-09 23:33:06.784 -03:00 [INF] {"ClientId":"ro.client","AuthenticationMethod":"SharedSecret","Category":"Authentication","Name":"Client Authentication Success","EventType":"Success","Id":1010,"Message":null,"ActivityId":"0HLND63T1LU3B:00000001","TimeStamp":"2019-06-10T02:33:06.0000000Z","ProcessId":26336,"LocalIpAddress":"127.0.0.1:30253","RemoteIpAddress":"::1","$type":"ClientAuthenticationSuccessEvent"}
2019-06-09 23:33:06.784 -03:00 [DBG] Start token request validation
2019-06-09 23:33:06.784 -03:00 [DBG] Start resource owner password token request validation
2019-06-09 23:33:06.797 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 23:33:06.920 -03:00 [DBG] Found ["api1"] API scopes in database
2019-06-09 23:33:06.925 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 23:33:06.929 -03:00 [DBG] Found ["api1"] API scopes in database
2019-06-09 23:33:06.954 -03:00 [INF] Credentials validated for username: alice
2019-06-09 23:33:06.954 -03:00 [INF] {"Username":"alice","Provider":null,"ProviderUserId":null,"SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","DisplayName":"alice","Endpoint":"Token","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HLND63T1LU3B:00000001","TimeStamp":"2019-06-10T02:33:06.0000000Z","ProcessId":26336,"LocalIpAddress":"127.0.0.1:30253","RemoteIpAddress":"::1","$type":"UserLoginSuccessEvent"}
2019-06-09 23:33:06.955 -03:00 [INF] {"Username":"alice","Provider":null,"ProviderUserId":null,"SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","DisplayName":null,"Endpoint":"Token","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HLND63T1LU3B:00000001","TimeStamp":"2019-06-10T02:33:06.0000000Z","ProcessId":26336,"LocalIpAddress":"127.0.0.1:30253","RemoteIpAddress":"::1","$type":"UserLoginSuccessEvent"}
2019-06-09 23:33:06.955 -03:00 [DBG] Resource owner password token request validation success.
2019-06-09 23:33:06.955 -03:00 [INF] Token request validation success
{"ClientId":"ro.client","ClientName":null,"GrantType":"password","Scopes":"api1 openid profile","AuthorizationCode":null,"RefreshToken":null,"UserName":"alice","AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"grant_type":"password","client_id":"ro.client","client_secret":"***REDACTED***","scope":"openid profile api1","username":"alice","password":"***REDACTED***"},"$type":"TokenRequestValidationLog"}
2019-06-09 23:33:06.955 -03:00 [DBG] Getting claims for access token for client: ro.client
2019-06-09 23:33:06.955 -03:00 [DBG] Getting claims for access token for subject: 4ba1c3a0-b786-421d-b88a-740f38d9cafa
2019-06-09 23:33:06.971 -03:00 [INF] {"ClientId":"ro.client","ClientName":null,"RedirectUri":null,"Endpoint":"Token","SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","Scopes":"openid profile api1","GrantType":"password","Tokens":[{"TokenType":"access_token","TokenValue":"****3img","$type":"Token"}],"Category":"Token","Name":"Token Issued Success","EventType":"Success","Id":2000,"Message":null,"ActivityId":"0HLND63T1LU3B:00000001","TimeStamp":"2019-06-10T02:33:06.0000000Z","ProcessId":26336,"LocalIpAddress":"127.0.0.1:30253","RemoteIpAddress":"::1","$type":"TokenIssuedSuccessEvent"}
2019-06-09 23:33:06.971 -03:00 [DBG] Token request success.
2019-06-09 23:33:07.020 -03:00 [DBG] CORS request made for path: /connect/userinfo from origin: http://localhost:3000
2019-06-09 23:33:07.025 -03:00 [DBG] Origin http://localhost:3000 is allowed: false
2019-06-09 23:33:07.025 -03:00 [WRN] CorsPolicyService did not allow origin: http://localhost:3000
2019-06-09 23:33:07.025 -03:00 [DBG] Request path /connect/userinfo matched to endpoint type Userinfo
2019-06-09 23:33:07.026 -03:00 [DBG] Endpoint enabled: Userinfo, successfully created handler: IdentityServer4.Endpoints.UserInfoEndpoint
2019-06-09 23:33:07.026 -03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.UserInfoEndpoint for /connect/userinfo
2019-06-09 23:33:07.026 -03:00 [DBG] Start userinfo request
2019-06-09 23:33:07.026 -03:00 [DBG] Bearer token found in header
2019-06-09 23:33:07.039 -03:00 [DBG] ro.client found in database: true
2019-06-09 23:33:07.039 -03:00 [DBG] client configuration validation for client ro.client succeeded.
2019-06-09 23:33:07.045 -03:00 [DBG] ro.client found in database: true
2019-06-09 23:33:07.046 -03:00 [DBG] client configuration validation for client ro.client succeeded.
2019-06-09 23:33:07.053 -03:00 [DBG] Calling into custom token validator: IdentityServer4.Validation.DefaultCustomTokenValidator
2019-06-09 23:33:07.054 -03:00 [DBG] Token validation success
{"ClientId":null,"ClientName":null,"ValidateLifetime":true,"AccessTokenType":"Jwt","ExpectedScope":"openid","TokenHandle":null,"JwtId":null,"Claims":{"nbf":1560133986,"exp":1560137586,"iss":"http://localhost:5000","aud":["http://localhost:5000/resources","api1"],"client_id":"ro.client","sub":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","auth_time":1560133986,"idp":"local","scope":["openid","profile","api1"],"amr":"pwd"},"$type":"TokenValidationLog"}
2019-06-09 23:33:07.055 -03:00 [DBG] Creating userinfo response
2019-06-09 23:33:07.055 -03:00 [DBG] Scopes in access token: openid profile api1
2019-06-09 23:33:07.055 -03:00 [DBG] Scopes in access token: openid profile api1
2019-06-09 23:33:07.073 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 23:33:07.074 -03:00 [DBG] Requested claim types: sub name family_name given_name middle_name nickname preferred_username profile picture website gender birthdate zoneinfo locale updated_at
2019-06-09 23:33:07.074 -03:00 [DBG] Scopes in access token: openid profile api1
2019-06-09 23:33:07.077 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 23:33:07.084 -03:00 [INF] Profile service returned the following claim types: sub name given_name family_name website preferred_username
2019-06-09 23:33:07.084 -03:00 [DBG] End userinfo request
2019-06-09 23:34:37.502 -03:00 [DBG] CORS request made for path: /connect/token from origin: http://localhost:3000
2019-06-09 23:34:37.507 -03:00 [DBG] Origin http://localhost:3000 is allowed: false
2019-06-09 23:34:37.508 -03:00 [WRN] CorsPolicyService did not allow origin: http://localhost:3000
2019-06-09 23:34:37.508 -03:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-06-09 23:34:37.508 -03:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-06-09 23:34:37.508 -03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-06-09 23:34:37.509 -03:00 [DBG] Start token request.
2019-06-09 23:34:37.509 -03:00 [DBG] Start client validation
2019-06-09 23:34:37.509 -03:00 [DBG] Start parsing Basic Authentication secret
2019-06-09 23:34:37.509 -03:00 [DBG] Start parsing for secret in post body
2019-06-09 23:34:37.509 -03:00 [DBG] Parser found secret: PostBodySecretParser
2019-06-09 23:34:37.510 -03:00 [DBG] Secret id found: ro.client
2019-06-09 23:34:37.547 -03:00 [DBG] ro.client found in database: true
2019-06-09 23:34:37.547 -03:00 [DBG] client configuration validation for client ro.client succeeded.
2019-06-09 23:34:37.547 -03:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-06-09 23:34:37.547 -03:00 [DBG] Client validation success
2019-06-09 23:34:37.547 -03:00 [INF] {"ClientId":"ro.client","AuthenticationMethod":"SharedSecret","Category":"Authentication","Name":"Client Authentication Success","EventType":"Success","Id":1010,"Message":null,"ActivityId":"0HLND63T1LU3C:00000001","TimeStamp":"2019-06-10T02:34:37.0000000Z","ProcessId":26336,"LocalIpAddress":"127.0.0.1:30253","RemoteIpAddress":"::1","$type":"ClientAuthenticationSuccessEvent"}
2019-06-09 23:34:37.547 -03:00 [DBG] Start token request validation
2019-06-09 23:34:37.547 -03:00 [DBG] Start resource owner password token request validation
2019-06-09 23:34:37.571 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 23:34:37.743 -03:00 [DBG] Found ["api1"] API scopes in database
2019-06-09 23:34:37.746 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 23:34:37.754 -03:00 [DBG] Found ["api1"] API scopes in database
2019-06-09 23:34:37.787 -03:00 [INF] Credentials validated for username: alice
2019-06-09 23:34:37.787 -03:00 [INF] {"Username":"alice","Provider":null,"ProviderUserId":null,"SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","DisplayName":"alice","Endpoint":"Token","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HLND63T1LU3C:00000001","TimeStamp":"2019-06-10T02:34:37.0000000Z","ProcessId":26336,"LocalIpAddress":"127.0.0.1:30253","RemoteIpAddress":"::1","$type":"UserLoginSuccessEvent"}
2019-06-09 23:34:37.787 -03:00 [INF] {"Username":"alice","Provider":null,"ProviderUserId":null,"SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","DisplayName":null,"Endpoint":"Token","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HLND63T1LU3C:00000001","TimeStamp":"2019-06-10T02:34:37.0000000Z","ProcessId":26336,"LocalIpAddress":"127.0.0.1:30253","RemoteIpAddress":"::1","$type":"UserLoginSuccessEvent"}
2019-06-09 23:34:37.787 -03:00 [DBG] Resource owner password token request validation success.
2019-06-09 23:34:37.788 -03:00 [INF] Token request validation success
{"ClientId":"ro.client","ClientName":null,"GrantType":"password","Scopes":"api1 openid profile","AuthorizationCode":null,"RefreshToken":null,"UserName":"alice","AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"grant_type":"password","client_id":"ro.client","client_secret":"***REDACTED***","scope":"openid profile api1","username":"alice","password":"***REDACTED***"},"$type":"TokenRequestValidationLog"}
2019-06-09 23:34:37.788 -03:00 [DBG] Getting claims for access token for client: ro.client
2019-06-09 23:34:37.788 -03:00 [DBG] Getting claims for access token for subject: 4ba1c3a0-b786-421d-b88a-740f38d9cafa
2019-06-09 23:34:37.815 -03:00 [INF] {"ClientId":"ro.client","ClientName":null,"RedirectUri":null,"Endpoint":"Token","SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","Scopes":"openid profile api1","GrantType":"password","Tokens":[{"TokenType":"access_token","TokenValue":"****gbOA","$type":"Token"}],"Category":"Token","Name":"Token Issued Success","EventType":"Success","Id":2000,"Message":null,"ActivityId":"0HLND63T1LU3C:00000001","TimeStamp":"2019-06-10T02:34:37.0000000Z","ProcessId":26336,"LocalIpAddress":"127.0.0.1:30253","RemoteIpAddress":"::1","$type":"TokenIssuedSuccessEvent"}
2019-06-09 23:34:37.815 -03:00 [DBG] Token request success.
2019-06-09 23:34:37.884 -03:00 [DBG] CORS request made for path: /connect/userinfo from origin: http://localhost:3000
2019-06-09 23:34:37.889 -03:00 [DBG] Origin http://localhost:3000 is allowed: false
2019-06-09 23:34:37.890 -03:00 [WRN] CorsPolicyService did not allow origin: http://localhost:3000
2019-06-09 23:34:37.890 -03:00 [DBG] Request path /connect/userinfo matched to endpoint type Userinfo
2019-06-09 23:34:37.890 -03:00 [DBG] Endpoint enabled: Userinfo, successfully created handler: IdentityServer4.Endpoints.UserInfoEndpoint
2019-06-09 23:34:37.890 -03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.UserInfoEndpoint for /connect/userinfo
2019-06-09 23:34:37.890 -03:00 [DBG] Start userinfo request
2019-06-09 23:34:37.890 -03:00 [DBG] Bearer token found in header
2019-06-09 23:34:37.910 -03:00 [DBG] ro.client found in database: true
2019-06-09 23:34:37.910 -03:00 [DBG] client configuration validation for client ro.client succeeded.
2019-06-09 23:34:37.917 -03:00 [DBG] ro.client found in database: true
2019-06-09 23:34:37.917 -03:00 [DBG] client configuration validation for client ro.client succeeded.
2019-06-09 23:34:37.926 -03:00 [DBG] Calling into custom token validator: IdentityServer4.Validation.DefaultCustomTokenValidator
2019-06-09 23:34:37.926 -03:00 [DBG] Token validation success
{"ClientId":null,"ClientName":null,"ValidateLifetime":true,"AccessTokenType":"Jwt","ExpectedScope":"openid","TokenHandle":null,"JwtId":null,"Claims":{"nbf":1560134077,"exp":1560137677,"iss":"http://localhost:5000","aud":["http://localhost:5000/resources","api1"],"client_id":"ro.client","sub":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","auth_time":1560134077,"idp":"local","scope":["openid","profile","api1"],"amr":"pwd"},"$type":"TokenValidationLog"}
2019-06-09 23:34:37.927 -03:00 [DBG] Creating userinfo response
2019-06-09 23:34:37.927 -03:00 [DBG] Scopes in access token: openid profile api1
2019-06-09 23:34:37.927 -03:00 [DBG] Scopes in access token: openid profile api1
2019-06-09 23:34:37.941 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 23:34:37.942 -03:00 [DBG] Requested claim types: sub name family_name given_name middle_name nickname preferred_username profile picture website gender birthdate zoneinfo locale updated_at
2019-06-09 23:34:37.942 -03:00 [DBG] Scopes in access token: openid profile api1
2019-06-09 23:34:37.945 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 23:34:37.951 -03:00 [INF] Profile service returned the following claim types: sub name given_name family_name website preferred_username
2019-06-09 23:34:37.952 -03:00 [DBG] End userinfo request
2019-06-09 23:35:31.501 -03:00 [DBG] CORS request made for path: /connect/token from origin: http://localhost:3000
2019-06-09 23:35:31.507 -03:00 [DBG] Origin http://localhost:3000 is allowed: false
2019-06-09 23:35:31.507 -03:00 [WRN] CorsPolicyService did not allow origin: http://localhost:3000
2019-06-09 23:35:31.507 -03:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-06-09 23:35:31.508 -03:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-06-09 23:35:31.508 -03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-06-09 23:35:31.508 -03:00 [DBG] Start token request.
2019-06-09 23:35:31.508 -03:00 [DBG] Start client validation
2019-06-09 23:35:31.508 -03:00 [DBG] Start parsing Basic Authentication secret
2019-06-09 23:35:31.509 -03:00 [DBG] Start parsing for secret in post body
2019-06-09 23:35:31.509 -03:00 [DBG] Parser found secret: PostBodySecretParser
2019-06-09 23:35:31.510 -03:00 [DBG] Secret id found: ro.client
2019-06-09 23:35:31.545 -03:00 [DBG] ro.client found in database: true
2019-06-09 23:35:31.545 -03:00 [DBG] client configuration validation for client ro.client succeeded.
2019-06-09 23:35:31.545 -03:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-06-09 23:35:31.545 -03:00 [DBG] Client validation success
2019-06-09 23:35:31.545 -03:00 [INF] {"ClientId":"ro.client","AuthenticationMethod":"SharedSecret","Category":"Authentication","Name":"Client Authentication Success","EventType":"Success","Id":1010,"Message":null,"ActivityId":"0HLND63T1LU3C:00000004","TimeStamp":"2019-06-10T02:35:31.0000000Z","ProcessId":26336,"LocalIpAddress":"127.0.0.1:30253","RemoteIpAddress":"::1","$type":"ClientAuthenticationSuccessEvent"}
2019-06-09 23:35:31.545 -03:00 [DBG] Start token request validation
2019-06-09 23:35:31.545 -03:00 [DBG] Start resource owner password token request validation
2019-06-09 23:35:31.561 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 23:35:31.675 -03:00 [DBG] Found ["api1"] API scopes in database
2019-06-09 23:35:31.678 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 23:35:31.683 -03:00 [DBG] Found ["api1"] API scopes in database
2019-06-09 23:35:31.703 -03:00 [INF] Credentials validated for username: alice
2019-06-09 23:35:31.703 -03:00 [INF] {"Username":"alice","Provider":null,"ProviderUserId":null,"SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","DisplayName":"alice","Endpoint":"Token","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HLND63T1LU3C:00000004","TimeStamp":"2019-06-10T02:35:31.0000000Z","ProcessId":26336,"LocalIpAddress":"127.0.0.1:30253","RemoteIpAddress":"::1","$type":"UserLoginSuccessEvent"}
2019-06-09 23:35:31.704 -03:00 [INF] {"Username":"alice","Provider":null,"ProviderUserId":null,"SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","DisplayName":null,"Endpoint":"Token","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HLND63T1LU3C:00000004","TimeStamp":"2019-06-10T02:35:31.0000000Z","ProcessId":26336,"LocalIpAddress":"127.0.0.1:30253","RemoteIpAddress":"::1","$type":"UserLoginSuccessEvent"}
2019-06-09 23:35:31.704 -03:00 [DBG] Resource owner password token request validation success.
2019-06-09 23:35:31.705 -03:00 [INF] Token request validation success
{"ClientId":"ro.client","ClientName":null,"GrantType":"password","Scopes":"api1 openid profile","AuthorizationCode":null,"RefreshToken":null,"UserName":"alice","AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"grant_type":"password","client_id":"ro.client","client_secret":"***REDACTED***","scope":"openid profile api1","username":"alice","password":"***REDACTED***"},"$type":"TokenRequestValidationLog"}
2019-06-09 23:35:31.705 -03:00 [DBG] Getting claims for access token for client: ro.client
2019-06-09 23:35:31.706 -03:00 [DBG] Getting claims for access token for subject: 4ba1c3a0-b786-421d-b88a-740f38d9cafa
2019-06-09 23:35:31.721 -03:00 [INF] {"ClientId":"ro.client","ClientName":null,"RedirectUri":null,"Endpoint":"Token","SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","Scopes":"openid profile api1","GrantType":"password","Tokens":[{"TokenType":"access_token","TokenValue":"****L_OA","$type":"Token"}],"Category":"Token","Name":"Token Issued Success","EventType":"Success","Id":2000,"Message":null,"ActivityId":"0HLND63T1LU3C:00000004","TimeStamp":"2019-06-10T02:35:31.0000000Z","ProcessId":26336,"LocalIpAddress":"127.0.0.1:30253","RemoteIpAddress":"::1","$type":"TokenIssuedSuccessEvent"}
2019-06-09 23:35:31.721 -03:00 [DBG] Token request success.
2019-06-09 23:35:31.757 -03:00 [DBG] CORS request made for path: /connect/userinfo from origin: http://localhost:3000
2019-06-09 23:35:31.759 -03:00 [DBG] Origin http://localhost:3000 is allowed: false
2019-06-09 23:35:31.759 -03:00 [WRN] CorsPolicyService did not allow origin: http://localhost:3000
2019-06-09 23:35:31.759 -03:00 [DBG] Request path /connect/userinfo matched to endpoint type Userinfo
2019-06-09 23:35:31.760 -03:00 [DBG] Endpoint enabled: Userinfo, successfully created handler: IdentityServer4.Endpoints.UserInfoEndpoint
2019-06-09 23:35:31.760 -03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.UserInfoEndpoint for /connect/userinfo
2019-06-09 23:35:31.760 -03:00 [DBG] Start userinfo request
2019-06-09 23:35:31.760 -03:00 [DBG] Bearer token found in header
2019-06-09 23:35:31.773 -03:00 [DBG] ro.client found in database: true
2019-06-09 23:35:31.774 -03:00 [DBG] client configuration validation for client ro.client succeeded.
2019-06-09 23:35:31.779 -03:00 [DBG] ro.client found in database: true
2019-06-09 23:35:31.780 -03:00 [DBG] client configuration validation for client ro.client succeeded.
2019-06-09 23:35:31.791 -03:00 [DBG] Calling into custom token validator: IdentityServer4.Validation.DefaultCustomTokenValidator
2019-06-09 23:35:31.792 -03:00 [DBG] Token validation success
{"ClientId":null,"ClientName":null,"ValidateLifetime":true,"AccessTokenType":"Jwt","ExpectedScope":"openid","TokenHandle":null,"JwtId":null,"Claims":{"nbf":1560134131,"exp":1560137731,"iss":"http://localhost:5000","aud":["http://localhost:5000/resources","api1"],"client_id":"ro.client","sub":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","auth_time":1560134131,"idp":"local","scope":["openid","profile","api1"],"amr":"pwd"},"$type":"TokenValidationLog"}
2019-06-09 23:35:31.792 -03:00 [DBG] Creating userinfo response
2019-06-09 23:35:31.792 -03:00 [DBG] Scopes in access token: openid profile api1
2019-06-09 23:35:31.792 -03:00 [DBG] Scopes in access token: openid profile api1
2019-06-09 23:35:31.805 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 23:35:31.805 -03:00 [DBG] Requested claim types: sub name family_name given_name middle_name nickname preferred_username profile picture website gender birthdate zoneinfo locale updated_at
2019-06-09 23:35:31.805 -03:00 [DBG] Scopes in access token: openid profile api1
2019-06-09 23:35:31.808 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 23:35:31.815 -03:00 [INF] Profile service returned the following claim types: sub name given_name family_name website preferred_username
2019-06-09 23:35:31.822 -03:00 [DBG] End userinfo request
2019-06-09 23:36:43.579 -03:00 [DBG] CORS request made for path: /connect/token from origin: http://localhost:3000
2019-06-09 23:36:43.602 -03:00 [DBG] Origin http://localhost:3000 is allowed: false
2019-06-09 23:36:43.602 -03:00 [WRN] CorsPolicyService did not allow origin: http://localhost:3000
2019-06-09 23:36:43.603 -03:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-06-09 23:36:43.603 -03:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-06-09 23:36:43.603 -03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-06-09 23:36:43.603 -03:00 [DBG] Start token request.
2019-06-09 23:36:43.603 -03:00 [DBG] Start client validation
2019-06-09 23:36:43.604 -03:00 [DBG] Start parsing Basic Authentication secret
2019-06-09 23:36:43.604 -03:00 [DBG] Start parsing for secret in post body
2019-06-09 23:36:43.604 -03:00 [DBG] Parser found secret: PostBodySecretParser
2019-06-09 23:36:43.604 -03:00 [DBG] Secret id found: ro.client
2019-06-09 23:36:43.646 -03:00 [DBG] ro.client found in database: true
2019-06-09 23:36:43.646 -03:00 [DBG] client configuration validation for client ro.client succeeded.
2019-06-09 23:36:43.646 -03:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-06-09 23:36:43.646 -03:00 [DBG] Client validation success
2019-06-09 23:36:43.646 -03:00 [INF] {"ClientId":"ro.client","AuthenticationMethod":"SharedSecret","Category":"Authentication","Name":"Client Authentication Success","EventType":"Success","Id":1010,"Message":null,"ActivityId":"0HLND63T1LU3D:00000001","TimeStamp":"2019-06-10T02:36:43.0000000Z","ProcessId":26336,"LocalIpAddress":"127.0.0.1:30253","RemoteIpAddress":"::1","$type":"ClientAuthenticationSuccessEvent"}
2019-06-09 23:36:43.646 -03:00 [DBG] Start token request validation
2019-06-09 23:36:43.646 -03:00 [DBG] Start resource owner password token request validation
2019-06-09 23:36:43.661 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 23:36:43.792 -03:00 [DBG] Found ["api1"] API scopes in database
2019-06-09 23:36:43.795 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 23:36:43.799 -03:00 [DBG] Found ["api1"] API scopes in database
2019-06-09 23:36:43.806 -03:00 [INF] No user found matching username: alice
2019-06-09 23:36:43.806 -03:00 [INF] {"Username":"alice","Endpoint":"Token","Category":"Authentication","Name":"User Login Failure","EventType":"Failure","Id":1001,"Message":"invalid username","ActivityId":"0HLND63T1LU3D:00000001","TimeStamp":"2019-06-10T02:36:43.0000000Z","ProcessId":26336,"LocalIpAddress":"127.0.0.1:30253","RemoteIpAddress":"::1","$type":"UserLoginFailureEvent"}
2019-06-09 23:36:43.807 -03:00 [INF] User authentication failed: ["invalid_username_or_password"], request details: {"ClientId":"ro.client","ClientName":null,"GrantType":"password","Scopes":"api1 openid profile","AuthorizationCode":null,"RefreshToken":null,"UserName":"alice","AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"grant_type":"password","client_id":"ro.client","client_secret":"***REDACTED***","scope":"openid profile api1","username":"alice","password":"***REDACTED***"},"$type":"TokenRequestValidationLog"}
2019-06-09 23:36:43.807 -03:00 [INF] {"Username":"alice","Endpoint":"UI","Category":"Authentication","Name":"User Login Failure","EventType":"Failure","Id":1001,"Message":"invalid_username_or_password","ActivityId":"0HLND63T1LU3D:00000001","TimeStamp":"2019-06-10T02:36:43.0000000Z","ProcessId":26336,"LocalIpAddress":"127.0.0.1:30253","RemoteIpAddress":"::1","$type":"UserLoginFailureEvent"}
2019-06-09 23:36:43.807 -03:00 [INF] {"ClientId":"ro.client","ClientName":null,"RedirectUri":null,"Endpoint":"Token","SubjectId":null,"Scopes":"api1 openid profile","GrantType":"password","Error":"invalid_grant","ErrorDescription":"invalid_username_or_password","Category":"Token","Name":"Token Issued Failure","EventType":"Failure","Id":2001,"Message":null,"ActivityId":"0HLND63T1LU3D:00000001","TimeStamp":"2019-06-10T02:36:43.0000000Z","ProcessId":26336,"LocalIpAddress":"127.0.0.1:30253","RemoteIpAddress":"::1","$type":"TokenIssuedFailureEvent"}
2019-06-09 23:36:48.762 -03:00 [DBG] CORS request made for path: /connect/token from origin: http://localhost:3000
2019-06-09 23:36:48.764 -03:00 [DBG] Origin http://localhost:3000 is allowed: false
2019-06-09 23:36:48.764 -03:00 [WRN] CorsPolicyService did not allow origin: http://localhost:3000
2019-06-09 23:36:48.764 -03:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-06-09 23:36:48.764 -03:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-06-09 23:36:48.764 -03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-06-09 23:36:48.764 -03:00 [DBG] Start token request.
2019-06-09 23:36:48.764 -03:00 [DBG] Start client validation
2019-06-09 23:36:48.765 -03:00 [DBG] Start parsing Basic Authentication secret
2019-06-09 23:36:48.765 -03:00 [DBG] Start parsing for secret in post body
2019-06-09 23:36:48.765 -03:00 [DBG] Parser found secret: PostBodySecretParser
2019-06-09 23:36:48.765 -03:00 [DBG] Secret id found: ro.client
2019-06-09 23:36:48.772 -03:00 [DBG] ro.client found in database: true
2019-06-09 23:36:48.772 -03:00 [DBG] client configuration validation for client ro.client succeeded.
2019-06-09 23:36:48.773 -03:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-06-09 23:36:48.773 -03:00 [DBG] Client validation success
2019-06-09 23:36:48.773 -03:00 [INF] {"ClientId":"ro.client","AuthenticationMethod":"SharedSecret","Category":"Authentication","Name":"Client Authentication Success","EventType":"Success","Id":1010,"Message":null,"ActivityId":"0HLND63T1LU3D:00000002","TimeStamp":"2019-06-10T02:36:48.0000000Z","ProcessId":26336,"LocalIpAddress":"127.0.0.1:30253","RemoteIpAddress":"::1","$type":"ClientAuthenticationSuccessEvent"}
2019-06-09 23:36:48.774 -03:00 [DBG] Start token request validation
2019-06-09 23:36:48.774 -03:00 [DBG] Start resource owner password token request validation
2019-06-09 23:36:48.777 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 23:36:48.783 -03:00 [DBG] Found ["api1"] API scopes in database
2019-06-09 23:36:48.788 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 23:36:48.795 -03:00 [DBG] Found ["api1"] API scopes in database
2019-06-09 23:36:48.816 -03:00 [INF] Credentials validated for username: Greg
2019-06-09 23:36:48.816 -03:00 [INF] {"Username":"Greg","Provider":null,"ProviderUserId":null,"SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","DisplayName":"Greg","Endpoint":"Token","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HLND63T1LU3D:00000002","TimeStamp":"2019-06-10T02:36:48.0000000Z","ProcessId":26336,"LocalIpAddress":"127.0.0.1:30253","RemoteIpAddress":"::1","$type":"UserLoginSuccessEvent"}
2019-06-09 23:36:48.817 -03:00 [INF] {"Username":"Greg","Provider":null,"ProviderUserId":null,"SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","DisplayName":null,"Endpoint":"Token","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HLND63T1LU3D:00000002","TimeStamp":"2019-06-10T02:36:48.0000000Z","ProcessId":26336,"LocalIpAddress":"127.0.0.1:30253","RemoteIpAddress":"::1","$type":"UserLoginSuccessEvent"}
2019-06-09 23:36:48.817 -03:00 [DBG] Resource owner password token request validation success.
2019-06-09 23:36:48.817 -03:00 [INF] Token request validation success
{"ClientId":"ro.client","ClientName":null,"GrantType":"password","Scopes":"api1 openid profile","AuthorizationCode":null,"RefreshToken":null,"UserName":"Greg","AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"grant_type":"password","client_id":"ro.client","client_secret":"***REDACTED***","scope":"openid profile api1","username":"Greg","password":"***REDACTED***"},"$type":"TokenRequestValidationLog"}
2019-06-09 23:36:48.817 -03:00 [DBG] Getting claims for access token for client: ro.client
2019-06-09 23:36:48.818 -03:00 [DBG] Getting claims for access token for subject: 4ba1c3a0-b786-421d-b88a-740f38d9cafa
2019-06-09 23:36:48.840 -03:00 [INF] {"ClientId":"ro.client","ClientName":null,"RedirectUri":null,"Endpoint":"Token","SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","Scopes":"openid profile api1","GrantType":"password","Tokens":[{"TokenType":"access_token","TokenValue":"****za4g","$type":"Token"}],"Category":"Token","Name":"Token Issued Success","EventType":"Success","Id":2000,"Message":null,"ActivityId":"0HLND63T1LU3D:00000002","TimeStamp":"2019-06-10T02:36:48.0000000Z","ProcessId":26336,"LocalIpAddress":"127.0.0.1:30253","RemoteIpAddress":"::1","$type":"TokenIssuedSuccessEvent"}
2019-06-09 23:36:48.840 -03:00 [DBG] Token request success.
2019-06-09 23:36:48.879 -03:00 [DBG] CORS request made for path: /connect/userinfo from origin: http://localhost:3000
2019-06-09 23:36:48.886 -03:00 [DBG] Origin http://localhost:3000 is allowed: false
2019-06-09 23:36:48.887 -03:00 [WRN] CorsPolicyService did not allow origin: http://localhost:3000
2019-06-09 23:36:48.887 -03:00 [DBG] Request path /connect/userinfo matched to endpoint type Userinfo
2019-06-09 23:36:48.887 -03:00 [DBG] Endpoint enabled: Userinfo, successfully created handler: IdentityServer4.Endpoints.UserInfoEndpoint
2019-06-09 23:36:48.888 -03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.UserInfoEndpoint for /connect/userinfo
2019-06-09 23:36:48.888 -03:00 [DBG] Start userinfo request
2019-06-09 23:36:48.888 -03:00 [DBG] Bearer token found in header
2019-06-09 23:36:48.909 -03:00 [DBG] ro.client found in database: true
2019-06-09 23:36:48.910 -03:00 [DBG] client configuration validation for client ro.client succeeded.
2019-06-09 23:36:48.920 -03:00 [DBG] ro.client found in database: true
2019-06-09 23:36:48.920 -03:00 [DBG] client configuration validation for client ro.client succeeded.
2019-06-09 23:36:48.928 -03:00 [DBG] Calling into custom token validator: IdentityServer4.Validation.DefaultCustomTokenValidator
2019-06-09 23:36:48.928 -03:00 [DBG] Token validation success
{"ClientId":null,"ClientName":null,"ValidateLifetime":true,"AccessTokenType":"Jwt","ExpectedScope":"openid","TokenHandle":null,"JwtId":null,"Claims":{"nbf":1560134208,"exp":1560137808,"iss":"http://localhost:5000","aud":["http://localhost:5000/resources","api1"],"client_id":"ro.client","sub":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","auth_time":1560134208,"idp":"local","scope":["openid","profile","api1"],"amr":"pwd"},"$type":"TokenValidationLog"}
2019-06-09 23:36:48.928 -03:00 [DBG] Creating userinfo response
2019-06-09 23:36:48.928 -03:00 [DBG] Scopes in access token: openid profile api1
2019-06-09 23:36:48.929 -03:00 [DBG] Scopes in access token: openid profile api1
2019-06-09 23:36:48.944 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 23:36:48.944 -03:00 [DBG] Requested claim types: sub name family_name given_name middle_name nickname preferred_username profile picture website gender birthdate zoneinfo locale updated_at
2019-06-09 23:36:48.944 -03:00 [DBG] Scopes in access token: openid profile api1
2019-06-09 23:36:48.947 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 23:36:48.954 -03:00 [INF] Profile service returned the following claim types: sub name given_name family_name website preferred_username
2019-06-09 23:36:48.955 -03:00 [DBG] End userinfo request
2019-06-09 23:38:42.517 -03:00 [DBG] CORS request made for path: /connect/token from origin: http://localhost:3000
2019-06-09 23:38:42.524 -03:00 [DBG] Origin http://localhost:3000 is allowed: false
2019-06-09 23:38:42.525 -03:00 [WRN] CorsPolicyService did not allow origin: http://localhost:3000
2019-06-09 23:38:42.525 -03:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-06-09 23:38:42.526 -03:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-06-09 23:38:42.526 -03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-06-09 23:38:42.526 -03:00 [DBG] Start token request.
2019-06-09 23:38:42.526 -03:00 [DBG] Start client validation
2019-06-09 23:38:42.526 -03:00 [DBG] Start parsing Basic Authentication secret
2019-06-09 23:38:42.526 -03:00 [DBG] Start parsing for secret in post body
2019-06-09 23:38:42.527 -03:00 [DBG] Parser found secret: PostBodySecretParser
2019-06-09 23:38:42.527 -03:00 [DBG] Secret id found: ro.client
2019-06-09 23:38:42.573 -03:00 [DBG] ro.client found in database: true
2019-06-09 23:38:42.573 -03:00 [DBG] client configuration validation for client ro.client succeeded.
2019-06-09 23:38:42.573 -03:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-06-09 23:38:42.573 -03:00 [DBG] Client validation success
2019-06-09 23:38:42.574 -03:00 [INF] {"ClientId":"ro.client","AuthenticationMethod":"SharedSecret","Category":"Authentication","Name":"Client Authentication Success","EventType":"Success","Id":1010,"Message":null,"ActivityId":"0HLND63T1LU3E:00000001","TimeStamp":"2019-06-10T02:38:42.0000000Z","ProcessId":26336,"LocalIpAddress":"127.0.0.1:30253","RemoteIpAddress":"::1","$type":"ClientAuthenticationSuccessEvent"}
2019-06-09 23:38:42.574 -03:00 [DBG] Start token request validation
2019-06-09 23:38:42.574 -03:00 [DBG] Start resource owner password token request validation
2019-06-09 23:38:42.594 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 23:38:42.764 -03:00 [DBG] Found ["api1"] API scopes in database
2019-06-09 23:38:42.768 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 23:38:42.777 -03:00 [DBG] Found ["api1"] API scopes in database
2019-06-09 23:38:42.806 -03:00 [INF] Credentials validated for username: Greg
2019-06-09 23:38:42.807 -03:00 [INF] {"Username":"Greg","Provider":null,"ProviderUserId":null,"SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","DisplayName":"Greg","Endpoint":"Token","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HLND63T1LU3E:00000001","TimeStamp":"2019-06-10T02:38:42.0000000Z","ProcessId":26336,"LocalIpAddress":"127.0.0.1:30253","RemoteIpAddress":"::1","$type":"UserLoginSuccessEvent"}
2019-06-09 23:38:42.810 -03:00 [INF] {"Username":"Greg","Provider":null,"ProviderUserId":null,"SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","DisplayName":null,"Endpoint":"Token","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HLND63T1LU3E:00000001","TimeStamp":"2019-06-10T02:38:42.0000000Z","ProcessId":26336,"LocalIpAddress":"127.0.0.1:30253","RemoteIpAddress":"::1","$type":"UserLoginSuccessEvent"}
2019-06-09 23:38:42.810 -03:00 [DBG] Resource owner password token request validation success.
2019-06-09 23:38:42.810 -03:00 [INF] Token request validation success
{"ClientId":"ro.client","ClientName":null,"GrantType":"password","Scopes":"api1 openid profile","AuthorizationCode":null,"RefreshToken":null,"UserName":"Greg","AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"grant_type":"password","client_id":"ro.client","client_secret":"***REDACTED***","scope":"openid profile api1","username":"Greg","password":"***REDACTED***"},"$type":"TokenRequestValidationLog"}
2019-06-09 23:38:42.811 -03:00 [DBG] Getting claims for access token for client: ro.client
2019-06-09 23:38:42.811 -03:00 [DBG] Getting claims for access token for subject: 4ba1c3a0-b786-421d-b88a-740f38d9cafa
2019-06-09 23:38:42.838 -03:00 [INF] {"ClientId":"ro.client","ClientName":null,"RedirectUri":null,"Endpoint":"Token","SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","Scopes":"openid profile api1","GrantType":"password","Tokens":[{"TokenType":"access_token","TokenValue":"****tzxw","$type":"Token"}],"Category":"Token","Name":"Token Issued Success","EventType":"Success","Id":2000,"Message":null,"ActivityId":"0HLND63T1LU3E:00000001","TimeStamp":"2019-06-10T02:38:42.0000000Z","ProcessId":26336,"LocalIpAddress":"127.0.0.1:30253","RemoteIpAddress":"::1","$type":"TokenIssuedSuccessEvent"}
2019-06-09 23:38:42.838 -03:00 [DBG] Token request success.
2019-06-09 23:38:42.886 -03:00 [DBG] CORS request made for path: /connect/userinfo from origin: http://localhost:3000
2019-06-09 23:38:42.888 -03:00 [DBG] Origin http://localhost:3000 is allowed: false
2019-06-09 23:38:42.888 -03:00 [WRN] CorsPolicyService did not allow origin: http://localhost:3000
2019-06-09 23:38:42.888 -03:00 [DBG] Request path /connect/userinfo matched to endpoint type Userinfo
2019-06-09 23:38:42.889 -03:00 [DBG] Endpoint enabled: Userinfo, successfully created handler: IdentityServer4.Endpoints.UserInfoEndpoint
2019-06-09 23:38:42.889 -03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.UserInfoEndpoint for /connect/userinfo
2019-06-09 23:38:42.889 -03:00 [DBG] Start userinfo request
2019-06-09 23:38:42.889 -03:00 [DBG] Bearer token found in header
2019-06-09 23:38:42.902 -03:00 [DBG] ro.client found in database: true
2019-06-09 23:38:42.902 -03:00 [DBG] client configuration validation for client ro.client succeeded.
2019-06-09 23:38:42.907 -03:00 [DBG] ro.client found in database: true
2019-06-09 23:38:42.908 -03:00 [DBG] client configuration validation for client ro.client succeeded.
2019-06-09 23:38:42.913 -03:00 [DBG] Calling into custom token validator: IdentityServer4.Validation.DefaultCustomTokenValidator
2019-06-09 23:38:42.914 -03:00 [DBG] Token validation success
{"ClientId":null,"ClientName":null,"ValidateLifetime":true,"AccessTokenType":"Jwt","ExpectedScope":"openid","TokenHandle":null,"JwtId":null,"Claims":{"nbf":1560134322,"exp":1560137922,"iss":"http://localhost:5000","aud":["http://localhost:5000/resources","api1"],"client_id":"ro.client","sub":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","auth_time":1560134322,"idp":"local","scope":["openid","profile","api1"],"amr":"pwd"},"$type":"TokenValidationLog"}
2019-06-09 23:38:42.914 -03:00 [DBG] Creating userinfo response
2019-06-09 23:38:42.914 -03:00 [DBG] Scopes in access token: openid profile api1
2019-06-09 23:38:42.914 -03:00 [DBG] Scopes in access token: openid profile api1
2019-06-09 23:38:42.926 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 23:38:42.926 -03:00 [DBG] Requested claim types: sub name family_name given_name middle_name nickname preferred_username profile picture website gender birthdate zoneinfo locale updated_at
2019-06-09 23:38:42.926 -03:00 [DBG] Scopes in access token: openid profile api1
2019-06-09 23:38:42.929 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 23:38:42.939 -03:00 [INF] Profile service returned the following claim types: sub name given_name family_name website preferred_username
2019-06-09 23:38:42.940 -03:00 [DBG] End userinfo request
2019-06-09 23:51:14.067 -03:00 [INF] Starting IdentityServer4 version 2.3.2.0
2019-06-09 23:51:14.398 -03:00 [INF] Using the default authentication scheme Identity.Application for IdentityServer
2019-06-09 23:51:14.398 -03:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for authentication
2019-06-09 23:51:14.398 -03:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-in
2019-06-09 23:51:14.398 -03:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-out
2019-06-09 23:51:14.398 -03:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for challenge
2019-06-09 23:51:14.398 -03:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for forbid
2019-06-09 23:51:14.690 -03:00 [DBG] Starting grant removal
2019-06-09 23:51:15.398 -03:00 [DBG] Login Url: /Account/Login
2019-06-09 23:51:15.404 -03:00 [DBG] Login Return Url Parameter: ReturnUrl
2019-06-09 23:51:15.404 -03:00 [DBG] Logout Url: /Account/Logout
2019-06-09 23:51:15.404 -03:00 [DBG] ConsentUrl Url: /consent
2019-06-09 23:51:15.404 -03:00 [DBG] Consent Return Url Parameter: returnUrl
2019-06-09 23:51:15.405 -03:00 [DBG] Error Url: /home/error
2019-06-09 23:51:15.405 -03:00 [DBG] Error Id Parameter: errorId
2019-06-09 23:51:18.783 -03:00 [DBG] CORS request made for path: /connect/token from origin: http://localhost:3000
2019-06-09 23:51:19.690 -03:00 [DBG] Origin http://localhost:3000 is allowed: false
2019-06-09 23:51:19.698 -03:00 [WRN] CorsPolicyService did not allow origin: http://localhost:3000
2019-06-09 23:51:19.700 -03:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-06-09 23:51:19.735 -03:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-06-09 23:51:19.735 -03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-06-09 23:51:19.750 -03:00 [DBG] Start token request.
2019-06-09 23:51:19.762 -03:00 [DBG] Start client validation
2019-06-09 23:51:19.770 -03:00 [DBG] Start parsing Basic Authentication secret
2019-06-09 23:51:19.777 -03:00 [DBG] Start parsing for secret in post body
2019-06-09 23:51:19.807 -03:00 [DBG] Parser found secret: PostBodySecretParser
2019-06-09 23:51:19.807 -03:00 [DBG] Secret id found: ro.client
2019-06-09 23:51:20.915 -03:00 [DBG] ro.client found in database: true
2019-06-09 23:51:20.937 -03:00 [DBG] client configuration validation for client ro.client succeeded.
2019-06-09 23:51:20.958 -03:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-06-09 23:51:20.958 -03:00 [DBG] Client validation success
2019-06-09 23:51:21.000 -03:00 [INF] {"ClientId":"ro.client","AuthenticationMethod":"SharedSecret","Category":"Authentication","Name":"Client Authentication Success","EventType":"Success","Id":1010,"Message":null,"ActivityId":"0HLND9Q0I34G4:00000002","TimeStamp":"2019-06-10T02:51:20.0000000Z","ProcessId":24128,"LocalIpAddress":"127.0.0.1:7887","RemoteIpAddress":"::1","$type":"ClientAuthenticationSuccessEvent"}
2019-06-09 23:51:21.029 -03:00 [DBG] Start token request validation
2019-06-09 23:51:21.058 -03:00 [DBG] Start resource owner password token request validation
2019-06-09 23:51:21.184 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 23:51:21.592 -03:00 [DBG] Found ["api1"] API scopes in database
2019-06-09 23:51:21.615 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 23:51:21.620 -03:00 [DBG] Found ["api1"] API scopes in database
2019-06-09 23:51:21.895 -03:00 [INF] Credentials validated for username: Greg
2019-06-09 23:51:21.897 -03:00 [INF] {"Username":"Greg","Provider":null,"ProviderUserId":null,"SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","DisplayName":"Greg","Endpoint":"Token","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HLND9Q0I34G4:00000002","TimeStamp":"2019-06-10T02:51:21.0000000Z","ProcessId":24128,"LocalIpAddress":"127.0.0.1:7887","RemoteIpAddress":"::1","$type":"UserLoginSuccessEvent"}
2019-06-09 23:51:21.918 -03:00 [INF] {"Username":"Greg","Provider":null,"ProviderUserId":null,"SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","DisplayName":null,"Endpoint":"Token","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HLND9Q0I34G4:00000002","TimeStamp":"2019-06-10T02:51:21.0000000Z","ProcessId":24128,"LocalIpAddress":"127.0.0.1:7887","RemoteIpAddress":"::1","$type":"UserLoginSuccessEvent"}
2019-06-09 23:51:21.918 -03:00 [DBG] Resource owner password token request validation success.
2019-06-09 23:51:21.936 -03:00 [INF] Token request validation success
{"ClientId":"ro.client","ClientName":null,"GrantType":"password","Scopes":"api1 openid profile","AuthorizationCode":null,"RefreshToken":null,"UserName":"Greg","AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"grant_type":"password","client_id":"ro.client","client_secret":"***REDACTED***","scope":"openid profile api1","username":"Greg","password":"***REDACTED***"},"$type":"TokenRequestValidationLog"}
2019-06-09 23:51:21.979 -03:00 [DBG] Getting claims for access token for client: ro.client
2019-06-09 23:51:21.980 -03:00 [DBG] Getting claims for access token for subject: 4ba1c3a0-b786-421d-b88a-740f38d9cafa
2019-06-09 23:51:22.339 -03:00 [INF] {"ClientId":"ro.client","ClientName":null,"RedirectUri":null,"Endpoint":"Token","SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","Scopes":"openid profile api1","GrantType":"password","Tokens":[{"TokenType":"access_token","TokenValue":"****zOhg","$type":"Token"}],"Category":"Token","Name":"Token Issued Success","EventType":"Success","Id":2000,"Message":null,"ActivityId":"0HLND9Q0I34G4:00000002","TimeStamp":"2019-06-10T02:51:22.0000000Z","ProcessId":24128,"LocalIpAddress":"127.0.0.1:7887","RemoteIpAddress":"::1","$type":"TokenIssuedSuccessEvent"}
2019-06-09 23:51:22.341 -03:00 [DBG] Token request success.
2019-06-09 23:51:22.474 -03:00 [DBG] CORS request made for path: /connect/userinfo from origin: http://localhost:3000
2019-06-09 23:51:22.477 -03:00 [DBG] Origin http://localhost:3000 is allowed: false
2019-06-09 23:51:22.477 -03:00 [WRN] CorsPolicyService did not allow origin: http://localhost:3000
2019-06-09 23:51:22.477 -03:00 [DBG] Request path /connect/userinfo matched to endpoint type Userinfo
2019-06-09 23:51:22.481 -03:00 [DBG] Endpoint enabled: Userinfo, successfully created handler: IdentityServer4.Endpoints.UserInfoEndpoint
2019-06-09 23:51:22.481 -03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.UserInfoEndpoint for /connect/userinfo
2019-06-09 23:51:22.495 -03:00 [DBG] Start userinfo request
2019-06-09 23:51:22.501 -03:00 [DBG] Bearer token found in header
2019-06-09 23:51:22.618 -03:00 [DBG] ro.client found in database: true
2019-06-09 23:51:22.619 -03:00 [DBG] client configuration validation for client ro.client succeeded.
2019-06-09 23:51:22.629 -03:00 [DBG] ro.client found in database: true
2019-06-09 23:51:22.629 -03:00 [DBG] client configuration validation for client ro.client succeeded.
2019-06-09 23:51:22.656 -03:00 [DBG] Calling into custom token validator: IdentityServer4.Validation.DefaultCustomTokenValidator
2019-06-09 23:51:22.659 -03:00 [DBG] Token validation success
{"ClientId":null,"ClientName":null,"ValidateLifetime":true,"AccessTokenType":"Jwt","ExpectedScope":"openid","TokenHandle":null,"JwtId":null,"Claims":{"nbf":1560135082,"exp":1560138682,"iss":"http://localhost:5000","aud":["http://localhost:5000/resources","api1"],"client_id":"ro.client","sub":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","auth_time":1560135081,"idp":"local","scope":["openid","profile","api1"],"amr":"pwd"},"$type":"TokenValidationLog"}
2019-06-09 23:51:22.677 -03:00 [DBG] Creating userinfo response
2019-06-09 23:51:22.683 -03:00 [DBG] Scopes in access token: openid profile api1
2019-06-09 23:51:22.687 -03:00 [DBG] Scopes in access token: openid profile api1
2019-06-09 23:51:22.700 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 23:51:22.701 -03:00 [DBG] Requested claim types: sub name family_name given_name middle_name nickname preferred_username profile picture website gender birthdate zoneinfo locale updated_at
2019-06-09 23:51:22.701 -03:00 [DBG] Scopes in access token: openid profile api1
2019-06-09 23:51:22.704 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-09 23:51:22.715 -03:00 [INF] Profile service returned the following claim types: sub name given_name family_name website preferred_username
2019-06-09 23:51:22.716 -03:00 [DBG] End userinfo request
2019-06-10 00:05:46.963 -03:00 [DBG] CORS request made for path: /connect/token from origin: http://localhost:3000
2019-06-10 00:05:48.475 -03:00 [DBG] Origin http://localhost:3000 is allowed: false
2019-06-10 00:05:48.476 -03:00 [WRN] CorsPolicyService did not allow origin: http://localhost:3000
2019-06-10 00:05:48.476 -03:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-06-10 00:05:48.477 -03:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-06-10 00:05:48.477 -03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-06-10 00:05:48.478 -03:00 [DBG] Start token request.
2019-06-10 00:05:48.478 -03:00 [DBG] Start client validation
2019-06-10 00:05:48.478 -03:00 [DBG] Start parsing Basic Authentication secret
2019-06-10 00:05:48.478 -03:00 [DBG] Start parsing for secret in post body
2019-06-10 00:05:48.479 -03:00 [DBG] Parser found secret: PostBodySecretParser
2019-06-10 00:05:48.480 -03:00 [DBG] Secret id found: ro.client
2019-06-10 00:05:48.543 -03:00 [DBG] ro.client found in database: true
2019-06-10 00:05:48.543 -03:00 [DBG] client configuration validation for client ro.client succeeded.
2019-06-10 00:05:48.544 -03:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-06-10 00:05:48.544 -03:00 [DBG] Client validation success
2019-06-10 00:05:48.544 -03:00 [INF] {"ClientId":"ro.client","AuthenticationMethod":"SharedSecret","Category":"Authentication","Name":"Client Authentication Success","EventType":"Success","Id":1010,"Message":null,"ActivityId":"0HLND9Q0I34G5:00000001","TimeStamp":"2019-06-10T03:05:48.0000000Z","ProcessId":24128,"LocalIpAddress":"127.0.0.1:7887","RemoteIpAddress":"::1","$type":"ClientAuthenticationSuccessEvent"}
2019-06-10 00:05:48.544 -03:00 [DBG] Start token request validation
2019-06-10 00:05:48.545 -03:00 [DBG] Start resource owner password token request validation
2019-06-10 00:05:48.567 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-10 00:05:48.738 -03:00 [DBG] Found ["api1"] API scopes in database
2019-06-10 00:05:48.742 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-10 00:05:48.749 -03:00 [DBG] Found ["api1"] API scopes in database
2019-06-10 00:05:48.776 -03:00 [INF] Credentials validated for username: Greg
2019-06-10 00:05:48.776 -03:00 [INF] {"Username":"Greg","Provider":null,"ProviderUserId":null,"SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","DisplayName":"Greg","Endpoint":"Token","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HLND9Q0I34G5:00000001","TimeStamp":"2019-06-10T03:05:48.0000000Z","ProcessId":24128,"LocalIpAddress":"127.0.0.1:7887","RemoteIpAddress":"::1","$type":"UserLoginSuccessEvent"}
2019-06-10 00:05:48.777 -03:00 [INF] {"Username":"Greg","Provider":null,"ProviderUserId":null,"SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","DisplayName":null,"Endpoint":"Token","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HLND9Q0I34G5:00000001","TimeStamp":"2019-06-10T03:05:48.0000000Z","ProcessId":24128,"LocalIpAddress":"127.0.0.1:7887","RemoteIpAddress":"::1","$type":"UserLoginSuccessEvent"}
2019-06-10 00:05:48.777 -03:00 [DBG] Resource owner password token request validation success.
2019-06-10 00:05:48.777 -03:00 [INF] Token request validation success
{"ClientId":"ro.client","ClientName":null,"GrantType":"password","Scopes":"api1 openid profile","AuthorizationCode":null,"RefreshToken":null,"UserName":"Greg","AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"grant_type":"password","client_id":"ro.client","client_secret":"***REDACTED***","scope":"openid profile api1","username":"Greg","password":"***REDACTED***"},"$type":"TokenRequestValidationLog"}
2019-06-10 00:05:48.778 -03:00 [DBG] Getting claims for access token for client: ro.client
2019-06-10 00:05:48.778 -03:00 [DBG] Getting claims for access token for subject: 4ba1c3a0-b786-421d-b88a-740f38d9cafa
2019-06-10 00:05:48.798 -03:00 [INF] {"ClientId":"ro.client","ClientName":null,"RedirectUri":null,"Endpoint":"Token","SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","Scopes":"openid profile api1","GrantType":"password","Tokens":[{"TokenType":"access_token","TokenValue":"****NkpA","$type":"Token"}],"Category":"Token","Name":"Token Issued Success","EventType":"Success","Id":2000,"Message":null,"ActivityId":"0HLND9Q0I34G5:00000001","TimeStamp":"2019-06-10T03:05:48.0000000Z","ProcessId":24128,"LocalIpAddress":"127.0.0.1:7887","RemoteIpAddress":"::1","$type":"TokenIssuedSuccessEvent"}
2019-06-10 00:05:48.799 -03:00 [DBG] Token request success.
2019-06-10 00:05:48.832 -03:00 [DBG] CORS request made for path: /connect/userinfo from origin: http://localhost:3000
2019-06-10 00:05:48.835 -03:00 [DBG] Origin http://localhost:3000 is allowed: false
2019-06-10 00:05:48.835 -03:00 [WRN] CorsPolicyService did not allow origin: http://localhost:3000
2019-06-10 00:05:48.835 -03:00 [DBG] Request path /connect/userinfo matched to endpoint type Userinfo
2019-06-10 00:05:48.836 -03:00 [DBG] Endpoint enabled: Userinfo, successfully created handler: IdentityServer4.Endpoints.UserInfoEndpoint
2019-06-10 00:05:48.836 -03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.UserInfoEndpoint for /connect/userinfo
2019-06-10 00:05:48.837 -03:00 [DBG] Start userinfo request
2019-06-10 00:05:48.837 -03:00 [DBG] Bearer token found in header
2019-06-10 00:05:48.855 -03:00 [DBG] ro.client found in database: true
2019-06-10 00:05:48.855 -03:00 [DBG] client configuration validation for client ro.client succeeded.
2019-06-10 00:05:48.863 -03:00 [DBG] ro.client found in database: true
2019-06-10 00:05:48.864 -03:00 [DBG] client configuration validation for client ro.client succeeded.
2019-06-10 00:05:48.873 -03:00 [DBG] Calling into custom token validator: IdentityServer4.Validation.DefaultCustomTokenValidator
2019-06-10 00:05:48.874 -03:00 [DBG] Token validation success
{"ClientId":null,"ClientName":null,"ValidateLifetime":true,"AccessTokenType":"Jwt","ExpectedScope":"openid","TokenHandle":null,"JwtId":null,"Claims":{"nbf":1560135948,"exp":1560139548,"iss":"http://localhost:5000","aud":["http://localhost:5000/resources","api1"],"client_id":"ro.client","sub":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","auth_time":1560135948,"idp":"local","scope":["openid","profile","api1"],"amr":"pwd"},"$type":"TokenValidationLog"}
2019-06-10 00:05:48.874 -03:00 [DBG] Creating userinfo response
2019-06-10 00:05:48.875 -03:00 [DBG] Scopes in access token: openid profile api1
2019-06-10 00:05:48.875 -03:00 [DBG] Scopes in access token: openid profile api1
2019-06-10 00:05:48.891 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-10 00:05:48.891 -03:00 [DBG] Requested claim types: sub name family_name given_name middle_name nickname preferred_username profile picture website gender birthdate zoneinfo locale updated_at
2019-06-10 00:05:48.891 -03:00 [DBG] Scopes in access token: openid profile api1
2019-06-10 00:05:48.895 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-10 00:05:48.918 -03:00 [INF] Profile service returned the following claim types: sub name given_name family_name website preferred_username
2019-06-10 00:05:48.918 -03:00 [DBG] End userinfo request
2019-06-10 00:06:28.827 -03:00 [DBG] CORS request made for path: /connect/token from origin: http://localhost:3000
2019-06-10 00:06:28.830 -03:00 [DBG] Origin http://localhost:3000 is allowed: false
2019-06-10 00:06:28.830 -03:00 [WRN] CorsPolicyService did not allow origin: http://localhost:3000
2019-06-10 00:06:28.830 -03:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-06-10 00:06:28.831 -03:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-06-10 00:06:28.831 -03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-06-10 00:06:28.831 -03:00 [DBG] Start token request.
2019-06-10 00:06:28.831 -03:00 [DBG] Start client validation
2019-06-10 00:06:28.831 -03:00 [DBG] Start parsing Basic Authentication secret
2019-06-10 00:06:28.831 -03:00 [DBG] Start parsing for secret in post body
2019-06-10 00:06:28.832 -03:00 [DBG] Parser found secret: PostBodySecretParser
2019-06-10 00:06:28.832 -03:00 [DBG] Secret id found: ro.client
2019-06-10 00:06:28.841 -03:00 [DBG] ro.client found in database: true
2019-06-10 00:06:28.841 -03:00 [DBG] client configuration validation for client ro.client succeeded.
2019-06-10 00:06:28.841 -03:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-06-10 00:06:28.841 -03:00 [DBG] Client validation success
2019-06-10 00:06:28.876 -03:00 [INF] {"ClientId":"ro.client","AuthenticationMethod":"SharedSecret","Category":"Authentication","Name":"Client Authentication Success","EventType":"Success","Id":1010,"Message":null,"ActivityId":"0HLND9Q0I34G5:00000004","TimeStamp":"2019-06-10T03:06:28.0000000Z","ProcessId":24128,"LocalIpAddress":"127.0.0.1:7887","RemoteIpAddress":"::1","$type":"ClientAuthenticationSuccessEvent"}
2019-06-10 00:06:28.887 -03:00 [DBG] Start token request validation
2019-06-10 00:06:28.888 -03:00 [DBG] Start resource owner password token request validation
2019-06-10 00:06:28.894 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-10 00:06:28.901 -03:00 [DBG] Found ["api1"] API scopes in database
2019-06-10 00:06:28.905 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-10 00:06:28.912 -03:00 [DBG] Found ["api1"] API scopes in database
2019-06-10 00:06:28.936 -03:00 [INF] Credentials validated for username: Greg
2019-06-10 00:06:28.936 -03:00 [INF] {"Username":"Greg","Provider":null,"ProviderUserId":null,"SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","DisplayName":"Greg","Endpoint":"Token","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HLND9Q0I34G5:00000004","TimeStamp":"2019-06-10T03:06:28.0000000Z","ProcessId":24128,"LocalIpAddress":"127.0.0.1:7887","RemoteIpAddress":"::1","$type":"UserLoginSuccessEvent"}
2019-06-10 00:06:28.937 -03:00 [INF] {"Username":"Greg","Provider":null,"ProviderUserId":null,"SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","DisplayName":null,"Endpoint":"Token","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HLND9Q0I34G5:00000004","TimeStamp":"2019-06-10T03:06:28.0000000Z","ProcessId":24128,"LocalIpAddress":"127.0.0.1:7887","RemoteIpAddress":"::1","$type":"UserLoginSuccessEvent"}
2019-06-10 00:06:28.937 -03:00 [DBG] Resource owner password token request validation success.
2019-06-10 00:06:28.938 -03:00 [INF] Token request validation success
{"ClientId":"ro.client","ClientName":null,"GrantType":"password","Scopes":"api1 openid profile","AuthorizationCode":null,"RefreshToken":null,"UserName":"Greg","AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"grant_type":"password","client_id":"ro.client","client_secret":"***REDACTED***","scope":"openid profile api1","username":"Greg","password":"***REDACTED***"},"$type":"TokenRequestValidationLog"}
2019-06-10 00:06:28.938 -03:00 [DBG] Getting claims for access token for client: ro.client
2019-06-10 00:06:28.938 -03:00 [DBG] Getting claims for access token for subject: 4ba1c3a0-b786-421d-b88a-740f38d9cafa
2019-06-10 00:06:28.961 -03:00 [INF] {"ClientId":"ro.client","ClientName":null,"RedirectUri":null,"Endpoint":"Token","SubjectId":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","Scopes":"openid profile api1","GrantType":"password","Tokens":[{"TokenType":"access_token","TokenValue":"****8Oig","$type":"Token"}],"Category":"Token","Name":"Token Issued Success","EventType":"Success","Id":2000,"Message":null,"ActivityId":"0HLND9Q0I34G5:00000004","TimeStamp":"2019-06-10T03:06:28.0000000Z","ProcessId":24128,"LocalIpAddress":"127.0.0.1:7887","RemoteIpAddress":"::1","$type":"TokenIssuedSuccessEvent"}
2019-06-10 00:06:28.961 -03:00 [DBG] Token request success.
2019-06-10 00:06:28.991 -03:00 [DBG] CORS request made for path: /connect/userinfo from origin: http://localhost:3000
2019-06-10 00:06:28.993 -03:00 [DBG] Origin http://localhost:3000 is allowed: false
2019-06-10 00:06:28.993 -03:00 [WRN] CorsPolicyService did not allow origin: http://localhost:3000
2019-06-10 00:06:28.994 -03:00 [DBG] Request path /connect/userinfo matched to endpoint type Userinfo
2019-06-10 00:06:28.994 -03:00 [DBG] Endpoint enabled: Userinfo, successfully created handler: IdentityServer4.Endpoints.UserInfoEndpoint
2019-06-10 00:06:28.994 -03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.UserInfoEndpoint for /connect/userinfo
2019-06-10 00:06:28.994 -03:00 [DBG] Start userinfo request
2019-06-10 00:06:28.994 -03:00 [DBG] Bearer token found in header
2019-06-10 00:06:29.009 -03:00 [DBG] ro.client found in database: true
2019-06-10 00:06:29.009 -03:00 [DBG] client configuration validation for client ro.client succeeded.
2019-06-10 00:06:29.016 -03:00 [DBG] ro.client found in database: true
2019-06-10 00:06:29.016 -03:00 [DBG] client configuration validation for client ro.client succeeded.
2019-06-10 00:06:29.023 -03:00 [DBG] Calling into custom token validator: IdentityServer4.Validation.DefaultCustomTokenValidator
2019-06-10 00:06:29.024 -03:00 [DBG] Token validation success
{"ClientId":null,"ClientName":null,"ValidateLifetime":true,"AccessTokenType":"Jwt","ExpectedScope":"openid","TokenHandle":null,"JwtId":null,"Claims":{"nbf":1560135988,"exp":1560139588,"iss":"http://localhost:5000","aud":["http://localhost:5000/resources","api1"],"client_id":"ro.client","sub":"4ba1c3a0-b786-421d-b88a-740f38d9cafa","auth_time":1560135988,"idp":"local","scope":["openid","profile","api1"],"amr":"pwd"},"$type":"TokenValidationLog"}
2019-06-10 00:06:29.024 -03:00 [DBG] Creating userinfo response
2019-06-10 00:06:29.024 -03:00 [DBG] Scopes in access token: openid profile api1
2019-06-10 00:06:29.025 -03:00 [DBG] Scopes in access token: openid profile api1
2019-06-10 00:06:29.029 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-10 00:06:29.029 -03:00 [DBG] Requested claim types: sub name family_name given_name middle_name nickname preferred_username profile picture website gender birthdate zoneinfo locale updated_at
2019-06-10 00:06:29.029 -03:00 [DBG] Scopes in access token: openid profile api1
2019-06-10 00:06:29.032 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-10 00:06:29.040 -03:00 [INF] Profile service returned the following claim types: sub name given_name family_name website preferred_username
2019-06-10 00:06:29.040 -03:00 [DBG] End userinfo request
2019-06-10 00:06:30.660 -03:00 [DBG] CORS request made for path: /connect/token from origin: http://localhost:3000
2019-06-10 00:06:30.662 -03:00 [DBG] Origin http://localhost:3000 is allowed: false
2019-06-10 00:06:30.662 -03:00 [WRN] CorsPolicyService did not allow origin: http://localhost:3000
2019-06-10 00:06:30.662 -03:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-06-10 00:06:30.663 -03:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-06-10 00:06:30.663 -03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-06-10 00:06:30.663 -03:00 [DBG] Start token request.
2019-06-10 00:06:30.663 -03:00 [DBG] Start client validation
2019-06-10 00:06:30.663 -03:00 [DBG] Start parsing Basic Authentication secret
2019-06-10 00:06:30.663 -03:00 [DBG] Start parsing for secret in post body
2019-06-10 00:06:30.664 -03:00 [DBG] Parser found secret: PostBodySecretParser
2019-06-10 00:06:30.664 -03:00 [DBG] Secret id found: ro.client
2019-06-10 00:06:30.674 -03:00 [DBG] ro.client found in database: true
2019-06-10 00:06:30.675 -03:00 [DBG] client configuration validation for client ro.client succeeded.
2019-06-10 00:06:30.675 -03:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-06-10 00:06:30.676 -03:00 [DBG] Client validation success
2019-06-10 00:06:30.676 -03:00 [INF] {"ClientId":"ro.client","AuthenticationMethod":"SharedSecret","Category":"Authentication","Name":"Client Authentication Success","EventType":"Success","Id":1010,"Message":null,"ActivityId":"0HLND9Q0I34G5:00000007","TimeStamp":"2019-06-10T03:06:30.0000000Z","ProcessId":24128,"LocalIpAddress":"127.0.0.1:7887","RemoteIpAddress":"::1","$type":"ClientAuthenticationSuccessEvent"}
2019-06-10 00:06:30.676 -03:00 [DBG] Start token request validation
2019-06-10 00:06:30.676 -03:00 [DBG] Start resource owner password token request validation
2019-06-10 00:06:30.680 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-10 00:06:30.688 -03:00 [DBG] Found ["api1"] API scopes in database
2019-06-10 00:06:30.694 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-10 00:06:30.701 -03:00 [DBG] Found ["api1"] API scopes in database
2019-06-10 00:06:30.704 -03:00 [ERR] Username or password missing, request details: []
2019-06-10 00:06:30.709 -03:00 [INF] {"ClientId":"ro.client","ClientName":null,"RedirectUri":null,"Endpoint":"Token","SubjectId":null,"Scopes":"api1 openid profile","GrantType":"password","Error":"invalid_grant","ErrorDescription":null,"Category":"Token","Name":"Token Issued Failure","EventType":"Failure","Id":2001,"Message":null,"ActivityId":"0HLND9Q0I34G5:00000007","TimeStamp":"2019-06-10T03:06:30.0000000Z","ProcessId":24128,"LocalIpAddress":"127.0.0.1:7887","RemoteIpAddress":"::1","$type":"TokenIssuedFailureEvent"}
2019-06-10 00:06:43.537 -03:00 [INF] Starting IdentityServer4 version 2.3.2.0
2019-06-10 00:06:43.900 -03:00 [INF] Using the default authentication scheme Identity.Application for IdentityServer
2019-06-10 00:06:43.900 -03:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for authentication
2019-06-10 00:06:43.901 -03:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-in
2019-06-10 00:06:43.901 -03:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-out
2019-06-10 00:06:43.901 -03:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for challenge
2019-06-10 00:06:43.902 -03:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for forbid
2019-06-10 00:06:44.229 -03:00 [DBG] Starting grant removal
2019-06-10 00:06:44.893 -03:00 [DBG] Login Url: /Account/Login
2019-06-10 00:06:44.897 -03:00 [DBG] Login Return Url Parameter: ReturnUrl
2019-06-10 00:06:44.897 -03:00 [DBG] Logout Url: /Account/Logout
2019-06-10 00:06:44.897 -03:00 [DBG] ConsentUrl Url: /consent
2019-06-10 00:06:44.897 -03:00 [DBG] Consent Return Url Parameter: returnUrl
2019-06-10 00:06:44.897 -03:00 [DBG] Error Url: /home/error
2019-06-10 00:06:44.898 -03:00 [DBG] Error Id Parameter: errorId
2019-06-10 00:06:56.748 -03:00 [DBG] CORS request made for path: /connect/token from origin: http://localhost:3000
2019-06-10 00:07:09.029 -03:00 [ERR] An error occurred using the connection to database 'IdentityServer' on server '(LocalDb)\MSSQLLocalDB'.
System.Data.SqlClient.SqlException (0x80131904): Cannot open database "IdentityServer" requested by the login. The login failed.
Login failed for user 'NOTE-CINQ-88\Administrador'.
   at System.Data.SqlClient.SqlInternalConnectionTds..ctor(DbConnectionPoolIdentity identity, SqlConnectionString connectionOptions, SqlCredential credential, Object providerInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString userConnectionOptions, SessionData reconnectSessionData, Boolean applyTransientFaultHandling)
   at System.Data.SqlClient.SqlConnectionFactory.CreateConnection(DbConnectionOptions options, DbConnectionPoolKey poolKey, Object poolGroupProviderInfo, DbConnectionPool pool, DbConnection owningConnection, DbConnectionOptions userOptions)
   at System.Data.ProviderBase.DbConnectionFactory.CreatePooledConnection(DbConnectionPool pool, DbConnection owningObject, DbConnectionOptions options, DbConnectionPoolKey poolKey, DbConnectionOptions userOptions)
   at System.Data.ProviderBase.DbConnectionPool.CreateObject(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at System.Data.ProviderBase.DbConnectionPool.UserCreateRequest(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at System.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at System.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at System.Data.ProviderBase.DbConnectionFactory.TryGetConnection(DbConnection owningConnection, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal oldConnection, DbConnectionInternal& connection)
   at System.Data.ProviderBase.DbConnectionInternal.TryOpenConnectionInternal(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at System.Data.ProviderBase.DbConnectionClosed.TryOpenConnection(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at System.Data.SqlClient.SqlConnection.TryOpen(TaskCompletionSource`1 retry)
   at System.Data.SqlClient.SqlConnection.Open()
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenDbConnection(Boolean errorsExpected)
ClientConnectionId:51a268ab-0b38-40f8-a56f-f5bdda52d25d
Error Number:4060,State:1,Class:11
2019-06-10 00:07:09.111 -03:00 [ERR] An exception occurred in the database while iterating the results of a query for context type 'IdentityServer4.EntityFramework.DbContexts.ConfigurationDbContext'.
System.Data.SqlClient.SqlException (0x80131904): Cannot open database "IdentityServer" requested by the login. The login failed.
Login failed for user 'NOTE-CINQ-88\Administrador'.
   at System.Data.SqlClient.SqlInternalConnectionTds..ctor(DbConnectionPoolIdentity identity, SqlConnectionString connectionOptions, SqlCredential credential, Object providerInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString userConnectionOptions, SessionData reconnectSessionData, Boolean applyTransientFaultHandling)
   at System.Data.SqlClient.SqlConnectionFactory.CreateConnection(DbConnectionOptions options, DbConnectionPoolKey poolKey, Object poolGroupProviderInfo, DbConnectionPool pool, DbConnection owningConnection, DbConnectionOptions userOptions)
   at System.Data.ProviderBase.DbConnectionFactory.CreatePooledConnection(DbConnectionPool pool, DbConnection owningObject, DbConnectionOptions options, DbConnectionPoolKey poolKey, DbConnectionOptions userOptions)
   at System.Data.ProviderBase.DbConnectionPool.CreateObject(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at System.Data.ProviderBase.DbConnectionPool.UserCreateRequest(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at System.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at System.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at System.Data.ProviderBase.DbConnectionFactory.TryGetConnection(DbConnection owningConnection, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal oldConnection, DbConnectionInternal& connection)
   at System.Data.ProviderBase.DbConnectionInternal.TryOpenConnectionInternal(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at System.Data.ProviderBase.DbConnectionClosed.TryOpenConnection(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at System.Data.SqlClient.SqlConnection.TryOpen(TaskCompletionSource`1 retry)
   at System.Data.SqlClient.SqlConnection.Open()
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenDbConnection(Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.Open(Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.BufferlessMoveNext(DbContext _, Boolean buffer)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.MoveNext()
   at Microsoft.EntityFrameworkCore.Query.Internal.LinqOperatorProvider.ExceptionInterceptor`1.EnumeratorExceptionInterceptor.MoveNext()
ClientConnectionId:51a268ab-0b38-40f8-a56f-f5bdda52d25d
Error Number:4060,State:1,Class:11
System.Data.SqlClient.SqlException (0x80131904): Cannot open database "IdentityServer" requested by the login. The login failed.
Login failed for user 'NOTE-CINQ-88\Administrador'.
   at System.Data.SqlClient.SqlInternalConnectionTds..ctor(DbConnectionPoolIdentity identity, SqlConnectionString connectionOptions, SqlCredential credential, Object providerInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString userConnectionOptions, SessionData reconnectSessionData, Boolean applyTransientFaultHandling)
   at System.Data.SqlClient.SqlConnectionFactory.CreateConnection(DbConnectionOptions options, DbConnectionPoolKey poolKey, Object poolGroupProviderInfo, DbConnectionPool pool, DbConnection owningConnection, DbConnectionOptions userOptions)
   at System.Data.ProviderBase.DbConnectionFactory.CreatePooledConnection(DbConnectionPool pool, DbConnection owningObject, DbConnectionOptions options, DbConnectionPoolKey poolKey, DbConnectionOptions userOptions)
   at System.Data.ProviderBase.DbConnectionPool.CreateObject(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at System.Data.ProviderBase.DbConnectionPool.UserCreateRequest(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at System.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at System.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at System.Data.ProviderBase.DbConnectionFactory.TryGetConnection(DbConnection owningConnection, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal oldConnection, DbConnectionInternal& connection)
   at System.Data.ProviderBase.DbConnectionInternal.TryOpenConnectionInternal(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at System.Data.ProviderBase.DbConnectionClosed.TryOpenConnection(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at System.Data.SqlClient.SqlConnection.TryOpen(TaskCompletionSource`1 retry)
   at System.Data.SqlClient.SqlConnection.Open()
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenDbConnection(Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.Open(Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.BufferlessMoveNext(DbContext _, Boolean buffer)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.MoveNext()
   at Microsoft.EntityFrameworkCore.Query.Internal.LinqOperatorProvider.ExceptionInterceptor`1.EnumeratorExceptionInterceptor.MoveNext()
ClientConnectionId:51a268ab-0b38-40f8-a56f-f5bdda52d25d
Error Number:4060,State:1,Class:11
2019-06-10 00:07:55.117 -03:00 [INF] Starting IdentityServer4 version 2.3.2.0
2019-06-10 00:07:55.273 -03:00 [INF] Using the default authentication scheme Identity.Application for IdentityServer
2019-06-10 00:07:55.274 -03:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for authentication
2019-06-10 00:07:55.274 -03:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-in
2019-06-10 00:07:55.274 -03:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-out
2019-06-10 00:07:55.274 -03:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for challenge
2019-06-10 00:07:55.274 -03:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for forbid
2019-06-10 00:07:55.395 -03:00 [WRN] Unable to bind to http://localhost:5000 on the IPv4 loopback interface: 'An attempt was made to access a socket in a way forbidden by its access permissions'.
2019-06-10 00:07:55.395 -03:00 [WRN] Unable to bind to http://localhost:5000 on the IPv6 loopback interface: 'An attempt was made to access a socket in a way forbidden by its access permissions'.
2019-06-10 00:07:55.396 -03:00 [FTL] Unable to start Kestrel.
System.IO.IOException: Failed to bind to address http://localhost:5000. ---> System.AggregateException: One or more errors occurred. (An attempt was made to access a socket in a way forbidden by its access permissions) (An attempt was made to access a socket in a way forbidden by its access permissions) ---> System.Net.Sockets.SocketException: An attempt was made to access a socket in a way forbidden by its access permissions
   at System.Net.Sockets.Socket.UpdateStatusAfterSocketErrorAndThrowException(SocketError error, String callerName)
   at System.Net.Sockets.Socket.DoBind(EndPoint endPointSnapshot, SocketAddress socketAddress)
   at System.Net.Sockets.Socket.Bind(EndPoint localEP)
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketTransport.BindAsync()
   at Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServer.<>c__DisplayClass22_0`1.<<StartAsync>g__OnBind|0>d.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.BindEndpointAsync(ListenOptions endpoint, AddressBindContext context)
   at Microsoft.AspNetCore.Server.Kestrel.Core.LocalhostListenOptions.BindAsync(AddressBindContext context)
   --- End of inner exception stack trace ---
   --- End of inner exception stack trace ---
   at Microsoft.AspNetCore.Server.Kestrel.Core.LocalhostListenOptions.BindAsync(AddressBindContext context)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.AddressesStrategy.BindAsync(AddressBindContext context)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.BindAsync(IServerAddressesFeature addresses, KestrelServerOptions serverOptions, ILogger logger, Func`2 createBinding)
   at Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServer.StartAsync[TContext](IHttpApplication`1 application, CancellationToken cancellationToken)
2019-06-10 00:07:55.444 -03:00 [FTL] An error occurred stopping the application
System.AggregateException: One or more errors occurred. (Not started. Call Start first.) ---> System.InvalidOperationException: Not started. Call Start first.
   at IdentityServer4.EntityFramework.TokenCleanup.Stop() in C:\local\identity\server4\EntityFramework.Storage\src\TokenCleanup\TokenCleanup.cs:line 77
   at Microsoft.Extensions.DependencyInjection.TokenCleanupHost.StopAsync(CancellationToken cancellationToken) in C:\local\identity\server4\EntityFramework\src\TokenCleanupHost.cs:line 37
   at Microsoft.AspNetCore.Hosting.Internal.HostedServiceExecutor.<>c__DisplayClass4_0.<StopAsync>b__0(IHostedService service)
   at Microsoft.AspNetCore.Hosting.Internal.HostedServiceExecutor.ExecuteAsync(Func`2 callback)
   --- End of inner exception stack trace ---
   at Microsoft.AspNetCore.Hosting.Internal.HostedServiceExecutor.ExecuteAsync(Func`2 callback)
   at Microsoft.AspNetCore.Hosting.Internal.HostedServiceExecutor.StopAsync(CancellationToken token)
---> (Inner Exception #0) System.InvalidOperationException: Not started. Call Start first.
   at IdentityServer4.EntityFramework.TokenCleanup.Stop() in C:\local\identity\server4\EntityFramework.Storage\src\TokenCleanup\TokenCleanup.cs:line 77
   at Microsoft.Extensions.DependencyInjection.TokenCleanupHost.StopAsync(CancellationToken cancellationToken) in C:\local\identity\server4\EntityFramework\src\TokenCleanupHost.cs:line 37
   at Microsoft.AspNetCore.Hosting.Internal.HostedServiceExecutor.<>c__DisplayClass4_0.<StopAsync>b__0(IHostedService service)
   at Microsoft.AspNetCore.Hosting.Internal.HostedServiceExecutor.ExecuteAsync(Func`2 callback)<---

2019-06-10 00:12:05.089 -03:00 [INF] Starting IdentityServer4 version 2.3.2.0
2019-06-10 00:12:05.276 -03:00 [INF] Using the default authentication scheme Identity.Application for IdentityServer
2019-06-10 00:12:05.276 -03:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for authentication
2019-06-10 00:12:05.276 -03:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-in
2019-06-10 00:12:05.277 -03:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-out
2019-06-10 00:12:05.277 -03:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for challenge
2019-06-10 00:12:05.277 -03:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for forbid
2019-06-10 00:12:05.416 -03:00 [WRN] Unable to bind to http://localhost:5000 on the IPv4 loopback interface: 'An attempt was made to access a socket in a way forbidden by its access permissions'.
2019-06-10 00:12:05.417 -03:00 [WRN] Unable to bind to http://localhost:5000 on the IPv6 loopback interface: 'An attempt was made to access a socket in a way forbidden by its access permissions'.
2019-06-10 00:12:05.417 -03:00 [FTL] Unable to start Kestrel.
System.IO.IOException: Failed to bind to address http://localhost:5000. ---> System.AggregateException: One or more errors occurred. (An attempt was made to access a socket in a way forbidden by its access permissions) (An attempt was made to access a socket in a way forbidden by its access permissions) ---> System.Net.Sockets.SocketException: An attempt was made to access a socket in a way forbidden by its access permissions
   at System.Net.Sockets.Socket.UpdateStatusAfterSocketErrorAndThrowException(SocketError error, String callerName)
   at System.Net.Sockets.Socket.DoBind(EndPoint endPointSnapshot, SocketAddress socketAddress)
   at System.Net.Sockets.Socket.Bind(EndPoint localEP)
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketTransport.BindAsync()
   at Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServer.<>c__DisplayClass22_0`1.<<StartAsync>g__OnBind|0>d.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.BindEndpointAsync(ListenOptions endpoint, AddressBindContext context)
   at Microsoft.AspNetCore.Server.Kestrel.Core.LocalhostListenOptions.BindAsync(AddressBindContext context)
   --- End of inner exception stack trace ---
   --- End of inner exception stack trace ---
   at Microsoft.AspNetCore.Server.Kestrel.Core.LocalhostListenOptions.BindAsync(AddressBindContext context)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.AddressesStrategy.BindAsync(AddressBindContext context)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.BindAsync(IServerAddressesFeature addresses, KestrelServerOptions serverOptions, ILogger logger, Func`2 createBinding)
   at Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServer.StartAsync[TContext](IHttpApplication`1 application, CancellationToken cancellationToken)
2019-06-10 00:12:05.473 -03:00 [FTL] An error occurred stopping the application
System.AggregateException: One or more errors occurred. (Not started. Call Start first.) ---> System.InvalidOperationException: Not started. Call Start first.
   at IdentityServer4.EntityFramework.TokenCleanup.Stop() in C:\local\identity\server4\EntityFramework.Storage\src\TokenCleanup\TokenCleanup.cs:line 77
   at Microsoft.Extensions.DependencyInjection.TokenCleanupHost.StopAsync(CancellationToken cancellationToken) in C:\local\identity\server4\EntityFramework\src\TokenCleanupHost.cs:line 37
   at Microsoft.AspNetCore.Hosting.Internal.HostedServiceExecutor.<>c__DisplayClass4_0.<StopAsync>b__0(IHostedService service)
   at Microsoft.AspNetCore.Hosting.Internal.HostedServiceExecutor.ExecuteAsync(Func`2 callback)
   --- End of inner exception stack trace ---
   at Microsoft.AspNetCore.Hosting.Internal.HostedServiceExecutor.ExecuteAsync(Func`2 callback)
   at Microsoft.AspNetCore.Hosting.Internal.HostedServiceExecutor.StopAsync(CancellationToken token)
---> (Inner Exception #0) System.InvalidOperationException: Not started. Call Start first.
   at IdentityServer4.EntityFramework.TokenCleanup.Stop() in C:\local\identity\server4\EntityFramework.Storage\src\TokenCleanup\TokenCleanup.cs:line 77
   at Microsoft.Extensions.DependencyInjection.TokenCleanupHost.StopAsync(CancellationToken cancellationToken) in C:\local\identity\server4\EntityFramework\src\TokenCleanupHost.cs:line 37
   at Microsoft.AspNetCore.Hosting.Internal.HostedServiceExecutor.<>c__DisplayClass4_0.<StopAsync>b__0(IHostedService service)
   at Microsoft.AspNetCore.Hosting.Internal.HostedServiceExecutor.ExecuteAsync(Func`2 callback)<---

2019-06-10 00:14:30.124 -03:00 [INF] Starting IdentityServer4 version 2.3.2.0
2019-06-10 00:14:30.225 -03:00 [INF] Using the default authentication scheme Identity.Application for IdentityServer
2019-06-10 00:14:30.225 -03:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for authentication
2019-06-10 00:14:30.225 -03:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-in
2019-06-10 00:14:30.225 -03:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-out
2019-06-10 00:14:30.225 -03:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for challenge
2019-06-10 00:14:30.225 -03:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for forbid
2019-06-10 00:14:30.300 -03:00 [DBG] Starting grant removal
2019-06-10 00:14:43.765 -03:00 [DBG] CORS request made for path: /connect/token from origin: http://localhost:3000
2019-06-10 00:14:54.129 -03:00 [ERR] An error occurred using the connection to database 'IdentityServer' on server '(LocalDb)\MSSQLLocalDB'.
System.Data.SqlClient.SqlException (0x80131904): Cannot open database "IdentityServer" requested by the login. The login failed.
Login failed for user 'NOTE-CINQ-88\Administrador'.
   at System.Data.SqlClient.SqlInternalConnectionTds..ctor(DbConnectionPoolIdentity identity, SqlConnectionString connectionOptions, SqlCredential credential, Object providerInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString userConnectionOptions, SessionData reconnectSessionData, Boolean applyTransientFaultHandling)
   at System.Data.SqlClient.SqlConnectionFactory.CreateConnection(DbConnectionOptions options, DbConnectionPoolKey poolKey, Object poolGroupProviderInfo, DbConnectionPool pool, DbConnection owningConnection, DbConnectionOptions userOptions)
   at System.Data.ProviderBase.DbConnectionFactory.CreatePooledConnection(DbConnectionPool pool, DbConnection owningObject, DbConnectionOptions options, DbConnectionPoolKey poolKey, DbConnectionOptions userOptions)
   at System.Data.ProviderBase.DbConnectionPool.CreateObject(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at System.Data.ProviderBase.DbConnectionPool.UserCreateRequest(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at System.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at System.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at System.Data.ProviderBase.DbConnectionFactory.TryGetConnection(DbConnection owningConnection, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal oldConnection, DbConnectionInternal& connection)
   at System.Data.ProviderBase.DbConnectionInternal.TryOpenConnectionInternal(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at System.Data.ProviderBase.DbConnectionClosed.TryOpenConnection(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at System.Data.SqlClient.SqlConnection.TryOpen(TaskCompletionSource`1 retry)
   at System.Data.SqlClient.SqlConnection.Open()
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenDbConnection(Boolean errorsExpected)
ClientConnectionId:4924f083-975f-474f-acfe-14542f563a69
Error Number:4060,State:1,Class:11
2019-06-10 00:14:54.152 -03:00 [ERR] An exception occurred in the database while iterating the results of a query for context type 'IdentityServer4.EntityFramework.DbContexts.ConfigurationDbContext'.
System.Data.SqlClient.SqlException (0x80131904): Cannot open database "IdentityServer" requested by the login. The login failed.
Login failed for user 'NOTE-CINQ-88\Administrador'.
   at System.Data.SqlClient.SqlInternalConnectionTds..ctor(DbConnectionPoolIdentity identity, SqlConnectionString connectionOptions, SqlCredential credential, Object providerInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString userConnectionOptions, SessionData reconnectSessionData, Boolean applyTransientFaultHandling)
   at System.Data.SqlClient.SqlConnectionFactory.CreateConnection(DbConnectionOptions options, DbConnectionPoolKey poolKey, Object poolGroupProviderInfo, DbConnectionPool pool, DbConnection owningConnection, DbConnectionOptions userOptions)
   at System.Data.ProviderBase.DbConnectionFactory.CreatePooledConnection(DbConnectionPool pool, DbConnection owningObject, DbConnectionOptions options, DbConnectionPoolKey poolKey, DbConnectionOptions userOptions)
   at System.Data.ProviderBase.DbConnectionPool.CreateObject(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at System.Data.ProviderBase.DbConnectionPool.UserCreateRequest(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at System.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at System.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at System.Data.ProviderBase.DbConnectionFactory.TryGetConnection(DbConnection owningConnection, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal oldConnection, DbConnectionInternal& connection)
   at System.Data.ProviderBase.DbConnectionInternal.TryOpenConnectionInternal(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at System.Data.ProviderBase.DbConnectionClosed.TryOpenConnection(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at System.Data.SqlClient.SqlConnection.TryOpen(TaskCompletionSource`1 retry)
   at System.Data.SqlClient.SqlConnection.Open()
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenDbConnection(Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.Open(Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.BufferlessMoveNext(DbContext _, Boolean buffer)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.MoveNext()
   at Microsoft.EntityFrameworkCore.Query.Internal.LinqOperatorProvider.ExceptionInterceptor`1.EnumeratorExceptionInterceptor.MoveNext()
ClientConnectionId:4924f083-975f-474f-acfe-14542f563a69
Error Number:4060,State:1,Class:11
System.Data.SqlClient.SqlException (0x80131904): Cannot open database "IdentityServer" requested by the login. The login failed.
Login failed for user 'NOTE-CINQ-88\Administrador'.
   at System.Data.SqlClient.SqlInternalConnectionTds..ctor(DbConnectionPoolIdentity identity, SqlConnectionString connectionOptions, SqlCredential credential, Object providerInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString userConnectionOptions, SessionData reconnectSessionData, Boolean applyTransientFaultHandling)
   at System.Data.SqlClient.SqlConnectionFactory.CreateConnection(DbConnectionOptions options, DbConnectionPoolKey poolKey, Object poolGroupProviderInfo, DbConnectionPool pool, DbConnection owningConnection, DbConnectionOptions userOptions)
   at System.Data.ProviderBase.DbConnectionFactory.CreatePooledConnection(DbConnectionPool pool, DbConnection owningObject, DbConnectionOptions options, DbConnectionPoolKey poolKey, DbConnectionOptions userOptions)
   at System.Data.ProviderBase.DbConnectionPool.CreateObject(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at System.Data.ProviderBase.DbConnectionPool.UserCreateRequest(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at System.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at System.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at System.Data.ProviderBase.DbConnectionFactory.TryGetConnection(DbConnection owningConnection, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal oldConnection, DbConnectionInternal& connection)
   at System.Data.ProviderBase.DbConnectionInternal.TryOpenConnectionInternal(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at System.Data.ProviderBase.DbConnectionClosed.TryOpenConnection(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at System.Data.SqlClient.SqlConnection.TryOpen(TaskCompletionSource`1 retry)
   at System.Data.SqlClient.SqlConnection.Open()
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenDbConnection(Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.Open(Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.BufferlessMoveNext(DbContext _, Boolean buffer)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.MoveNext()
   at Microsoft.EntityFrameworkCore.Query.Internal.LinqOperatorProvider.ExceptionInterceptor`1.EnumeratorExceptionInterceptor.MoveNext()
ClientConnectionId:4924f083-975f-474f-acfe-14542f563a69
Error Number:4060,State:1,Class:11
2019-06-10 00:15:00.571 -03:00 [DBG] Login Url: /Account/Login
2019-06-10 00:15:00.571 -03:00 [DBG] Login Return Url Parameter: ReturnUrl
2019-06-10 00:15:00.571 -03:00 [DBG] Logout Url: /Account/Logout
2019-06-10 00:15:00.571 -03:00 [DBG] ConsentUrl Url: /consent
2019-06-10 00:15:00.572 -03:00 [DBG] Consent Return Url Parameter: returnUrl
2019-06-10 00:15:00.572 -03:00 [DBG] Error Url: /home/error
2019-06-10 00:15:00.572 -03:00 [DBG] Error Id Parameter: errorId
2019-06-10 00:15:00.611 -03:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-06-10 00:15:00.639 -03:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-06-10 00:15:00.639 -03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-06-10 00:15:00.641 -03:00 [WRN] Invalid HTTP request for token endpoint
2019-06-10 00:15:09.679 -03:00 [DBG] CORS request made for path: /connect/token from origin: http://localhost:3000
2019-06-10 00:15:19.690 -03:00 [ERR] An error occurred using the connection to database 'IdentityServer' on server '(LocalDb)\MSSQLLocalDB'.
System.Data.SqlClient.SqlException (0x80131904): Cannot open database "IdentityServer" requested by the login. The login failed.
Login failed for user 'NOTE-CINQ-88\Administrador'.
   at System.Data.SqlClient.SqlInternalConnectionTds..ctor(DbConnectionPoolIdentity identity, SqlConnectionString connectionOptions, SqlCredential credential, Object providerInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString userConnectionOptions, SessionData reconnectSessionData, Boolean applyTransientFaultHandling)
   at System.Data.SqlClient.SqlConnectionFactory.CreateConnection(DbConnectionOptions options, DbConnectionPoolKey poolKey, Object poolGroupProviderInfo, DbConnectionPool pool, DbConnection owningConnection, DbConnectionOptions userOptions)
   at System.Data.ProviderBase.DbConnectionFactory.CreatePooledConnection(DbConnectionPool pool, DbConnection owningObject, DbConnectionOptions options, DbConnectionPoolKey poolKey, DbConnectionOptions userOptions)
   at System.Data.ProviderBase.DbConnectionPool.CreateObject(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at System.Data.ProviderBase.DbConnectionPool.UserCreateRequest(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at System.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at System.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at System.Data.ProviderBase.DbConnectionFactory.TryGetConnection(DbConnection owningConnection, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal oldConnection, DbConnectionInternal& connection)
   at System.Data.ProviderBase.DbConnectionInternal.TryOpenConnectionInternal(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at System.Data.ProviderBase.DbConnectionClosed.TryOpenConnection(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at System.Data.SqlClient.SqlConnection.TryOpen(TaskCompletionSource`1 retry)
   at System.Data.SqlClient.SqlConnection.Open()
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenDbConnection(Boolean errorsExpected)
ClientConnectionId:345c205f-ad2b-493a-877d-c8a102d19626
Error Number:4060,State:1,Class:11
2019-06-10 00:15:19.691 -03:00 [ERR] An exception occurred in the database while iterating the results of a query for context type 'IdentityServer4.EntityFramework.DbContexts.ConfigurationDbContext'.
System.Data.SqlClient.SqlException (0x80131904): Cannot open database "IdentityServer" requested by the login. The login failed.
Login failed for user 'NOTE-CINQ-88\Administrador'.
   at System.Data.SqlClient.SqlInternalConnectionTds..ctor(DbConnectionPoolIdentity identity, SqlConnectionString connectionOptions, SqlCredential credential, Object providerInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString userConnectionOptions, SessionData reconnectSessionData, Boolean applyTransientFaultHandling)
   at System.Data.SqlClient.SqlConnectionFactory.CreateConnection(DbConnectionOptions options, DbConnectionPoolKey poolKey, Object poolGroupProviderInfo, DbConnectionPool pool, DbConnection owningConnection, DbConnectionOptions userOptions)
   at System.Data.ProviderBase.DbConnectionFactory.CreatePooledConnection(DbConnectionPool pool, DbConnection owningObject, DbConnectionOptions options, DbConnectionPoolKey poolKey, DbConnectionOptions userOptions)
   at System.Data.ProviderBase.DbConnectionPool.CreateObject(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at System.Data.ProviderBase.DbConnectionPool.UserCreateRequest(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at System.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at System.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at System.Data.ProviderBase.DbConnectionFactory.TryGetConnection(DbConnection owningConnection, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal oldConnection, DbConnectionInternal& connection)
   at System.Data.ProviderBase.DbConnectionInternal.TryOpenConnectionInternal(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at System.Data.ProviderBase.DbConnectionClosed.TryOpenConnection(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at System.Data.SqlClient.SqlConnection.TryOpen(TaskCompletionSource`1 retry)
   at System.Data.SqlClient.SqlConnection.Open()
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenDbConnection(Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.Open(Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.BufferlessMoveNext(DbContext _, Boolean buffer)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.MoveNext()
   at Microsoft.EntityFrameworkCore.Query.Internal.LinqOperatorProvider.ExceptionInterceptor`1.EnumeratorExceptionInterceptor.MoveNext()
ClientConnectionId:345c205f-ad2b-493a-877d-c8a102d19626
Error Number:4060,State:1,Class:11
System.Data.SqlClient.SqlException (0x80131904): Cannot open database "IdentityServer" requested by the login. The login failed.
Login failed for user 'NOTE-CINQ-88\Administrador'.
   at System.Data.SqlClient.SqlInternalConnectionTds..ctor(DbConnectionPoolIdentity identity, SqlConnectionString connectionOptions, SqlCredential credential, Object providerInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString userConnectionOptions, SessionData reconnectSessionData, Boolean applyTransientFaultHandling)
   at System.Data.SqlClient.SqlConnectionFactory.CreateConnection(DbConnectionOptions options, DbConnectionPoolKey poolKey, Object poolGroupProviderInfo, DbConnectionPool pool, DbConnection owningConnection, DbConnectionOptions userOptions)
   at System.Data.ProviderBase.DbConnectionFactory.CreatePooledConnection(DbConnectionPool pool, DbConnection owningObject, DbConnectionOptions options, DbConnectionPoolKey poolKey, DbConnectionOptions userOptions)
   at System.Data.ProviderBase.DbConnectionPool.CreateObject(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at System.Data.ProviderBase.DbConnectionPool.UserCreateRequest(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at System.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at System.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at System.Data.ProviderBase.DbConnectionFactory.TryGetConnection(DbConnection owningConnection, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal oldConnection, DbConnectionInternal& connection)
   at System.Data.ProviderBase.DbConnectionInternal.TryOpenConnectionInternal(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at System.Data.ProviderBase.DbConnectionClosed.TryOpenConnection(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at System.Data.SqlClient.SqlConnection.TryOpen(TaskCompletionSource`1 retry)
   at System.Data.SqlClient.SqlConnection.Open()
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenDbConnection(Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.Open(Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.BufferlessMoveNext(DbContext _, Boolean buffer)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.MoveNext()
   at Microsoft.EntityFrameworkCore.Query.Internal.LinqOperatorProvider.ExceptionInterceptor`1.EnumeratorExceptionInterceptor.MoveNext()
ClientConnectionId:345c205f-ad2b-493a-877d-c8a102d19626
Error Number:4060,State:1,Class:11
2019-06-10 00:15:58.655 -03:00 [DBG] TaskCanceledException. Exiting.
2019-06-10 00:15:58.674 -03:00 [DBG] Stopping grant removal
2019-06-10 00:18:04.031 -03:00 [INF] Starting IdentityServer4 version 2.3.2.0
2019-06-10 00:18:04.182 -03:00 [INF] Using the default authentication scheme Identity.Application for IdentityServer
2019-06-10 00:18:04.182 -03:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for authentication
2019-06-10 00:18:04.182 -03:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-in
2019-06-10 00:18:04.182 -03:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-out
2019-06-10 00:18:04.182 -03:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for challenge
2019-06-10 00:18:04.183 -03:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for forbid
2019-06-10 00:18:04.325 -03:00 [DBG] Starting grant removal
2019-06-10 00:18:04.508 -03:00 [DBG] Login Url: /Account/Login
2019-06-10 00:18:04.511 -03:00 [DBG] Login Return Url Parameter: ReturnUrl
2019-06-10 00:18:04.511 -03:00 [DBG] Logout Url: /Account/Logout
2019-06-10 00:18:04.511 -03:00 [DBG] ConsentUrl Url: /consent
2019-06-10 00:18:04.511 -03:00 [DBG] Consent Return Url Parameter: returnUrl
2019-06-10 00:18:04.511 -03:00 [DBG] Error Url: /home/error
2019-06-10 00:18:04.511 -03:00 [DBG] Error Id Parameter: errorId
2019-06-10 00:21:29.549 -03:00 [INF] Starting IdentityServer4 version 2.3.2.0
2019-06-10 00:21:29.642 -03:00 [INF] Using the default authentication scheme Identity.Application for IdentityServer
2019-06-10 00:21:29.642 -03:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for authentication
2019-06-10 00:21:29.642 -03:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-in
2019-06-10 00:21:29.642 -03:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-out
2019-06-10 00:21:29.642 -03:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for challenge
2019-06-10 00:21:29.642 -03:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for forbid
2019-06-10 00:21:29.711 -03:00 [WRN] Unable to bind to http://localhost:5000 on the IPv4 loopback interface: 'An attempt was made to access a socket in a way forbidden by its access permissions'.
2019-06-10 00:21:29.711 -03:00 [WRN] Unable to bind to http://localhost:5000 on the IPv6 loopback interface: 'An attempt was made to access a socket in a way forbidden by its access permissions'.
2019-06-10 00:21:29.712 -03:00 [FTL] Unable to start Kestrel.
System.IO.IOException: Failed to bind to address http://localhost:5000. ---> System.AggregateException: One or more errors occurred. (An attempt was made to access a socket in a way forbidden by its access permissions) (An attempt was made to access a socket in a way forbidden by its access permissions) ---> System.Net.Sockets.SocketException: An attempt was made to access a socket in a way forbidden by its access permissions
   at System.Net.Sockets.Socket.UpdateStatusAfterSocketErrorAndThrowException(SocketError error, String callerName)
   at System.Net.Sockets.Socket.DoBind(EndPoint endPointSnapshot, SocketAddress socketAddress)
   at System.Net.Sockets.Socket.Bind(EndPoint localEP)
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketTransport.BindAsync()
   at Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServer.<>c__DisplayClass22_0`1.<<StartAsync>g__OnBind|0>d.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.BindEndpointAsync(ListenOptions endpoint, AddressBindContext context)
   at Microsoft.AspNetCore.Server.Kestrel.Core.LocalhostListenOptions.BindAsync(AddressBindContext context)
   --- End of inner exception stack trace ---
   --- End of inner exception stack trace ---
   at Microsoft.AspNetCore.Server.Kestrel.Core.LocalhostListenOptions.BindAsync(AddressBindContext context)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.AddressesStrategy.BindAsync(AddressBindContext context)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.BindAsync(IServerAddressesFeature addresses, KestrelServerOptions serverOptions, ILogger logger, Func`2 createBinding)
   at Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServer.StartAsync[TContext](IHttpApplication`1 application, CancellationToken cancellationToken)
2019-06-10 00:21:29.736 -03:00 [FTL] An error occurred stopping the application
System.AggregateException: One or more errors occurred. (Not started. Call Start first.) ---> System.InvalidOperationException: Not started. Call Start first.
   at IdentityServer4.EntityFramework.TokenCleanup.Stop() in C:\local\identity\server4\EntityFramework.Storage\src\TokenCleanup\TokenCleanup.cs:line 77
   at Microsoft.Extensions.DependencyInjection.TokenCleanupHost.StopAsync(CancellationToken cancellationToken) in C:\local\identity\server4\EntityFramework\src\TokenCleanupHost.cs:line 37
   at Microsoft.AspNetCore.Hosting.Internal.HostedServiceExecutor.<>c__DisplayClass4_0.<StopAsync>b__0(IHostedService service)
   at Microsoft.AspNetCore.Hosting.Internal.HostedServiceExecutor.ExecuteAsync(Func`2 callback)
   --- End of inner exception stack trace ---
   at Microsoft.AspNetCore.Hosting.Internal.HostedServiceExecutor.ExecuteAsync(Func`2 callback)
   at Microsoft.AspNetCore.Hosting.Internal.HostedServiceExecutor.StopAsync(CancellationToken token)
---> (Inner Exception #0) System.InvalidOperationException: Not started. Call Start first.
   at IdentityServer4.EntityFramework.TokenCleanup.Stop() in C:\local\identity\server4\EntityFramework.Storage\src\TokenCleanup\TokenCleanup.cs:line 77
   at Microsoft.Extensions.DependencyInjection.TokenCleanupHost.StopAsync(CancellationToken cancellationToken) in C:\local\identity\server4\EntityFramework\src\TokenCleanupHost.cs:line 37
   at Microsoft.AspNetCore.Hosting.Internal.HostedServiceExecutor.<>c__DisplayClass4_0.<StopAsync>b__0(IHostedService service)
   at Microsoft.AspNetCore.Hosting.Internal.HostedServiceExecutor.ExecuteAsync(Func`2 callback)<---

2019-06-10 00:22:10.766 -03:00 [INF] Starting IdentityServer4 version 2.3.2.0
2019-06-10 00:22:10.854 -03:00 [INF] Using the default authentication scheme Identity.Application for IdentityServer
2019-06-10 00:22:10.854 -03:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for authentication
2019-06-10 00:22:10.854 -03:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-in
2019-06-10 00:22:10.854 -03:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-out
2019-06-10 00:22:10.854 -03:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for challenge
2019-06-10 00:22:10.854 -03:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for forbid
2019-06-10 00:22:10.929 -03:00 [DBG] Starting grant removal
2019-06-10 00:22:30.436 -03:00 [DBG] Login Url: /Account/Login
2019-06-10 00:22:30.438 -03:00 [DBG] Login Return Url Parameter: ReturnUrl
2019-06-10 00:22:30.438 -03:00 [DBG] Logout Url: /Account/Logout
2019-06-10 00:22:30.438 -03:00 [DBG] ConsentUrl Url: /consent
2019-06-10 00:22:30.438 -03:00 [DBG] Consent Return Url Parameter: returnUrl
2019-06-10 00:22:30.438 -03:00 [DBG] Error Url: /home/error
2019-06-10 00:22:30.438 -03:00 [DBG] Error Id Parameter: errorId
2019-06-10 00:22:30.459 -03:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-06-10 00:22:30.474 -03:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-06-10 00:22:30.474 -03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-06-10 00:22:30.479 -03:00 [DBG] Start token request.
2019-06-10 00:22:30.484 -03:00 [DBG] Start client validation
2019-06-10 00:22:30.488 -03:00 [DBG] Start parsing Basic Authentication secret
2019-06-10 00:22:30.491 -03:00 [DBG] Start parsing for secret in post body
2019-06-10 00:22:30.505 -03:00 [DBG] Parser found secret: PostBodySecretParser
2019-06-10 00:22:30.505 -03:00 [DBG] Secret id found: ro.client
2019-06-10 00:22:40.895 -03:00 [ERR] An error occurred using the connection to database 'IdentityServer' on server '(LocalDb)\MSSQLLocalDB'.
System.Data.SqlClient.SqlException (0x80131904): Cannot open database "IdentityServer" requested by the login. The login failed.
Login failed for user 'NOTE-CINQ-88\Administrador'.
   at System.Data.SqlClient.SqlInternalConnectionTds..ctor(DbConnectionPoolIdentity identity, SqlConnectionString connectionOptions, SqlCredential credential, Object providerInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString userConnectionOptions, SessionData reconnectSessionData, Boolean applyTransientFaultHandling)
   at System.Data.SqlClient.SqlConnectionFactory.CreateConnection(DbConnectionOptions options, DbConnectionPoolKey poolKey, Object poolGroupProviderInfo, DbConnectionPool pool, DbConnection owningConnection, DbConnectionOptions userOptions)
   at System.Data.ProviderBase.DbConnectionFactory.CreatePooledConnection(DbConnectionPool pool, DbConnection owningObject, DbConnectionOptions options, DbConnectionPoolKey poolKey, DbConnectionOptions userOptions)
   at System.Data.ProviderBase.DbConnectionPool.CreateObject(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at System.Data.ProviderBase.DbConnectionPool.UserCreateRequest(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at System.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at System.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at System.Data.ProviderBase.DbConnectionFactory.TryGetConnection(DbConnection owningConnection, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal oldConnection, DbConnectionInternal& connection)
   at System.Data.ProviderBase.DbConnectionInternal.TryOpenConnectionInternal(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at System.Data.ProviderBase.DbConnectionClosed.TryOpenConnection(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at System.Data.SqlClient.SqlConnection.TryOpen(TaskCompletionSource`1 retry)
   at System.Data.SqlClient.SqlConnection.Open()
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenDbConnection(Boolean errorsExpected)
ClientConnectionId:7ede1643-7a9b-47fd-b158-f76a2dd131fa
Error Number:4060,State:1,Class:11
2019-06-10 00:22:40.921 -03:00 [ERR] An exception occurred in the database while iterating the results of a query for context type 'IdentityServer4.EntityFramework.DbContexts.ConfigurationDbContext'.
System.Data.SqlClient.SqlException (0x80131904): Cannot open database "IdentityServer" requested by the login. The login failed.
Login failed for user 'NOTE-CINQ-88\Administrador'.
   at System.Data.SqlClient.SqlInternalConnectionTds..ctor(DbConnectionPoolIdentity identity, SqlConnectionString connectionOptions, SqlCredential credential, Object providerInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString userConnectionOptions, SessionData reconnectSessionData, Boolean applyTransientFaultHandling)
   at System.Data.SqlClient.SqlConnectionFactory.CreateConnection(DbConnectionOptions options, DbConnectionPoolKey poolKey, Object poolGroupProviderInfo, DbConnectionPool pool, DbConnection owningConnection, DbConnectionOptions userOptions)
   at System.Data.ProviderBase.DbConnectionFactory.CreatePooledConnection(DbConnectionPool pool, DbConnection owningObject, DbConnectionOptions options, DbConnectionPoolKey poolKey, DbConnectionOptions userOptions)
   at System.Data.ProviderBase.DbConnectionPool.CreateObject(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at System.Data.ProviderBase.DbConnectionPool.UserCreateRequest(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at System.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at System.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at System.Data.ProviderBase.DbConnectionFactory.TryGetConnection(DbConnection owningConnection, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal oldConnection, DbConnectionInternal& connection)
   at System.Data.ProviderBase.DbConnectionInternal.TryOpenConnectionInternal(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at System.Data.ProviderBase.DbConnectionClosed.TryOpenConnection(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at System.Data.SqlClient.SqlConnection.TryOpen(TaskCompletionSource`1 retry)
   at System.Data.SqlClient.SqlConnection.Open()
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenDbConnection(Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.Open(Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.BufferlessMoveNext(DbContext _, Boolean buffer)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.MoveNext()
   at System.Linq.Enumerable.SelectEnumerableIterator`2.MoveNext()
   at System.Linq.Enumerable.TryGetFirst[TSource](IEnumerable`1 source, Boolean& found)
   at lambda_method(Closure )
   at Microsoft.EntityFrameworkCore.Query.Internal.LinqOperatorProvider.ResultEnumerable`1.GetEnumerator()
   at Microsoft.EntityFrameworkCore.Query.Internal.LinqOperatorProvider.ExceptionInterceptor`1.EnumeratorExceptionInterceptor.MoveNext()
ClientConnectionId:7ede1643-7a9b-47fd-b158-f76a2dd131fa
Error Number:4060,State:1,Class:11
System.Data.SqlClient.SqlException (0x80131904): Cannot open database "IdentityServer" requested by the login. The login failed.
Login failed for user 'NOTE-CINQ-88\Administrador'.
   at System.Data.SqlClient.SqlInternalConnectionTds..ctor(DbConnectionPoolIdentity identity, SqlConnectionString connectionOptions, SqlCredential credential, Object providerInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString userConnectionOptions, SessionData reconnectSessionData, Boolean applyTransientFaultHandling)
   at System.Data.SqlClient.SqlConnectionFactory.CreateConnection(DbConnectionOptions options, DbConnectionPoolKey poolKey, Object poolGroupProviderInfo, DbConnectionPool pool, DbConnection owningConnection, DbConnectionOptions userOptions)
   at System.Data.ProviderBase.DbConnectionFactory.CreatePooledConnection(DbConnectionPool pool, DbConnection owningObject, DbConnectionOptions options, DbConnectionPoolKey poolKey, DbConnectionOptions userOptions)
   at System.Data.ProviderBase.DbConnectionPool.CreateObject(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at System.Data.ProviderBase.DbConnectionPool.UserCreateRequest(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at System.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at System.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at System.Data.ProviderBase.DbConnectionFactory.TryGetConnection(DbConnection owningConnection, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal oldConnection, DbConnectionInternal& connection)
   at System.Data.ProviderBase.DbConnectionInternal.TryOpenConnectionInternal(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at System.Data.ProviderBase.DbConnectionClosed.TryOpenConnection(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at System.Data.SqlClient.SqlConnection.TryOpen(TaskCompletionSource`1 retry)
   at System.Data.SqlClient.SqlConnection.Open()
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenDbConnection(Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.Open(Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.BufferlessMoveNext(DbContext _, Boolean buffer)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.MoveNext()
   at System.Linq.Enumerable.SelectEnumerableIterator`2.MoveNext()
   at System.Linq.Enumerable.TryGetFirst[TSource](IEnumerable`1 source, Boolean& found)
   at lambda_method(Closure )
   at Microsoft.EntityFrameworkCore.Query.Internal.LinqOperatorProvider.ResultEnumerable`1.GetEnumerator()
   at Microsoft.EntityFrameworkCore.Query.Internal.LinqOperatorProvider.ExceptionInterceptor`1.EnumeratorExceptionInterceptor.MoveNext()
ClientConnectionId:7ede1643-7a9b-47fd-b158-f76a2dd131fa
Error Number:4060,State:1,Class:11
2019-06-10 00:22:40.922 -03:00 [ERR] An exception occurred in the database while iterating the results of a query for context type 'IdentityServer4.EntityFramework.DbContexts.ConfigurationDbContext'.
System.Data.SqlClient.SqlException (0x80131904): Cannot open database "IdentityServer" requested by the login. The login failed.
Login failed for user 'NOTE-CINQ-88\Administrador'.
   at System.Data.SqlClient.SqlInternalConnectionTds..ctor(DbConnectionPoolIdentity identity, SqlConnectionString connectionOptions, SqlCredential credential, Object providerInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString userConnectionOptions, SessionData reconnectSessionData, Boolean applyTransientFaultHandling)
   at System.Data.SqlClient.SqlConnectionFactory.CreateConnection(DbConnectionOptions options, DbConnectionPoolKey poolKey, Object poolGroupProviderInfo, DbConnectionPool pool, DbConnection owningConnection, DbConnectionOptions userOptions)
   at System.Data.ProviderBase.DbConnectionFactory.CreatePooledConnection(DbConnectionPool pool, DbConnection owningObject, DbConnectionOptions options, DbConnectionPoolKey poolKey, DbConnectionOptions userOptions)
   at System.Data.ProviderBase.DbConnectionPool.CreateObject(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at System.Data.ProviderBase.DbConnectionPool.UserCreateRequest(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at System.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at System.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at System.Data.ProviderBase.DbConnectionFactory.TryGetConnection(DbConnection owningConnection, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal oldConnection, DbConnectionInternal& connection)
   at System.Data.ProviderBase.DbConnectionInternal.TryOpenConnectionInternal(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at System.Data.ProviderBase.DbConnectionClosed.TryOpenConnection(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at System.Data.SqlClient.SqlConnection.TryOpen(TaskCompletionSource`1 retry)
   at System.Data.SqlClient.SqlConnection.Open()
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenDbConnection(Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.Open(Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.BufferlessMoveNext(DbContext _, Boolean buffer)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.MoveNext()
   at System.Linq.Enumerable.SelectEnumerableIterator`2.MoveNext()
   at System.Linq.Enumerable.TryGetFirst[TSource](IEnumerable`1 source, Boolean& found)
   at lambda_method(Closure )
   at Microsoft.EntityFrameworkCore.Query.Internal.LinqOperatorProvider.ResultEnumerable`1.GetEnumerator()
   at Microsoft.EntityFrameworkCore.Query.Internal.LinqOperatorProvider.ExceptionInterceptor`1.EnumeratorExceptionInterceptor.MoveNext()
   at System.Linq.Enumerable.TryGetFirst[TSource](IEnumerable`1 source, Boolean& found)
   at System.Linq.Enumerable.First[TSource](IEnumerable`1 source)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass15_1`1.<CompileQueryCore>b__0(QueryContext qc)
ClientConnectionId:7ede1643-7a9b-47fd-b158-f76a2dd131fa
Error Number:4060,State:1,Class:11
System.Data.SqlClient.SqlException (0x80131904): Cannot open database "IdentityServer" requested by the login. The login failed.
Login failed for user 'NOTE-CINQ-88\Administrador'.
   at System.Data.SqlClient.SqlInternalConnectionTds..ctor(DbConnectionPoolIdentity identity, SqlConnectionString connectionOptions, SqlCredential credential, Object providerInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString userConnectionOptions, SessionData reconnectSessionData, Boolean applyTransientFaultHandling)
   at System.Data.SqlClient.SqlConnectionFactory.CreateConnection(DbConnectionOptions options, DbConnectionPoolKey poolKey, Object poolGroupProviderInfo, DbConnectionPool pool, DbConnection owningConnection, DbConnectionOptions userOptions)
   at System.Data.ProviderBase.DbConnectionFactory.CreatePooledConnection(DbConnectionPool pool, DbConnection owningObject, DbConnectionOptions options, DbConnectionPoolKey poolKey, DbConnectionOptions userOptions)
   at System.Data.ProviderBase.DbConnectionPool.CreateObject(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at System.Data.ProviderBase.DbConnectionPool.UserCreateRequest(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at System.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at System.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at System.Data.ProviderBase.DbConnectionFactory.TryGetConnection(DbConnection owningConnection, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal oldConnection, DbConnectionInternal& connection)
   at System.Data.ProviderBase.DbConnectionInternal.TryOpenConnectionInternal(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at System.Data.ProviderBase.DbConnectionClosed.TryOpenConnection(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at System.Data.SqlClient.SqlConnection.TryOpen(TaskCompletionSource`1 retry)
   at System.Data.SqlClient.SqlConnection.Open()
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenDbConnection(Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.Open(Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.BufferlessMoveNext(DbContext _, Boolean buffer)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.MoveNext()
   at System.Linq.Enumerable.SelectEnumerableIterator`2.MoveNext()
   at System.Linq.Enumerable.TryGetFirst[TSource](IEnumerable`1 source, Boolean& found)
   at lambda_method(Closure )
   at Microsoft.EntityFrameworkCore.Query.Internal.LinqOperatorProvider.ResultEnumerable`1.GetEnumerator()
   at Microsoft.EntityFrameworkCore.Query.Internal.LinqOperatorProvider.ExceptionInterceptor`1.EnumeratorExceptionInterceptor.MoveNext()
   at System.Linq.Enumerable.TryGetFirst[TSource](IEnumerable`1 source, Boolean& found)
   at System.Linq.Enumerable.First[TSource](IEnumerable`1 source)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass15_1`1.<CompileQueryCore>b__0(QueryContext qc)
ClientConnectionId:7ede1643-7a9b-47fd-b158-f76a2dd131fa
Error Number:4060,State:1,Class:11
2019-06-10 00:22:40.951 -03:00 [INF] {"Details":"System.Data.SqlClient.SqlException (0x80131904): Cannot open database \"IdentityServer\" requested by the login. The login failed.\r\nLogin failed for user 'NOTE-CINQ-88\\Administrador'.\r\n   at System.Data.SqlClient.SqlInternalConnectionTds..ctor(DbConnectionPoolIdentity identity, SqlConnectionString connectionOptions, SqlCredential credential, Object providerInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString userConnectionOptions, SessionData reconnectSessionData, Boolean applyTransientFaultHandling)\r\n   at System.Data.SqlClient.SqlConnectionFactory.CreateConnection(DbConnectionOptions options, DbConnectionPoolKey poolKey, Object poolGroupProviderInfo, DbConnectionPool pool, DbConnection owningConnection, DbConnectionOptions userOptions)\r\n   at System.Data.ProviderBase.DbConnectionFactory.CreatePooledConnection(DbConnectionPool pool, DbConnection owningObject, DbConnectionOptions options, DbConnectionPoolKey poolKey, DbConnectionOptions userOptions)\r\n   at System.Data.ProviderBase.DbConnectionPool.CreateObject(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)\r\n   at System.Data.ProviderBase.DbConnectionPool.UserCreateRequest(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)\r\n   at System.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)\r\n   at System.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal& connection)\r\n   at System.Data.ProviderBase.DbConnectionFactory.TryGetConnection(DbConnection owningConnection, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal oldConnection, DbConnectionInternal& connection)\r\n   at System.Data.ProviderBase.DbConnectionInternal.TryOpenConnectionInternal(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)\r\n   at System.Data.ProviderBase.DbConnectionClosed.TryOpenConnection(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)\r\n   at System.Data.SqlClient.SqlConnection.TryOpen(TaskCompletionSource`1 retry)\r\n   at System.Data.SqlClient.SqlConnection.Open()\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenDbConnection(Boolean errorsExpected)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.Open(Boolean errorsExpected)\r\n   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.BufferlessMoveNext(DbContext _, Boolean buffer)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)\r\n   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.MoveNext()\r\n   at System.Linq.Enumerable.SelectEnumerableIterator`2.MoveNext()\r\n   at System.Linq.Enumerable.TryGetFirst[TSource](IEnumerable`1 source, Boolean& found)\r\n   at lambda_method(Closure )\r\n   at Microsoft.EntityFrameworkCore.Query.Internal.LinqOperatorProvider.ResultEnumerable`1.GetEnumerator()\r\n   at Microsoft.EntityFrameworkCore.Query.Internal.LinqOperatorProvider.ExceptionInterceptor`1.EnumeratorExceptionInterceptor.MoveNext()\r\n   at System.Linq.Enumerable.TryGetFirst[TSource](IEnumerable`1 source, Boolean& found)\r\n   at System.Linq.Enumerable.First[TSource](IEnumerable`1 source)\r\n   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass15_1`1.<CompileQueryCore>b__0(QueryContext qc)\r\n   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.Execute[TResult](Expression query)\r\n   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryProvider.Execute[TResult](Expression expression)\r\n   at System.Linq.Queryable.FirstOrDefault[TSource](IQueryable`1 source, Expression`1 predicate)\r\n   at IdentityServer4.EntityFramework.Stores.ClientStore.FindClientByIdAsync(String clientId) in C:\\local\\identity\\server4\\EntityFramework.Storage\\src\\Stores\\ClientStore.cs:line 47\r\n   at IdentityServer4.Stores.ValidatingClientStore`1.FindClientByIdAsync(String clientId) in C:\\local\\identity\\server4\\IdentityServer4\\src\\Stores\\ValidatingClientStore.cs:line 52\r\n   at IdentityServer4.Stores.IClientStoreExtensions.FindEnabledClientByIdAsync(IClientStore store, String clientId) in C:\\local\\identity\\server4\\IdentityServer4\\src\\Extensions\\IClientStoreExtensions.cs:line 23\r\n   at IdentityServer4.Validation.ClientSecretValidator.ValidateAsync(HttpContext context) in C:\\local\\identity\\server4\\IdentityServer4\\src\\Validation\\Default\\ClientSecretValidator.cs:line 67\r\n   at IdentityServer4.Endpoints.TokenEndpoint.ProcessTokenRequestAsync(HttpContext context) in C:\\local\\identity\\server4\\IdentityServer4\\src\\Endpoints\\TokenEndpoint.cs:line 78\r\n   at IdentityServer4.Endpoints.TokenEndpoint.ProcessAsync(HttpContext context) in C:\\local\\identity\\server4\\IdentityServer4\\src\\Endpoints\\TokenEndpoint.cs:line 70\r\n   at IdentityServer4.Hosting.IdentityServerMiddleware.Invoke(HttpContext context, IEndpointRouter router, IUserSession session, IEventService events) in C:\\local\\identity\\server4\\IdentityServer4\\src\\Hosting\\IdentityServerMiddleware.cs:line 54\r\nClientConnectionId:7ede1643-7a9b-47fd-b158-f76a2dd131fa\r\nError Number:4060,State:1,Class:11","Category":"Error","Name":"Unhandled Exception","EventType":"Error","Id":3000,"Message":"Cannot open database \"IdentityServer\" requested by the login. The login failed.\r\nLogin failed for user 'NOTE-CINQ-88\\Administrador'.","ActivityId":"0HLNDABFFGPPF:00000001","TimeStamp":"2019-06-10T03:22:40.0000000Z","ProcessId":49936,"LocalIpAddress":"::1:5000","RemoteIpAddress":"::1","$type":"UnhandledExceptionEvent"}
2019-06-10 00:22:40.959 -03:00 [FTL] Unhandled exception: Cannot open database "IdentityServer" requested by the login. The login failed.
Login failed for user 'NOTE-CINQ-88\Administrador'.
System.Data.SqlClient.SqlException (0x80131904): Cannot open database "IdentityServer" requested by the login. The login failed.
Login failed for user 'NOTE-CINQ-88\Administrador'.
   at System.Data.SqlClient.SqlInternalConnectionTds..ctor(DbConnectionPoolIdentity identity, SqlConnectionString connectionOptions, SqlCredential credential, Object providerInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString userConnectionOptions, SessionData reconnectSessionData, Boolean applyTransientFaultHandling)
   at System.Data.SqlClient.SqlConnectionFactory.CreateConnection(DbConnectionOptions options, DbConnectionPoolKey poolKey, Object poolGroupProviderInfo, DbConnectionPool pool, DbConnection owningConnection, DbConnectionOptions userOptions)
   at System.Data.ProviderBase.DbConnectionFactory.CreatePooledConnection(DbConnectionPool pool, DbConnection owningObject, DbConnectionOptions options, DbConnectionPoolKey poolKey, DbConnectionOptions userOptions)
   at System.Data.ProviderBase.DbConnectionPool.CreateObject(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at System.Data.ProviderBase.DbConnectionPool.UserCreateRequest(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at System.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at System.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at System.Data.ProviderBase.DbConnectionFactory.TryGetConnection(DbConnection owningConnection, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal oldConnection, DbConnectionInternal& connection)
   at System.Data.ProviderBase.DbConnectionInternal.TryOpenConnectionInternal(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at System.Data.ProviderBase.DbConnectionClosed.TryOpenConnection(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at System.Data.SqlClient.SqlConnection.TryOpen(TaskCompletionSource`1 retry)
   at System.Data.SqlClient.SqlConnection.Open()
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenDbConnection(Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.Open(Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.BufferlessMoveNext(DbContext _, Boolean buffer)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.MoveNext()
   at System.Linq.Enumerable.SelectEnumerableIterator`2.MoveNext()
   at System.Linq.Enumerable.TryGetFirst[TSource](IEnumerable`1 source, Boolean& found)
   at lambda_method(Closure )
   at Microsoft.EntityFrameworkCore.Query.Internal.LinqOperatorProvider.ResultEnumerable`1.GetEnumerator()
   at Microsoft.EntityFrameworkCore.Query.Internal.LinqOperatorProvider.ExceptionInterceptor`1.EnumeratorExceptionInterceptor.MoveNext()
   at System.Linq.Enumerable.TryGetFirst[TSource](IEnumerable`1 source, Boolean& found)
   at System.Linq.Enumerable.First[TSource](IEnumerable`1 source)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass15_1`1.<CompileQueryCore>b__0(QueryContext qc)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.Execute[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryProvider.Execute[TResult](Expression expression)
   at System.Linq.Queryable.FirstOrDefault[TSource](IQueryable`1 source, Expression`1 predicate)
   at IdentityServer4.EntityFramework.Stores.ClientStore.FindClientByIdAsync(String clientId) in C:\local\identity\server4\EntityFramework.Storage\src\Stores\ClientStore.cs:line 47
   at IdentityServer4.Stores.ValidatingClientStore`1.FindClientByIdAsync(String clientId) in C:\local\identity\server4\IdentityServer4\src\Stores\ValidatingClientStore.cs:line 52
   at IdentityServer4.Stores.IClientStoreExtensions.FindEnabledClientByIdAsync(IClientStore store, String clientId) in C:\local\identity\server4\IdentityServer4\src\Extensions\IClientStoreExtensions.cs:line 23
   at IdentityServer4.Validation.ClientSecretValidator.ValidateAsync(HttpContext context) in C:\local\identity\server4\IdentityServer4\src\Validation\Default\ClientSecretValidator.cs:line 67
   at IdentityServer4.Endpoints.TokenEndpoint.ProcessTokenRequestAsync(HttpContext context) in C:\local\identity\server4\IdentityServer4\src\Endpoints\TokenEndpoint.cs:line 78
   at IdentityServer4.Endpoints.TokenEndpoint.ProcessAsync(HttpContext context) in C:\local\identity\server4\IdentityServer4\src\Endpoints\TokenEndpoint.cs:line 70
   at IdentityServer4.Hosting.IdentityServerMiddleware.Invoke(HttpContext context, IEndpointRouter router, IUserSession session, IEventService events) in C:\local\identity\server4\IdentityServer4\src\Hosting\IdentityServerMiddleware.cs:line 54
ClientConnectionId:7ede1643-7a9b-47fd-b158-f76a2dd131fa
Error Number:4060,State:1,Class:11
2019-06-10 00:23:17.077 -03:00 [DBG] TaskCanceledException. Exiting.
2019-06-10 00:23:17.093 -03:00 [DBG] Stopping grant removal
2019-06-10 00:25:50.886 -03:00 [INF] Starting IdentityServer4 version 2.3.2.0
2019-06-10 00:25:50.975 -03:00 [INF] Using the default authentication scheme Identity.Application for IdentityServer
2019-06-10 00:25:50.975 -03:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for authentication
2019-06-10 00:25:50.975 -03:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-in
2019-06-10 00:25:50.975 -03:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-out
2019-06-10 00:25:50.975 -03:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for challenge
2019-06-10 00:25:50.975 -03:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for forbid
2019-06-10 00:25:51.048 -03:00 [DBG] Starting grant removal
2019-06-10 00:26:10.320 -03:00 [DBG] TaskCanceledException. Exiting.
2019-06-10 00:26:10.330 -03:00 [DBG] Stopping grant removal
2019-06-10 00:31:25.205 -03:00 [INF] Starting IdentityServer4 version 2.3.2.0
2019-06-10 00:31:25.295 -03:00 [INF] Using the default authentication scheme Identity.Application for IdentityServer
2019-06-10 00:31:25.295 -03:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for authentication
2019-06-10 00:31:25.295 -03:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-in
2019-06-10 00:31:25.295 -03:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-out
2019-06-10 00:31:25.295 -03:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for challenge
2019-06-10 00:31:25.295 -03:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for forbid
2019-06-10 00:31:25.366 -03:00 [DBG] Starting grant removal
2019-06-10 00:33:42.540 -03:00 [DBG] TaskCanceledException. Exiting.
2019-06-10 00:33:42.550 -03:00 [DBG] Stopping grant removal
2019-06-10 00:34:21.290 -03:00 [INF] Starting IdentityServer4 version 2.3.2.0
2019-06-10 00:34:21.326 -03:00 [INF] Using the default authentication scheme Identity.Application for IdentityServer
2019-06-10 00:34:21.326 -03:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for authentication
2019-06-10 00:34:21.326 -03:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-in
2019-06-10 00:34:21.326 -03:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-out
2019-06-10 00:34:21.326 -03:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for challenge
2019-06-10 00:34:21.326 -03:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for forbid
2019-06-10 00:34:21.391 -03:00 [DBG] Starting grant removal
2019-06-10 00:34:46.466 -03:00 [DBG] Login Url: /Account/Login
2019-06-10 00:34:46.468 -03:00 [DBG] Login Return Url Parameter: ReturnUrl
2019-06-10 00:34:46.468 -03:00 [DBG] Logout Url: /Account/Logout
2019-06-10 00:34:46.468 -03:00 [DBG] ConsentUrl Url: /consent
2019-06-10 00:34:46.468 -03:00 [DBG] Consent Return Url Parameter: returnUrl
2019-06-10 00:34:46.468 -03:00 [DBG] Error Url: /home/error
2019-06-10 00:34:46.468 -03:00 [DBG] Error Id Parameter: errorId
2019-06-10 00:34:46.487 -03:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-06-10 00:34:46.496 -03:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-06-10 00:34:46.496 -03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-06-10 00:34:46.502 -03:00 [DBG] Start token request.
2019-06-10 00:34:46.506 -03:00 [DBG] Start client validation
2019-06-10 00:34:46.511 -03:00 [DBG] Start parsing Basic Authentication secret
2019-06-10 00:34:46.513 -03:00 [DBG] Start parsing for secret in post body
2019-06-10 00:34:46.527 -03:00 [DBG] Parser found secret: PostBodySecretParser
2019-06-10 00:34:46.527 -03:00 [DBG] Secret id found: ro.client
2019-06-10 00:34:46.707 -03:00 [DBG] ro.client found in database: true
2019-06-10 00:34:46.715 -03:00 [DBG] client configuration validation for client ro.client succeeded.
2019-06-10 00:34:46.721 -03:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-06-10 00:34:46.721 -03:00 [DBG] Client validation success
2019-06-10 00:34:46.734 -03:00 [INF] {"ClientId":"ro.client","AuthenticationMethod":"SharedSecret","Category":"Authentication","Name":"Client Authentication Success","EventType":"Success","Id":1010,"Message":null,"ActivityId":"0HLNDAIAR011O:00000001","TimeStamp":"2019-06-10T03:34:46.0000000Z","ProcessId":47036,"LocalIpAddress":"::1:5000","RemoteIpAddress":"::1","$type":"ClientAuthenticationSuccessEvent"}
2019-06-10 00:34:46.746 -03:00 [DBG] Start token request validation
2019-06-10 00:34:46.754 -03:00 [DBG] Start resource owner password token request validation
2019-06-10 00:34:46.804 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-10 00:34:46.954 -03:00 [DBG] Found ["api1"] API scopes in database
2019-06-10 00:34:46.965 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-10 00:34:46.969 -03:00 [DBG] Found ["api1"] API scopes in database
2019-06-10 00:34:46.999 -03:00 [INF] Credentials validated for username: Greg
2019-06-10 00:34:47.000 -03:00 [INF] {"Username":"Greg","Provider":null,"ProviderUserId":null,"SubjectId":"edbe92d8-94e6-4e1e-a45d-fc544ee5f709","DisplayName":"Greg","Endpoint":"Token","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HLNDAIAR011O:00000001","TimeStamp":"2019-06-10T03:34:47.0000000Z","ProcessId":47036,"LocalIpAddress":"::1:5000","RemoteIpAddress":"::1","$type":"UserLoginSuccessEvent"}
2019-06-10 00:34:47.007 -03:00 [INF] {"Username":"Greg","Provider":null,"ProviderUserId":null,"SubjectId":"edbe92d8-94e6-4e1e-a45d-fc544ee5f709","DisplayName":null,"Endpoint":"Token","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HLNDAIAR011O:00000001","TimeStamp":"2019-06-10T03:34:47.0000000Z","ProcessId":47036,"LocalIpAddress":"::1:5000","RemoteIpAddress":"::1","$type":"UserLoginSuccessEvent"}
2019-06-10 00:34:47.007 -03:00 [DBG] Resource owner password token request validation success.
2019-06-10 00:34:47.014 -03:00 [INF] Token request validation success
{"ClientId":"ro.client","ClientName":null,"GrantType":"password","Scopes":"api1 openid profile","AuthorizationCode":null,"RefreshToken":null,"UserName":"Greg","AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"grant_type":"password","client_id":"ro.client","client_secret":"***REDACTED***","scope":"openid profile api1","username":"Greg","password":"***REDACTED***"},"$type":"TokenRequestValidationLog"}
2019-06-10 00:34:47.035 -03:00 [DBG] Getting claims for access token for client: ro.client
2019-06-10 00:34:47.036 -03:00 [DBG] Getting claims for access token for subject: edbe92d8-94e6-4e1e-a45d-fc544ee5f709
2019-06-10 00:34:47.164 -03:00 [INF] {"ClientId":"ro.client","ClientName":null,"RedirectUri":null,"Endpoint":"Token","SubjectId":"edbe92d8-94e6-4e1e-a45d-fc544ee5f709","Scopes":"openid profile api1","GrantType":"password","Tokens":[{"TokenType":"access_token","TokenValue":"****h-qA","$type":"Token"}],"Category":"Token","Name":"Token Issued Success","EventType":"Success","Id":2000,"Message":null,"ActivityId":"0HLNDAIAR011O:00000001","TimeStamp":"2019-06-10T03:34:47.0000000Z","ProcessId":47036,"LocalIpAddress":"::1:5000","RemoteIpAddress":"::1","$type":"TokenIssuedSuccessEvent"}
2019-06-10 00:34:47.164 -03:00 [DBG] Token request success.
2019-06-10 00:35:02.417 -03:00 [DBG] TaskCanceledException. Exiting.
2019-06-10 00:35:02.431 -03:00 [DBG] Stopping grant removal
2019-06-10 00:35:07.897 -03:00 [INF] Starting IdentityServer4 version 2.3.2.0
2019-06-10 00:35:07.938 -03:00 [INF] Using the default authentication scheme Identity.Application for IdentityServer
2019-06-10 00:35:07.938 -03:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for authentication
2019-06-10 00:35:07.938 -03:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-in
2019-06-10 00:35:07.938 -03:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-out
2019-06-10 00:35:07.938 -03:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for challenge
2019-06-10 00:35:07.938 -03:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for forbid
2019-06-10 00:35:08.006 -03:00 [DBG] Starting grant removal
2019-06-10 00:35:14.971 -03:00 [DBG] Login Url: /Account/Login
2019-06-10 00:35:14.973 -03:00 [DBG] Login Return Url Parameter: ReturnUrl
2019-06-10 00:35:14.973 -03:00 [DBG] Logout Url: /Account/Logout
2019-06-10 00:35:14.973 -03:00 [DBG] ConsentUrl Url: /consent
2019-06-10 00:35:14.973 -03:00 [DBG] Consent Return Url Parameter: returnUrl
2019-06-10 00:35:14.973 -03:00 [DBG] Error Url: /home/error
2019-06-10 00:35:14.973 -03:00 [DBG] Error Id Parameter: errorId
2019-06-10 00:35:14.991 -03:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-06-10 00:35:15.000 -03:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-06-10 00:35:15.001 -03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-06-10 00:35:15.007 -03:00 [DBG] Start token request.
2019-06-10 00:35:15.014 -03:00 [DBG] Start client validation
2019-06-10 00:35:15.020 -03:00 [DBG] Start parsing Basic Authentication secret
2019-06-10 00:35:15.023 -03:00 [DBG] Start parsing for secret in post body
2019-06-10 00:35:15.041 -03:00 [DBG] Parser found secret: PostBodySecretParser
2019-06-10 00:35:15.041 -03:00 [DBG] Secret id found: ro.client
2019-06-10 00:35:15.505 -03:00 [DBG] ro.client found in database: true
2019-06-10 00:35:15.513 -03:00 [DBG] client configuration validation for client ro.client succeeded.
2019-06-10 00:35:15.520 -03:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-06-10 00:35:15.520 -03:00 [DBG] Client validation success
2019-06-10 00:35:15.532 -03:00 [INF] {"ClientId":"ro.client","AuthenticationMethod":"SharedSecret","Category":"Authentication","Name":"Client Authentication Success","EventType":"Success","Id":1010,"Message":null,"ActivityId":"0HLNDAIJAONU4:00000001","TimeStamp":"2019-06-10T03:35:15.0000000Z","ProcessId":21812,"LocalIpAddress":"::1:5000","RemoteIpAddress":"::1","$type":"ClientAuthenticationSuccessEvent"}
2019-06-10 00:35:15.543 -03:00 [DBG] Start token request validation
2019-06-10 00:35:15.552 -03:00 [DBG] Start resource owner password token request validation
2019-06-10 00:35:15.611 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-10 00:35:15.816 -03:00 [DBG] Found ["api1"] API scopes in database
2019-06-10 00:35:15.828 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-10 00:35:15.831 -03:00 [DBG] Found ["api1"] API scopes in database
2019-06-10 00:35:15.863 -03:00 [INF] Credentials validated for username: Greg
2019-06-10 00:35:15.863 -03:00 [INF] {"Username":"Greg","Provider":null,"ProviderUserId":null,"SubjectId":"edbe92d8-94e6-4e1e-a45d-fc544ee5f709","DisplayName":"Greg","Endpoint":"Token","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HLNDAIJAONU4:00000001","TimeStamp":"2019-06-10T03:35:15.0000000Z","ProcessId":21812,"LocalIpAddress":"::1:5000","RemoteIpAddress":"::1","$type":"UserLoginSuccessEvent"}
2019-06-10 00:35:15.870 -03:00 [INF] {"Username":"Greg","Provider":null,"ProviderUserId":null,"SubjectId":"edbe92d8-94e6-4e1e-a45d-fc544ee5f709","DisplayName":null,"Endpoint":"Token","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HLNDAIJAONU4:00000001","TimeStamp":"2019-06-10T03:35:15.0000000Z","ProcessId":21812,"LocalIpAddress":"::1:5000","RemoteIpAddress":"::1","$type":"UserLoginSuccessEvent"}
2019-06-10 00:35:15.870 -03:00 [DBG] Resource owner password token request validation success.
2019-06-10 00:35:15.878 -03:00 [INF] Token request validation success
{"ClientId":"ro.client","ClientName":null,"GrantType":"password","Scopes":"api1 openid profile","AuthorizationCode":null,"RefreshToken":null,"UserName":"Greg","AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"grant_type":"password","client_id":"ro.client","client_secret":"***REDACTED***","scope":"openid profile api1","username":"Greg","password":"***REDACTED***"},"$type":"TokenRequestValidationLog"}
2019-06-10 00:35:15.930 -03:00 [DBG] Getting claims for access token for client: ro.client
2019-06-10 00:35:15.930 -03:00 [DBG] Getting claims for access token for subject: edbe92d8-94e6-4e1e-a45d-fc544ee5f709
2019-06-10 00:35:16.061 -03:00 [INF] {"ClientId":"ro.client","ClientName":null,"RedirectUri":null,"Endpoint":"Token","SubjectId":"edbe92d8-94e6-4e1e-a45d-fc544ee5f709","Scopes":"openid profile api1","GrantType":"password","Tokens":[{"TokenType":"access_token","TokenValue":"****KKdQ","$type":"Token"}],"Category":"Token","Name":"Token Issued Success","EventType":"Success","Id":2000,"Message":null,"ActivityId":"0HLNDAIJAONU4:00000001","TimeStamp":"2019-06-10T03:35:16.0000000Z","ProcessId":21812,"LocalIpAddress":"::1:5000","RemoteIpAddress":"::1","$type":"TokenIssuedSuccessEvent"}
2019-06-10 00:35:16.062 -03:00 [DBG] Token request success.
2019-06-10 00:36:48.838 -03:00 [DBG] TaskCanceledException. Exiting.
2019-06-10 00:36:48.853 -03:00 [DBG] Stopping grant removal
2019-06-10 00:36:57.549 -03:00 [INF] Starting IdentityServer4 version 2.3.2.0
2019-06-10 00:36:57.592 -03:00 [INF] Using the default authentication scheme Identity.Application for IdentityServer
2019-06-10 00:36:57.592 -03:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for authentication
2019-06-10 00:36:57.592 -03:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-in
2019-06-10 00:36:57.592 -03:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-out
2019-06-10 00:36:57.592 -03:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for challenge
2019-06-10 00:36:57.592 -03:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for forbid
2019-06-10 00:36:57.655 -03:00 [DBG] Starting grant removal
2019-06-10 00:37:03.141 -03:00 [DBG] Login Url: /Account/Login
2019-06-10 00:37:03.142 -03:00 [DBG] Login Return Url Parameter: ReturnUrl
2019-06-10 00:37:03.142 -03:00 [DBG] Logout Url: /Account/Logout
2019-06-10 00:37:03.143 -03:00 [DBG] ConsentUrl Url: /consent
2019-06-10 00:37:03.143 -03:00 [DBG] Consent Return Url Parameter: returnUrl
2019-06-10 00:37:03.143 -03:00 [DBG] Error Url: /home/error
2019-06-10 00:37:03.143 -03:00 [DBG] Error Id Parameter: errorId
2019-06-10 00:37:03.163 -03:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-06-10 00:37:03.172 -03:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-06-10 00:37:03.172 -03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-06-10 00:37:03.179 -03:00 [DBG] Start token request.
2019-06-10 00:37:03.183 -03:00 [DBG] Start client validation
2019-06-10 00:37:03.188 -03:00 [DBG] Start parsing Basic Authentication secret
2019-06-10 00:37:03.193 -03:00 [DBG] Start parsing for secret in post body
2019-06-10 00:37:03.213 -03:00 [DBG] Parser found secret: PostBodySecretParser
2019-06-10 00:37:03.214 -03:00 [DBG] Secret id found: ro.client
2019-06-10 00:37:03.673 -03:00 [DBG] ro.client found in database: true
2019-06-10 00:37:03.681 -03:00 [DBG] client configuration validation for client ro.client succeeded.
2019-06-10 00:37:03.690 -03:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-06-10 00:37:03.690 -03:00 [DBG] Client validation success
2019-06-10 00:37:03.702 -03:00 [INF] {"ClientId":"ro.client","AuthenticationMethod":"SharedSecret","Category":"Authentication","Name":"Client Authentication Success","EventType":"Success","Id":1010,"Message":null,"ActivityId":"0HLNDAJJIC7UL:00000001","TimeStamp":"2019-06-10T03:37:03.0000000Z","ProcessId":49408,"LocalIpAddress":"::1:5000","RemoteIpAddress":"::1","$type":"ClientAuthenticationSuccessEvent"}
2019-06-10 00:37:03.714 -03:00 [DBG] Start token request validation
2019-06-10 00:37:03.723 -03:00 [DBG] Start resource owner password token request validation
2019-06-10 00:37:03.775 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-10 00:37:03.917 -03:00 [DBG] Found ["api1"] API scopes in database
2019-06-10 00:37:03.929 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-10 00:37:03.931 -03:00 [DBG] Found ["api1"] API scopes in database
2019-06-10 00:37:03.964 -03:00 [INF] Credentials validated for username: Greg
2019-06-10 00:37:03.965 -03:00 [INF] {"Username":"Greg","Provider":null,"ProviderUserId":null,"SubjectId":"edbe92d8-94e6-4e1e-a45d-fc544ee5f709","DisplayName":"Greg","Endpoint":"Token","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HLNDAJJIC7UL:00000001","TimeStamp":"2019-06-10T03:37:03.0000000Z","ProcessId":49408,"LocalIpAddress":"::1:5000","RemoteIpAddress":"::1","$type":"UserLoginSuccessEvent"}
2019-06-10 00:37:03.971 -03:00 [INF] {"Username":"Greg","Provider":null,"ProviderUserId":null,"SubjectId":"edbe92d8-94e6-4e1e-a45d-fc544ee5f709","DisplayName":null,"Endpoint":"Token","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HLNDAJJIC7UL:00000001","TimeStamp":"2019-06-10T03:37:03.0000000Z","ProcessId":49408,"LocalIpAddress":"::1:5000","RemoteIpAddress":"::1","$type":"UserLoginSuccessEvent"}
2019-06-10 00:37:03.972 -03:00 [DBG] Resource owner password token request validation success.
2019-06-10 00:37:03.979 -03:00 [INF] Token request validation success
{"ClientId":"ro.client","ClientName":null,"GrantType":"password","Scopes":"api1 openid profile","AuthorizationCode":null,"RefreshToken":null,"UserName":"Greg","AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"grant_type":"password","client_id":"ro.client","client_secret":"***REDACTED***","scope":"openid profile api1","username":"Greg","password":"***REDACTED***"},"$type":"TokenRequestValidationLog"}
2019-06-10 00:37:04.000 -03:00 [DBG] Getting claims for access token for client: ro.client
2019-06-10 00:37:04.000 -03:00 [DBG] Getting claims for access token for subject: edbe92d8-94e6-4e1e-a45d-fc544ee5f709
2019-06-10 00:37:04.130 -03:00 [INF] {"ClientId":"ro.client","ClientName":null,"RedirectUri":null,"Endpoint":"Token","SubjectId":"edbe92d8-94e6-4e1e-a45d-fc544ee5f709","Scopes":"openid profile api1","GrantType":"password","Tokens":[{"TokenType":"access_token","TokenValue":"****RvUQ","$type":"Token"}],"Category":"Token","Name":"Token Issued Success","EventType":"Success","Id":2000,"Message":null,"ActivityId":"0HLNDAJJIC7UL:00000001","TimeStamp":"2019-06-10T03:37:04.0000000Z","ProcessId":49408,"LocalIpAddress":"::1:5000","RemoteIpAddress":"::1","$type":"TokenIssuedSuccessEvent"}
2019-06-10 00:37:04.131 -03:00 [DBG] Token request success.
2019-06-10 00:37:13.311 -03:00 [DBG] CORS request made for path: /connect/token from origin: http://localhost:3000
2019-06-10 00:37:13.322 -03:00 [DBG] Origin http://localhost:3000 is allowed: false
2019-06-10 00:37:13.322 -03:00 [WRN] CorsPolicyService did not allow origin: http://localhost:3000
2019-06-10 00:37:13.323 -03:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-06-10 00:37:13.323 -03:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-06-10 00:37:13.323 -03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-06-10 00:37:13.323 -03:00 [DBG] Start token request.
2019-06-10 00:37:13.324 -03:00 [DBG] Start client validation
2019-06-10 00:37:13.324 -03:00 [DBG] Start parsing Basic Authentication secret
2019-06-10 00:37:13.324 -03:00 [DBG] Start parsing for secret in post body
2019-06-10 00:37:13.324 -03:00 [DBG] Parser found secret: PostBodySecretParser
2019-06-10 00:37:13.324 -03:00 [DBG] Secret id found: ro.client
2019-06-10 00:37:13.327 -03:00 [DBG] ro.client found in database: true
2019-06-10 00:37:13.328 -03:00 [DBG] client configuration validation for client ro.client succeeded.
2019-06-10 00:37:13.328 -03:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-06-10 00:37:13.328 -03:00 [DBG] Client validation success
2019-06-10 00:37:13.328 -03:00 [INF] {"ClientId":"ro.client","AuthenticationMethod":"SharedSecret","Category":"Authentication","Name":"Client Authentication Success","EventType":"Success","Id":1010,"Message":null,"ActivityId":"0HLNDAJJIC7UM:00000001","TimeStamp":"2019-06-10T03:37:13.0000000Z","ProcessId":49408,"LocalIpAddress":"::1:5000","RemoteIpAddress":"::1","$type":"ClientAuthenticationSuccessEvent"}
2019-06-10 00:37:13.328 -03:00 [DBG] Start token request validation
2019-06-10 00:37:13.328 -03:00 [DBG] Start resource owner password token request validation
2019-06-10 00:37:13.329 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-10 00:37:13.332 -03:00 [DBG] Found ["api1"] API scopes in database
2019-06-10 00:37:13.333 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-10 00:37:13.336 -03:00 [DBG] Found ["api1"] API scopes in database
2019-06-10 00:37:13.345 -03:00 [INF] Credentials validated for username: Greg
2019-06-10 00:37:13.345 -03:00 [INF] {"Username":"Greg","Provider":null,"ProviderUserId":null,"SubjectId":"edbe92d8-94e6-4e1e-a45d-fc544ee5f709","DisplayName":"Greg","Endpoint":"Token","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HLNDAJJIC7UM:00000001","TimeStamp":"2019-06-10T03:37:13.0000000Z","ProcessId":49408,"LocalIpAddress":"::1:5000","RemoteIpAddress":"::1","$type":"UserLoginSuccessEvent"}
2019-06-10 00:37:13.345 -03:00 [INF] {"Username":"Greg","Provider":null,"ProviderUserId":null,"SubjectId":"edbe92d8-94e6-4e1e-a45d-fc544ee5f709","DisplayName":null,"Endpoint":"Token","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HLNDAJJIC7UM:00000001","TimeStamp":"2019-06-10T03:37:13.0000000Z","ProcessId":49408,"LocalIpAddress":"::1:5000","RemoteIpAddress":"::1","$type":"UserLoginSuccessEvent"}
2019-06-10 00:37:13.345 -03:00 [DBG] Resource owner password token request validation success.
2019-06-10 00:37:13.346 -03:00 [INF] Token request validation success
{"ClientId":"ro.client","ClientName":null,"GrantType":"password","Scopes":"api1 openid profile","AuthorizationCode":null,"RefreshToken":null,"UserName":"Greg","AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"grant_type":"password","client_id":"ro.client","client_secret":"***REDACTED***","scope":"openid profile api1","username":"Greg","password":"***REDACTED***"},"$type":"TokenRequestValidationLog"}
2019-06-10 00:37:13.346 -03:00 [DBG] Getting claims for access token for client: ro.client
2019-06-10 00:37:13.346 -03:00 [DBG] Getting claims for access token for subject: edbe92d8-94e6-4e1e-a45d-fc544ee5f709
2019-06-10 00:37:13.351 -03:00 [INF] {"ClientId":"ro.client","ClientName":null,"RedirectUri":null,"Endpoint":"Token","SubjectId":"edbe92d8-94e6-4e1e-a45d-fc544ee5f709","Scopes":"openid profile api1","GrantType":"password","Tokens":[{"TokenType":"access_token","TokenValue":"****K8CQ","$type":"Token"}],"Category":"Token","Name":"Token Issued Success","EventType":"Success","Id":2000,"Message":null,"ActivityId":"0HLNDAJJIC7UM:00000001","TimeStamp":"2019-06-10T03:37:13.0000000Z","ProcessId":49408,"LocalIpAddress":"::1:5000","RemoteIpAddress":"::1","$type":"TokenIssuedSuccessEvent"}
2019-06-10 00:37:13.351 -03:00 [DBG] Token request success.
2019-06-10 00:37:13.375 -03:00 [DBG] CORS request made for path: /connect/userinfo from origin: http://localhost:3000
2019-06-10 00:37:13.376 -03:00 [DBG] Origin http://localhost:3000 is allowed: false
2019-06-10 00:37:13.376 -03:00 [WRN] CorsPolicyService did not allow origin: http://localhost:3000
2019-06-10 00:37:13.377 -03:00 [DBG] Request path /connect/userinfo matched to endpoint type Userinfo
2019-06-10 00:37:13.378 -03:00 [DBG] Endpoint enabled: Userinfo, successfully created handler: IdentityServer4.Endpoints.UserInfoEndpoint
2019-06-10 00:37:13.379 -03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.UserInfoEndpoint for /connect/userinfo
2019-06-10 00:37:13.385 -03:00 [DBG] Start userinfo request
2019-06-10 00:37:13.390 -03:00 [DBG] Bearer token found in header
2019-06-10 00:37:13.450 -03:00 [DBG] ro.client found in database: true
2019-06-10 00:37:13.450 -03:00 [DBG] client configuration validation for client ro.client succeeded.
2019-06-10 00:37:13.456 -03:00 [DBG] ro.client found in database: true
2019-06-10 00:37:13.456 -03:00 [DBG] client configuration validation for client ro.client succeeded.
2019-06-10 00:37:13.468 -03:00 [DBG] Calling into custom token validator: IdentityServer4.Validation.DefaultCustomTokenValidator
2019-06-10 00:37:13.469 -03:00 [DBG] Token validation success
{"ClientId":null,"ClientName":null,"ValidateLifetime":true,"AccessTokenType":"Jwt","ExpectedScope":"openid","TokenHandle":null,"JwtId":null,"Claims":{"nbf":1560137833,"exp":1560141433,"iss":"http://localhost:5000","aud":["http://localhost:5000/resources","api1"],"client_id":"ro.client","sub":"edbe92d8-94e6-4e1e-a45d-fc544ee5f709","auth_time":1560137833,"idp":"local","scope":["openid","profile","api1"],"amr":"pwd"},"$type":"TokenValidationLog"}
2019-06-10 00:37:13.476 -03:00 [DBG] Creating userinfo response
2019-06-10 00:37:13.478 -03:00 [DBG] Scopes in access token: openid profile api1
2019-06-10 00:37:13.480 -03:00 [DBG] Scopes in access token: openid profile api1
2019-06-10 00:37:13.488 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-10 00:37:13.489 -03:00 [DBG] Requested claim types: sub name family_name given_name middle_name nickname preferred_username profile picture website gender birthdate zoneinfo locale updated_at
2019-06-10 00:37:13.489 -03:00 [DBG] Scopes in access token: openid profile api1
2019-06-10 00:37:13.490 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-10 00:37:13.494 -03:00 [INF] Profile service returned the following claim types: sub name given_name family_name website preferred_username
2019-06-10 00:37:13.494 -03:00 [DBG] End userinfo request
2019-06-10 00:46:30.888 -03:00 [DBG] TaskCanceledException. Exiting.
2019-06-10 00:46:30.898 -03:00 [DBG] Stopping grant removal
2019-06-10 00:50:54.540 -03:00 [INF] Starting IdentityServer4 version 2.3.2.0
2019-06-10 00:50:54.580 -03:00 [INF] Using the default authentication scheme Identity.Application for IdentityServer
2019-06-10 00:50:54.580 -03:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for authentication
2019-06-10 00:50:54.580 -03:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-in
2019-06-10 00:50:54.580 -03:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-out
2019-06-10 00:50:54.580 -03:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for challenge
2019-06-10 00:50:54.580 -03:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for forbid
2019-06-10 00:50:54.652 -03:00 [DBG] Starting grant removal
2019-06-10 00:50:57.141 -03:00 [DBG] CORS request made for path: /connect/token from origin: http://localhost:3000
2019-06-10 00:50:57.166 -03:00 [DBG] Origin http://localhost:3000 is allowed: false
2019-06-10 00:50:57.170 -03:00 [WRN] CorsPolicyService did not allow origin: http://localhost:3000
2019-06-10 00:50:57.181 -03:00 [DBG] Login Url: /Account/Login
2019-06-10 00:50:57.181 -03:00 [DBG] Login Return Url Parameter: ReturnUrl
2019-06-10 00:50:57.181 -03:00 [DBG] Logout Url: /Account/Logout
2019-06-10 00:50:57.181 -03:00 [DBG] ConsentUrl Url: /consent
2019-06-10 00:50:57.181 -03:00 [DBG] Consent Return Url Parameter: returnUrl
2019-06-10 00:50:57.181 -03:00 [DBG] Error Url: /home/error
2019-06-10 00:50:57.181 -03:00 [DBG] Error Id Parameter: errorId
2019-06-10 00:50:57.199 -03:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-06-10 00:50:57.208 -03:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-06-10 00:50:57.208 -03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-06-10 00:50:57.214 -03:00 [DBG] Start token request.
2019-06-10 00:50:57.220 -03:00 [DBG] Start client validation
2019-06-10 00:50:57.225 -03:00 [DBG] Start parsing Basic Authentication secret
2019-06-10 00:50:57.227 -03:00 [DBG] Start parsing for secret in post body
2019-06-10 00:50:57.248 -03:00 [DBG] Parser found secret: PostBodySecretParser
2019-06-10 00:50:57.248 -03:00 [DBG] Secret id found: ro.client
2019-06-10 00:50:57.739 -03:00 [DBG] ro.client found in database: true
2019-06-10 00:50:57.744 -03:00 [DBG] client configuration validation for client ro.client succeeded.
2019-06-10 00:50:57.751 -03:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-06-10 00:50:57.751 -03:00 [DBG] Client validation success
2019-06-10 00:50:57.764 -03:00 [INF] {"ClientId":"ro.client","AuthenticationMethod":"SharedSecret","Category":"Authentication","Name":"Client Authentication Success","EventType":"Success","Id":1010,"Message":null,"ActivityId":"0HLNDARC45JAC:00000001","TimeStamp":"2019-06-10T03:50:57.0000000Z","ProcessId":48532,"LocalIpAddress":"::1:5000","RemoteIpAddress":"::1","$type":"ClientAuthenticationSuccessEvent"}
2019-06-10 00:50:57.776 -03:00 [DBG] Start token request validation
2019-06-10 00:50:57.787 -03:00 [DBG] Start resource owner password token request validation
2019-06-10 00:50:57.849 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-10 00:50:58.063 -03:00 [DBG] Found ["api1"] API scopes in database
2019-06-10 00:50:58.075 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-10 00:50:58.078 -03:00 [DBG] Found ["api1"] API scopes in database
2019-06-10 00:50:58.118 -03:00 [INF] Credentials validated for username: Greg
2019-06-10 00:50:58.119 -03:00 [INF] {"Username":"Greg","Provider":null,"ProviderUserId":null,"SubjectId":"edbe92d8-94e6-4e1e-a45d-fc544ee5f709","DisplayName":"Greg","Endpoint":"Token","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HLNDARC45JAC:00000001","TimeStamp":"2019-06-10T03:50:58.0000000Z","ProcessId":48532,"LocalIpAddress":"::1:5000","RemoteIpAddress":"::1","$type":"UserLoginSuccessEvent"}
2019-06-10 00:50:58.126 -03:00 [INF] {"Username":"Greg","Provider":null,"ProviderUserId":null,"SubjectId":"edbe92d8-94e6-4e1e-a45d-fc544ee5f709","DisplayName":null,"Endpoint":"Token","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HLNDARC45JAC:00000001","TimeStamp":"2019-06-10T03:50:58.0000000Z","ProcessId":48532,"LocalIpAddress":"::1:5000","RemoteIpAddress":"::1","$type":"UserLoginSuccessEvent"}
2019-06-10 00:50:58.126 -03:00 [DBG] Resource owner password token request validation success.
2019-06-10 00:50:58.132 -03:00 [INF] Token request validation success
{"ClientId":"ro.client","ClientName":null,"GrantType":"password","Scopes":"api1 openid profile","AuthorizationCode":null,"RefreshToken":null,"UserName":"Greg","AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"grant_type":"password","client_id":"ro.client","client_secret":"***REDACTED***","scope":"openid profile api1","username":"Greg","password":"***REDACTED***"},"$type":"TokenRequestValidationLog"}
2019-06-10 00:50:58.156 -03:00 [DBG] Getting claims for access token for client: ro.client
2019-06-10 00:50:58.156 -03:00 [DBG] Getting claims for access token for subject: edbe92d8-94e6-4e1e-a45d-fc544ee5f709
2019-06-10 00:50:58.295 -03:00 [INF] {"ClientId":"ro.client","ClientName":null,"RedirectUri":null,"Endpoint":"Token","SubjectId":"edbe92d8-94e6-4e1e-a45d-fc544ee5f709","Scopes":"openid profile api1","GrantType":"password","Tokens":[{"TokenType":"access_token","TokenValue":"****-dFw","$type":"Token"}],"Category":"Token","Name":"Token Issued Success","EventType":"Success","Id":2000,"Message":null,"ActivityId":"0HLNDARC45JAC:00000001","TimeStamp":"2019-06-10T03:50:58.0000000Z","ProcessId":48532,"LocalIpAddress":"::1:5000","RemoteIpAddress":"::1","$type":"TokenIssuedSuccessEvent"}
2019-06-10 00:50:58.296 -03:00 [DBG] Token request success.
2019-06-10 00:50:58.333 -03:00 [DBG] CORS request made for path: /connect/userinfo from origin: http://localhost:3000
2019-06-10 00:50:58.335 -03:00 [DBG] Origin http://localhost:3000 is allowed: false
2019-06-10 00:50:58.335 -03:00 [WRN] CorsPolicyService did not allow origin: http://localhost:3000
2019-06-10 00:50:58.335 -03:00 [DBG] Request path /connect/userinfo matched to endpoint type Userinfo
2019-06-10 00:50:58.337 -03:00 [DBG] Endpoint enabled: Userinfo, successfully created handler: IdentityServer4.Endpoints.UserInfoEndpoint
2019-06-10 00:50:58.337 -03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.UserInfoEndpoint for /connect/userinfo
2019-06-10 00:50:58.344 -03:00 [DBG] Start userinfo request
2019-06-10 00:50:58.347 -03:00 [DBG] Bearer token found in header
2019-06-10 00:50:58.400 -03:00 [DBG] ro.client found in database: true
2019-06-10 00:50:58.400 -03:00 [DBG] client configuration validation for client ro.client succeeded.
2019-06-10 00:50:58.406 -03:00 [DBG] ro.client found in database: true
2019-06-10 00:50:58.406 -03:00 [DBG] client configuration validation for client ro.client succeeded.
2019-06-10 00:50:58.418 -03:00 [DBG] Calling into custom token validator: IdentityServer4.Validation.DefaultCustomTokenValidator
2019-06-10 00:50:58.419 -03:00 [DBG] Token validation success
{"ClientId":null,"ClientName":null,"ValidateLifetime":true,"AccessTokenType":"Jwt","ExpectedScope":"openid","TokenHandle":null,"JwtId":null,"Claims":{"nbf":1560138658,"exp":1560142258,"iss":"http://localhost:5000","aud":["http://localhost:5000/resources","api1"],"client_id":"ro.client","sub":"edbe92d8-94e6-4e1e-a45d-fc544ee5f709","auth_time":1560138658,"idp":"local","scope":["openid","profile","api1"],"amr":"pwd"},"$type":"TokenValidationLog"}
2019-06-10 00:50:58.425 -03:00 [DBG] Creating userinfo response
2019-06-10 00:50:58.428 -03:00 [DBG] Scopes in access token: openid profile api1
2019-06-10 00:50:58.430 -03:00 [DBG] Scopes in access token: openid profile api1
2019-06-10 00:50:58.437 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-10 00:50:58.438 -03:00 [DBG] Requested claim types: sub name family_name given_name middle_name nickname preferred_username profile picture website gender birthdate zoneinfo locale updated_at
2019-06-10 00:50:58.438 -03:00 [DBG] Scopes in access token: openid profile api1
2019-06-10 00:50:58.439 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-10 00:50:58.443 -03:00 [INF] Profile service returned the following claim types: sub name given_name family_name website preferred_username
2019-06-10 00:50:58.443 -03:00 [DBG] End userinfo request
2019-06-10 00:52:52.948 -03:00 [DBG] CORS request made for path: /connect/token from origin: http://localhost:3000
2019-06-10 00:52:52.949 -03:00 [DBG] Origin http://localhost:3000 is allowed: false
2019-06-10 00:52:52.949 -03:00 [WRN] CorsPolicyService did not allow origin: http://localhost:3000
2019-06-10 00:52:52.949 -03:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-06-10 00:52:52.949 -03:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-06-10 00:52:52.950 -03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-06-10 00:52:52.950 -03:00 [DBG] Start token request.
2019-06-10 00:52:52.950 -03:00 [DBG] Start client validation
2019-06-10 00:52:52.950 -03:00 [DBG] Start parsing Basic Authentication secret
2019-06-10 00:52:52.950 -03:00 [DBG] Start parsing for secret in post body
2019-06-10 00:52:52.950 -03:00 [DBG] Parser found secret: PostBodySecretParser
2019-06-10 00:52:52.950 -03:00 [DBG] Secret id found: ro.client
2019-06-10 00:52:52.954 -03:00 [DBG] ro.client found in database: true
2019-06-10 00:52:52.954 -03:00 [DBG] client configuration validation for client ro.client succeeded.
2019-06-10 00:52:52.954 -03:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-06-10 00:52:52.954 -03:00 [DBG] Client validation success
2019-06-10 00:52:52.954 -03:00 [INF] {"ClientId":"ro.client","AuthenticationMethod":"SharedSecret","Category":"Authentication","Name":"Client Authentication Success","EventType":"Success","Id":1010,"Message":null,"ActivityId":"0HLNDARC45JAC:00000004","TimeStamp":"2019-06-10T03:52:52.0000000Z","ProcessId":48532,"LocalIpAddress":"::1:5000","RemoteIpAddress":"::1","$type":"ClientAuthenticationSuccessEvent"}
2019-06-10 00:52:52.954 -03:00 [DBG] Start token request validation
2019-06-10 00:52:52.954 -03:00 [DBG] Start resource owner password token request validation
2019-06-10 00:52:52.956 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-10 00:52:52.961 -03:00 [DBG] Found ["api1"] API scopes in database
2019-06-10 00:52:52.963 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-10 00:52:52.966 -03:00 [DBG] Found ["api1"] API scopes in database
2019-06-10 00:52:52.974 -03:00 [INF] Credentials validated for username: Greg
2019-06-10 00:52:52.975 -03:00 [INF] {"Username":"Greg","Provider":null,"ProviderUserId":null,"SubjectId":"edbe92d8-94e6-4e1e-a45d-fc544ee5f709","DisplayName":"Greg","Endpoint":"Token","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HLNDARC45JAC:00000004","TimeStamp":"2019-06-10T03:52:52.0000000Z","ProcessId":48532,"LocalIpAddress":"::1:5000","RemoteIpAddress":"::1","$type":"UserLoginSuccessEvent"}
2019-06-10 00:52:52.975 -03:00 [INF] {"Username":"Greg","Provider":null,"ProviderUserId":null,"SubjectId":"edbe92d8-94e6-4e1e-a45d-fc544ee5f709","DisplayName":null,"Endpoint":"Token","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HLNDARC45JAC:00000004","TimeStamp":"2019-06-10T03:52:52.0000000Z","ProcessId":48532,"LocalIpAddress":"::1:5000","RemoteIpAddress":"::1","$type":"UserLoginSuccessEvent"}
2019-06-10 00:52:52.975 -03:00 [DBG] Resource owner password token request validation success.
2019-06-10 00:52:52.975 -03:00 [INF] Token request validation success
{"ClientId":"ro.client","ClientName":null,"GrantType":"password","Scopes":"api1 openid profile","AuthorizationCode":null,"RefreshToken":null,"UserName":"Greg","AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"grant_type":"password","client_id":"ro.client","client_secret":"***REDACTED***","scope":"openid profile api1","username":"Greg","password":"***REDACTED***"},"$type":"TokenRequestValidationLog"}
2019-06-10 00:52:52.975 -03:00 [DBG] Getting claims for access token for client: ro.client
2019-06-10 00:52:52.975 -03:00 [DBG] Getting claims for access token for subject: edbe92d8-94e6-4e1e-a45d-fc544ee5f709
2019-06-10 00:52:52.980 -03:00 [INF] {"ClientId":"ro.client","ClientName":null,"RedirectUri":null,"Endpoint":"Token","SubjectId":"edbe92d8-94e6-4e1e-a45d-fc544ee5f709","Scopes":"openid profile api1","GrantType":"password","Tokens":[{"TokenType":"access_token","TokenValue":"****guJQ","$type":"Token"}],"Category":"Token","Name":"Token Issued Success","EventType":"Success","Id":2000,"Message":null,"ActivityId":"0HLNDARC45JAC:00000004","TimeStamp":"2019-06-10T03:52:52.0000000Z","ProcessId":48532,"LocalIpAddress":"::1:5000","RemoteIpAddress":"::1","$type":"TokenIssuedSuccessEvent"}
2019-06-10 00:52:52.980 -03:00 [DBG] Token request success.
2019-06-10 00:52:52.997 -03:00 [DBG] CORS request made for path: /connect/userinfo from origin: http://localhost:3000
2019-06-10 00:52:52.998 -03:00 [DBG] Origin http://localhost:3000 is allowed: false
2019-06-10 00:52:52.998 -03:00 [WRN] CorsPolicyService did not allow origin: http://localhost:3000
2019-06-10 00:52:52.998 -03:00 [DBG] Request path /connect/userinfo matched to endpoint type Userinfo
2019-06-10 00:52:52.998 -03:00 [DBG] Endpoint enabled: Userinfo, successfully created handler: IdentityServer4.Endpoints.UserInfoEndpoint
2019-06-10 00:52:52.998 -03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.UserInfoEndpoint for /connect/userinfo
2019-06-10 00:52:52.999 -03:00 [DBG] Start userinfo request
2019-06-10 00:52:52.999 -03:00 [DBG] Bearer token found in header
2019-06-10 00:52:53.004 -03:00 [DBG] ro.client found in database: true
2019-06-10 00:52:53.004 -03:00 [DBG] client configuration validation for client ro.client succeeded.
2019-06-10 00:52:53.010 -03:00 [DBG] ro.client found in database: true
2019-06-10 00:52:53.010 -03:00 [DBG] client configuration validation for client ro.client succeeded.
2019-06-10 00:52:53.012 -03:00 [DBG] Calling into custom token validator: IdentityServer4.Validation.DefaultCustomTokenValidator
2019-06-10 00:52:53.012 -03:00 [DBG] Token validation success
{"ClientId":null,"ClientName":null,"ValidateLifetime":true,"AccessTokenType":"Jwt","ExpectedScope":"openid","TokenHandle":null,"JwtId":null,"Claims":{"nbf":1560138772,"exp":1560142372,"iss":"http://localhost:5000","aud":["http://localhost:5000/resources","api1"],"client_id":"ro.client","sub":"edbe92d8-94e6-4e1e-a45d-fc544ee5f709","auth_time":1560138772,"idp":"local","scope":["openid","profile","api1"],"amr":"pwd"},"$type":"TokenValidationLog"}
2019-06-10 00:52:53.012 -03:00 [DBG] Creating userinfo response
2019-06-10 00:52:53.013 -03:00 [DBG] Scopes in access token: openid profile api1
2019-06-10 00:52:53.013 -03:00 [DBG] Scopes in access token: openid profile api1
2019-06-10 00:52:53.014 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-10 00:52:53.015 -03:00 [DBG] Requested claim types: sub name family_name given_name middle_name nickname preferred_username profile picture website gender birthdate zoneinfo locale updated_at
2019-06-10 00:52:53.015 -03:00 [DBG] Scopes in access token: openid profile api1
2019-06-10 00:52:53.016 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-10 00:52:53.017 -03:00 [INF] Profile service returned the following claim types: sub name given_name family_name website preferred_username
2019-06-10 00:52:53.017 -03:00 [DBG] End userinfo request
2019-06-10 16:30:12.864 -03:00 [INF] Starting IdentityServer4 version 2.3.2.0
2019-06-10 16:30:12.908 -03:00 [INF] Using the default authentication scheme Identity.Application for IdentityServer
2019-06-10 16:30:12.908 -03:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for authentication
2019-06-10 16:30:12.908 -03:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-in
2019-06-10 16:30:12.908 -03:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-out
2019-06-10 16:30:12.908 -03:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for challenge
2019-06-10 16:30:12.908 -03:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for forbid
2019-06-10 16:30:12.989 -03:00 [DBG] Starting grant removal
2019-06-10 16:30:32.732 -03:00 [DBG] Login Url: /Account/Login
2019-06-10 16:30:32.739 -03:00 [DBG] Login Return Url Parameter: ReturnUrl
2019-06-10 16:30:32.739 -03:00 [DBG] Logout Url: /Account/Logout
2019-06-10 16:30:32.739 -03:00 [DBG] ConsentUrl Url: /consent
2019-06-10 16:30:32.739 -03:00 [DBG] Consent Return Url Parameter: returnUrl
2019-06-10 16:30:32.739 -03:00 [DBG] Error Url: /home/error
2019-06-10 16:30:32.739 -03:00 [DBG] Error Id Parameter: errorId
2019-06-10 16:30:32.779 -03:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-06-10 16:30:32.795 -03:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-06-10 16:30:32.795 -03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-06-10 16:30:32.805 -03:00 [DBG] Start token request.
2019-06-10 16:30:32.814 -03:00 [DBG] Start client validation
2019-06-10 16:30:32.823 -03:00 [DBG] Start parsing Basic Authentication secret
2019-06-10 16:30:32.829 -03:00 [DBG] Start parsing for secret in post body
2019-06-10 16:30:32.852 -03:00 [DBG] Parser found secret: PostBodySecretParser
2019-06-10 16:30:32.852 -03:00 [DBG] Secret id found: ro.client
2019-06-10 16:30:33.866 -03:00 [DBG] ro.client found in database: true
2019-06-10 16:30:33.875 -03:00 [DBG] client configuration validation for client ro.client succeeded.
2019-06-10 16:30:33.884 -03:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-06-10 16:30:33.884 -03:00 [DBG] Client validation success
2019-06-10 16:30:33.902 -03:00 [INF] {"ClientId":"ro.client","AuthenticationMethod":"SharedSecret","Category":"Authentication","Name":"Client Authentication Success","EventType":"Success","Id":1010,"Message":null,"ActivityId":"0HLNDR8DB6HGM:00000001","TimeStamp":"2019-06-10T19:30:33.0000000Z","ProcessId":30216,"LocalIpAddress":"::1:5000","RemoteIpAddress":"::1","$type":"ClientAuthenticationSuccessEvent"}
2019-06-10 16:30:33.916 -03:00 [DBG] Start token request validation
2019-06-10 16:30:33.928 -03:00 [DBG] Start resource owner password token request validation
2019-06-10 16:30:33.996 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-10 16:30:34.600 -03:00 [DBG] Found ["api1"] API scopes in database
2019-06-10 16:30:34.611 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-10 16:30:34.614 -03:00 [DBG] Found ["api1"] API scopes in database
2019-06-10 16:30:34.669 -03:00 [INF] Credentials validated for username: Greg
2019-06-10 16:30:34.670 -03:00 [INF] {"Username":"Greg","Provider":null,"ProviderUserId":null,"SubjectId":"edbe92d8-94e6-4e1e-a45d-fc544ee5f709","DisplayName":"Greg","Endpoint":"Token","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HLNDR8DB6HGM:00000001","TimeStamp":"2019-06-10T19:30:34.0000000Z","ProcessId":30216,"LocalIpAddress":"::1:5000","RemoteIpAddress":"::1","$type":"UserLoginSuccessEvent"}
2019-06-10 16:30:34.677 -03:00 [INF] {"Username":"Greg","Provider":null,"ProviderUserId":null,"SubjectId":"edbe92d8-94e6-4e1e-a45d-fc544ee5f709","DisplayName":null,"Endpoint":"Token","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HLNDR8DB6HGM:00000001","TimeStamp":"2019-06-10T19:30:34.0000000Z","ProcessId":30216,"LocalIpAddress":"::1:5000","RemoteIpAddress":"::1","$type":"UserLoginSuccessEvent"}
2019-06-10 16:30:34.677 -03:00 [DBG] Resource owner password token request validation success.
2019-06-10 16:30:34.684 -03:00 [INF] Token request validation success
{"ClientId":"ro.client","ClientName":null,"GrantType":"password","Scopes":"api1 openid profile","AuthorizationCode":null,"RefreshToken":null,"UserName":"Greg","AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"grant_type":"password","client_id":"ro.client","client_secret":"***REDACTED***","scope":"openid profile api1","username":"Greg","password":"***REDACTED***"},"$type":"TokenRequestValidationLog"}
2019-06-10 16:30:34.706 -03:00 [DBG] Getting claims for access token for client: ro.client
2019-06-10 16:30:34.706 -03:00 [DBG] Getting claims for access token for subject: edbe92d8-94e6-4e1e-a45d-fc544ee5f709
2019-06-10 16:30:34.839 -03:00 [INF] {"ClientId":"ro.client","ClientName":null,"RedirectUri":null,"Endpoint":"Token","SubjectId":"edbe92d8-94e6-4e1e-a45d-fc544ee5f709","Scopes":"openid profile api1","GrantType":"password","Tokens":[{"TokenType":"access_token","TokenValue":"****ktWQ","$type":"Token"}],"Category":"Token","Name":"Token Issued Success","EventType":"Success","Id":2000,"Message":null,"ActivityId":"0HLNDR8DB6HGM:00000001","TimeStamp":"2019-06-10T19:30:34.0000000Z","ProcessId":30216,"LocalIpAddress":"::1:5000","RemoteIpAddress":"::1","$type":"TokenIssuedSuccessEvent"}
2019-06-10 16:30:34.840 -03:00 [DBG] Token request success.
2019-06-10 16:31:08.544 -03:00 [DBG] Request path /connect/userinfo matched to endpoint type Userinfo
2019-06-10 16:31:08.546 -03:00 [DBG] Endpoint enabled: Userinfo, successfully created handler: IdentityServer4.Endpoints.UserInfoEndpoint
2019-06-10 16:31:08.546 -03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.UserInfoEndpoint for /connect/userinfo
2019-06-10 16:31:08.552 -03:00 [DBG] Start userinfo request
2019-06-10 16:31:08.554 -03:00 [DBG] Bearer token found in header
2019-06-10 16:31:08.611 -03:00 [DBG] ro.client found in database: true
2019-06-10 16:31:08.611 -03:00 [DBG] client configuration validation for client ro.client succeeded.
2019-06-10 16:31:08.617 -03:00 [DBG] ro.client found in database: true
2019-06-10 16:31:08.617 -03:00 [DBG] client configuration validation for client ro.client succeeded.
2019-06-10 16:31:08.631 -03:00 [DBG] Calling into custom token validator: IdentityServer4.Validation.DefaultCustomTokenValidator
2019-06-10 16:31:08.632 -03:00 [DBG] Token validation success
{"ClientId":null,"ClientName":null,"ValidateLifetime":true,"AccessTokenType":"Jwt","ExpectedScope":"openid","TokenHandle":null,"JwtId":null,"Claims":{"nbf":1560195034,"exp":1560198634,"iss":"http://localhost:5000","aud":["http://localhost:5000/resources","api1"],"client_id":"ro.client","sub":"edbe92d8-94e6-4e1e-a45d-fc544ee5f709","auth_time":1560195034,"idp":"local","scope":["openid","profile","api1"],"amr":"pwd"},"$type":"TokenValidationLog"}
2019-06-10 16:31:08.639 -03:00 [DBG] Creating userinfo response
2019-06-10 16:31:08.642 -03:00 [DBG] Scopes in access token: openid profile api1
2019-06-10 16:31:08.644 -03:00 [DBG] Scopes in access token: openid profile api1
2019-06-10 16:31:08.651 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-10 16:31:08.651 -03:00 [DBG] Requested claim types: sub name family_name given_name middle_name nickname preferred_username profile picture website gender birthdate zoneinfo locale updated_at
2019-06-10 16:31:08.651 -03:00 [DBG] Scopes in access token: openid profile api1
2019-06-10 16:31:08.653 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-10 16:31:08.656 -03:00 [INF] Profile service returned the following claim types: sub name given_name family_name website preferred_username
2019-06-10 16:31:08.656 -03:00 [DBG] End userinfo request
2019-06-10 16:31:57.547 -03:00 [DBG] CORS request made for path: /connect/token from origin: http://localhost:3000
2019-06-10 16:31:57.557 -03:00 [DBG] Origin http://localhost:3000 is allowed: false
2019-06-10 16:31:57.558 -03:00 [WRN] CorsPolicyService did not allow origin: http://localhost:3000
2019-06-10 16:31:57.558 -03:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-06-10 16:31:57.558 -03:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-06-10 16:31:57.558 -03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-06-10 16:31:57.558 -03:00 [DBG] Start token request.
2019-06-10 16:31:57.558 -03:00 [DBG] Start client validation
2019-06-10 16:31:57.558 -03:00 [DBG] Start parsing Basic Authentication secret
2019-06-10 16:31:57.558 -03:00 [DBG] Start parsing for secret in post body
2019-06-10 16:31:57.559 -03:00 [DBG] Parser found secret: PostBodySecretParser
2019-06-10 16:31:57.559 -03:00 [DBG] Secret id found: ro.client
2019-06-10 16:31:57.562 -03:00 [DBG] ro.client found in database: true
2019-06-10 16:31:57.562 -03:00 [DBG] client configuration validation for client ro.client succeeded.
2019-06-10 16:31:57.562 -03:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-06-10 16:31:57.562 -03:00 [DBG] Client validation success
2019-06-10 16:31:57.562 -03:00 [INF] {"ClientId":"ro.client","AuthenticationMethod":"SharedSecret","Category":"Authentication","Name":"Client Authentication Success","EventType":"Success","Id":1010,"Message":null,"ActivityId":"0HLNDR8DB6HGN:00000001","TimeStamp":"2019-06-10T19:31:57.0000000Z","ProcessId":30216,"LocalIpAddress":"::1:5000","RemoteIpAddress":"::1","$type":"ClientAuthenticationSuccessEvent"}
2019-06-10 16:31:57.562 -03:00 [DBG] Start token request validation
2019-06-10 16:31:57.562 -03:00 [DBG] Start resource owner password token request validation
2019-06-10 16:31:57.564 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-10 16:31:57.569 -03:00 [DBG] Found ["api1"] API scopes in database
2019-06-10 16:31:57.571 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-10 16:31:57.574 -03:00 [DBG] Found ["api1"] API scopes in database
2019-06-10 16:31:57.575 -03:00 [INF] No user found matching username: Gregg
2019-06-10 16:31:57.576 -03:00 [INF] {"Username":"Gregg","Endpoint":"Token","Category":"Authentication","Name":"User Login Failure","EventType":"Failure","Id":1001,"Message":"invalid username","ActivityId":"0HLNDR8DB6HGN:00000001","TimeStamp":"2019-06-10T19:31:57.0000000Z","ProcessId":30216,"LocalIpAddress":"::1:5000","RemoteIpAddress":"::1","$type":"UserLoginFailureEvent"}
2019-06-10 16:31:57.577 -03:00 [INF] User authentication failed: ["invalid_username_or_password"], request details: {"ClientId":"ro.client","ClientName":null,"GrantType":"password","Scopes":"api1 openid profile","AuthorizationCode":null,"RefreshToken":null,"UserName":"Gregg","AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"grant_type":"password","client_id":"ro.client","client_secret":"***REDACTED***","scope":"openid profile api1","username":"Gregg","password":"***REDACTED***"},"$type":"TokenRequestValidationLog"}
2019-06-10 16:31:57.577 -03:00 [INF] {"Username":"Gregg","Endpoint":"UI","Category":"Authentication","Name":"User Login Failure","EventType":"Failure","Id":1001,"Message":"invalid_username_or_password","ActivityId":"0HLNDR8DB6HGN:00000001","TimeStamp":"2019-06-10T19:31:57.0000000Z","ProcessId":30216,"LocalIpAddress":"::1:5000","RemoteIpAddress":"::1","$type":"UserLoginFailureEvent"}
2019-06-10 16:31:57.578 -03:00 [INF] {"ClientId":"ro.client","ClientName":null,"RedirectUri":null,"Endpoint":"Token","SubjectId":null,"Scopes":"api1 openid profile","GrantType":"password","Error":"invalid_grant","ErrorDescription":"invalid_username_or_password","Category":"Token","Name":"Token Issued Failure","EventType":"Failure","Id":2001,"Message":null,"ActivityId":"0HLNDR8DB6HGN:00000001","TimeStamp":"2019-06-10T19:31:57.0000000Z","ProcessId":30216,"LocalIpAddress":"::1:5000","RemoteIpAddress":"::1","$type":"TokenIssuedFailureEvent"}
2019-06-10 16:32:02.462 -03:00 [DBG] CORS request made for path: /connect/token from origin: http://localhost:3000
2019-06-10 16:32:02.463 -03:00 [DBG] Origin http://localhost:3000 is allowed: false
2019-06-10 16:32:02.463 -03:00 [WRN] CorsPolicyService did not allow origin: http://localhost:3000
2019-06-10 16:32:02.463 -03:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-06-10 16:32:02.463 -03:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-06-10 16:32:02.463 -03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-06-10 16:32:02.463 -03:00 [DBG] Start token request.
2019-06-10 16:32:02.463 -03:00 [DBG] Start client validation
2019-06-10 16:32:02.463 -03:00 [DBG] Start parsing Basic Authentication secret
2019-06-10 16:32:02.463 -03:00 [DBG] Start parsing for secret in post body
2019-06-10 16:32:02.463 -03:00 [DBG] Parser found secret: PostBodySecretParser
2019-06-10 16:32:02.463 -03:00 [DBG] Secret id found: ro.client
2019-06-10 16:32:02.467 -03:00 [DBG] ro.client found in database: true
2019-06-10 16:32:02.467 -03:00 [DBG] client configuration validation for client ro.client succeeded.
2019-06-10 16:32:02.467 -03:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-06-10 16:32:02.467 -03:00 [DBG] Client validation success
2019-06-10 16:32:02.467 -03:00 [INF] {"ClientId":"ro.client","AuthenticationMethod":"SharedSecret","Category":"Authentication","Name":"Client Authentication Success","EventType":"Success","Id":1010,"Message":null,"ActivityId":"0HLNDR8DB6HGN:00000002","TimeStamp":"2019-06-10T19:32:02.0000000Z","ProcessId":30216,"LocalIpAddress":"::1:5000","RemoteIpAddress":"::1","$type":"ClientAuthenticationSuccessEvent"}
2019-06-10 16:32:02.467 -03:00 [DBG] Start token request validation
2019-06-10 16:32:02.468 -03:00 [DBG] Start resource owner password token request validation
2019-06-10 16:32:02.469 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-10 16:32:02.472 -03:00 [DBG] Found ["api1"] API scopes in database
2019-06-10 16:32:02.473 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-10 16:32:02.476 -03:00 [DBG] Found ["api1"] API scopes in database
2019-06-10 16:32:02.484 -03:00 [INF] Credentials validated for username: Greg
2019-06-10 16:32:02.485 -03:00 [INF] {"Username":"Greg","Provider":null,"ProviderUserId":null,"SubjectId":"edbe92d8-94e6-4e1e-a45d-fc544ee5f709","DisplayName":"Greg","Endpoint":"Token","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HLNDR8DB6HGN:00000002","TimeStamp":"2019-06-10T19:32:02.0000000Z","ProcessId":30216,"LocalIpAddress":"::1:5000","RemoteIpAddress":"::1","$type":"UserLoginSuccessEvent"}
2019-06-10 16:32:02.485 -03:00 [INF] {"Username":"Greg","Provider":null,"ProviderUserId":null,"SubjectId":"edbe92d8-94e6-4e1e-a45d-fc544ee5f709","DisplayName":null,"Endpoint":"Token","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HLNDR8DB6HGN:00000002","TimeStamp":"2019-06-10T19:32:02.0000000Z","ProcessId":30216,"LocalIpAddress":"::1:5000","RemoteIpAddress":"::1","$type":"UserLoginSuccessEvent"}
2019-06-10 16:32:02.485 -03:00 [DBG] Resource owner password token request validation success.
2019-06-10 16:32:02.485 -03:00 [INF] Token request validation success
{"ClientId":"ro.client","ClientName":null,"GrantType":"password","Scopes":"api1 openid profile","AuthorizationCode":null,"RefreshToken":null,"UserName":"Greg","AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"grant_type":"password","client_id":"ro.client","client_secret":"***REDACTED***","scope":"openid profile api1","username":"Greg","password":"***REDACTED***"},"$type":"TokenRequestValidationLog"}
2019-06-10 16:32:02.485 -03:00 [DBG] Getting claims for access token for client: ro.client
2019-06-10 16:32:02.485 -03:00 [DBG] Getting claims for access token for subject: edbe92d8-94e6-4e1e-a45d-fc544ee5f709
2019-06-10 16:32:02.490 -03:00 [INF] {"ClientId":"ro.client","ClientName":null,"RedirectUri":null,"Endpoint":"Token","SubjectId":"edbe92d8-94e6-4e1e-a45d-fc544ee5f709","Scopes":"openid profile api1","GrantType":"password","Tokens":[{"TokenType":"access_token","TokenValue":"****-81g","$type":"Token"}],"Category":"Token","Name":"Token Issued Success","EventType":"Success","Id":2000,"Message":null,"ActivityId":"0HLNDR8DB6HGN:00000002","TimeStamp":"2019-06-10T19:32:02.0000000Z","ProcessId":30216,"LocalIpAddress":"::1:5000","RemoteIpAddress":"::1","$type":"TokenIssuedSuccessEvent"}
2019-06-10 16:32:02.490 -03:00 [DBG] Token request success.
2019-06-10 16:32:02.503 -03:00 [DBG] CORS request made for path: /connect/userinfo from origin: http://localhost:3000
2019-06-10 16:32:02.504 -03:00 [DBG] Origin http://localhost:3000 is allowed: false
2019-06-10 16:32:02.504 -03:00 [WRN] CorsPolicyService did not allow origin: http://localhost:3000
2019-06-10 16:32:02.504 -03:00 [DBG] Request path /connect/userinfo matched to endpoint type Userinfo
2019-06-10 16:32:02.505 -03:00 [DBG] Endpoint enabled: Userinfo, successfully created handler: IdentityServer4.Endpoints.UserInfoEndpoint
2019-06-10 16:32:02.505 -03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.UserInfoEndpoint for /connect/userinfo
2019-06-10 16:32:02.505 -03:00 [DBG] Start userinfo request
2019-06-10 16:32:02.505 -03:00 [DBG] Bearer token found in header
2019-06-10 16:32:02.511 -03:00 [DBG] ro.client found in database: true
2019-06-10 16:32:02.511 -03:00 [DBG] client configuration validation for client ro.client succeeded.
2019-06-10 16:32:02.514 -03:00 [DBG] ro.client found in database: true
2019-06-10 16:32:02.514 -03:00 [DBG] client configuration validation for client ro.client succeeded.
2019-06-10 16:32:02.518 -03:00 [DBG] Calling into custom token validator: IdentityServer4.Validation.DefaultCustomTokenValidator
2019-06-10 16:32:02.518 -03:00 [DBG] Token validation success
{"ClientId":null,"ClientName":null,"ValidateLifetime":true,"AccessTokenType":"Jwt","ExpectedScope":"openid","TokenHandle":null,"JwtId":null,"Claims":{"nbf":1560195122,"exp":1560198722,"iss":"http://localhost:5000","aud":["http://localhost:5000/resources","api1"],"client_id":"ro.client","sub":"edbe92d8-94e6-4e1e-a45d-fc544ee5f709","auth_time":1560195122,"idp":"local","scope":["openid","profile","api1"],"amr":"pwd"},"$type":"TokenValidationLog"}
2019-06-10 16:32:02.518 -03:00 [DBG] Creating userinfo response
2019-06-10 16:32:02.518 -03:00 [DBG] Scopes in access token: openid profile api1
2019-06-10 16:32:02.518 -03:00 [DBG] Scopes in access token: openid profile api1
2019-06-10 16:32:02.520 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-10 16:32:02.520 -03:00 [DBG] Requested claim types: sub name family_name given_name middle_name nickname preferred_username profile picture website gender birthdate zoneinfo locale updated_at
2019-06-10 16:32:02.521 -03:00 [DBG] Scopes in access token: openid profile api1
2019-06-10 16:32:02.522 -03:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-06-10 16:32:02.523 -03:00 [INF] Profile service returned the following claim types: sub name given_name family_name website preferred_username
2019-06-10 16:32:02.523 -03:00 [DBG] End userinfo request
2019-06-10 16:32:24.988 -03:00 [DBG] TaskCanceledException. Exiting.
2019-06-10 16:32:25.003 -03:00 [DBG] Stopping grant removal
